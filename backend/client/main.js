var ZCe=Object.defineProperty,KCe=Object.defineProperties,XCe=Object.getOwnPropertyDescriptors,Uz=Object.getOwnPropertySymbols,YCe=Object.prototype.hasOwnProperty,JCe=Object.prototype.propertyIsEnumerable,UL=Math.pow,Gz=(hn,Ie,Ve)=>Ie in hn?ZCe(hn,Ie,{enumerable:!0,configurable:!0,writable:!0,value:Ve}):hn[Ie]=Ve,Ea=(hn,Ie)=>{for(var Ve in Ie||(Ie={}))YCe.call(Ie,Ve)&&Gz(hn,Ve,Ie[Ve]);if(Uz)for(var Ve of Uz(Ie))JCe.call(Ie,Ve)&&Gz(hn,Ve,Ie[Ve]);return hn},lf=(hn,Ie)=>KCe(hn,XCe(Ie));(self.webpackChunketara_frontend=self.webpackChunketara_frontend||[]).push([[179],{3396:(hn,Ie,Ve)=>{"use strict";function ae(n){return"function"==typeof n}function Z(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const V=Z(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function X(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ee{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(ae(i))try{i()}catch(o){e=o instanceof V?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{P(o)}catch(s){e=null!=e?e:[],s instanceof V?e=[...e,...s.errors]:e.push(s)}}if(e)throw new V(e)}}add(e){var t;if(e&&e!==this)if(this.closed)P(e);else{if(e instanceof ee){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&X(t,e)}remove(e){const{_finalizers:t}=this;t&&X(t,e),e instanceof ee&&e._removeParent(this)}}ee.EMPTY=(()=>{const n=new ee;return n.closed=!0,n})();const $=ee.EMPTY;function k(n){return n instanceof ee||n&&"closed"in n&&ae(n.remove)&&ae(n.add)&&ae(n.unsubscribe)}function P(n){ae(n)?n():n.unsubscribe()}const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},R={setTimeout(n,e,...t){const{delegate:i}=R;return null!=i&&i.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=R;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function x(n){R.setTimeout(()=>{const{onUnhandledError:e}=E;if(!e)throw n;e(n)})}function A(){}const _=I("C",void 0,void 0);function I(n,e,t){return{kind:n,value:e,error:t}}let T=null;function w(n){if(E.useDeprecatedSynchronousErrorHandling){const e=!T;if(e&&(T={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=T;if(T=null,t)throw i}}else n()}class y extends ee{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,k(e)&&e.add(this)):this.destination=C}static create(e,t,i){return new d(e,t,i)}next(e){this.isStopped?v(function D(n){return I("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?v(function m(n){return I("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?v(_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const h=Function.prototype.bind;function u(n,e){return h.call(n,e)}class l{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){g(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){g(i)}else g(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){g(t)}}}class d extends y{constructor(e,t,i){let r;if(super(),ae(e)||!e)r={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=i?i:void 0};else{let o;this&&E.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&u(e.next,o),error:e.error&&u(e.error,o),complete:e.complete&&u(e.complete,o)}):r=e}this.destination=new l(r)}}function g(n){E.useDeprecatedSynchronousErrorHandling?function p(n){E.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=n)}(n):x(n)}function v(n,e){const{onStoppedNotification:t}=E;t&&R.setTimeout(()=>t(n,e))}const C={closed:!0,next:A,error:function f(n){throw n},complete:A},S="function"==typeof Symbol&&Symbol.observable||"@@observable";function O(n){return n}function z(n){return 0===n.length?O:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let K=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function oe(n){return n&&n instanceof y||function ue(n){return n&&ae(n.next)&&ae(n.error)&&ae(n.complete)}(n)&&k(n)}(t)?t:new d(t,i,r);return w(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Q(i))((r,o)=>{const s=new d({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[S](){return this}pipe(...t){return z(t)(this)}toPromise(t){return new(t=Q(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Q(n){var e;return null!==(e=null!=n?n:E.Promise)&&void 0!==e?e:Promise}const pe=Z(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let F=(()=>{class n extends K{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new U(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new pe}next(t){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?$:(this.currentObservers=null,o.push(t),new ee(()=>{this.currentObservers=null,X(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new K;return t.source=this,t}}return n.create=(e,t)=>new U(e,t),n})();class U extends F{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:$}}function Y(n){return ae(null==n?void 0:n.lift)}function W(n){return e=>{if(Y(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ne(n,e,t,i,r){return new fe(n,e,t,i,r)}class fe extends y{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function he(n,e){return W((t,i)=>{let r=0;t.subscribe(ne(i,o=>{i.next(n.call(e,o,r++))}))})}function we(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(L){try{b(i.next(L))}catch(H){s(H)}}function c(L){try{b(i.throw(L))}catch(H){s(H)}}function b(L){L.done?o(L.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(L.value).then(a,c)}b((i=i.apply(n,e||[])).next())})}function On(n){return this instanceof On?(this.v=n,this):new On(n)}function Dn(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(G){i[G]&&(r[G]=function(j){return new Promise(function(J,ce){o.push([G,j,J,ce])>1||a(G,j)})})}function a(G,j){try{!function c(G){G.value instanceof On?Promise.resolve(G.value.v).then(b,L):H(o[0][2],G)}(i[G](j))}catch(J){H(o[0][3],J)}}function b(G){a("next",G)}function L(G){a("throw",G)}function H(G,j){G(j),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _t(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function xt(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function r(o,s,a,c){Promise.resolve(c).then(function(b){o({value:b,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}const si=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Ge(n){return ae(null==n?void 0:n.then)}function ct(n){return ae(n[S])}function Mt(n){return Symbol.asyncIterator&&ae(null==n?void 0:n[Symbol.asyncIterator])}function vn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Bn=function jn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Di(n){return ae(null==n?void 0:n[Bn])}function Er(n){return Dn(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield On(t.read());if(r)return yield On(void 0);yield yield On(i)}}finally{t.releaseLock()}})}function oo(n){return ae(null==n?void 0:n.getReader)}function Vr(n){if(n instanceof K)return n;if(null!=n){if(ct(n))return function oa(n){return new K(e=>{const t=n[S]();if(ae(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(si(n))return function ut(n){return new K(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Ge(n))return function je(n){return new K(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,x)})}(n);if(Mt(n))return Dt(n);if(Di(n))return function at(n){return new K(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(oo(n))return function Oe(n){return Dt(Er(n))}(n)}throw vn(n)}function Dt(n){return new K(e=>{(function Fe(n,e){var t,i,r,o;return we(this,void 0,void 0,function*(){try{for(t=_t(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function nt(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function wt(n,e,t=1/0){return ae(e)?wt((i,r)=>he((o,s)=>e(i,o,r,s))(Vr(n(i,r))),t):("number"==typeof e&&(t=e),W((i,r)=>function Et(n,e,t,i,r,o,s,a){const c=[];let b=0,L=0,H=!1;const G=()=>{H&&!c.length&&!b&&e.complete()},j=ce=>b<i?J(ce):c.push(ce),J=ce=>{o&&e.next(ce),b++;let se=!1;Vr(t(ce,L++)).subscribe(ne(e,te=>{null==r||r(te),o?j(te):e.next(te)},()=>{se=!0},void 0,()=>{if(se)try{for(b--;c.length&&b<i;){const te=c.shift();s?nt(e,s,()=>J(te)):J(te)}G()}catch(te){e.error(te)}}))};return n.subscribe(ne(e,j,()=>{H=!0,G()})),()=>{null==a||a()}}(i,r,n,t)))}function gn(n=1/0){return wt(O,n)}const An=new K(n=>n.complete());function Bi(n){return n&&ae(n.schedule)}function Zn(n){return n[n.length-1]}function Mi(n){return ae(Zn(n))?n.pop():void 0}function pi(n){return Bi(Zn(n))?n.pop():void 0}function xi(n,e=0){return W((t,i)=>{t.subscribe(ne(i,r=>nt(i,n,()=>i.next(r),e),()=>nt(i,n,()=>i.complete(),e),r=>nt(i,n,()=>i.error(r),e)))})}function lr(n,e=0){return W((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function cr(n,e){if(!n)throw new Error("Iterable cannot be null");return new K(t=>{nt(t,e,()=>{const i=n[Symbol.asyncIterator]();nt(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function fr(n,e){return e?function Vo(n,e){if(null!=n){if(ct(n))return function gi(n,e){return Vr(n).pipe(lr(e),xi(e))}(n,e);if(si(n))return function Zr(n,e){return new K(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Ge(n))return function bo(n,e){return Vr(n).pipe(lr(e),xi(e))}(n,e);if(Mt(n))return cr(n,e);if(Di(n))return function qr(n,e){return new K(t=>{let i;return nt(t,e,()=>{i=n[Bn](),nt(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>ae(null==i?void 0:i.return)&&i.return()})}(n,e);if(oo(n))return function so(n,e){return cr(Er(n),e)}(n,e)}throw vn(n)}(n,e):Vr(n)}function po(...n){const e=pi(n),t=function Fr(n,e){return"number"==typeof Zn(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Vr(i[0]):gn(t)(fr(i,e)):An}function Wo(n={}){const{connector:e=(()=>new F),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,b=0,L=!1,H=!1;const G=()=>{null==a||a.unsubscribe(),a=void 0},j=()=>{G(),s=c=void 0,L=H=!1},J=()=>{const ce=s;j(),null==ce||ce.unsubscribe()};return W((ce,se)=>{b++,!H&&!L&&G();const te=c=null!=c?c:e();se.add(()=>{b--,0===b&&!H&&!L&&(a=Ss(J,r))}),te.subscribe(se),!s&&b>0&&(s=new d({next:_e=>te.next(_e),error:_e=>{H=!0,G(),a=Ss(j,t,_e),te.error(_e)},complete:()=>{L=!0,G(),a=Ss(j,i),te.complete()}}),Vr(ce).subscribe(s))})(o)}}function Ss(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new d({next:()=>{i.unsubscribe(),n()}});return e(...t).subscribe(i)}function Qi(n){for(let e in n)if(n[e]===Qi)return e;throw Error("Could not find renamed property on target object.")}function Is(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function pr(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(pr).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Jo(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Os=Qi({__forward_ref__:Qi});function zi(n){return n.__forward_ref__=zi,n.toString=function(){return pr(this())},n}function bi(n){return cs(n)?n():n}function cs(n){return"function"==typeof n&&n.hasOwnProperty(Os)&&n.__forward_ref__===zi}class Jt extends Error{constructor(e,t){super(function Ma(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function Ii(n){return"string"==typeof n?n:null==n?"":String(n)}function Xa(n,e){throw new Jt(-201,!1)}function xs(n,e){null==n&&function Wr(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function bn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Fn(n){return{providers:n.providers||[],imports:n.imports||[]}}function lg(n){return Yb(n,uf)||Yb(n,hs)}function Yb(n,e){return n.hasOwnProperty(e)?n[e]:null}function Jb(n){return n&&(n.hasOwnProperty(ty)||n.hasOwnProperty(qb))?n[ty]:null}const uf=Qi({\u0275prov:Qi}),ty=Qi({\u0275inj:Qi}),hs=Qi({ngInjectableDef:Qi}),qb=Qi({ngInjectorDef:Qi});var Ci=(()=>((Ci=Ci||{})[Ci.Default=0]="Default",Ci[Ci.Host=1]="Host",Ci[Ci.Self=2]="Self",Ci[Ci.SkipSelf=4]="SkipSelf",Ci[Ci.Optional=8]="Optional",Ci))();let cg;function Co(n){const e=cg;return cg=n,e}function iy(n,e,t){const i=lg(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Ci.Optional?null:void 0!==e?e:void Xa(pr(n))}function dc(n){return{toString:n}.toString()}var Ja=(()=>((Ja=Ja||{})[Ja.OnPush=0]="OnPush",Ja[Ja.Default=1]="Default",Ja))(),go=(()=>{return(n=go||(go={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",go;var n})();const Qr=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),Bu={},gr=[],Hu=Qi({\u0275cmp:Qi}),hf=Qi({\u0275dir:Qi}),eo=Qi({\u0275pipe:Qi}),fc=Qi({\u0275mod:Qi}),fl=Qi({\u0275fac:Qi}),df=Qi({__NG_ELEMENT_ID__:Qi});let ry=0;function Wn(n){return dc(()=>{const t=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ja.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||gr,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||go.Emulated,id:"c"+ry++,styles:n.styles||gr,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return r.inputs=eC(n.inputs,i),r.outputs=eC(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(Qb).filter(oy):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ns).filter(oy):null,r})}function Qb(n){return jr(n)||Es(n)}function oy(n){return null!==n}function ui(n){return dc(()=>({type:n.type,bootstrap:n.bootstrap||gr,declarations:n.declarations||gr,imports:n.imports||gr,exports:n.exports||gr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function eC(n,e){if(null==n)return Bu;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}const Gt=Wn;function Fs(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function jr(n){return n[Hu]||null}function Es(n){return n[hf]||null}function Ns(n){return n[eo]||null}function Ys(n,e){const t=n[fc]||null;if(!t&&!0===e)throw new Error(`Type ${pr(n)} does not have '\u0275mod' property.`);return t}function bt(n){return Array.isArray(n)&&"object"==typeof n[1]}function Vt(n){return Array.isArray(n)&&!0===n[1]}function Bt(n){return 0!=(8&n.flags)}function Xn(n){return 2==(2&n.flags)}function Vi(n){return 1==(1&n.flags)}function sr(n){return null!==n.template}function qo(n){return 0!=(256&n[2])}function ru(n,e){return n.hasOwnProperty(fl)?n[fl]:null}class hg{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function lo(){return nd}function nd(n){return n.type.prototype.ngOnChanges&&(n.setInput=dg),Zu}function Zu(){const n=rC(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Bu)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function dg(n,e,t,i){const r=rC(n)||function Hx(n,e){return n[iC]=e}(n,{previous:Bu,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[t],c=s[a];o[a]=new hg(c&&c.currentValue,e,s===Bu),n[i]=e}lo.ngInherit=!0;const iC="__ngSimpleChanges__";function rC(n){return n[iC]||null}function Mr(n){for(;Array.isArray(n);)n=n[0];return n}function pf(n,e){return Mr(e[n])}function Da(n,e){return Mr(e[n.index])}function Ku(n,e){return n.data[e]}function ou(n,e){return n[e]}function fs(n,e){const t=e[n];return bt(t)?t:t[0]}function su(n){return 64==(64&n[2])}function ka(n,e){return null==e?null:n[e]}function sC(n){n[18]=0}function yy(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const ji={lFrame:gC(null),bindingsEnabled:!0};function Ne(){return ji.bindingsEnabled}function nn(){return ji.lFrame.lView}function qn(){return ji.lFrame.tView}function Tn(n){return ji.lFrame.contextLView=n,n[8]}function Rn(n){return ji.lFrame.contextLView=null,n}function Qo(){let n=au();for(;null!==n&&64===n.type;)n=n.parent;return n}function au(){return ji.lFrame.currentTNode}function Ll(n,e){const t=ji.lFrame;t.currentTNode=n,t.isParent=e}function _y(){return ji.lFrame.isParent}function by(){ji.lFrame.isParent=!1}function qs(){const n=ji.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function aa(){return ji.lFrame.bindingIndex++}function yc(n){const e=ji.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Gx(n,e){const t=ji.lFrame;t.bindingIndex=t.bindingRootIndex=n,_c(e)}function _c(n){ji.lFrame.currentDirectiveIndex=n}function Cy(n){const e=ji.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function dC(){return ji.lFrame.currentQueryIndex}function La(n){ji.lFrame.currentQueryIndex=n}function jx(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function fC(n,e,t){if(t&Ci.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&Ci.Host||(r=jx(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;e=r,n=o}const i=ji.lFrame=pC();return i.currentTNode=e,i.lView=n,!0}function wy(n){const e=pC(),t=n[1];ji.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function pC(){const n=ji.lFrame,e=null===n?null:n.child;return null===e?gC(n):e}function gC(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Ay(){const n=ji.lFrame;return ji.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Sy=Ay;function Iy(){const n=Ay();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function es(){return ji.lFrame.selectedIndex}function ml(n){ji.lFrame.selectedIndex=n}function Ao(){const n=ji.lFrame;return Ku(n.tView,n.selectedIndex)}function od(){ji.lFrame.currentNamespace="svg"}function vg(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:b,ngOnDestroy:L}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),c&&(n.viewHooks||(n.viewHooks=[])).push(-t,c),b&&((n.viewHooks||(n.viewHooks=[])).push(t,b),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,b)),null!=L&&(n.destroyHooks||(n.destroyHooks=[])).push(t,L)}}function yf(n,e,t){bc(n,e,3,t)}function _f(n,e,t,i){(3&n[2])===t&&bc(n,e,t,i)}function Yu(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function bc(n,e,t,i){const o=null!=i?i:-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[18]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[18]+=65536),(a<o||-1==o)&&(mC(n,t,e,c),n[18]=(4294901760&n[18])+c+2),c++}function mC(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class cu{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Fl(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];Bs(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function Ty(n){return 3===n||4===n||6===n}function Bs(n){return 64===n.charCodeAt(0)}function sd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||bC(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function bC(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function CC(n){return-1!==n}function ad(n){return 32767&n}function ld(n,e){let t=function Ry(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let Ju=!0;function Cf(n){const e=Ju;return Ju=n,e}let Yx=0;const Nl={};function ud(n,e){const t=Ly(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,ky(i.data,n),ky(e,null),ky(i.blueprint,null));const r=yg(n,e),o=n.injectorIndex;if(CC(r)){const s=ad(r),a=ld(r,e),c=a[1].data;for(let b=0;b<8;b++)e[o+b]=a[s+b]|c[s+b]}return e[o+8]=r,o}function ky(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Ly(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function yg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=EC(r),null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function wf(n,e,t){!function Dy(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(df)&&(i=t[df]),null==i&&(i=t[df]=Yx++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function AC(n,e,t){if(t&Ci.Optional||void 0!==n)return n;Xa()}function _g(n,e,t,i){if(t&Ci.Optional&&void 0===i&&(i=null),0==(t&(Ci.Self|Ci.Host))){const r=n[9],o=Co(void 0);try{return r?r.get(e,i,t&Ci.Optional):iy(e,i,t&Ci.Optional)}finally{Co(o)}}return AC(i,0,t)}function Oy(n,e,t,i=Ci.Default,r){if(null!==n){if(1024&e[2]){const s=function $y(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=Fy(o,s,t,i|Ci.Self,Nl);if(a!==Nl)return a;let c=o.parent;if(!c){const b=s[21];if(b){const L=b.get(t,Nl,i);if(L!==Nl)return L}c=EC(s),s=s[15]}o=c}return r}(n,e,t,i,Nl);if(s!==Nl)return s}const o=Fy(n,e,t,i,Nl);if(o!==Nl)return o}return _g(e,t,i,r)}function Fy(n,e,t,i,r){const o=function IC(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(df)?n[df]:void 0;return"number"==typeof e?e>=0?255&e:Jx:e}(t);if("function"==typeof o){if(!fC(e,n,i))return i&Ci.Host?AC(r,0,i):_g(e,t,i,r);try{const s=o(i);if(null!=s||i&Ci.Optional)return s;Xa()}finally{Sy()}}else if("number"==typeof o){let s=null,a=Ly(n,e),c=-1,b=i&Ci.Host?e[16][6]:null;for((-1===a||i&Ci.SkipSelf)&&(c=-1===a?yg(n,e):e[a+8],-1!==c&&xC(i,!1)?(s=e[1],a=ad(c),e=ld(c,e)):a=-1);-1!==a;){const L=e[1];if(Ny(o,a,L.data)){const H=SC(a,e,t,s,i,b);if(H!==Nl)return H}c=e[a+8],-1!==c&&xC(i,e[1].data[a+8]===b)&&Ny(o,a,e)?(s=L,a=ad(c),e=ld(c,e)):a=-1}}return r}function SC(n,e,t,i,r,o){const s=e[1],a=s.data[n+8],L=qu(a,s,t,null==i?Xn(a)&&Ju:i!=s&&0!=(3&a.type),r&Ci.Host&&o===a);return null!==L?Af(e,s,L,a):Nl}function qu(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,L=o>>20,G=r?a+L:n.directiveEnd;for(let j=i?a:a+L;j<G;j++){const J=s[j];if(j<c&&t===J||j>=c&&J.type===t)return j}if(r){const j=s[c];if(j&&sr(j)&&j.type===t)return c}return null}function Af(n,e,t,i){let r=n[t];const o=e.data;if(function Xx(n){return n instanceof cu}(r)){const s=r;s.resolving&&function iu(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Jt(-200,`Circular dependency in DI detected for ${n}${t}`)}(function tr(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ii(n)}(o[t]));const a=Cf(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Co(s.injectImpl):null;fC(n,i,Ci.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function qa(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=nd(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==c&&Co(c),Cf(a),s.resolving=!1,Sy()}}return r}function Ny(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function xC(n,e){return!(n&Ci.Self||n&Ci.Host&&e)}class Qu{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Oy(this._tNode,this._lView,e,i,t)}}function Jx(){return new Qu(Qo(),nn())}function Ki(n){return dc(()=>{const e=n.prototype.constructor,t=e[fl]||bg(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[fl]||bg(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function bg(n){return cs(n)?()=>{const e=bg(bi(n));return e&&e()}:ru(n)}function EC(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function la(n){return function Py(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(Ty(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(Qo(),n)}const hd="__parameters__";function pd(n,e,t){return dc(()=>{const i=function Cg(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,b,L){const H=c.hasOwnProperty(hd)?c[hd]:Object.defineProperty(c,hd,{value:[]})[hd];for(;H.length<=L;)H.push(null);return(H[L]=H[L]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class rn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=bn({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Pa(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),Pa(i,e)):e!==n&&e.push(i)}return e}function Hs(n,e){n.forEach(t=>Array.isArray(t)?Hs(t,e):e(t))}function Vy(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Sf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function nh(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function ca(n,e,t){let i=ts(n,e);return i>=0?n[1|i]=t:(i=~i,function nE(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Ag(n,e){const t=ts(n,e);if(t>=0)return n[1|t]}function ts(n,e){return function LC(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const If={},Eg="__NG_DI_FLAG__",xf="ngTempTokenPath",FC=/\n/gm,Rg="__source";let hu;function vd(n){const e=hu;return hu=n,e}function NC(n,e=Ci.Default){if(void 0===hu)throw new Jt(-203,!1);return null===hu?iy(n,void 0,e):hu.get(n,e&Ci.Optional?null:void 0,e)}function At(n,e=Ci.Default){return(function ny(){return cg}()||NC)(bi(n),e)}function Kr(n,e=Ci.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),At(n,e)}function Uy(n){const e=[];for(let t=0;t<n.length;t++){const i=bi(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Jt(900,!1);let r,o=Ci.Default;for(let s=0;s<i.length;s++){const a=i[s],c=Ac(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(At(r,o))}else e.push(At(i))}return e}function yd(n,e){return n[Eg]=e,n.prototype[Eg]=e,n}function Ac(n){return n[Eg]}const $l=yd(pd("Optional"),8),ih=yd(pd("SkipSelf"),4);var ps=(()=>((ps=ps||{})[ps.Important=1]="Important",ps[ps.DashCase=2]="DashCase",ps))();const Fg=new Map;let Hl=0;const qy="__ngContext__";function Vs(n,e){bt(e)?(n[qy]=e[20],function pE(n){Fg.set(n[20],n)}(e)):n[qy]=e}function n0(n,e){return undefined(n,e)}function Df(n){const e=n[3];return Vt(e)?e[3]:e}function r0(n){return s0(n[13])}function o0(n){return s0(n[4])}function s0(n){for(;null!==n&&!Vt(n);)n=n[4];return n}function Cd(n,e,t,i,r){if(null!=i){let o,s=!1;Vt(i)?o=i:bt(i)&&(s=!0,i=i[0]);const a=Mr(i);0===n&&null!==t?null==r?rw(e,t,a):ch(e,t,a,r||null,!0):1===n&&null!==t?ch(e,t,a,r||null,!0):2===n?function f0(n,e,t){const i=wd(n,e);i&&function kE(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function PE(n,e,t,i,r){const o=t[7];o!==Mr(t)&&Cd(e,n,i,o,r);for(let a=10;a<t.length;a++){const c=t[a];kf(c[1],c,n,e,i,o)}}(e,n,o,t,r)}}function c0(n,e,t){return n.createElement(e,t)}function ew(n,e){const t=n[9],i=t.indexOf(e),r=e[3];512&e[2]&&(e[2]&=-513,yy(r,-1)),t.splice(i,1)}function u0(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&ew(r,i),e>0&&(n[t-1][4]=i[4]);const o=Sf(n,10+e);!function SE(n,e){kf(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function tw(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&kf(n,e,t,3,null,null),function EE(n){let e=n[13];if(!e)return h0(n[1],n);for(;e;){let t=null;if(bt(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)bt(e)&&h0(e[1],e),e=e[3];null===e&&(e=n),bt(e)&&h0(e[1],e),t=e&&e[4]}e=t}}(e)}}function h0(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function DE(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof cu)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];try{c.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,e),function RE(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):Mr(e[s]),c=i[r=t[o+2]],b=t[o+3];"boolean"==typeof b?a.removeEventListener(t[o],c,b):b>=0?i[r=b]():i[r=-b].unsubscribe(),o+=2}else{const s=i[r=t[o+1]];t[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Vt(e[3])){t!==e[3]&&ew(t,e);const i=e[19];null!==i&&i.detachView(n)}!function gE(n){Fg.delete(n[20])}(e)}}function nw(n,e,t){return function iw(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===go.None||r===go.Emulated)return null}return Da(i,t)}(n,e.parent,t)}function ch(n,e,t,i,r){n.insertBefore(e,t,i,r)}function rw(n,e,t){n.appendChild(e,t)}function ow(n,e,t,i,r){null!==i?ch(n,e,t,i,r):rw(n,e,t)}function wd(n,e){return n.parentNode(e)}function aw(n,e,t){return cw(n,e,t)}let Hg,m0,Lf,cw=function lw(n,e,t){return 40&n.type?Da(n,t):null};function Ng(n,e,t,i){const r=nw(n,i,e),o=e[11],a=aw(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)ow(o,r,t[c],a,!1);else ow(o,r,t,a,!1)}function $g(n,e){if(null!==e){const t=e.type;if(3&t)return Da(e,n);if(4&t)return Bg(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return $g(n,i);{const r=n[e.index];return Vt(r)?Bg(-1,r):Mr(r)}}if(32&t)return n0(e,n)()||Mr(n[e.index]);{const i=hw(n,e);return null!==i?Array.isArray(i)?i[0]:$g(Df(n[16]),i):$g(n,e.next)}}return null}function hw(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Bg(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return $g(i,r)}return e[7]}function Ad(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&Vs(Mr(a),i),t.flags|=4),64!=(64&t.flags))if(8&c)Ad(n,e,t.child,i,r,o,!1),Cd(e,n,r,a,o);else if(32&c){const b=n0(t,i);let L;for(;L=b();)Cd(e,n,r,L,o);Cd(e,n,r,a,o)}else 16&c?dw(n,e,i,t,r,o):Cd(e,n,r,a,o);t=s?t.projectionNext:t.next}}function kf(n,e,t,i,r,o){Ad(t,i,n.firstChild,e,r,o,!1)}function dw(n,e,t,i,r,o){const s=t[16],c=s[6].projection[i.projection];if(Array.isArray(c))for(let b=0;b<c.length;b++)Cd(e,n,r,c[b],o);else Ad(n,e,c,s[3],r,o,!0)}function fw(n,e,t){n.setAttribute(e,"style",t)}function p0(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function uh(n){var e;return(null===(e=function g0(){if(void 0===Hg&&(Hg=null,Qr.trustedTypes))try{Hg=Qr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Hg}())||void 0===e?void 0:e.createHTML(n))||n}function pw(n){var e;return(null===(e=function y0(){if(void 0===Lf&&(Lf=null,Qr.trustedTypes))try{Lf=Qr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Lf}())||void 0===e?void 0:e.createHTML(n))||n}class Vl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class HE extends Vl{getTypeName(){return"HTML"}}class VE extends Vl{getTypeName(){return"Style"}}class WE extends Vl{getTypeName(){return"Script"}}class UE extends Vl{getTypeName(){return"URL"}}class GE extends Vl{getTypeName(){return"ResourceURL"}}function Oa(n){return n instanceof Vl?n.changingThisBreaksApplicationSecurity:n}function Wl(n,e){const t=function zE(n){return n instanceof Vl&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class vw{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(uh(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class b0{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const i=this.inertDocument.createElement("body");t.appendChild(i)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=uh(e),t;const i=this.inertDocument.createElement("body");return i.innerHTML=uh(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const s=t.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const _w=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Pf(n){return(n=String(n)).match(_w)?n:"unsafe:"+n}function Ul(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Of(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const bw=Ul("area,br,col,hr,img,wbr"),Cw=Ul("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ff=Ul("rp,rt"),Nf=Of(bw,Of(Cw,Ul("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Of(Ff,Ul("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Of(Ff,Cw)),Wg=Ul("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ww=Of(Wg,Ul("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ul("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),YE=Ul("script,style,template");class JE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Nf.hasOwnProperty(t))return this.sanitizedSomething=!0,!YE.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!ww.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;Wg[a]&&(c=Pf(c)),this.buf.push(" ",s,'="',Aw(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Nf.hasOwnProperty(t)&&!bw.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Aw(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const qE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,QE=/([^\#-~ |!])/g;function Aw(n){return n.replace(/&/g,"&amp;").replace(qE,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(QE,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ug;function Sw(n,e){let t=null;try{Ug=Ug||function _0(n){const e=new b0(n);return function yw(){try{return!!(new window.DOMParser).parseFromString(uh(""),"text/html")}catch(n){return!1}}()?new vw(e):e}(n);let i=e?String(e):"";t=Ug.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=Ug.getInertBodyElement(i)}while(i!==o);return uh((new JE).sanitizeChildren(w0(t)||t))}finally{if(t){const i=w0(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function w0(n){return"content"in n&&function eM(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ir=(()=>((ir=ir||{})[ir.NONE=0]="NONE",ir[ir.HTML=1]="HTML",ir[ir.STYLE=2]="STYLE",ir[ir.SCRIPT=3]="SCRIPT",ir[ir.URL=4]="URL",ir[ir.RESOURCE_URL=5]="RESOURCE_URL",ir))();function ha(n){const e=$f();return e?pw(e.sanitize(ir.HTML,n)||""):Wl(n,"HTML")?pw(Oa(n)):Sw(function v0(){return void 0!==m0?m0:"undefined"!=typeof document?document:void 0}(),Ii(n))}function xc(n){const e=$f();return e?e.sanitize(ir.URL,n)||"":Wl(n,"URL")?Oa(n):Pf(Ii(n))}function $f(){const n=nn();return n&&n[12]}const A0=new rn("ENVIRONMENT_INITIALIZER"),Iw=new rn("INJECTOR",-1),Gg=new rn("INJECTOR_DEF_TYPES");class xw{get(e,t=If){if(t===If){const i=new Error(`NullInjectorError: No provider for ${pr(e)}!`);throw i.name="NullInjectorError",i}return t}}function Ec(...n){return{\u0275providers:S0(0,n)}}function S0(n,...e){const t=[],i=new Set;let r;return Hs(e,o=>{const s=o;co(s,t,[],i)&&(r||(r=[]),r.push(s))}),void 0!==r&&Bf(r,t),t}function Bf(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];Hs(r,o=>{e.push(o)})}}function co(n,e,t,i){if(!(n=bi(n)))return!1;let r=null,o=Jb(n);const s=!o&&jr(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=Jb(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const b of c)co(b,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let b;i.add(r);try{Hs(o.imports,L=>{co(L,e,t,i)&&(b||(b=[]),b.push(L))})}finally{}void 0!==b&&Bf(b,e)}if(!a){const b=ru(r)||(()=>new r);e.push({provide:r,useFactory:b,deps:gr},{provide:Gg,useValue:r,multi:!0},{provide:A0,useValue:()=>At(r),multi:!0})}const c=o.providers;null==c||a||Hs(c,L=>{e.push(L)})}}return r!==n&&void 0!==n.providers}const Ew=Qi({provide:String,useValue:Qi});function I0(n){return null!==n&&"object"==typeof n&&Ew in n}function hh(n){return"function"==typeof n}const x0=new rn("Set Injector scope."),Hf={},Vf={};let Wf;function zg(){return void 0===Wf&&(Wf=new xw),Wf}class Mc{}class Uf extends Mc{constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,er(e,s=>this.processProvider(s)),this.records.set(Iw,Id(void 0,this)),r.has("environment")&&this.records.set(Mc,Id(void 0,this));const o=this.records.get(x0);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Gg.multi,gr,Ci.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=vd(this),i=Co(void 0);try{return e()}finally{vd(t),Co(i)}}get(e,t=If,i=Ci.Default){this.assertNotDestroyed();const r=vd(this),o=Co(void 0);try{if(!(i&Ci.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function Dw(n){return"function"==typeof n||"object"==typeof n&&n instanceof rn}(e)&&lg(e);a=c&&this.injectableDefInScope(c)?Id(ta(e),Hf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&Ci.Self?zg():this.parent).get(e,t=i&Ci.Optional&&t===If?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[xf]=s[xf]||[]).unshift(pr(e)),r)throw s;return function $C(n,e,t,i){const r=n[xf];throw e[Rg]&&r.unshift(e[Rg]),n.message=function BC(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=pr(e);if(Array.isArray(e))r=e.map(pr).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):pr(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(FC,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[xf]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Co(o),vd(r)}}resolveInjectorInitializers(){const e=vd(this),t=Co(void 0);try{const i=this.get(A0.multi,gr,Ci.Self);for(const r of i)r()}finally{vd(e),Co(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(pr(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Jt(205,!1)}processProvider(e){let t=hh(e=bi(e))?e:bi(e&&e.provide);const i=function oM(n){return I0(n)?Id(void 0,n.useValue):Id(Rw(n),Hf)}(e);if(hh(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Id(void 0,Hf,!0),r.factory=()=>Uy(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Hf&&(t.value=Vf,t.value=t.factory()),"object"==typeof t.value&&t.value&&function aM(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=bi(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function ta(n){const e=lg(n),t=null!==e?e.factory:ru(n);if(null!==t)return t;if(n instanceof rn)throw new Jt(204,!1);if(n instanceof Function)return function Sd(n){const e=n.length;if(e>0)throw nh(e,"?"),new Jt(204,!1);const t=function Tx(n){const e=n&&(n[uf]||n[hs]);if(e){const t=function Rx(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Jt(204,!1)}function Rw(n,e,t){let i;if(hh(n)){const r=bi(n);return ru(r)||ta(r)}if(I0(n))i=()=>bi(n.useValue);else if(function Tw(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Uy(n.deps||[]));else if(function Mw(n){return!(!n||!n.useExisting)}(n))i=()=>At(bi(n.useExisting));else{const r=bi(n&&(n.useClass||n.provide));if(!function sM(n){return!!n.deps}(n))return ru(r)||ta(r);i=()=>new r(...Uy(n.deps))}return i}function Id(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Tc(n){return!!n.\u0275providers}function er(n,e){for(const t of n)Array.isArray(t)?er(t,e):Tc(t)?er(t.\u0275providers,e):e(t)}class Fa{}class lM{resolveComponentFactory(e){throw function Lw(n){const e=Error(`No component factory found for ${pr(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Rc=(()=>{class n{}return n.NULL=new lM,n})();function jg(){return xd(Qo(),nn())}function xd(n,e){return new ci(Da(n,e))}let ci=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=jg,n})();function cM(n){return n instanceof ci?n.nativeElement:n}class Gf{}let Gl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function uM(){const n=nn(),t=fs(Qo().index,n);return(bt(t)?t:n)[11]}(),n})(),hM=(()=>{class n{}return n.\u0275prov=bn({token:n,providedIn:"root",factory:()=>null}),n})();class dh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const dM=new dh("14.3.0"),E0={};function zf(n){return n.ngOriginalError}class Dc{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&zf(e);for(;t&&zf(t);)t=zf(t);return t||null}}function kc(n){return n instanceof Function?n():n}function Fw(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}const D0="ng-template";function Nw(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==Fw(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function $w(n){return 4===n.type&&n.value!==D0}function _M(n,e,t){return e===(4!==n.type||t?n.value:D0)}function bM(n,e,t){let i=4;const r=n.attrs||[],o=function wM(n){for(let e=0;e<n.length;e++)if(Ty(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!_M(n,c,t)||""===c&&1===e.length){if(vl(i))return!1;s=!0}}else{const b=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!Nw(n.attrs,b,t)){if(vl(i))return!1;s=!0}continue}const H=Md(8&i?"class":c,r,$w(n),t);if(-1===H){if(vl(i))return!1;s=!0;continue}if(""!==b){let G;G=H>o?"":r[H+1].toLowerCase();const j=8&i?G:null;if(j&&-1!==Fw(j,b,0)||2&i&&b!==G){if(vl(i))return!1;s=!0}}}}else{if(!s&&!vl(i)&&!vl(c))return!1;if(s&&vl(c))continue;s=!1,i=c|1&i}}return vl(i)||s}function vl(n){return 0==(1&n)}function Md(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function AM(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function Bw(n,e,t=!1){for(let i=0;i<e.length;i++)if(bM(n,e[i],t))return!0;return!1}function SM(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function k0(n,e){return n?":not("+e.trim()+")":e}function Hw(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!vl(s)&&(e+=k0(o,r),r=""),i=s,o=o||!vl(i);t++}return""!==r&&(e+=k0(o,r)),e}const Ji={};function Be(n){Vw(qn(),nn(),es()+n,!1)}function Vw(n,e,t,i){if(!i)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&yf(e,o,t)}else{const o=n.preOrderHooks;null!==o&&_f(e,o,0,t)}ml(t)}function zw(n,e=null,t=null,i){const r=jw(n,e,t,i);return r.resolveInjectorInitializers(),r}function jw(n,e=null,t=null,i,r=new Set){const o=[t||gr,Ec(n)];return i=i||("object"==typeof n?void 0:pr(n)),new Uf(o,e||zg(),i||null,r)}let vo=(()=>{class n{static create(t,i){var r;if(Array.isArray(t))return zw({name:""},i,t,"");{const o=null!==(r=t.name)&&void 0!==r?r:"";return zw({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=If,n.NULL=new xw,n.\u0275prov=bn({token:n,providedIn:"any",factory:()=>At(Iw)}),n.__NG_ELEMENT_ID__=-1,n})();function Te(n,e=Ci.Default){const t=nn();return null===t?At(n,e):Oy(Qo(),t,bi(n),e)}function Lc(){throw new Error("invalid")}function Xg(n,e){return n<<17|e<<2}function Na(n){return n>>17&32767}function N0(n){return 2|n}function Pc(n){return(131068&n)>>2}function $0(n,e){return-131069&n|e<<2}function B0(n){return 1|n}function LP(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],o=t[i+1];if(-1!==o){const s=n.data[o];La(r),s.contentQueries(2,e[o],o)}}}function n1(n,e,t,i,r,o,s,a,c,b,L){const H=e.blueprint.slice();return H[0]=r,H[2]=76|i,(null!==L||n&&1024&n[2])&&(H[2]|=1024),sC(H),H[3]=H[15]=n,H[8]=t,H[10]=s||n&&n[10],H[11]=a||n&&n[11],H[12]=c||n&&n[12]||null,H[9]=b||n&&n[9]||null,H[6]=o,H[20]=function lh(){return Hl++}(),H[21]=L,H[16]=2==e.type?n[16]:H,H}function Qg(n,e,t,i,r){let o=n.data[e];if(null===o)o=function KM(n,e,t,i,r){const o=au(),s=_y(),c=n.data[e]=function Jz(n,e,t,i,r,o){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c)),c}(n,e,t,i,r),function Ux(){return ji.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function vf(){const n=ji.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ll(o,!0),o}function em(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function XM(n,e,t){wy(e);try{const i=n.viewQuery;null!==i&&iT(1,i,t);const r=n.template;null!==r&&PP(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&LP(n,e),n.staticViewQueries&&iT(2,n.viewQuery,t);const o=n.components;null!==o&&function Kz(n,e){for(let t=0;t<e.length;t++)f9(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,Iy()}}function r1(n,e,t,i){const r=e[2];if(128!=(128&r)){wy(e);try{sC(e),function uC(n){return ji.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&PP(n,e,t,2,i);const s=3==(3&r);if(s){const b=n.preOrderCheckHooks;null!==b&&yf(e,b,null)}else{const b=n.preOrderHooks;null!==b&&_f(e,b,0,null),Yu(e,0)}if(function h9(n){for(let e=r0(n);null!==e;e=o0(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],o=r[3];0==(512&r[2])&&yy(o,1),r[2]|=512}}}(e),function u9(n){for(let e=r0(n);null!==e;e=o0(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];su(i)&&r1(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&LP(n,e),s){const b=n.contentCheckHooks;null!==b&&yf(e,b)}else{const b=n.contentHooks;null!==b&&_f(e,b,1),Yu(e,1)}!function jz(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)ml(~r);else{const o=r,s=t[++i],a=t[++i];Gx(s,o),a(2,e[o])}}}finally{ml(-1)}}(n,e);const a=n.components;null!==a&&function Zz(n,e){for(let t=0;t<e.length;t++)d9(n,e[t])}(e,a);const c=n.viewQuery;if(null!==c&&iT(2,c,i),s){const b=n.viewCheckHooks;null!==b&&yf(e,b)}else{const b=n.viewHooks;null!==b&&_f(e,b,2),Yu(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,yy(e[3],-1))}finally{Iy()}}}function PP(n,e,t,i,r){const o=es(),s=2&i;try{ml(-1),s&&e.length>22&&Vw(n,e,22,!1),t(i,r)}finally{ml(o)}}function OP(n,e,t){if(Bt(e)){const r=e.directiveEnd;for(let o=e.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function YM(n,e,t){!Ne()||(function n9(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||ud(t,e),Vs(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],b=sr(c);b&&a9(e,t,c);const L=Af(e,n,a,t);Vs(L,e),null!==s&&l9(0,a-r,L,c,0,s),b&&(fs(t.index,e)[8]=L)}}(n,e,t,Da(t,e)),128==(128&t.flags)&&function i9(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function zx(){return ji.lFrame.currentDirectiveIndex}();try{ml(o);for(let a=i;a<r;a++){const c=n.data[a],b=e[a];_c(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&WP(c,b)}}finally{ml(-1),_c(s)}}(n,e,t))}function JM(n,e,t=Da){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function FP(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=qM(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function qM(n,e,t,i,r,o,s,a,c,b){const L=22+i,H=L+r,G=function Xz(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ji);return t}(L,H),j="function"==typeof b?b():b;return G[1]={type:n,blueprint:G,template:t,queries:null,viewQuery:a,declTNode:e,data:G.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:j,incompleteFirstPass:!1}}function NP(n,e,t,i){const r=ZP(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&KP(n).push(i,r.length-1))}function $P(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,r):t[i]=[e,r]}return t}function BP(n,e){const i=e.directiveEnd,r=n.data,o=e.attrs,s=[];let a=null,c=null;for(let b=e.directiveStart;b<i;b++){const L=r[b],H=L.inputs,G=null===o||$w(e)?null:c9(H,o);s.push(G),a=$P(H,b,a),c=$P(L.outputs,b,c)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=c}function _l(n,e,t,i,r,o,s,a){const c=Da(e,t);let L,b=e.inputs;!a&&null!=b&&(L=b[i])?(rT(n,t,L,i,r),Xn(e)&&HP(t,e.index)):3&e.type&&(i=function qz(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function HP(n,e){const t=fs(e,n);16&t[2]||(t[2]|=32)}function QM(n,e,t,i){let r=!1;if(Ne()){const o=function r9(n,e,t){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];Bw(t,s.selectors,!1)&&(r||(r=[]),wf(ud(t,e),n,s.type),sr(s)?(UP(n,t),r.unshift(s)):r.push(s))}return r}(n,e,t),s=null===i?null:{"":-1};if(null!==o){r=!0,GP(t,n.data.length,o.length);for(let L=0;L<o.length;L++){const H=o[L];H.providersResolver&&H.providersResolver(H)}let a=!1,c=!1,b=em(n,e,o.length,null);for(let L=0;L<o.length;L++){const H=o[L];t.mergedAttrs=sd(t.mergedAttrs,H.hostAttrs),zP(n,t,e,b,H),s9(b,H,s),null!==H.contentQueries&&(t.flags|=8),(null!==H.hostBindings||null!==H.hostAttrs||0!==H.hostVars)&&(t.flags|=128);const G=H.type.prototype;!a&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!c&&(G.ngOnChanges||G.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),c=!0),b++}BP(n,t)}s&&function o9(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new Jt(-301,!1);i.push(e[r],o)}}}(t,i,s)}return t.mergedAttrs=sd(t.mergedAttrs,t.attrs),r}function VP(n,e,t,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const c=~e.index;(function t9(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=c&&a.push(c),a.push(i,r,s)}}function WP(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function UP(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function s9(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;sr(e)&&(t[""]=n)}}function GP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function zP(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=ru(r.type)),s=new cu(o,sr(r),Te);n.blueprint[i]=s,t[i]=s,VP(n,e,0,i,em(n,t,r.hostVars,Ji),r)}function a9(n,e,t){const i=Da(e,n),r=FP(t),o=n[10],s=o1(n,n1(n,r,null,t.onPush?32:16,i,e,o,o.createRenderer(i,t),null,null,null));n[e.index]=s}function fu(n,e,t,i,r,o){const s=Da(n,e);!function eT(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Ii(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[11],s,o,n.value,t,i,r)}function l9(n,e,t,i,r,o){const s=o[e];if(null!==s){const a=i.setInput;for(let c=0;c<s.length;){const b=s[c++],L=s[c++],H=s[c++];null!==a?i.setInput(t,H,b,L):t[L]=H}}}function c9(n,e){let t=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,n[r],e[i+1])),i+=2}else i+=2;else i+=4}return t}function jP(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function d9(n,e){const t=fs(e,n);if(su(t)){const i=t[1];48&t[2]?r1(i,t,i.template,t[8]):t[5]>0&&tT(t)}}function tT(n){for(let i=r0(n);null!==i;i=o0(i))for(let r=10;r<i.length;r++){const o=i[r];if(su(o))if(512&o[2]){const s=o[1];r1(s,o,s.template,o[8])}else o[5]>0&&tT(o)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=fs(t[i],n);su(r)&&r[5]>0&&tT(r)}}function f9(n,e){const t=fs(e,n),i=t[1];(function p9(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),XM(i,t,t[8])}function o1(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function nT(n){for(;n;){n[2]|=32;const e=Df(n);if(qo(n)&&!e)return n;n=e}return null}function s1(n,e,t,i=!0){const r=e[10];r.begin&&r.begin();try{r1(n,e,n.template,t)}catch(s){throw i&&YP(e,s),s}finally{r.end&&r.end()}}function iT(n,e,t){La(0),e(n,t)}function ZP(n){return n[7]||(n[7]=[])}function KP(n){return n.cleanup||(n.cleanup=[])}function XP(n,e,t){return(null===n||sr(n))&&(t=function Wx(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}function YP(n,e){const t=n[9],i=t?t.get(Dc,null):null;i&&i.handleError(e)}function rT(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],c=e[s],b=n.data[s];null!==b.setInput?b.setInput(c,r,i,a):c[a]=r}}function fh(n,e,t){const i=pf(e,n);!function QC(n,e,t){n.setValue(e,t)}(n[11],i,t)}function a1(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=Jo(r,a):2==o&&(i=Jo(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function l1(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&i.push(Mr(o)),Vt(o))for(let a=10;a<o.length;a++){const c=o[a],b=c[1].firstChild;null!==b&&l1(c[1],c,b,i)}const s=t.type;if(8&s)l1(n,e,t.child,i);else if(32&s){const a=n0(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=hw(e,t);if(Array.isArray(a))i.push(...a);else{const c=Df(e[16]);l1(c[1],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class G0{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return l1(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Vt(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(u0(e,i),Sf(t,i))}this._attachedToViewContainer=!1}tw(this._lView[1],this._lView)}onDestroy(e){NP(this._lView[1],this._lView,null,e)}markForCheck(){nT(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){s1(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Jt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function xE(n,e){kf(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Jt(902,!1);this._appRef=e}}class g9 extends G0{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;s1(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class oT extends Rc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=jr(e);return new z0(t,this.ngModule)}}function JP(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class v9{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){const r=this.injector.get(e,E0,i);return r!==E0||t===E0?r:this.parentInjector.get(e,t,i)}}class z0 extends Fa{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function IM(n){return n.map(Hw).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return JP(this.componentDef.inputs)}get outputs(){return JP(this.componentDef.outputs)}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof Mc?r:null==r?void 0:r.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new v9(e,o):e,a=s.get(Gf,null);if(null===a)throw new Jt(407,!1);const c=s.get(hM,null),b=a.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",H=i?function Yz(n,e,t){return n.selectRootElement(e,t===go.ShadowDom)}(b,i,this.componentDef.encapsulation):c0(b,L,function m9(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(L)),G=this.componentDef.onPush?288:272,j=qM(0,null,null,1,0,null,null,null,null,null),J=n1(null,j,null,G,null,null,a,b,c,s,null);let ce,se;wy(J);try{const te=function b9(n,e,t,i,r,o){const s=t[1];t[22]=n;const c=Qg(s,22,2,"#host",null),b=c.mergedAttrs=e.hostAttrs;null!==b&&(a1(c,b,!0),null!==n&&(Fl(r,n,b),null!==c.classes&&p0(r,n,c.classes),null!==c.styles&&fw(r,n,c.styles)));const L=i.createRenderer(n,e),H=n1(t,FP(e),null,e.onPush?32:16,t[22],c,i,L,o||null,null,null);return s.firstCreatePass&&(wf(ud(c,t),s,e.type),UP(s,c),GP(c,t.length,1)),o1(t,H),t[22]=H}(H,this.componentDef,J,a,b);if(H)if(i)Fl(b,H,["ng-version",dM.full]);else{const{attrs:_e,classes:ge}=function xM(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!vl(r))break;r=o}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);_e&&Fl(b,H,_e),ge&&ge.length>0&&p0(b,H,ge.join(" "))}if(se=Ku(j,22),void 0!==t){const _e=se.projection=[];for(let ge=0;ge<this.ngContentSelectors.length;ge++){const Me=t[ge];_e.push(null!=Me?Array.from(Me):null)}}ce=function C9(n,e,t,i){const r=t[1],o=function e9(n,e,t){const i=Qo();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),zP(n,i,e,em(n,e,1,null),t),BP(n,i));const r=Af(e,n,i.directiveStart,i);Vs(r,e);const o=Da(i,e);return o&&Vs(o,e),r}(r,t,e);if(n[8]=t[8]=o,null!==i)for(const a of i)a(o,e);if(e.contentQueries){const a=Qo();e.contentQueries(1,o,a.directiveStart)}const s=Qo();return!r.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ml(s.index),VP(t[1],s,0,s.directiveStart,s.directiveEnd,e),WP(e,o)),o}(te,this.componentDef,J,[w9]),XM(j,J,null)}finally{Iy()}return new _9(this.componentType,ce,xd(se,J),J,se)}}class _9 extends class kw{}{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new g9(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const o=this._rootLView;rT(o[1],o,r,e,t),HP(o,this._tNode.index)}}get injector(){return new Qu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function w9(){const n=Qo();vg(nn()[1],n)}function Cn(n){let e=function qP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(sr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Jt(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=sT(n.inputs),s.declaredInputs=sT(n.declaredInputs),s.outputs=sT(n.outputs);const a=r.hostBindings;a&&x9(n,a);const c=r.viewQuery,b=r.contentQueries;if(c&&S9(n,c),b&&I9(n,b),Is(n.inputs,r.inputs),Is(n.declaredInputs,r.declaredInputs),Is(n.outputs,r.outputs),sr(r)&&r.data.animation){const L=n.data;L.animation=(L.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Cn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function A9(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=sd(r.hostAttrs,t=sd(t,r.hostAttrs))}}(i)}function sT(n){return n===Bu?{}:n===gr?[]:n}function S9(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function I9(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function x9(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}let c1=null;function Zf(){if(!c1){const n=Qr.Symbol;if(n&&n.iterator)c1=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(c1=i)}}}return c1}function j0(n){return!!aT(n)&&(Array.isArray(n)||!(n instanceof Map)&&Zf()in n)}function aT(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function pu(n,e,t){return n[e]=t}function va(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Kf(n,e,t,i){const r=va(n,e,t);return va(n,e+1,i)||r}function Zi(n,e,t,i){const r=nn();return va(r,aa(),e)&&(qn(),fu(Ao(),r,n,e,t,i)),Zi}function nm(n,e,t,i){return va(n,aa(),t)?e+Ii(t)+i:Ji}function im(n,e,t,i,r,o){const a=Kf(n,function vc(){return ji.lFrame.bindingIndex}(),t,r);return yc(2),a?e+Ii(t)+i+Ii(r)+o:Ji}function Ct(n,e,t,i,r,o,s,a){const c=nn(),b=qn(),L=n+22,H=b.firstCreatePass?function P9(n,e,t,i,r,o,s,a,c){const b=e.consts,L=Qg(e,n,4,s||null,ka(b,a));QM(e,t,L,ka(b,c)),vg(e,L);const H=L.tViews=qM(2,L,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,b);return null!==e.queries&&(e.queries.template(e,L),H.queries=e.queries.embeddedTView(L)),L}(L,b,c,e,t,i,r,o,s):b.data[L];Ll(H,!1);const G=c[11].createComment("");Ng(b,c,G,H),Vs(G,c),o1(c,c[L]=jP(G,c,G,H)),Vi(H)&&YM(b,c,H),null!=s&&JM(c,H,a)}function bl(n){return ou(function mc(){return ji.lFrame.contextLView}(),22+n)}function Ke(n,e,t){const i=nn();return va(i,aa(),e)&&_l(qn(),Ao(),i,n,e,i[11],t,!1),Ke}function lT(n,e,t,i,r){const s=r?"class":"style";rT(n,t,e.inputs[s],s,i)}function be(n,e,t,i){const r=nn(),o=qn(),s=22+n,a=r[11],c=r[s]=c0(a,e,function Xu(){return ji.lFrame.currentNamespace}()),b=o.firstCreatePass?function F9(n,e,t,i,r,o,s){const a=e.consts,b=Qg(e,n,2,r,ka(a,o));return QM(e,t,b,ka(a,s)),null!==b.attrs&&a1(b,b.attrs,!1),null!==b.mergedAttrs&&a1(b,b.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,b),b}(s,o,r,0,e,t,i):o.data[s];Ll(b,!0);const L=b.mergedAttrs;null!==L&&Fl(a,c,L);const H=b.classes;null!==H&&p0(a,c,H);const G=b.styles;return null!==G&&fw(a,c,G),64!=(64&b.flags)&&Ng(o,r,c,b),0===function gg(){return ji.lFrame.elementDepthCount}()&&Vs(c,r),function mf(){ji.lFrame.elementDepthCount++}(),Vi(b)&&(YM(o,r,b),OP(o,b,r)),null!==i&&JM(r,b),be}function Se(){let n=Qo();_y()?by():(n=n.parent,Ll(n,!1));const e=n;!function lC(){ji.lFrame.elementDepthCount--}();const t=qn();return t.firstCreatePass&&(vg(t,n),Bt(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function yC(n){return 0!=(16&n.flags)}(e)&&lT(t,e,nn(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Ol(n){return 0!=(32&n.flags)}(e)&&lT(t,e,nn(),e.stylesWithoutHost,!1),Se}function kn(n,e,t,i){return be(n,e,t,i),Se(),kn}function Rr(n,e,t){const i=nn(),r=qn(),o=n+22,s=r.firstCreatePass?function N9(n,e,t,i,r){const o=e.consts,s=ka(o,i),a=Qg(e,n,8,"ng-container",s);return null!==s&&a1(a,s,!0),QM(e,t,a,ka(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];Ll(s,!0);const a=i[o]=i[11].createComment("");return Ng(r,i,a,s),Vs(a,i),Vi(s)&&(YM(r,i,s),OP(r,s,i)),null!=t&&JM(i,s),Rr}function Dr(){let n=Qo();const e=qn();return _y()?by():(n=n.parent,Ll(n,!1)),e.firstCreatePass&&(vg(e,n),Bt(n)&&e.queries.elementEnd(n)),Dr}function ya(n,e,t){return Rr(n,e,t),Dr(),ya}function wr(){return nn()}function K0(n){return!!n&&"function"==typeof n.then}function lO(n){return!!n&&"function"==typeof n.subscribe}const cT=lO;function It(n,e,t,i){const r=nn(),o=qn(),s=Qo();return cO(o,r,r[11],s,n,e,0,i),It}function h1(n,e){const t=Qo(),i=nn(),r=qn();return cO(r,i,XP(Cy(r.data),t,i),t,n,e),h1}function cO(n,e,t,i,r,o,s,a){const c=Vi(i),L=n.firstCreatePass&&KP(n),H=e[8],G=ZP(e);let j=!0;if(3&i.type||a){const se=Da(i,e),te=a?a(se):se,_e=G.length,ge=a?Re=>a(Mr(Re[i.index])):i.index;let Me=null;if(!a&&c&&(Me=function $9(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[7],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==Me)(Me.__ngLastListenerFn__||Me).__ngNextListenerFn__=o,Me.__ngLastListenerFn__=o,j=!1;else{o=hO(i,e,H,o,!1);const Re=t.listen(te,r,o);G.push(o,Re),L&&L.push(r,ge,_e,_e+1)}}else o=hO(i,e,H,o,!1);const J=i.outputs;let ce;if(j&&null!==J&&(ce=J[r])){const se=ce.length;if(se)for(let te=0;te<se;te+=2){const $e=e[ce[te]][ce[te+1]].subscribe(o),Qe=G.length;G.push(o,$e),L&&L.push(r,i.index,Qe,-(Qe+1))}}}function uO(n,e,t,i){try{return!1!==t(i)}catch(r){return YP(n,r),!1}}function hO(n,e,t,i,r){return function o(s){if(s===Function)return i;nT(2&n.flags?fs(n.index,e):e);let c=uO(e,0,i,s),b=o.__ngNextListenerFn__;for(;b;)c=uO(e,0,b,s)&&c,b=b.__ngNextListenerFn__;return r&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function kt(n=1){return function Zx(n){return(ji.lFrame.contextLView=function xy(n,e){for(;n>0;)e=e[15],n--;return e}(n,ji.lFrame.contextLView))[8]}(n)}function B9(n,e){let t=null;const i=function CM(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?Bw(n,o,!0):SM(i,o))return r}else t=r}return t}function Ts(n){const e=nn()[16][6];if(!e.projection){const i=e.projection=nh(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?B9(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Ur(n,e=0,t){const i=nn(),r=qn(),o=Qg(r,22+n,16,null,t||null);null===o.projection&&(o.projection=e),by(),64!=(64&o.flags)&&function LE(n,e,t){dw(e[11],0,e,t,nw(n,t,e),aw(t.parent||e[6],t,e))}(r,i,o)}function ph(n,e,t){return uT(n,"",e,"",t),ph}function uT(n,e,t,i,r){const o=nn(),s=nm(o,e,t,i);return s!==Ji&&_l(qn(),Ao(),o,n,s,o[11],r,!1),uT}function bO(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?Na(o):Pc(o),c=!1;for(;0!==a&&(!1===c||s);){const L=n[a+1];W9(n[a],e)&&(c=!0,n[a+1]=i?B0(L):N0(L)),a=i?Na(L):Pc(L)}c&&(n[t+1]=i?N0(o):B0(o))}function W9(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ts(n,e)>=0}const Rs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function CO(n){return n.substring(Rs.key,Rs.keyEnd)}function wO(n,e){const t=Rs.textEnd;return t===e?-1:(e=Rs.keyEnd=function j9(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Rs.key=e,t),um(n,e,t))}function um(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function nl(n,e,t){return Oc(n,e,t,!1),nl}function Li(n,e){return Oc(n,e,null,!0),Li}function mu(n,e){for(let t=function G9(n){return function SO(n){Rs.key=0,Rs.keyEnd=0,Rs.value=0,Rs.valueEnd=0,Rs.textEnd=n.length}(n),wO(n,um(n,0,Rs.textEnd))}(e);t>=0;t=wO(e,t))ca(n,CO(e),!0)}function Oc(n,e,t,i){const r=nn(),o=qn(),s=yc(2);o.firstUpdatePass&&MO(o,n,s,i),e!==Ji&&va(r,s,e)&&RO(o,o.data[es()],r,r[11],n,r[s+1]=function i8(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=pr(Oa(n)))),n}(e,t),i,s)}function EO(n,e){return e>=n.expandoStartIndex}function MO(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[es()],s=EO(n,t);kO(o,i)&&null===e&&!s&&(e=!1),e=function J9(n,e,t,i){const r=Cy(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=X0(t=hT(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=hT(r,n,e,t,i),null===o){let c=function q9(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Pc(i))return n[Na(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=hT(null,n,e,c[1],i),c=X0(c,e.attrs,i),function Q9(n,e,t,i){n[Na(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function e8(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=X0(i,n[o].hostAttrs,t);return X0(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function H9(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Na(s),c=Pc(s);n[i]=t;let L,b=!1;if(Array.isArray(t)){const H=t;L=H[1],(null===L||ts(H,L)>0)&&(b=!0)}else L=t;if(r)if(0!==c){const G=Na(n[a+1]);n[i+1]=Xg(G,a),0!==G&&(n[G+1]=$0(n[G+1],i)),n[a+1]=function UM(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Xg(a,0),0!==a&&(n[a+1]=$0(n[a+1],i)),a=i;else n[i+1]=Xg(c,0),0===a?a=i:n[c+1]=$0(n[c+1],i),c=i;b&&(n[i+1]=N0(n[i+1])),bO(n,L,i,!0),bO(n,L,i,!1),function V9(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&ts(o,e)>=0&&(t[i+1]=B0(t[i+1]))}(e,L,n,i,o),s=Xg(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function hT(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=X0(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function X0(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ca(n,s,!!t||e[++o]))}return void 0===n?null:n}function RO(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,b=c[a+1];d1(function Qw(n){return 1==(1&n)}(b)?DO(c,e,t,r,Pc(b),s):void 0)||(d1(o)||function Yg(n){return 2==(2&n)}(b)&&(o=DO(c,null,t,r,a,s)),function OE(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:ps.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ps.Important),n.setStyle(t,i,r,o))}}(i,s,pf(es(),t),r,o))}function DO(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],b=Array.isArray(c),L=b?c[1]:c,H=null===L;let G=t[r+1];G===Ji&&(G=H?gr:void 0);let j=H?Ag(G,i):L===i?G:void 0;if(b&&!d1(j)&&(j=Ag(c,i)),d1(j)&&(a=j,s))return a;const J=n[r+1];r=s?Na(J):Pc(J)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=Ag(c,i))}return a}function d1(n){return void 0!==n}function kO(n,e){return 0!=(n.flags&(e?16:32))}function He(n,e=""){const t=nn(),i=qn(),r=n+22,o=i.firstCreatePass?Qg(i,r,1,e,null):i.data[r],s=t[r]=function a0(n,e){return n.createText(e)}(t[11],e);Ng(i,t,s,o),Ll(o,!1)}function Jr(n){return Ar("",n,""),Jr}function Ar(n,e,t){const i=nn(),r=nm(i,n,e,t);return r!==Ji&&fh(i,es(),r),Ar}function f1(n,e,t,i,r){const o=nn(),s=im(o,n,e,t,i,r);return s!==Ji&&fh(o,es(),s),f1}function dT(n,e,t){!function Fc(n,e,t,i){const r=qn(),o=yc(2);r.firstUpdatePass&&MO(r,null,o,i);const s=nn();if(t!==Ji&&va(s,o,t)){const a=r.data[es()];if(kO(a,i)&&!EO(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=Jo(c,t||"")),lT(r,a,s,t,i)}else!function n8(n,e,t,i,r,o,s,a){r===Ji&&(r=gr);let c=0,b=0,L=0<r.length?r[0]:null,H=0<o.length?o[0]:null;for(;null!==L||null!==H;){const G=c<r.length?r[c+1]:void 0,j=b<o.length?o[b+1]:void 0;let ce,J=null;L===H?(c+=2,b+=2,G!==j&&(J=H,ce=j)):null===H||null!==L&&L<H?(c+=2,J=L):(b+=2,J=H,ce=j),null!==J&&RO(n,e,t,i,J,ce,s,a),L=c<r.length?r[c]:null,H=b<o.length?o[b]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function t8(n,e,t){if(null==t||""===t)return gr;const i=[],r=Oa(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}(ca,mu,nm(nn(),n,e,t),!0)}function Nc(n,e,t){const i=nn();return va(i,aa(),e)&&_l(qn(),Ao(),i,n,e,i[11],t,!0),Nc}function p1(n,e,t){const i=nn();if(va(i,aa(),e)){const o=qn(),s=Ao();_l(o,s,i,n,e,XP(Cy(o.data),s,i),t,!0)}return p1}const dm="en-US";let JO=dm;function gT(n,e,t,i,r){if(n=bi(n),Array.isArray(n))for(let o=0;o<n.length;o++)gT(n[o],e,t,i,r);else{const o=qn(),s=nn();let a=hh(n)?n:bi(n.provide),c=Rw(n);const b=Qo(),L=1048575&b.providerIndexes,H=b.directiveStart,G=b.providerIndexes>>20;if(hh(n)||!n.multi){const j=new cu(c,r,Te),J=vT(a,e,r?L:L+G,H);-1===J?(wf(ud(b,s),o,a),mT(o,n,e.length),e.push(a),b.directiveStart++,b.directiveEnd++,r&&(b.providerIndexes+=1048576),t.push(j),s.push(j)):(t[J]=j,s[J]=j)}else{const j=vT(a,e,L+G,H),J=vT(a,e,L,L+G),ce=j>=0&&t[j],se=J>=0&&t[J];if(r&&!se||!r&&!ce){wf(ud(b,s),o,a);const te=function b6(n,e,t,i,r){const o=new cu(n,t,Te);return o.multi=[],o.index=e,o.componentProviders=0,wF(o,r,i&&!t),o}(r?_6:y6,t.length,r,i,c);!r&&se&&(t[J].providerFactory=te),mT(o,n,e.length,0),e.push(a),b.directiveStart++,b.directiveEnd++,r&&(b.providerIndexes+=1048576),t.push(te),s.push(te)}else mT(o,n,j>-1?j:J,wF(t[r?J:j],c,!r&&i));!r&&i&&se&&t[J].componentProviders++}}}function mT(n,e,t,i){const r=hh(e),o=function rM(n){return!!n.useClass}(e);if(r||o){const c=(o?bi(e.useClass):e).prototype.ngOnDestroy;if(c){const b=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const L=b.indexOf(t);-1===L?b.push(t,[i,c]):b[L+1].push(i,c)}else b.push(t,c)}}}function wF(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function vT(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function y6(n,e,t,i){return yT(this.multi,[])}function _6(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Af(t,t[1],this.providerFactory.index,i);o=a.slice(0,s),yT(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],yT(r,o);return o}function yT(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function yi(n,e=[]){return t=>{t.providersResolver=(i,r)=>function v6(n,e,t){const i=qn();if(i.firstCreatePass){const r=sr(n);gT(t,i.data,i.blueprint,r,!0),gT(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Yf{}class AF{}class SF extends Yf{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oT(this);const i=Ys(e);this._bootstrapComponents=kc(i.bootstrap),this._r3Injector=jw(e,t,[{provide:Yf,useValue:this},{provide:Rc,useValue:this.componentFactoryResolver}],pr(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class _T extends AF{constructor(e){super(),this.moduleType=e}create(e){return new SF(this.moduleType,e)}}class w6 extends Yf{constructor(e,t,i){super(),this.componentFactoryResolver=new oT(this),this.instance=null;const r=new Uf([...e,{provide:Yf,useValue:this},{provide:Rc,useValue:this.componentFactoryResolver}],t||zg(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function _1(n,e,t=null){return new w6(n,e,t).injector}let A6=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=S0(0,t.type),r=i.length>0?_1([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,r)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=bn({token:n,providedIn:"environment",factory:()=>new n(At(Mc))}),n})();function IF(n){n.getStandaloneInjector=e=>e.get(A6).getOrCreateStandaloneInjector(n)}function Jf(n,e,t,i){return kF(nn(),qs(),n,e,t,i)}function Dd(n,e,t,i,r){return LF(nn(),qs(),n,e,t,i,r)}function t_(n,e){const t=n[e];return t===Ji?void 0:t}function kF(n,e,t,i,r,o){const s=e+t;return va(n,s,r)?pu(n,s+1,o?i.call(o,r):i(r)):t_(n,s+1)}function LF(n,e,t,i,r,o,s){const a=e+t;return Kf(n,a,r,o)?pu(n,a+2,s?i.call(s,r,o):i(r,o)):t_(n,a+2)}function fm(n,e){const t=qn();let i;const r=n+22;t.firstCreatePass?(i=function H6(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=ru(i.type)),s=Co(Te);try{const a=Cf(!1),c=o();return Cf(a),function O9(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,nn(),r,c),c}finally{Co(s)}}function n_(n,e,t,i){const r=n+22,o=nn(),s=ou(o,r);return i_(o,r)?LF(o,qs(),e,s.transform,t,i,s):s.transform(t,i)}function i_(n,e){return n[1].data[e].pure}function CT(n){return e=>{setTimeout(n,void 0,e)}}const ni=class G6 extends F{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){var r,o,s;let a=e,c=t||(()=>null),b=i;if(e&&"object"==typeof e){const H=e;a=null===(r=H.next)||void 0===r?void 0:r.bind(H),c=null===(o=H.error)||void 0===o?void 0:o.bind(H),b=null===(s=H.complete)||void 0===s?void 0:s.bind(H)}this.__isAsync&&(c=CT(c),a&&(a=CT(a)),b&&(b=CT(b)));const L=super.subscribe({next:a,error:c,complete:b});return e instanceof ee&&e.add(L),L}};function z6(){return this._results[Zf()]()}class vu{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Zf(),i=vu.prototype;i[t]||(i[t]=z6)}get changes(){return this._changes||(this._changes=new ni)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=Pa(e);(this._changesDetected=!function uu(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let uo=(()=>{class n{}return n.__NG_ELEMENT_ID__=K6,n})();const j6=uo,Z6=class extends j6{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tViews,r=n1(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(i)),XM(i,r,e),new G0(r)}};function K6(){return b1(Qo(),nn())}function b1(n,e){return 4&n.type?new Z6(e,n,xd(n,e)):null}let Fo=(()=>{class n{}return n.__NG_ELEMENT_ID__=X6,n})();function X6(){return HF(Qo(),nn())}const Y6=Fo,$F=class extends Y6{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return xd(this._hostTNode,this._hostLView)}get injector(){return new Qu(this._hostTNode,this._hostLView)}get parentInjector(){const e=yg(this._hostTNode,this._hostLView);if(CC(e)){const t=ld(e,this._hostLView),i=ad(e);return new Qu(t[1].data[i+8],t)}return new Qu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=BF(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,r),s}createComponent(e,t,i,r,o){const s=e&&!function th(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const H=t||{};a=H.index,i=H.injector,r=H.projectableNodes,o=H.environmentInjector||H.ngModuleRef}const c=s?e:new z0(jr(e)),b=i||this.parentInjector;if(!o&&null==c.ngModule){const G=(s?b:this.parentInjector).get(Mc,null);G&&(o=G)}const L=c.create(b,r,void 0,o);return this.insert(L.hostView,a),L}insert(e,t){const i=e._lView,r=i[1];if(function pg(n){return Vt(n[3])}(i)){const L=this.indexOf(e);if(-1!==L)this.detach(L);else{const H=i[3],G=new $F(H,H[6],H[3]);G.detach(G.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function ME(n,e,t,i){const r=10+i,o=t.length;i>0&&(t[r-1][4]=e),i<o-10?(e[4]=t[r],Vy(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function TE(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(r,i,s,o);const a=Bg(o,s),c=i[11],b=wd(c,s[7]);return null!==b&&function IE(n,e,t,i,r,o){i[0]=r,i[6]=e,kf(n,i,t,1,r,o)}(r,s[6],c,i,b,a),e.attachToViewContainerRef(),Vy(wT(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=BF(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=u0(this._lContainer,t);i&&(Sf(wT(this._lContainer),t),tw(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=u0(this._lContainer,t);return i&&null!=Sf(wT(this._lContainer),t)?new G0(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function BF(n){return n[8]}function wT(n){return n[8]||(n[8]=[])}function HF(n,e){let t;const i=e[n.index];if(Vt(i))t=i;else{let r;if(8&n.type)r=Mr(i);else{const o=e[11];r=o.createComment("");const s=Da(n,e);ch(o,wd(o,s),r,function sw(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=jP(i,e,r,n),o1(e,t)}return new $F(t,n,e)}class AT{constructor(e){this.queryList=e,this.matches=null}clone(){return new AT(this.queryList)}setDirty(){this.queryList.setDirty()}}class ST{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new ST(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==zF(e,t).matches&&this.queries[t].setDirty()}}class VF{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class IT{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new IT(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class xT{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new xT(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,Q6(t,o)),this.matchTNodeWithReadOption(e,t,qu(t,e,o,!1,!1))}else i===uo?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,qu(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ci||r===Fo||r===uo&&4&t.type)this.addMatch(t.index,-2);else{const o=qu(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Q6(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function tj(n,e,t,i){return-1===t?function ej(n,e){return 11&n.type?xd(n,e):4&n.type?b1(n,e):null}(e,n):-2===t?function nj(n,e,t){return t===ci?xd(e,n):t===uo?b1(e,n):t===Fo?HF(e,n):void 0}(n,e,i):Af(n,n[1],t,e)}function WF(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const b=s[c];a.push(b<0?null:tj(e,o[b],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function ET(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=WF(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const b=o[a+1],L=e[-c];for(let H=10;H<L.length;H++){const G=L[H];G[17]===G[3]&&ET(G[1],G,b,i)}if(null!==L[9]){const H=L[9];for(let G=0;G<H.length;G++){const j=H[G];ET(j[1],j,b,i)}}}}}return i}function Ln(n){const e=nn(),t=qn(),i=dC();La(i+1);const r=zF(t,i);if(n.dirty&&function gf(n){return 4==(4&n[2])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?ET(t,e,i,[]):WF(t,e,r,i);n.reset(o,cM),n.notifyOnChanges()}return!0}return!1}function Pi(n,e,t){const i=qn();i.firstCreatePass&&(GF(i,new VF(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),UF(i,nn(),e)}function kr(n,e,t,i){const r=qn();if(r.firstCreatePass){const o=Qo();GF(r,new VF(e,t,i),o.index),function rj(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}UF(r,nn(),t)}function Pn(){return function ij(n,e){return n[19].queries[e].queryList}(nn(),dC())}function UF(n,e,t){const i=new vu(4==(4&t));NP(n,e,i,i.destroy),null===e[19]&&(e[19]=new ST),e[19].queries.push(new AT(i))}function GF(n,e,t){null===n.queries&&(n.queries=new IT),n.queries.track(new xT(e,t))}function zF(n,e){return n.queries.getByIndex(e)}function MT(n,e){return b1(n,e)}function w1(...n){}const A1=new rn("Application Initializer");let S1=(()=>{class n{constructor(t){this.appInits=t,this.resolve=w1,this.reject=w1,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(K0(o))t.push(o);else if(cT(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(At(A1,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mm=new rn("AppId",{providedIn:"root",factory:function uN(){return`${LT()}${LT()}${LT()}`}});function LT(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hN=new rn("Platform Initializer"),vm=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),dN=new rn("appBootstrapListener"),No=new rn("AnimationModuleType");let Sj=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const yu=new rn("LocaleId",{providedIn:"root",factory:()=>Kr(yu,Ci.Optional|Ci.SkipSelf)||function Ij(){return"undefined"!=typeof $localize&&$localize.locale||dm}()});class Ej{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let PT=(()=>{class n{compileModuleSync(t){return new _T(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=kc(Ys(t).declarations).reduce((s,a)=>{const c=jr(a);return c&&s.push(new z0(c)),s},[]);return new Ej(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rj=(()=>Promise.resolve(0))();function OT(n){"undefined"==typeof Zone?Rj.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ei{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ni(!1),this.onMicrotaskEmpty=new ni(!1),this.onStable=new ni(!1),this.onError=new ni(!1),"undefined"==typeof Zone)throw new Jt(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Dj(){let n=Qr.requestAnimationFrame,e=Qr.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Pj(n){const e=()=>{!function Lj(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Qr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,NT(n),n.isCheckStableRunning=!0,FT(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),NT(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{try{return gN(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),mN(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return gN(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),mN(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,NT(n),FT(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ei.isInAngularZone())throw new Jt(909,!1)}static assertNotInAngularZone(){if(Ei.isInAngularZone())throw new Jt(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,kj,w1,w1);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const kj={};function FT(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function NT(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function gN(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mN(n){n._nesting--,FT(n)}class Oj{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ni,this.onMicrotaskEmpty=new ni,this.onStable=new ni,this.onError=new ni}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const vN=new rn(""),I1=new rn("");let o_,$T=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,o_||(function Fj(n){o_=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ei.assertNotInAngularZone(),OT(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())OT(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(At(Ei),At(BT),At(I1))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})(),BT=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){var r;return null!==(r=null==o_?void 0:o_.findTestabilityInTree(this,t,i))&&void 0!==r?r:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),_u=null;const yN=new rn("AllowMultipleToken"),HT=new rn("PlatformDestroyListeners");class _N{constructor(e,t){this.name=e,this.token=t}}function CN(n,e,t=[]){const i=`Platform: ${e}`,r=new rn(i);return(o=[])=>{let s=VT();if(!s||s.injector.get(yN,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function Bj(n){if(_u&&!_u.get(yN,!1))throw new Jt(400,!1);_u=n;const e=n.get(AN);(function bN(n){const e=n.get(hN,null);e&&e.forEach(t=>t())})(n)}(function wN(n=[],e){return vo.create({name:e,providers:[{provide:x0,useValue:"platform"},{provide:HT,useValue:new Set([()=>_u=null])},...n]})}(a,i))}return function Vj(n){const e=VT();if(!e)throw new Jt(401,!1);return e}()}}function VT(){var n;return null!==(n=null==_u?void 0:_u.get(AN))&&void 0!==n?n:null}let AN=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function IN(n,e){let t;return t="noop"===n?new Oj:("zone.js"===n?void 0:n)||new Ei(e),t}(null==i?void 0:i.ngZone,function SN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:Ei,useValue:r}];return r.run(()=>{const s=vo.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),c=a.injector.get(Dc,null);if(!c)throw new Jt(402,!1);return r.runOutsideAngular(()=>{const b=r.onError.subscribe({next:L=>{c.handleError(L)}});a.onDestroy(()=>{x1(this._modules,a),b.unsubscribe()})}),function xN(n,e,t){try{const i=t();return K0(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(c,r,()=>{const b=a.injector.get(S1);return b.runInitializers(),b.donePromise.then(()=>(function qO(n){xs(n,"Expected localeId to be defined"),"string"==typeof n&&(JO=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(yu,dm)||dm),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,i=[]){const r=EN({},i);return function Nj(n,e,t){const i=new _T(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(ym);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Jt(403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Jt(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(HT,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(At(vo))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function EN(n,e){return Array.isArray(e)?e.reduce(EN,n):Object.assign(Object.assign({},n),e)}let ym=(()=>{class n{constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new K(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new K(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Ei.assertNotInAngularZone(),OT(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{Ei.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),b.unsubscribe()}});this.isStable=po(o,s.pipe(Wo()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof Fa;if(!this._injector.get(S1).done)throw!r&&function Xh(n){const e=jr(n)||Es(n)||Ns(n);return null!==e&&e.standalone}(t),new Jt(405,false);let s;s=r?t:this._injector.get(Rc).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function $j(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Yf),b=s.create(vo.NULL,[],i||s.selector,a),L=b.location.nativeElement,H=b.injector.get(vN,null);return null==H||H.registerApplication(L),b.onDestroy(()=>{this.detachView(b.hostView),x1(this.components,b),null==H||H.unregisterApplication(L)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Jt(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;x1(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(dN,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>x1(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Jt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(At(Ei),At(Mc),At(Dc))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function x1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Hr=(()=>{class n{}return n.__NG_ELEMENT_ID__=Gj,n})();function Gj(n){return function zj(n,e,t){if(Xn(n)&&!t){const i=fs(n.index,e);return new G0(i,i)}return 47&n.type?new G0(e[16],e):null}(Qo(),nn(),16==(16&n))}class PN{constructor(){}supports(e){return j0(e)}create(e){return new Jj(e)}}const Yj=(n,e)=>e;class Jj{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Yj}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<FN(i,r,o)?t:i,a=FN(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const b=a-r,L=c-r;if(b!=L){for(let G=0;G<b;G++){const j=G<o.length?o[G]:o[G]=0,J=j+G;L<=J&&J<b&&(o[G]=j+1)}o[s.previousIndex]=L-b}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!j0(e))throw new Jt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function D9(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Zf()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new qj(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ON),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ON),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class qj{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qj{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class ON{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Qj,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FN(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class NN{constructor(){}supports(e){return e instanceof Map||aT(e)}create(){return new e7}}class e7{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||aT(e)))throw new Jt(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new t7(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class t7{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $N(){return new mh([new PN])}let mh=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||$N()),deps:[[n,new ih,new $l]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Jt(901,!1)}}return n.\u0275prov=bn({token:n,providedIn:"root",factory:$N}),n})();function BN(){return new s_([new NN])}let s_=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||BN()),deps:[[n,new ih,new $l]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Jt(901,!1)}}return n.\u0275prov=bn({token:n,providedIn:"root",factory:BN}),n})();const o7=CN(null,"core",[]);let s7=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(At(ym))},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({}),n})();function vh(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let T1=null;function bu(){return T1}const Oi=new rn("DocumentToken");let jT=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:function(){return function u7(){return At(HN)}()},providedIn:"platform"}),n})();const h7=new rn("Location Initialized");let HN=(()=>{class n extends jT{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bu().getBaseHref(this._doc)}onPopState(t){const i=bu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=bu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){VN()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){VN()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(At(Oi))},n.\u0275prov=bn({token:n,factory:function(){return function d7(){return new HN(At(Oi))}()},providedIn:"platform"}),n})();function VN(){return!!window.history.pushState}function ZT(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function WN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function yh(n){return n&&"?"!==n[0]?"?"+n:n}let Qf=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:function(){return Kr(GN)},providedIn:"root"}),n})();const UN=new rn("appBaseHref");let GN=(()=>{class n extends Qf{constructor(t,i){var r,o,s;super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=null!==(s=null!==(r=null!=i?i:this._platformLocation.getBaseHrefFromDOM())&&void 0!==r?r:null===(o=Kr(Oi).location)||void 0===o?void 0:o.origin)&&void 0!==s?s:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ZT(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+yh(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+yh(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+yh(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(At(jT),At(UN,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f7=(()=>{class n extends Qf{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=ZT(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+yh(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+yh(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(At(jT),At(UN,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})(),a_=(()=>{class n{constructor(t){this._subject=new ni,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=WN(zN(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){var t;null===(t=this._urlChangeSubscription)||void 0===t||t.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+yh(i))}normalize(t){return n.stripTrailingSlash(function g7(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,zN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yh(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yh(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._locationStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{var i;const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(null===(i=this._urlChangeSubscription)||void 0===i||i.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=yh,n.joinWithSlash=ZT,n.stripTrailingSlash=WN,n.\u0275fac=function(t){return new(t||n)(At(Qf))},n.\u0275prov=bn({token:n,factory:function(){return function p7(){return new a_(At(Qf))}()},providedIn:"root"}),n})();function zN(n){return n.replace(/\/index.html$/,"")}function e$(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}let u_=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(j0(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${pr(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(Te(mh),Te(s_),Te(ci),Te(Gl))},n.\u0275dir=Gt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Q7{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _a=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Q7(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),i$(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{i$(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(Te(Fo),Te(uo),Te(mh))},n.\u0275dir=Gt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function i$(n,e){n.context.$implicit=e.item}let ks=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new tZ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){r$("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){r$("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(Te(Fo),Te(uo))},n.\u0275dir=Gt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class tZ{constructor(){this.$implicit=null,this.ngIf=null}}function r$(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${pr(e)}'.`)}class iR{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let kd=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Gt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),_m=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new iR(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(Te(Fo),Te(uo),Te(kd,9))},n.\u0275dir=Gt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),rR=(()=>{class n{constructor(t,i,r){r._addDefault(new iR(t,i))}}return n.\u0275fac=function(t){return new(t||n)(Te(Fo),Te(uo),Te(kd,9))},n.\u0275dir=Gt({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),oR=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(Te(Fo))},n.\u0275dir=Gt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[lo]}),n})();class rZ{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class oZ{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const sZ=new oZ,aZ=new rZ;let s$=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(K0(t))return sZ;if(lO(t))return aZ;throw function Hc(n,e){return new Jt(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(Te(Hr,16))},n.\u0275pipe=Fs({name:"async",type:n,pure:!1,standalone:!0}),n})(),Vc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({}),n})();const l$="browser";let EZ=(()=>{class n{}return n.\u0275prov=bn({token:n,providedIn:"root",factory:()=>new MZ(At(Oi),window)}),n})();class MZ{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function TZ(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=u$(this.window.history)||u$(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function u$(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class h${}class uR extends class nK extends class c7{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function l7(n){T1||(T1=n)}(new uR)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function iK(){return d_=d_||document.querySelector("base"),d_?d_.getAttribute("href"):null}();return null==t?null:function rK(n){V1=V1||document.createElement("a"),V1.setAttribute("href",n);const e=V1.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){d_=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return e$(document.cookie,e)}}let V1,d_=null;const m$=new rn("TRANSITION_ID"),sK=[{provide:A1,useFactory:function oK(n,e,t){return()=>{t.get(S1).donePromise.then(()=>{const i=bu(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[m$,Oi,vo],multi:!0}];let lK=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();const W1=new rn("EventManagerPlugins");let U1=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(At(W1),At(Ei))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();class v${constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=bu().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let y$=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})(),f_=(()=>{class n extends y${constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(_$),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(_$))}}return n.\u0275fac=function(t){return new(t||n)(At(Oi))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();function _$(n){bu().remove(n)}const hR={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dR=/%COMP%/g;function G1(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?G1(n,r,t):(r=r.replace(dR,n),t.push(r))}return t}function w$(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let z1=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new fR(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case go.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new pK(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case go.ShadowDom:return new gK(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=G1(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(At(U1),At(f_),At(mm))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();class fR{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(hR[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(S$(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(S$(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=hR[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=hR[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ps.DashCase|ps.Important)?e.style.setProperty(t,i,r&ps.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ps.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,w$(i)):this.eventManager.addEventListener(e,t,w$(i))}}function S$(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class pK extends fR{constructor(e,t,i,r){super(e),this.component=i;const o=G1(r+"-"+i.id,i.styles,[]);t.addStyles(o),this.contentAttr=function hK(n){return"_ngcontent-%COMP%".replace(dR,n)}(r+"-"+i.id),this.hostAttr=function dK(n){return"_nghost-%COMP%".replace(dR,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class gK extends fR{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=G1(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let mK=(()=>{class n extends v${constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(At(Oi))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();const I$=["alt","control","meta","shift"],vK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let _K=(()=>{class n extends v${constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bu().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),I$.forEach(b=>{const L=i.indexOf(b);L>-1&&(i.splice(L,1),s+=b+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=vK[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),I$.forEach(s=>{s!==r&&(0,yK[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(At(Oi))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();const AK=CN(o7,"browser",[{provide:vm,useValue:l$},{provide:hN,useValue:function bK(){uR.makeCurrent()},multi:!0},{provide:Oi,useFactory:function wK(){return function BE(n){m0=n}(document),document},deps:[]}]),M$=new rn(""),T$=[{provide:I1,useClass:class aK{addToWindow(e){Qr.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Qr.getAllAngularTestabilities=()=>e.getAllTestabilities(),Qr.getAllAngularRootElements=()=>e.getAllRootElements(),Qr.frameworkStabilizers||(Qr.frameworkStabilizers=[]),Qr.frameworkStabilizers.push(i=>{const r=Qr.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?bu().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}},deps:[]},{provide:vN,useClass:$T,deps:[Ei,BT,I1]},{provide:$T,useClass:$T,deps:[Ei,BT,I1]}],R$=[{provide:x0,useValue:"root"},{provide:Dc,useFactory:function CK(){return new Dc},deps:[]},{provide:W1,useClass:mK,multi:!0,deps:[Oi,Ei,vm]},{provide:W1,useClass:_K,multi:!0,deps:[Oi]},{provide:z1,useClass:z1,deps:[U1,f_,mm]},{provide:Gf,useExisting:z1},{provide:y$,useExisting:f_},{provide:f_,useClass:f_,deps:[Oi]},{provide:U1,useClass:U1,deps:[W1,Ei]},{provide:h$,useClass:lK,deps:[]},[]];let D$=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:mm,useValue:t.appId},{provide:m$,useExisting:mm},sK]}}}return n.\u0275fac=function(t){return new(t||n)(At(M$,12))},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({providers:[...R$,...T$],imports:[Vc,s7]}),n})(),k$=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(At(Oi))},n.\u0275prov=bn({token:n,factory:function(t){let i=null;return i=t?new t:function IK(){return new k$(At(Oi))}(),i},providedIn:"root"}),n})();"undefined"!=typeof window&&window;let j1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:function(t){let i=null;return i=t?new(t||n):At(O$),i},providedIn:"root"}),n})(),O$=(()=>{class n extends j1{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case ir.NONE:return i;case ir.HTML:return Wl(i,"HTML")?Oa(i):Sw(this._doc,String(i)).toString();case ir.STYLE:return Wl(i,"Style")?Oa(i):i;case ir.SCRIPT:if(Wl(i,"Script"))return Oa(i);throw new Error("unsafe value used in a script context");case ir.URL:return Wl(i,"URL")?Oa(i):Pf(String(i));case ir.RESOURCE_URL:if(Wl(i,"ResourceURL"))return Oa(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function jE(n){return new HE(n)}(t)}bypassSecurityTrustStyle(t){return function ZE(n){return new VE(n)}(t)}bypassSecurityTrustScript(t){return function KE(n){return new WE(n)}(t)}bypassSecurityTrustUrl(t){return function Vg(n){return new UE(n)}(t)}bypassSecurityTrustResourceUrl(t){return function XE(n){return new GE(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(At(Oi))},n.\u0275prov=bn({token:n,factory:function(t){let i=null;return i=t?new t:function kK(n){return new O$(n.get(Oi))}(At(vo)),i},providedIn:"root"}),n})();function ai(...n){return fr(n,pi(n))}class rl extends F{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const Z1=Z(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:LK}=Array,{getPrototypeOf:PK,prototype:OK,keys:FK}=Object;function F$(n){if(1===n.length){const e=n[0];if(LK(e))return{args:e,keys:null};if(function NK(n){return n&&"object"==typeof n&&PK(n)===OK}(e)){const t=FK(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:$K}=Array;function mR(n){return he(e=>function BK(n,e){return $K(e)?n(...e):n(e)}(n,e))}function N$(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function vR(...n){const e=pi(n),t=Mi(n),{args:i,keys:r}=F$(n);if(0===i.length)return fr([],e);const o=new K(function HK(n,e,t=O){return i=>{$$(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)$$(e,()=>{const b=fr(n[c],e);let L=!1;b.subscribe(ne(i,H=>{o[c]=H,L||(L=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>N$(r,s):O));return t?o.pipe(mR(t)):o}function $$(n,e,t){n?nt(t,n,e):e()}function K1(...n){return function VK(){return gn(1)}()(fr(n,pi(n)))}function p_(n){return new K(e=>{Vr(n()).subscribe(e)})}function Wc(n,e){const t=ae(n)?n:()=>n,i=r=>r.error(t());return new K(e?r=>e.schedule(i,0,r):i)}function yR(){return W((n,e)=>{let t=null;n._refCount++;const i=ne(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class _R extends K{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Y(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ee;const t=this.getSubject();e.add(this.source.subscribe(ne(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ee.EMPTY)}return e}refCount(){return yR()(this)}}function ba(n,e){return W((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(ne(i,c=>{null==r||r.unsubscribe();let b=0;const L=o++;Vr(n(c,L)).subscribe(r=ne(i,H=>i.next(e?e(c,H,L,b++):H),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Eo(n){return n<=0?()=>An:W((e,t)=>{let i=0;e.subscribe(ne(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Us(...n){const e=pi(n);return W((t,i)=>{(e?K1(n,t,e):K1(n,t)).subscribe(i)})}function _o(n,e){return W((t,i)=>{let r=0;t.subscribe(ne(i,o=>n.call(e,o,r++)&&i.next(o)))})}function X1(n){return W((e,t)=>{let i=!1;e.subscribe(ne(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function B$(n=WK){return W((e,t)=>{let i=!1;e.subscribe(ne(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function WK(){return new Z1}function Pd(n,e){const t=arguments.length>=2;return i=>i.pipe(n?_o((r,o)=>n(r,o,i)):O,Eo(1),t?X1(e):B$(()=>new Z1))}function Od(n,e){return ae(e)?wt(n,e,1):wt(n,1)}function Mo(n,e,t){const i=ae(n)||e||t?{next:n,error:e,complete:t}:n;return i?W((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(ne(o,c=>{var b;null===(b=i.next)||void 0===b||b.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var b;a=!1,null===(b=i.error)||void 0===b||b.call(i,c),o.error(c)},()=>{var c,b;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(b=i.finalize)||void 0===b||b.call(i)}))}):O}function Cu(n){return W((e,t)=>{let o,i=null,r=!1;i=e.subscribe(ne(t,void 0,void 0,s=>{o=Vr(n(s,Cu(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function UK(n,e,t,i,r){return(o,s)=>{let a=t,c=e,b=0;o.subscribe(ne(s,L=>{const H=b++;c=a?n(c,L,H):(a=!0,L),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function H$(n,e){return W(UK(n,e,arguments.length>=2,!0))}function bR(n){return n<=0?()=>An:W((e,t)=>{let i=[];e.subscribe(ne(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function V$(n,e){const t=arguments.length>=2;return i=>i.pipe(n?_o((r,o)=>n(r,o,i)):O,bR(1),t?X1(e):B$(()=>new Z1))}function W$(n,e=!1){return W((t,i)=>{let r=0;t.subscribe(ne(i,o=>{const s=n(o,r++);(s||e)&&i.next(o),!s&&i.complete()}))})}function Y1(n){return W((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const yr="primary",g_=Symbol("RouteTitle");class zK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function bm(n){return new zK(n)}function jK(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function wu(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!U$(n[r],e[r]))return!1;return!0}function U$(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function G$(n){return Array.prototype.concat.apply([],n)}function z$(n){return n.length>0?n[n.length-1]:null}function na(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Fd(n){return cT(n)?n:K0(n)?fr(Promise.resolve(n)):ai(n)}const XK={exact:function K$(n,e,t){if(!tp(n.segments,e.segments)||!J1(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!K$(n.children[i],e.children[i],t))return!1;return!0},subset:X$},j$={exact:function YK(n,e){return wu(n,e)},subset:function JK(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>U$(n[t],e[t]))},ignored:()=>!0};function Z$(n,e,t){return XK[t.paths](n.root,e.root,t.matrixParams)&&j$[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function X$(n,e,t){return Y$(n,e,e.segments,t)}function Y$(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!tp(r,t)||e.hasChildren()||!J1(r,t,i))}if(n.segments.length===t.length){if(!tp(n.segments,t)||!J1(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!X$(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(tp(n.segments,r)&&J1(n.segments,r,i)&&n.children[yr])&&Y$(n.children[yr],e,o,i)}}function J1(n,e,t){return e.every((i,r)=>j$[t](n[r].parameters,i.parameters))}class ep{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bm(this.queryParams)),this._queryParamMap}toString(){return eX.serialize(this)}}class Sr{constructor(e,t){this.segments=e,this.children=t,this.parent=null,na(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return q1(this)}}class m_{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=bm(this.parameters)),this._parameterMap}toString(){return e3(this)}}function tp(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let J$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:function(){return new wR},providedIn:"root"}),n})();class wR{parse(e){const t=new cX(e);return new ep(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${v_(e.root,!0)}`,i=function iX(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Q1(t)}=${Q1(r)}`).join("&"):`${Q1(t)}=${Q1(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function tX(n){return encodeURI(n)}(e.fragment)}`:""}`}}const eX=new wR;function q1(n){return n.segments.map(e=>e3(e)).join("/")}function v_(n,e){if(!n.hasChildren())return q1(n);if(e){const t=n.children[yr]?v_(n.children[yr],!1):"",i=[];return na(n.children,(r,o)=>{o!==yr&&i.push(`${o}:${v_(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function QK(n,e){let t=[];return na(n.children,(i,r)=>{r===yr&&(t=t.concat(e(i,r)))}),na(n.children,(i,r)=>{r!==yr&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===yr?[v_(n.children[yr],!1)]:[`${r}:${v_(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yr]?`${q1(n)}/${t[0]}`:`${q1(n)}/(${t.join("//")})`}}function q$(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Q1(n){return q$(n).replace(/%3B/gi,";")}function AR(n){return q$(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function eA(n){return decodeURIComponent(n)}function Q$(n){return eA(n.replace(/\+/g,"%20"))}function e3(n){return`${AR(n.path)}${function nX(n){return Object.keys(n).map(e=>`;${AR(e)}=${AR(n[e])}`).join("")}(n.parameters)}`}const rX=/^[^\/()?;=#]+/;function tA(n){const e=n.match(rX);return e?e[0]:""}const oX=/^[^=?&#]+/,aX=/^[^&#]+/;class cX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sr([],{}):new Sr([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[yr]=new Sr(e,t)),i}parseSegment(){const e=tA(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Jt(4009,!1);return this.capture(e),new m_(eA(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=tA(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=tA(this.remaining);r&&(i=r,this.capture(i))}e[eA(t)]=eA(i)}parseQueryParam(e){const t=function sX(n){const e=n.match(oX);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function lX(n){const e=n.match(aX);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=Q$(t),o=Q$(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=tA(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Jt(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=yr);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[yr]:new Sr([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Jt(4011,!1)}}function SR(n){return n.segments.length>0?new Sr([],{[yr]:n}):n}function nA(n){const e={};for(const i of Object.keys(n.children)){const o=nA(n.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function uX(n){if(1===n.numberOfChildren&&n.children[yr]){const e=n.children[yr];return new Sr(n.segments.concat(e.segments),e.children)}return n}(new Sr(n.segments,e))}function np(n){return n instanceof ep}function fX(n,e,t,i,r){var o;if(0===t.length)return Cm(e.root,e.root,e.root,i,r);const a=function r3(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new n3(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return na(o.outlets,(c,b)=>{a[b]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new n3(t,e,i)}(t);return a.toRoot()?Cm(e.root,e.root,new Sr([],{}),i,r):function c(L){var H;const G=function gX(n,e,t,i){if(n.isAbsolute)return new wm(e.root,!0,0);if(-1===i)return new wm(t,t===e.root,0);return function o3(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Jt(4005,!1);r=i.segments.length}return new wm(i,!1,r-o)}(t,i+(y_(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,null===(H=n.snapshot)||void 0===H?void 0:H._urlSegment,L),j=G.processChildren?b_(G.segmentGroup,G.index,a.commands):xR(G.segmentGroup,G.index,a.commands);return Cm(e.root,G.segmentGroup,j,i,r)}(null===(o=n.snapshot)||void 0===o?void 0:o._lastPathIndex)}function y_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function __(n){return"object"==typeof n&&null!=n&&n.outlets}function Cm(n,e,t,i,r){let s,o={};i&&na(i,(c,b)=>{o[b]=Array.isArray(c)?c.map(L=>`${L}`):`${c}`}),s=n===e?t:t3(n,e,t);const a=SR(nA(s));return new ep(a,o,r)}function t3(n,e,t){const i={};return na(n.children,(r,o)=>{i[o]=r===e?t:t3(r,e,t)}),new Sr(n.segments,i)}class n3{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&y_(i[0]))throw new Jt(4003,!1);const r=i.find(__);if(r&&r!==z$(i))throw new Jt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wm{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function xR(n,e,t){if(n||(n=new Sr([],{})),0===n.segments.length&&n.hasChildren())return b_(n,e,t);const i=function vX(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(__(a))break;const c=`${a}`,b=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&b&&"object"==typeof b&&void 0===b.outlets){if(!a3(c,b,s))return o;i+=2}else{if(!a3(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Sr(n.segments.slice(0,i.pathIndex),{});return o.children[yr]=new Sr(n.segments.slice(i.pathIndex),n.children),b_(o,0,r)}return i.match&&0===r.length?new Sr(n.segments,{}):i.match&&!n.hasChildren()?ER(n,e,t):i.match?b_(n,0,r):ER(n,e,t)}function b_(n,e,t){if(0===t.length)return new Sr(n.segments,{});{const i=function mX(n){return __(n[0])?n[0].outlets:{[yr]:n}}(t),r={};return na(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=xR(n.children[s],e,o))}),na(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new Sr(n.segments,r)}}function ER(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(__(o)){const c=yX(o.outlets);return new Sr(i,c)}if(0===r&&y_(t[0])){i.push(new m_(n.segments[e].path,s3(t[0]))),r++;continue}const s=__(o)?o.outlets[yr]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&y_(a)?(i.push(new m_(s,s3(a))),r+=2):(i.push(new m_(s,{})),r++)}return new Sr(i,{})}function yX(n){const e={};return na(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=ER(new Sr([],{}),0,t))}),e}function s3(n){const e={};return na(n,(t,i)=>e[i]=`${t}`),e}function a3(n,e,t){return n==t.path&&wu(e,t.parameters)}class bh{constructor(e,t){this.id=e,this.url=t}}class MR extends bh{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ip extends bh{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class iA extends bh{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class l3 extends bh{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _X extends bh{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bX extends bh{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CX extends bh{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wX extends bh{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AX extends bh{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class IX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c3{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class u3{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=TR(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=TR(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=RR(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return RR(e,this._root).map(t=>t.value)}}function TR(n,e){if(n===e.value)return e;for(const t of e.children){const i=TR(n,t);if(i)return i}return null}function RR(n,e){if(n===e.value)return[e];for(const t of e.children){const i=RR(n,t);if(i.length)return i.unshift(e),i}return[]}class Ch{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Am(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class h3 extends u3{constructor(e,t){super(e),this.snapshot=t,DR(this,e)}toString(){return this.snapshot.toString()}}function d3(n,e){const t=function DX(n,e){const s=new rA([],{},{},"",{},yr,e,null,n.root,-1,{});return new p3("",new Ch(s,[]))}(n,e),i=new rl([new m_("",{})]),r=new rl({}),o=new rl({}),s=new rl({}),a=new rl(""),c=new rp(i,r,s,a,o,yr,e,t.root);return c.snapshot=t.root,new h3(new Ch(c,[]),t)}class rp{constructor(e,t,i,r,o,s,a,c){var b,L;this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.title=null!==(L=null===(b=this.data)||void 0===b?void 0:b.pipe(he(H=>H[g_])))&&void 0!==L?L:ai(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(he(e=>bm(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(he(e=>bm(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function f3(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function kX(n){return n.reduce((e,t)=>{var i;return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},t.data),e.resolve),null===(i=t.routeConfig)||void 0===i?void 0:i.data),t._resolvedData)}},{params:{},data:{},resolve:{}})}(t.slice(i))}class rA{constructor(e,t,i,r,o,s,a,c,b,L,H,G){var j;this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.title=null===(j=this.data)||void 0===j?void 0:j[g_],this.routeConfig=c,this._urlSegment=b,this._lastPathIndex=L,this._correctedLastPathIndex=null!=G?G:L,this._resolve=H}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class p3 extends u3{constructor(e,t){super(t),this.url=e,DR(this,t)}toString(){return g3(this._root)}}function DR(n,e){e.value._routerState=n,e.children.forEach(t=>DR(n,t))}function g3(n){const e=n.children.length>0?` { ${n.children.map(g3).join(", ")} } `:"";return`${n.value}${e}`}function kR(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,wu(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),wu(e.params,t.params)||n.params.next(t.params),function ZK(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!wu(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),wu(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function LR(n,e){const t=wu(n.params,e.params)&&function qK(n,e){return tp(n,e)&&n.every((t,i)=>wu(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||LR(n.parent,e.parent))}function C_(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function PX(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return C_(n,i,r);return C_(n,i)})}(n,e,t);return new Ch(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>C_(n,a)),s}}const i=function OX(n){return new rp(new rl(n.url),new rl(n.params),new rl(n.queryParams),new rl(n.fragment),new rl(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>C_(n,o));return new Ch(i,r)}}const PR="ngNavigationCancelingError";function m3(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=np(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=v3(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function v3(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[PR]=!0,i.cancellationCode=e,t&&(i.url=t),i}function y3(n){return _3(n)&&np(n.url)}function _3(n){return n&&n[PR]}class FX{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new w_,this.attachRef=null}}let w_=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new FX,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oA=!1;let OR=(()=>{class n{constructor(t,i,r,o,s){this.parentContexts=t,this.location=i,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new ni,this.deactivateEvents=new ni,this.attachEvents=new ni,this.detachEvents=new ni,this.name=r||yr,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){var t;(null===(t=this.parentContexts.getContext(this.name))||void 0===t?void 0:t.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Jt(4012,oA);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Jt(4012,oA);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Jt(4012,oA);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Jt(4013,oA);this._activatedRoute=t;const r=this.location,s=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new NX(t,a,r.injector);if(i&&function $X(n){return!!n.resolveComponentFactory}(i)){const b=i.resolveComponentFactory(s);this.activated=r.createComponent(b,r.length,c)}else this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:null!=i?i:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(Te(w_),Te(Fo),la("name"),Te(Hr),Te(Mc))},n.\u0275dir=Gt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class NX{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===rp?this.route:e===w_?this.childContexts:this.parent.get(e,t)}}let FR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Wn({type:n,selectors:[["ng-component"]],standalone:!0,features:[IF],decls:1,vars:0,template:function(t,i){1&t&&kn(0,"router-outlet")},dependencies:[OR],encapsulation:2}),n})();function b3(n,e){var t;return n.providers&&!n._injector&&(n._injector=_1(n.providers,e,`Route: ${n.path}`)),null!==(t=n._injector)&&void 0!==t?t:e}function $R(n){const e=n.children&&n.children.map($R),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==yr&&(t.component=FR),t}function Kl(n){return n.outlet||yr}function C3(n,e){const t=n.filter(i=>Kl(i)===e);return t.push(...n.filter(i=>Kl(i)!==e)),t}function A_(n){var e;if(!n)return null;if(null!==(e=n.routeConfig)&&void 0!==e&&e._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const i=t.routeConfig;if(null!=i&&i._loadedInjector)return i._loadedInjector;if(null!=i&&i._injector)return i._injector}return null}class UX{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),kR(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Am(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),na(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Am(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Am(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Am(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new TX(o.value.snapshot))}),e.children.length&&this.forwardEvent(new EX(e.value.snapshot))}activateRoutes(e,t,i){var r;const o=e.value,s=t?t.value:null;if(kR(o),o===s)if(o.component){const a=i.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,i);else if(o.component){const a=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const c=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),kR(c.route.value),this.activateChildRoutes(e,null,a.children)}else{const c=A_(o.snapshot),b=null!==(r=null==c?void 0:c.get(Rc))&&void 0!==r?r:null;a.attachRef=null,a.route=o,a.resolver=b,a.injector=c,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}}class w3{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class sA{constructor(e,t){this.component=e,this.route=t}}function GX(n,e,t){const i=n._root;return S_(i,e?e._root:null,t,[i.value])}function Sm(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function Mx(n){return null!==lg(n)}(n)?e.get(n):n:i}function S_(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Am(e);return n.children.forEach(s=>{(function jX(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function ZX(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!tp(n.url,e.url);case"pathParamsOrQueryParamsChange":return!tp(n.url,e.url)||!wu(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!LR(n,e)||!wu(n.queryParams,e.queryParams);default:return!LR(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new w3(i)):(o.data=s.data,o._resolvedData=s._resolvedData),S_(n,e,o.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new sA(a.outlet.component,s))}else s&&I_(e,a,r),r.canActivateChecks.push(new w3(i)),S_(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),na(o,(s,a)=>I_(s,t.getContext(a),r)),r}function I_(n,e,t){const i=Am(n),r=n.value;na(i,(o,s)=>{I_(o,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new sA(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function x_(n){return"function"==typeof n}function BR(n){return n instanceof Z1||"EmptyError"===(null==n?void 0:n.name)}const aA=Symbol("INITIAL_VALUE");function Im(){return ba(n=>vR(n.map(e=>e.pipe(Eo(1),Us(aA)))).pipe(he(e=>{for(const t of e)if(!0!==t){if(t===aA)return aA;if(!1===t||t instanceof ep)return t}return!0}),_o(e=>e!==aA),Eo(1)))}function A3(n){return function N(...n){return z(n)}(Mo(e=>{if(np(e))throw m3(0,e)}),he(e=>!0===e))}const HR={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function S3(n,e,t,i,r){const o=VR(n,e,t);return o.matched?function uY(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?ai(r.map(s=>{const a=Sm(s,n);return Fd(function QX(n){return n&&x_(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Im(),A3()):ai(!0)}(i=b3(e,i),e,t).pipe(he(s=>!0===s?o:Object.assign({},HR))):ai(o)}function VR(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},HR):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||jK)(t,n,e);if(!o)return Object.assign({},HR);const s={};na(o.posParams,(c,b)=>{s[b]=c.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function lA(n,e,t,i,r="corrected"){if(t.length>0&&function fY(n,e,t){return t.some(i=>cA(n,e,i)&&Kl(i)!==yr)}(n,t,i)){const s=new Sr(e,function dY(n,e,t,i){const r={};r[yr]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Kl(o)!==yr){const s=new Sr([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,r[Kl(o)]=s}return r}(n,e,i,new Sr(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function pY(n,e,t){return t.some(i=>cA(n,e,i))}(n,t,i)){const s=new Sr(n.segments,function hY(n,e,t,i,r,o){const s={};for(const a of i)if(cA(n,t,a)&&!r[Kl(a)]){const c=new Sr([],{});c._sourceSegment=n,c._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[Kl(a)]=c}return Object.assign(Object.assign({},r),s)}(n,e,t,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new Sr(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function cA(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function I3(n,e,t,i){return!!(Kl(n)===i||i!==yr&&cA(e,t,n))&&("**"===n.path||VR(e,n,t).matched)}function x3(n,e,t){return 0===e.length&&!n.children[t]}const uA=!1;class hA{constructor(e){this.segmentGroup=e||null}}class E3{constructor(e){this.urlTree=e}}function E_(n){return Wc(new hA(n))}function M3(n){return Wc(new E3(n))}class yY{constructor(e,t,i,r,o){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const e=lA(this.urlTree.root,[],[],this.config).segmentGroup,t=new Sr(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,yr).pipe(he(o=>this.createUrlTree(nA(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cu(o=>{if(o instanceof E3)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof hA?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,yr).pipe(he(r=>this.createUrlTree(nA(r),e.queryParams,e.fragment))).pipe(Cu(r=>{throw r instanceof hA?this.noMatchError(r):r}))}noMatchError(e){return new Jt(4002,uA)}createUrlTree(e,t,i){const r=SR(e);return new ep(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(he(o=>new Sr([],o))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return fr(r).pipe(Od(o=>{const s=i.children[o],a=C3(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(he(c=>({segment:c,outlet:o})))}),H$((o,s)=>(o[s.outlet]=s.segment,o),{}),V$())}expandSegment(e,t,i,r,o,s){return fr(i).pipe(Od(a=>this.expandSegmentAgainstRoute(e,t,i,a,r,o,s).pipe(Cu(b=>{if(b instanceof hA)return ai(null);throw b}))),Pd(a=>!!a),Cu((a,c)=>{if(BR(a))return x3(t,r,o)?ai(new Sr([],{})):E_(t);throw a}))}expandSegmentAgainstRoute(e,t,i,r,o,s,a){return I3(r,t,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s):E_(t):E_(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?M3(o):this.lineralizeSegments(i,o).pipe(wt(s=>{const a=new Sr(s,{});return this.expandSegment(e,a,t,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:c,remainingSegments:b,positionalParamSegments:L}=VR(t,r,o);if(!a)return E_(t);const H=this.applyRedirectCommands(c,r.redirectTo,L);return r.redirectTo.startsWith("/")?M3(H):this.lineralizeSegments(r,H).pipe(wt(G=>this.expandSegment(e,t,i,G.concat(b),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){return"**"===i.path?(e=b3(i,e),i.loadChildren?(i._loadedRoutes?ai({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe(he(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new Sr(r,{})))):ai(new Sr(r,{}))):S3(t,i,r,e).pipe(ba(({matched:s,consumedSegments:a,remainingSegments:c})=>{var b;return s?(e=null!==(b=i._injector)&&void 0!==b?b:e,this.getChildConfig(e,i,r).pipe(wt(H=>{var G;const j=null!==(G=H.injector)&&void 0!==G?G:e,J=H.routes,{segmentGroup:ce,slicedSegments:se}=lA(t,a,c,J),te=new Sr(ce.segments,ce.children);if(0===se.length&&te.hasChildren())return this.expandChildren(j,J,te).pipe(he(Re=>new Sr(a,Re)));if(0===J.length&&0===se.length)return ai(new Sr(a,{}));const _e=Kl(i)===o;return this.expandSegment(j,te,J,se,_e?yr:o,!0).pipe(he(Me=>new Sr(a.concat(Me.segments),Me.children)))}))):E_(t)}))}getChildConfig(e,t,i){return t.children?ai({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ai({routes:t._loadedRoutes,injector:t._loadedInjector}):function cY(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?ai(!0):ai(r.map(s=>{const a=Sm(s,n);return Fd(function XX(n){return n&&x_(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Im(),A3())}(e,t,i).pipe(wt(r=>r?this.configLoader.loadChildren(e,t).pipe(Mo(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function mY(n){return Wc(v3(uA,3))}())):ai({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ai(i);if(r.numberOfChildren>1||!r.children[yr])return Wc(new Jt(4e3,uA));r=r.children[yr]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new ep(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return na(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=t[a]}else i[o]=r}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return na(t.children,(a,c)=>{s[c]=this.createSegmentGroup(e,a,i,r)}),new Sr(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Jt(4001,uA);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class bY{}class AY{constructor(e,t,i,r,o,s,a,c){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=c}recognize(){const e=lA(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,yr).pipe(he(t=>{if(null===t)return null;const i=new rA([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},yr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ch(i,t),o=new p3(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,i=f3(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return fr(Object.keys(i.children)).pipe(Od(r=>{const o=i.children[r],s=C3(t,r);return this.processSegmentGroup(e,s,o,r)}),H$((r,o)=>r&&o?(r.push(...o),r):null),W$(r=>null!==r),X1(null),V$(),he(r=>{if(null===r)return null;const o=T3(r);return function SY(n){n.sort((e,t)=>e.value.outlet===yr?-1:t.value.outlet===yr?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,i,r,o){return fr(t).pipe(Od(s=>{var a;return this.processSegmentAgainstRoute(null!==(a=s._injector)&&void 0!==a?a:e,s,i,r,o)}),Pd(s=>!!s),Cu(s=>{if(BR(s))return x3(i,r,o)?ai([]):ai(null);throw s}))}processSegmentAgainstRoute(e,t,i,r,o){var s,a;if(t.redirectTo||!I3(t,i,r,o))return ai(null);let c;if("**"===t.path){const b=r.length>0?z$(r).parameters:{},L=D3(i)+r.length;c=ai({snapshot:new rA(r,b,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,L3(t),Kl(t),null!==(a=null!==(s=t.component)&&void 0!==s?s:t._loadedComponent)&&void 0!==a?a:null,t,R3(i),L,P3(t),L),consumedSegments:[],remainingSegments:[]})}else c=S3(i,t,r,e).pipe(he(({matched:b,consumedSegments:L,remainingSegments:H,parameters:G})=>{var j,J;if(!b)return null;const ce=D3(i)+L.length;return{snapshot:new rA(L,G,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,L3(t),Kl(t),null!==(J=null!==(j=t.component)&&void 0!==j?j:t._loadedComponent)&&void 0!==J?J:null,t,R3(i),ce,P3(t),ce),consumedSegments:L,remainingSegments:H}}));return c.pipe(ba(b=>{var L,H;if(null===b)return ai(null);const{snapshot:G,consumedSegments:j,remainingSegments:J}=b;e=null!==(L=t._injector)&&void 0!==L?L:e;const ce=null!==(H=t._loadedInjector)&&void 0!==H?H:e,se=function IY(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:te,slicedSegments:_e}=lA(i,j,J,se.filter(Me=>void 0===Me.redirectTo),this.relativeLinkResolution);if(0===_e.length&&te.hasChildren())return this.processChildren(ce,se,te).pipe(he(Me=>null===Me?null:[new Ch(G,Me)]));if(0===se.length&&0===_e.length)return ai([new Ch(G,[])]);const ge=Kl(t)===o;return this.processSegment(ce,se,te,_e,ge?yr:o).pipe(he(Me=>null===Me?null:[new Ch(G,Me)]))}))}}function xY(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function T3(n){const e=[],t=new Set;for(const i of n){if(!xY(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=T3(i.children);e.push(new Ch(i.value,r))}return e.filter(i=>!t.has(i))}function R3(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function D3(n){var e,t;let i=n,r=null!==(e=i._segmentIndexShift)&&void 0!==e?e:0;for(;i._sourceSegment;)i=i._sourceSegment,r+=null!==(t=i._segmentIndexShift)&&void 0!==t?t:0;return r-1}function L3(n){return n.data||{}}function P3(n){return n.resolve||{}}function O3(n){return"string"==typeof n.title||null===n.title}function WR(n){return ba(e=>{const t=n(e);return t?fr(t).pipe(he(()=>e)):ai(e)})}let F3=(()=>{class n{buildTitle(t){var i;let r,o=t.root;for(;void 0!==o;)r=null!==(i=this.getResolvedTitleForRoute(o))&&void 0!==i?i:r,o=o.children.find(s=>s.outlet===yr);return r}getResolvedTitleForRoute(t){return t.data[g_]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:function(){return Kr(N3)},providedIn:"root"}),n})(),N3=(()=>{class n extends F3{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(At(k$))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class PY{}class FY extends class OY{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const fA=new rn("",{providedIn:"root",factory:()=>({})}),UR=new rn("ROUTES");let GR=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ai(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Fd(t.loadComponent()).pipe(Mo(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Y1(()=>{this.componentLoaders.delete(t)})),r=new _R(i,()=>new F).pipe(yR());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ai({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(he(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,b,L=!1;Array.isArray(a)?b=a:(c=a.create(t).injector,b=G$(c.get(UR,[],Ci.Self|Ci.Optional)));return{routes:b.map($R),injector:c}}),Y1(()=>{this.childrenLoaders.delete(i)})),s=new _R(o,()=>new F).pipe(yR());return this.childrenLoaders.set(i,s),s}loadModuleFactoryOrRoutes(t){return Fd(t()).pipe(wt(i=>i instanceof AF||Array.isArray(i)?ai(i):fr(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(At(vo),At(PT))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $Y{}class BY{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function HY(n){throw n}function VY(n,e,t){return e.parse("/")}const WY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},UY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function B3(){var n,e;const t=Kr(J$),i=Kr(w_),r=Kr(a_),o=Kr(vo),s=Kr(PT),a=null!==(n=Kr(UR,{optional:!0}))&&void 0!==n?n:[],c=null!==(e=Kr(fA,{optional:!0}))&&void 0!==e?e:{},b=Kr(N3),L=Kr(F3,{optional:!0}),H=Kr($Y,{optional:!0}),G=Kr(PY,{optional:!0}),j=new Gs(null,t,i,r,o,s,G$(a));return H&&(j.urlHandlingStrategy=H),G&&(j.routeReuseStrategy=G),j.titleStrategy=null!=L?L:b,function GY(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,j),j}let Gs=(()=>{class n{constructor(t,i,r,o,s,a,c){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new F,this.errorHandler=HY,this.malformedUriErrorHandler=VY,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ai(void 0),this.urlHandlingStrategy=new BY,this.routeReuseStrategy=new FY,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(GR),this.configLoader.onLoadEndListener=G=>this.triggerEvent(new IX(G)),this.configLoader.onLoadStartListener=G=>this.triggerEvent(new SX(G)),this.ngModule=s.get(Yf),this.console=s.get(Sj);const H=s.get(Ei);this.isNgZoneEnabled=H instanceof Ei&&Ei.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function KK(){return new ep(new Sr([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=d3(this.currentUrlTree,this.rootComponentType),this.transitions=new rl({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(_o(r=>0!==r.id),he(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ba(r=>{let o=!1,s=!1;return ai(r).pipe(Mo(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ba(a=>{const c=this.browserUrlTree.toString(),b=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return H3(a.source)&&(this.browserUrlTree=a.extractedUrl),ai(a).pipe(ba(H=>{const G=this.transitions.getValue();return i.next(new MR(H.id,this.serializeUrl(H.extractedUrl),H.source,H.restoredState)),G!==this.transitions.getValue()?An:Promise.resolve(H)}),function _Y(n,e,t,i){return ba(r=>function vY(n,e,t,i,r){return new yY(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(he(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Mo(H=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:H.urlAfterRedirects}),r.urlAfterRedirects=H.urlAfterRedirects}),function MY(n,e,t,i,r,o){return wt(s=>function wY(n,e,t,i,r,o,s="emptyOnly",a="legacy"){return new AY(n,e,t,i,r,s,a,o).recognize().pipe(ba(c=>null===c?function CY(n){return new K(e=>e.error(n))}(new bY):ai(c)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r,o).pipe(he(a=>Object.assign(Object.assign({},s),{targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Mo(H=>{if(r.targetSnapshot=H.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(j,H)}this.browserUrlTree=H.urlAfterRedirects}const G=new _X(H.id,this.serializeUrl(H.extractedUrl),this.serializeUrl(H.urlAfterRedirects),H.targetSnapshot);i.next(G)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:G,extractedUrl:j,source:J,restoredState:ce,extras:se}=a,te=new MR(G,this.serializeUrl(j),J,ce);i.next(te);const _e=d3(j,this.rootComponentType).snapshot;return ai(r=Object.assign(Object.assign({},a),{targetSnapshot:_e,urlAfterRedirects:j,extras:Object.assign(Object.assign({},se),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),An}),Mo(a=>{const c=new bX(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),he(a=>r=Object.assign(Object.assign({},a),{guards:GX(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function tY(n,e){return wt(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?ai(Object.assign(Object.assign({},t),{guardsResult:!0})):function nY(n,e,t,i){return fr(n).pipe(wt(r=>function lY(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ai(o.map(a=>{var c;const b=null!==(c=A_(e))&&void 0!==c?c:r,L=Sm(a,b);return Fd(function qX(n){return n&&x_(n.canDeactivate)}(L)?L.canDeactivate(n,e,t,i):b.runInContext(()=>L(n,e,t,i))).pipe(Pd())})).pipe(Im()):ai(!0)}(r.component,r.route,t,e,i)),Pd(r=>!0!==r,!0))}(s,i,r,n).pipe(wt(a=>a&&function KX(n){return"boolean"==typeof n}(a)?function iY(n,e,t,i){return fr(e).pipe(Od(r=>K1(function oY(n,e){return null!==n&&e&&e(new xX(n)),ai(!0)}(r.route.parent,i),function rY(n,e){return null!==n&&e&&e(new MX(n)),ai(!0)}(r.route,i),function aY(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function zX(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>p_(()=>ai(s.guards.map(c=>{var b;const L=null!==(b=A_(s.node))&&void 0!==b?b:t,H=Sm(c,L);return Fd(function JX(n){return n&&x_(n.canActivateChild)}(H)?H.canActivateChild(i,n):L.runInContext(()=>H(i,n))).pipe(Pd())})).pipe(Im())));return ai(o).pipe(Im())}(n,r.path,t),function sY(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ai(!0);const r=i.map(o=>p_(()=>{var s;const a=null!==(s=A_(e))&&void 0!==s?s:t,c=Sm(o,a);return Fd(function YX(n){return n&&x_(n.canActivate)}(c)?c.canActivate(e,n):a.runInContext(()=>c(e,n))).pipe(Pd())}));return ai(r).pipe(Im())}(n,r.route,t))),Pd(r=>!0!==r,!0))}(i,o,n,e):ai(a)),he(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Mo(a=>{if(r.guardsResult=a.guardsResult,np(a.guardsResult))throw m3(0,a.guardsResult);const c=new CX(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),_o(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),WR(a=>{if(a.guards.canActivateChecks.length)return ai(a).pipe(Mo(c=>{const b=new wX(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(b)}),ba(c=>{let b=!1;return ai(c).pipe(function TY(n,e){return wt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ai(t);let o=0;return fr(r).pipe(Od(s=>function RY(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==(null==r?void 0:r.title)&&!O3(r)&&(o[g_]=r.title),function DY(n,e,t,i){const r=function kY(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return ai({});const o={};return fr(r).pipe(wt(s=>function LY(n,e,t,i){var r;const o=null!==(r=A_(e))&&void 0!==r?r:i,s=Sm(n,o);return Fd(s.resolve?s.resolve(e,t):o.runInContext(()=>s(e,t)))}(n[s],e,t,i).pipe(Pd(),Mo(a=>{o[s]=a}))),bR(1),function GK(n){return he(()=>n)}(o),Cu(s=>BR(s)?An:Wc(s)))}(o,n,e,i).pipe(he(s=>(n._resolvedData=s,n.data=f3(n,t).resolve,r&&O3(r)&&(n.data[g_]=r.title),null)))}(s.route,i,n,e)),Mo(()=>o++),bR(1),wt(s=>o===r.length?ai(t):An))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Mo({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),Mo(c=>{const b=new AX(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(b)}))}),WR(a=>{const c=b=>{var L;const H=[];(null===(L=b.routeConfig)||void 0===L?void 0:L.loadComponent)&&!b.routeConfig._loadedComponent&&H.push(this.configLoader.loadComponent(b.routeConfig).pipe(Mo(G=>{b.component=G}),he(()=>{})));for(const G of b.children)H.push(...c(G));return H};return vR(c(a.targetSnapshot.root)).pipe(X1(),Eo(1))}),WR(()=>this.afterPreactivation()),he(a=>{const c=function LX(n,e,t){const i=C_(n,e._root,t?t._root:void 0);return new h3(i,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return r=Object.assign(Object.assign({},a),{targetRouterState:c})}),Mo(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>he(i=>(new UX(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Mo({next(){o=!0},complete(){o=!0}}),Y1(()=>{var a;o||s||this.cancelNavigationTransition(r,"",1),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),Cu(a=>{var c;if(s=!0,_3(a)){y3(a)||(this.navigated=!0,this.restoreHistory(r,!0));const b=new iA(r.id,this.serializeUrl(r.extractedUrl),a.message,a.cancellationCode);if(i.next(b),y3(a)){const L=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),H={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||H3(r.source)};this.scheduleNavigation(L,"imperative",null,H,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const b=new l3(r.id,this.serializeUrl(r.extractedUrl),a,null!==(c=r.targetSnapshot)&&void 0!==c?c:void 0);i.next(b);try{r.resolve(this.errorHandler(a))}catch(L){r.reject(L)}}return An}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},s=null!==(r=t.state)&&void 0!==r&&r.navigationId?t.state:null;if(s){const c=Object.assign({},s);delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,i,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map($R),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,b=r||this.routerState.root,L=c?this.currentUrlTree.fragment:s;let H=null;switch(a){case"merge":H=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":H=this.currentUrlTree.queryParams;break;default:H=o||null}return null!==H&&(H=this.removeEmptyProps(H)),fX(b,this.currentUrlTree,t,H,null!=L?L:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=np(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function zY(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new Jt(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},WY):!1===i?Object.assign({},UY):i,np(t))return Z$(this.currentUrlTree,t,r);const o=this.parseUrl(t);return Z$(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(t=>{var i;this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ip(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(i=this.titleStrategy)||void 0===i||i.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,o,s){var a,c;if(this.disposed)return Promise.resolve(!1);let b,L,H;s?(b=s.resolve,L=s.reject,H=s.promise):H=new Promise((J,ce)=>{b=J,L=ce});const G=++this.navigationId;let j;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),j=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):j=0,this.setTransition({id:G,targetPageId:j,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:b,reject:L,promise:H,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),H.catch(J=>Promise.reject(J))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(t,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const o=new iA(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){Lc()},n.\u0275prov=bn({token:n,factory:function(){return B3()},providedIn:"root"}),n})();function H3(n){return"imperative"!==n}let gA=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new F,this.subscription=t.events.subscribe(o=>{o instanceof ip&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=vh(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=vh(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=vh(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,o,s){return!!(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(Te(Gs),Te(rp),Te(Qf))},n.\u0275dir=Gt({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&It("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&Zi("target",i.target)("href",i.href,xc)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[lo]}),n})();class V3{}let KY=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(_o(t=>t instanceof ip),Od(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){var r,o,s;const a=[];for(const c of i){c.providers&&!c._injector&&(c._injector=_1(c.providers,t,`Route: ${c.path}`));const b=null!==(r=c._injector)&&void 0!==r?r:t,L=null!==(o=c._loadedInjector)&&void 0!==o?o:b;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?a.push(this.preloadConfig(b,c)):(c.children||c._loadedRoutes)&&a.push(this.processRoutes(L,null!==(s=c.children)&&void 0!==s?s:c._loadedRoutes))}return fr(a).pipe(gn())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):ai(null);const o=r.pipe(wt(s=>{var a;return null===s?ai(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(null!==(a=s.injector)&&void 0!==a?a:t,s.routes))}));return i.loadComponent&&!i._loadedComponent?fr([o,this.loader.loadComponent(i)]).pipe(gn()):o})}}return n.\u0275fac=function(t){return new(t||n)(At(Gs),At(PT),At(Mc),At(V3),At(GR))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jR=new rn("");let W3=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof MR?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ip&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof c3&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new c3(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Lc()},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();function xm(n,e){return{\u0275kind:n,\u0275providers:e}}function ZR(n){return[{provide:UR,multi:!0,useValue:n}]}function G3(){const n=Kr(vo);return e=>{var t,i;const r=n.get(ym);if(e!==r.components[0])return;const o=n.get(Gs),s=n.get(z3);1===n.get(KR)&&o.initialNavigation(),null===(t=n.get(j3,null,Ci.Optional))||void 0===t||t.setUpPreloading(),null===(i=n.get(jR,null,Ci.Optional))||void 0===i||i.init(),o.resetRootComponentType(r.componentTypes[0]),s.closed||(s.next(),s.unsubscribe())}}const z3=new rn("",{factory:()=>new F}),KR=new rn("",{providedIn:"root",factory:()=>1});const j3=new rn("");function qY(n){return xm(0,[{provide:j3,useExisting:KY},{provide:V3,useExisting:n}])}const Z3=new rn("ROUTER_FORROOT_GUARD"),QY=[a_,{provide:J$,useClass:wR},{provide:Gs,useFactory:B3},w_,{provide:rp,useFactory:function U3(n){return n.routerState.root},deps:[Gs]},GR];function eJ(){return new _N("Router",Gs)}let K3=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[QY,[],ZR(t),{provide:Z3,useFactory:rJ,deps:[[Gs,new $l,new ih]]},{provide:fA,useValue:i||{}},null!=i&&i.useHash?{provide:Qf,useClass:f7}:{provide:Qf,useClass:GN},{provide:jR,useFactory:()=>{const n=Kr(Gs),e=Kr(EZ),t=Kr(fA);return t.scrollOffset&&e.setOffset(t.scrollOffset),new W3(n,e,t)}},null!=i&&i.preloadingStrategy?qY(i.preloadingStrategy).\u0275providers:[],{provide:_N,multi:!0,useFactory:eJ},null!=i&&i.initialNavigation?oJ(i):[],[{provide:X3,useFactory:G3},{provide:dN,multi:!0,useExisting:X3}]]}}static forChild(t){return{ngModule:n,providers:[ZR(t)]}}}return n.\u0275fac=function(t){return new(t||n)(At(Z3,8))},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[FR]}),n})();function rJ(n){return"guarded"}function oJ(n){return["disabled"===n.initialNavigation?xm(3,[{provide:A1,multi:!0,useFactory:()=>{const e=Kr(Gs);return()=>{e.setUpLocationChangeListener()}}},{provide:KR,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?xm(2,[{provide:KR,useValue:0},{provide:A1,multi:!0,deps:[vo],useFactory:e=>{const t=e.get(h7,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(o=>{const s=e.get(Gs),a=e.get(z3);(function r(o){e.get(Gs).events.pipe(_o(a=>a instanceof ip||a instanceof iA||a instanceof l3),he(a=>a instanceof ip||a instanceof iA&&(0===a.code||1===a.code)&&null),_o(a=>null!==a),Eo(1)).subscribe(()=>{o()})})(()=>{o(!0),i=!0}),s.afterPreactivation=()=>(o(!0),i||a.closed?ai(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const X3=new rn("");let aJ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Wn({type:n,selectors:[["app-navbar"]],decls:16,vars:0,consts:[[1,"navbar","navbar-expand-sm","navbar-light","bg-light","px-2","z"],["routerLink","start",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","dataCube",1,"nav-link","active"],["routerLink","goldStandardBuilder",1,"nav-link","active"],["routerLink","settings",1,"nav-link","active"]],template:function(t,i){1&t&&(be(0,"nav",0)(1,"a",1),He(2,"ETARA"),Se(),be(3,"button",2),kn(4,"span",3),Se(),be(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),He(9,"Alignment Cube"),Se()(),be(10,"li",6)(11,"a",8),He(12,"Gold Standard Builder"),Se()(),be(13,"li",6)(14,"a",9),He(15,"Settings"),Se()()()()())},dependencies:[gA],styles:[".navbar[_ngcontent-%COMP%]{z-index:10}"]}),n})(),lJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Wn({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,i){1&t&&kn(0,"app-navbar")(1,"router-outlet")},dependencies:[OR,aJ],styles:[".main[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:0}.app-container[_ngcontent-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column}"]}),n})();class Y3{}class J3{}class wh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof wh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new wh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof wh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class cJ{encodeKey(e){return q3(e)}encodeValue(e){return q3(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const hJ=/%(\d[a-f0-9])/gi,dJ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function q3(n){return encodeURIComponent(n).replace(hJ,(e,t)=>{var i;return null!==(i=dJ[t])&&void 0!==i?i:e})}function yA(n){return`${n}`}class Uc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new cJ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function uJ(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(yA):[yA(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Uc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(yA(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(yA(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class fJ{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Q3(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function eB(n){return"undefined"!=typeof Blob&&n instanceof Blob}function tB(n){return"undefined"!=typeof FormData&&n instanceof FormData}class M_{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function pJ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new wh),this.context||(this.context=new fJ),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Uc,this.urlWithParams=t}serializeBody(){return null===this.body?null:Q3(this.body)||eB(this.body)||tB(this.body)||function gJ(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Uc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tB(this.body)?null:eB(this.body)?this.body.type||null:Q3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Uc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,c=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let b=e.headers||this.headers,L=e.params||this.params;const H=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(b=Object.keys(e.setHeaders).reduce((G,j)=>G.set(j,e.setHeaders[j]),b)),e.setParams&&(L=Object.keys(e.setParams).reduce((G,j)=>G.set(j,e.setParams[j]),L)),new M_(i,r,s,{params:L,headers:b,context:H,reportProgress:c,responseType:o,withCredentials:a})}}var ys=(()=>((ys=ys||{})[ys.Sent=0]="Sent",ys[ys.UploadProgress=1]="UploadProgress",ys[ys.ResponseHeader=2]="ResponseHeader",ys[ys.DownloadProgress=3]="DownloadProgress",ys[ys.Response=4]="Response",ys[ys.User=5]="User",ys))();class XR{constructor(e,t=200,i="OK"){this.headers=e.headers||new wh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class YR extends XR{constructor(e={}){super(e),this.type=ys.ResponseHeader}clone(e={}){return new YR({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _A extends XR{constructor(e={}){super(e),this.type=ys.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new _A({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class nB extends XR{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function JR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let T_=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof M_)o=t;else{let c,b;c=r.headers instanceof wh?r.headers:new wh(r.headers),r.params&&(b=r.params instanceof Uc?r.params:new Uc({fromObject:r.params})),o=new M_(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=ai(o).pipe(Od(c=>this.handler.handle(c)));if(t instanceof M_||"events"===r.observe)return s;const a=s.pipe(_o(c=>c instanceof _A));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(he(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(he(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(he(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(he(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Uc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,JR(r,i))}post(t,i,r={}){return this.request("POST",t,JR(r,i))}put(t,i,r={}){return this.request("PUT",t,JR(r,i))}}return n.\u0275fac=function(t){return new(t||n)(At(Y3))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();class iB{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const rB=new rn("HTTP_INTERCEPTORS");let mJ=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();const vJ=/^\)\]\}',?\n/;let oB=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new K(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((j,J)=>r.setRequestHeader(j,J.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const j=t.detectContentTypeHeader();null!==j&&r.setRequestHeader("Content-Type",j)}if(t.responseType){const j=t.responseType.toLowerCase();r.responseType="json"!==j?j:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const j=r.statusText||"OK",J=new wh(r.getAllResponseHeaders()),ce=function yJ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new YR({headers:J,status:r.status,statusText:j,url:ce}),s},c=()=>{let{headers:j,status:J,statusText:ce,url:se}=a(),te=null;204!==J&&(te=void 0===r.response?r.responseText:r.response),0===J&&(J=te?200:0);let _e=J>=200&&J<300;if("json"===t.responseType&&"string"==typeof te){const ge=te;te=te.replace(vJ,"");try{te=""!==te?JSON.parse(te):null}catch(Me){te=ge,_e&&(_e=!1,te={error:Me,text:te})}}_e?(i.next(new _A({body:te,headers:j,status:J,statusText:ce,url:se||void 0})),i.complete()):i.error(new nB({error:te,headers:j,status:J,statusText:ce,url:se||void 0}))},b=j=>{const{url:J}=a(),ce=new nB({error:j,status:r.status||0,statusText:r.statusText||"Unknown Error",url:J||void 0});i.error(ce)};let L=!1;const H=j=>{L||(i.next(a()),L=!0);let J={type:ys.DownloadProgress,loaded:j.loaded};j.lengthComputable&&(J.total=j.total),"text"===t.responseType&&!!r.responseText&&(J.partialText=r.responseText),i.next(J)},G=j=>{let J={type:ys.UploadProgress,loaded:j.loaded};j.lengthComputable&&(J.total=j.total),i.next(J)};return r.addEventListener("load",c),r.addEventListener("error",b),r.addEventListener("timeout",b),r.addEventListener("abort",b),t.reportProgress&&(r.addEventListener("progress",H),null!==o&&r.upload&&r.upload.addEventListener("progress",G)),r.send(o),i.next({type:ys.Sent}),()=>{r.removeEventListener("error",b),r.removeEventListener("abort",b),r.removeEventListener("load",c),r.removeEventListener("timeout",b),t.reportProgress&&(r.removeEventListener("progress",H),null!==o&&r.upload&&r.upload.removeEventListener("progress",G)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(At(h$))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();const qR=new rn("XSRF_COOKIE_NAME"),QR=new rn("XSRF_HEADER_NAME");class sB{}let _J=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=e$(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(At(Oi),At(vm),At(qR))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})(),eD=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(At(sB),At(QR))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})(),bJ=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(rB,[]);this.chain=i.reduceRight((r,o)=>new iB(r,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(At(J3),At(vo))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})(),CJ=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:eD,useClass:mJ}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:qR,useValue:t.cookieName}:[],t.headerName?{provide:QR,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({providers:[eD,{provide:rB,useExisting:eD,multi:!0},{provide:sB,useClass:_J},{provide:qR,useValue:"XSRF-TOKEN"},{provide:QR,useValue:"X-XSRF-TOKEN"}]}),n})(),wJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({providers:[T_,{provide:Y3,useClass:bJ},oB,{provide:J3,useExisting:oB}],imports:[CJ.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),AJ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Wn({type:n,selectors:[["app-start-page"]],decls:19,vars:0,consts:[[1,"start-main","main"],["src","/assets/png/logo.png","alt","Logo of the ETARA Benchmark System"],[1,"text-box"],[1,"main"],["href","https://github.com/anonresearcher123/ETARA/wiki"],["href","#"],["href","https://github.com/anonresearcher123/ETARA"],["src","/assets/png/github-mark.png","alt","Link to GitHub repository",1,"github"]],template:function(t,i){1&t&&(be(0,"div",0),kn(1,"img",1),be(2,"h1"),He(3,"ETARA"),Se(),be(4,"h2"),He(5,"Evaluation Toolkit for API and RDF Alignment"),Se(),be(6,"div",2)(7,"p"),He(8," ETARA (Evaluation Toolkit for API and RDF Alignment) is a toolkit to support the development and configuration of appropriate alignment tools. Furthermore, the toolkit offers a detailed benchmark to evaluate existing alignment systems and to determine their strengths and weaknesses more precisely. Existing benchmark systems, e.g. MELT, SEALS and HOBBIT, focus only on data sets of the same format. In contrast, ETARA enables the simulation and creation of RESTful Web APIs with the common response formats (e.g., XML and JSON). It provides a variety of existing Web APIs and their response formats such as CrossRef, SciGraph, ArXiv and Semantic Scholar. "),Se(),be(9,"div",3)(10,"ul")(11,"li")(12,"a",4),He(13,"Documentation"),Se()(),be(14,"li")(15,"a",5),He(16,"Configuration Hub"),Se()()()(),be(17,"a",6),kn(18,"img",7),Se()()())},styles:[".start-main[_ngcontent-%COMP%]{align-content:center;margin:20px auto}.github[_ngcontent-%COMP%]{width:50px;height:auto;display:block;margin-left:auto;margin-right:auto}.text-box[_ngcontent-%COMP%]{width:50%}img[_ngcontent-%COMP%]{margin-bottom:40px}h1[_ngcontent-%COMP%]{font-size:80px}ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;overflow:hidden}li[_ngcontent-%COMP%]{float:left}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-align:center;padding:16px;text-decoration:none}"]}),n})();function aB(n,e,t,i,r,o,s){try{var a=n[o](s),c=a.value}catch(b){return void t(b)}a.done?e(c):Promise.resolve(c).then(i,r)}const ia=1001,_s=1003,rs=1006,ap=1008,lp=1009,cp=1014,Bd=1015,D_=1016,Dm=1020,Xl=1023,up=1026,km=1027,hp=3001,mr="srgb",Au="srgb-linear",GB="display-p3";class pp{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const o=r.indexOf(t);-1!==o&&r.splice(o,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const i=this._listeners[e.type];if(void 0!==i){e.target=this;const r=i.slice(0);for(let o=0,s=r.length;o<s;o++)r[o].call(this,e);e.target=null}}}const Ca=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],gp=Math.PI/180,Om=180/Math.PI;function Cl(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Ca[255&n]+Ca[n>>8&255]+Ca[n>>16&255]+Ca[n>>24&255]+"-"+Ca[255&e]+Ca[e>>8&255]+"-"+Ca[e>>16&15|64]+Ca[e>>24&255]+"-"+Ca[63&t|128]+Ca[t>>8&255]+"-"+Ca[t>>16&255]+Ca[t>>24&255]+Ca[255&i]+Ca[i>>8&255]+Ca[i>>16&255]+Ca[i>>24&255]).toLowerCase()}function jo(n,e,t){return Math.max(e,Math.min(t,n))}function k_(n,e,t){return(1-t)*n+t*e}function gD(n){return 0==(n&n-1)&&0!==n}function KB(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function wl(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function vr(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}class ln{constructor(e=0,t=0){ln.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(jo(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*i-s*r+e.x,this.y=o*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Nr{constructor(){Nr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,o,s,a,c,b){const L=this.elements;return L[0]=e,L[1]=r,L[2]=a,L[3]=t,L[4]=o,L[5]=c,L[6]=i,L[7]=s,L[8]=b,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,o=this.elements,s=i[0],a=i[3],c=i[6],b=i[1],L=i[4],H=i[7],G=i[2],j=i[5],J=i[8],ce=r[0],se=r[3],te=r[6],_e=r[1],ge=r[4],Me=r[7],Re=r[2],$e=r[5],Qe=r[8];return o[0]=s*ce+a*_e+c*Re,o[3]=s*se+a*ge+c*$e,o[6]=s*te+a*Me+c*Qe,o[1]=b*ce+L*_e+H*Re,o[4]=b*se+L*ge+H*$e,o[7]=b*te+L*Me+H*Qe,o[2]=G*ce+j*_e+J*Re,o[5]=G*se+j*ge+J*$e,o[8]=G*te+j*Me+J*Qe,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],c=e[6],b=e[7],L=e[8];return t*s*L-t*a*b-i*o*L+i*a*c+r*o*b-r*s*c}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],c=e[6],b=e[7],L=e[8],H=L*s-a*b,G=a*c-L*o,j=b*o-s*c,J=t*H+i*G+r*j;if(0===J)return this.set(0,0,0,0,0,0,0,0,0);const ce=1/J;return e[0]=H*ce,e[1]=(r*b-L*i)*ce,e[2]=(a*i-r*s)*ce,e[3]=G*ce,e[4]=(L*t-r*c)*ce,e[5]=(r*o-a*t)*ce,e[6]=j*ce,e[7]=(i*c-b*t)*ce,e[8]=(s*t-i*o)*ce,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,o,s,a){const c=Math.cos(o),b=Math.sin(o);return this.set(i*c,i*b,-i*(c*s+b*a)+s+e,-r*b,r*c,-r*(-b*s+c*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(mD.makeScale(e,t)),this}rotate(e){return this.premultiply(mD.makeRotation(-e)),this}translate(e,t){return this.premultiply(mD.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const mD=new Nr;function XB(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function L_(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const YB={};function P_(n){n in YB||(YB[n]=!0,console.warn(n))}function Nm(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function vD(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}const Fq=(new Nr).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Nq=(new Nr).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),Hq={[Au]:n=>n,[mr]:n=>n.convertSRGBToLinear(),[GB]:function $q(n){return n.convertSRGBToLinear().applyMatrix3(Nq)}},Vq={[Au]:n=>n,[mr]:n=>n.convertLinearToSRGB(),[GB]:function Bq(n){return n.applyMatrix3(Fq).convertLinearToSRGB()}},Gc={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return Au},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(!1===this.enabled||e===t||!e||!t)return n;const i=Hq[e],r=Vq[t];if(void 0===i||void 0===r)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let $m;class JB{static getDataURL(e){if(/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===$m&&($m=L_("canvas")),$m.width=e.width,$m.height=e.height;const i=$m.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=$m}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=L_("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),o=r.data;for(let s=0;s<o.length;s++)o[s]=255*Nm(o[s]/255);return i.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t[i]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*Nm(t[i]/255)):Nm(t[i]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Bm{constructor(e=null){this.isSource=!0,this.uuid=Cl(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let o;if(Array.isArray(r)){o=[];for(let s=0,a=r.length;s<a;s++)o.push(yD(r[s].isDataTexture?r[s].image:r[s]))}else o=yD(r);i.url=o}return t||(e.images[this.uuid]=i),i}}function yD(n){return"undefined"!=typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&n instanceof ImageBitmap?JB.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Wq=0,Su=(()=>{class n extends pp{constructor(t=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=ia,o=ia,s=rs,a=ap,c=Xl,b=lp,L=n.DEFAULT_ANISOTROPY,H=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Wq++}),this.uuid=Cl(),this.name="",this.source=new Bm(t),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=o,this.magFilter=s,this.minFilter=a,this.anisotropy=L,this.format=c,this.internalFormat=null,this.type=b,this.offset=new ln(0,0),this.repeat=new ln(1,1),this.center=new ln(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Nr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof H?this.colorSpace=H:(P_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=H===hp?mr:""),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=void 0===t||"string"==typeof t;if(!i&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case ia:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case ia:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return P_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===mr?hp:3e3}set encoding(t){P_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===hp?mr:""}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class io{constructor(e=0,t=0,i=0,r=1){io.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r+s[12]*o,this.y=s[1]*t+s[5]*i+s[9]*r+s[13]*o,this.z=s[2]*t+s[6]*i+s[10]*r+s[14]*o,this.w=s[3]*t+s[7]*i+s[11]*r+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,o;const c=e.elements,b=c[0],L=c[4],H=c[8],G=c[1],j=c[5],J=c[9],ce=c[2],se=c[6],te=c[10];if(Math.abs(L-G)<.01&&Math.abs(H-ce)<.01&&Math.abs(J-se)<.01){if(Math.abs(L+G)<.1&&Math.abs(H+ce)<.1&&Math.abs(J+se)<.1&&Math.abs(b+j+te-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const ge=(b+1)/2,Me=(j+1)/2,Re=(te+1)/2,$e=(L+G)/4,Qe=(H+ce)/4,it=(J+se)/4;return ge>Me&&ge>Re?ge<.01?(i=0,r=.707106781,o=.707106781):(i=Math.sqrt(ge),r=$e/i,o=Qe/i):Me>Re?Me<.01?(i=.707106781,r=0,o=.707106781):(r=Math.sqrt(Me),i=$e/r,o=it/r):Re<.01?(i=.707106781,r=.707106781,o=0):(o=Math.sqrt(Re),i=Qe/o,r=it/o),this.set(i,r,o,t),this}let _e=Math.sqrt((se-J)*(se-J)+(H-ce)*(H-ce)+(G-L)*(G-L));return Math.abs(_e)<.001&&(_e=1),this.x=(se-J)/_e,this.y=(H-ce)/_e,this.z=(G-L)/_e,this.w=Math.acos((b+j+te-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class mp extends pp{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new io(0,0,e,t),this.scissorTest=!1,this.viewport=new io(0,0,e,t);const r={width:e,height:t,depth:1};void 0!==i.encoding&&(P_("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===hp?mr:""),this.texture=new Su(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:rs,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,this.samples=void 0!==i.samples?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Bm(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class _D extends Su{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=_s,this.minFilter=_s,this.wrapR=ia,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class qB extends Su{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=_s,this.minFilter=_s,this.wrapR=ia,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ha{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,o,s,a){let c=i[r+0],b=i[r+1],L=i[r+2],H=i[r+3];const G=o[s+0],j=o[s+1],J=o[s+2],ce=o[s+3];if(0===a)return e[t+0]=c,e[t+1]=b,e[t+2]=L,void(e[t+3]=H);if(1===a)return e[t+0]=G,e[t+1]=j,e[t+2]=J,void(e[t+3]=ce);if(H!==ce||c!==G||b!==j||L!==J){let se=1-a;const te=c*G+b*j+L*J+H*ce,_e=te>=0?1:-1,ge=1-te*te;if(ge>Number.EPSILON){const Re=Math.sqrt(ge),$e=Math.atan2(Re,te*_e);se=Math.sin(se*$e)/Re,a=Math.sin(a*$e)/Re}const Me=a*_e;if(c=c*se+G*Me,b=b*se+j*Me,L=L*se+J*Me,H=H*se+ce*Me,se===1-a){const Re=1/Math.sqrt(c*c+b*b+L*L+H*H);c*=Re,b*=Re,L*=Re,H*=Re}}e[t]=c,e[t+1]=b,e[t+2]=L,e[t+3]=H}static multiplyQuaternionsFlat(e,t,i,r,o,s){const a=i[r],c=i[r+1],b=i[r+2],L=i[r+3],H=o[s],G=o[s+1],j=o[s+2],J=o[s+3];return e[t]=a*J+L*H+c*j-b*G,e[t+1]=c*J+L*G+b*H-a*j,e[t+2]=b*J+L*j+a*G-c*H,e[t+3]=L*J-a*H-c*G-b*j,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,o=e._z,s=e._order,a=Math.cos,c=Math.sin,b=a(i/2),L=a(r/2),H=a(o/2),G=c(i/2),j=c(r/2),J=c(o/2);switch(s){case"XYZ":this._x=G*L*H+b*j*J,this._y=b*j*H-G*L*J,this._z=b*L*J+G*j*H,this._w=b*L*H-G*j*J;break;case"YXZ":this._x=G*L*H+b*j*J,this._y=b*j*H-G*L*J,this._z=b*L*J-G*j*H,this._w=b*L*H+G*j*J;break;case"ZXY":this._x=G*L*H-b*j*J,this._y=b*j*H+G*L*J,this._z=b*L*J+G*j*H,this._w=b*L*H-G*j*J;break;case"ZYX":this._x=G*L*H-b*j*J,this._y=b*j*H+G*L*J,this._z=b*L*J-G*j*H,this._w=b*L*H+G*j*J;break;case"YZX":this._x=G*L*H+b*j*J,this._y=b*j*H+G*L*J,this._z=b*L*J-G*j*H,this._w=b*L*H-G*j*J;break;case"XZY":this._x=G*L*H-b*j*J,this._y=b*j*H-G*L*J,this._z=b*L*J+G*j*H,this._w=b*L*H+G*j*J;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],o=t[8],s=t[1],a=t[5],c=t[9],b=t[2],L=t[6],H=t[10],G=i+a+H;if(G>0){const j=.5/Math.sqrt(G+1);this._w=.25/j,this._x=(L-c)*j,this._y=(o-b)*j,this._z=(s-r)*j}else if(i>a&&i>H){const j=2*Math.sqrt(1+i-a-H);this._w=(L-c)/j,this._x=.25*j,this._y=(r+s)/j,this._z=(o+b)/j}else if(a>H){const j=2*Math.sqrt(1+a-i-H);this._w=(o-b)/j,this._x=(r+s)/j,this._y=.25*j,this._z=(c+L)/j}else{const j=2*Math.sqrt(1+H-i-a);this._w=(s-r)/j,this._x=(o+b)/j,this._y=(c+L)/j,this._z=.25*j}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(jo(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(0===i)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,o=e._z,s=e._w,a=t._x,c=t._y,b=t._z,L=t._w;return this._x=i*L+s*a+r*b-o*c,this._y=r*L+s*c+o*a-i*b,this._z=o*L+s*b+i*c-r*a,this._w=s*L-i*a-r*c-o*b,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const i=this._x,r=this._y,o=this._z,s=this._w;let a=s*e._w+i*e._x+r*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=i,this._y=r,this._z=o,this;const c=1-a*a;if(c<=Number.EPSILON){const j=1-t;return this._w=j*s+t*this._w,this._x=j*i+t*this._x,this._y=j*r+t*this._y,this._z=j*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const b=Math.sqrt(c),L=Math.atan2(b,a),H=Math.sin((1-t)*L)/b,G=Math.sin(t*L)/b;return this._w=s*H+this._w*G,this._x=i*H+this._x*G,this._y=r*H+this._y*G,this._z=o*H+this._z*G,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(o),i*Math.cos(o),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Je{constructor(e=0,t=0,i=0){Je.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(QB.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(QB.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[3]*i+o[6]*r,this.y=o[1]*t+o[4]*i+o[7]*r,this.z=o[2]*t+o[5]*i+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,o=e.elements,s=1/(o[3]*t+o[7]*i+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*i+o[8]*r+o[12])*s,this.y=(o[1]*t+o[5]*i+o[9]*r+o[13])*s,this.z=(o[2]*t+o[6]*i+o[10]*r+o[14])*s,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,o=e.x,s=e.y,a=e.z,c=e.w,b=c*t+s*r-a*i,L=c*i+a*t-o*r,H=c*r+o*i-s*t,G=-o*t-s*i-a*r;return this.x=b*c+G*-o+L*-a-H*-s,this.y=L*c+G*-s+H*-o-b*-a,this.z=H*c+G*-a+b*-s-L*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r,this.y=o[1]*t+o[5]*i+o[9]*r,this.z=o[2]*t+o[6]*i+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,o=e.z,s=t.x,a=t.y,c=t.z;return this.x=r*c-o*a,this.y=o*s-i*c,this.z=i*a-r*s,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return bD.copy(this).projectOnVector(e),this.sub(bD)}reflect(e){return this.sub(bD.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(jo(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,i=Math.sqrt(1-UL(e,2));return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const bD=new Je,QB=new Ha;class xh{constructor(e=new Je(1/0,1/0,1/0),t=new Je(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Mh.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Mh.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Mh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),Hm.copy(e.boundingBox),Hm.applyMatrix4(e.matrixWorld),this.union(Hm);else{const r=e.geometry;if(void 0!==r)if(t&&void 0!==r.attributes&&void 0!==r.attributes.position){const o=r.attributes.position;for(let s=0,a=o.count;s<a;s++)Mh.fromBufferAttribute(o,s).applyMatrix4(e.matrixWorld),this.expandByPoint(Mh)}else null===r.boundingBox&&r.computeBoundingBox(),Hm.copy(r.boundingBox),Hm.applyMatrix4(e.matrixWorld),this.union(Hm)}const i=e.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Mh),Mh.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(O_),RA.subVectors(this.max,O_),Vm.subVectors(e.a,O_),Wm.subVectors(e.b,O_),Um.subVectors(e.c,O_),Hd.subVectors(Wm,Vm),Vd.subVectors(Um,Wm),vp.subVectors(Vm,Um);let t=[0,-Hd.z,Hd.y,0,-Vd.z,Vd.y,0,-vp.z,vp.y,Hd.z,0,-Hd.x,Vd.z,0,-Vd.x,vp.z,0,-vp.x,-Hd.y,Hd.x,0,-Vd.y,Vd.x,0,-vp.y,vp.x,0];return!(!CD(t,Vm,Wm,Um,RA)||(t=[1,0,0,0,1,0,0,0,1],!CD(t,Vm,Wm,Um,RA)))&&(DA.crossVectors(Hd,Vd),t=[DA.x,DA.y,DA.z],CD(t,Vm,Wm,Um,RA))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Mh).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Mh).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Eh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Eh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Eh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Eh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Eh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Eh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Eh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Eh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Eh)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Eh=[new Je,new Je,new Je,new Je,new Je,new Je,new Je,new Je],Mh=new Je,Hm=new xh,Vm=new Je,Wm=new Je,Um=new Je,Hd=new Je,Vd=new Je,vp=new Je,O_=new Je,RA=new Je,DA=new Je,yp=new Je;function CD(n,e,t,i,r){for(let o=0,s=n.length-3;o<=s;o+=3){yp.fromArray(n,o);const a=r.x*Math.abs(yp.x)+r.y*Math.abs(yp.y)+r.z*Math.abs(yp.z),c=e.dot(yp),b=t.dot(yp),L=i.dot(yp);if(Math.max(-Math.max(c,b,L),Math.min(c,b,L))>a)return!1}return!0}const Uq=new xh,F_=new Je,wD=new Je;class Th{constructor(e=new Je,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;void 0!==t?i.copy(t):Uq.setFromPoints(e).getCenter(i);let r=0;for(let o=0,s=e.length;o<s;o++)r=Math.max(r,i.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;F_.subVectors(e,this.center);const t=F_.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=.5*(i-this.radius);this.center.addScaledVector(F_,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(wD.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(F_.copy(e.center).add(wD)),this.expandByPoint(F_.copy(e.center).sub(wD))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Rh=new Je,AD=new Je,kA=new Je,Wd=new Je,SD=new Je,LA=new Je,ID=new Je;class PA{constructor(e=new Je,t=new Je(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Rh)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Rh.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Rh.copy(this.origin).addScaledVector(this.direction,t),Rh.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){AD.copy(e).add(t).multiplyScalar(.5),kA.copy(t).sub(e).normalize(),Wd.copy(this.origin).sub(AD);const o=.5*e.distanceTo(t),s=-this.direction.dot(kA),a=Wd.dot(this.direction),c=-Wd.dot(kA),b=Wd.lengthSq(),L=Math.abs(1-s*s);let H,G,j,J;if(L>0)if(H=s*c-a,G=s*a-c,J=o*L,H>=0)if(G>=-J)if(G<=J){const ce=1/L;H*=ce,G*=ce,j=H*(H+s*G+2*a)+G*(s*H+G+2*c)+b}else G=o,H=Math.max(0,-(s*G+a)),j=-H*H+G*(G+2*c)+b;else G=-o,H=Math.max(0,-(s*G+a)),j=-H*H+G*(G+2*c)+b;else G<=-J?(H=Math.max(0,-(-s*o+a)),G=H>0?-o:Math.min(Math.max(-o,-c),o),j=-H*H+G*(G+2*c)+b):G<=J?(H=0,G=Math.min(Math.max(-o,-c),o),j=G*(G+2*c)+b):(H=Math.max(0,-(s*o+a)),G=H>0?o:Math.min(Math.max(-o,-c),o),j=-H*H+G*(G+2*c)+b);else G=s>0?-o:o,H=Math.max(0,-(s*G+a)),j=-H*H+G*(G+2*c)+b;return i&&i.copy(this.origin).addScaledVector(this.direction,H),r&&r.copy(AD).addScaledVector(kA,G),j}intersectSphere(e,t){Rh.subVectors(e.center,this.origin);const i=Rh.dot(this.direction),r=Rh.dot(Rh)-i*i,o=e.radius*e.radius;if(r>o)return null;const s=Math.sqrt(o-r),a=i-s,c=i+s;return c<0?null:this.at(a<0?c:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return null===i?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,o,s,a,c;const b=1/this.direction.x,L=1/this.direction.y,H=1/this.direction.z,G=this.origin;return b>=0?(i=(e.min.x-G.x)*b,r=(e.max.x-G.x)*b):(i=(e.max.x-G.x)*b,r=(e.min.x-G.x)*b),L>=0?(o=(e.min.y-G.y)*L,s=(e.max.y-G.y)*L):(o=(e.max.y-G.y)*L,s=(e.min.y-G.y)*L),i>s||o>r||((o>i||isNaN(i))&&(i=o),(s<r||isNaN(r))&&(r=s),H>=0?(a=(e.min.z-G.z)*H,c=(e.max.z-G.z)*H):(a=(e.max.z-G.z)*H,c=(e.min.z-G.z)*H),i>c||a>r)||((a>i||i!=i)&&(i=a),(c<r||r!=r)&&(r=c),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return null!==this.intersectBox(e,Rh)}intersectTriangle(e,t,i,r,o){SD.subVectors(t,e),LA.subVectors(i,e),ID.crossVectors(SD,LA);let a,s=this.direction.dot(ID);if(s>0){if(r)return null;a=1}else{if(!(s<0))return null;a=-1,s=-s}Wd.subVectors(this.origin,e);const c=a*this.direction.dot(LA.crossVectors(Wd,LA));if(c<0)return null;const b=a*this.direction.dot(SD.cross(Wd));if(b<0||c+b>s)return null;const L=-a*Wd.dot(ID);return L<0?null:this.at(L/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class ar{constructor(){ar.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,o,s,a,c,b,L,H,G,j,J,ce,se){const te=this.elements;return te[0]=e,te[4]=t,te[8]=i,te[12]=r,te[1]=o,te[5]=s,te[9]=a,te[13]=c,te[2]=b,te[6]=L,te[10]=H,te[14]=G,te[3]=j,te[7]=J,te[11]=ce,te[15]=se,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new ar).fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Gm.setFromMatrixColumn(e,0).length(),o=1/Gm.setFromMatrixColumn(e,1).length(),s=1/Gm.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*o,t[5]=i[5]*o,t[6]=i[6]*o,t[7]=0,t[8]=i[8]*s,t[9]=i[9]*s,t[10]=i[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,o=e.z,s=Math.cos(i),a=Math.sin(i),c=Math.cos(r),b=Math.sin(r),L=Math.cos(o),H=Math.sin(o);if("XYZ"===e.order){const G=s*L,j=s*H,J=a*L,ce=a*H;t[0]=c*L,t[4]=-c*H,t[8]=b,t[1]=j+J*b,t[5]=G-ce*b,t[9]=-a*c,t[2]=ce-G*b,t[6]=J+j*b,t[10]=s*c}else if("YXZ"===e.order){const G=c*L,j=c*H,J=b*L,ce=b*H;t[0]=G+ce*a,t[4]=J*a-j,t[8]=s*b,t[1]=s*H,t[5]=s*L,t[9]=-a,t[2]=j*a-J,t[6]=ce+G*a,t[10]=s*c}else if("ZXY"===e.order){const G=c*L,j=c*H,J=b*L,ce=b*H;t[0]=G-ce*a,t[4]=-s*H,t[8]=J+j*a,t[1]=j+J*a,t[5]=s*L,t[9]=ce-G*a,t[2]=-s*b,t[6]=a,t[10]=s*c}else if("ZYX"===e.order){const G=s*L,j=s*H,J=a*L,ce=a*H;t[0]=c*L,t[4]=J*b-j,t[8]=G*b+ce,t[1]=c*H,t[5]=ce*b+G,t[9]=j*b-J,t[2]=-b,t[6]=a*c,t[10]=s*c}else if("YZX"===e.order){const G=s*c,j=s*b,J=a*c,ce=a*b;t[0]=c*L,t[4]=ce-G*H,t[8]=J*H+j,t[1]=H,t[5]=s*L,t[9]=-a*L,t[2]=-b*L,t[6]=j*H+J,t[10]=G-ce*H}else if("XZY"===e.order){const G=s*c,j=s*b,J=a*c,ce=a*b;t[0]=c*L,t[4]=-H,t[8]=b*L,t[1]=G*H+ce,t[5]=s*L,t[9]=j*H-J,t[2]=J*H-j,t[6]=a*L,t[10]=ce*H+G}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Gq,e,zq)}lookAt(e,t,i){const r=this.elements;return Al.subVectors(e,t),0===Al.lengthSq()&&(Al.z=1),Al.normalize(),Ud.crossVectors(i,Al),0===Ud.lengthSq()&&(1===Math.abs(i.z)?Al.x+=1e-4:Al.z+=1e-4,Al.normalize(),Ud.crossVectors(i,Al)),Ud.normalize(),OA.crossVectors(Al,Ud),r[0]=Ud.x,r[4]=OA.x,r[8]=Al.x,r[1]=Ud.y,r[5]=OA.y,r[9]=Al.y,r[2]=Ud.z,r[6]=OA.z,r[10]=Al.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,o=this.elements,s=i[0],a=i[4],c=i[8],b=i[12],L=i[1],H=i[5],G=i[9],j=i[13],J=i[2],ce=i[6],se=i[10],te=i[14],_e=i[3],ge=i[7],Me=i[11],Re=i[15],$e=r[0],Qe=r[4],it=r[8],Le=r[12],Ze=r[1],vt=r[5],Ft=r[9],gt=r[13],ze=r[2],ft=r[6],Ye=r[10],rt=r[14],ht=r[3],mt=r[7],Rt=r[11],Xt=r[15];return o[0]=s*$e+a*Ze+c*ze+b*ht,o[4]=s*Qe+a*vt+c*ft+b*mt,o[8]=s*it+a*Ft+c*Ye+b*Rt,o[12]=s*Le+a*gt+c*rt+b*Xt,o[1]=L*$e+H*Ze+G*ze+j*ht,o[5]=L*Qe+H*vt+G*ft+j*mt,o[9]=L*it+H*Ft+G*Ye+j*Rt,o[13]=L*Le+H*gt+G*rt+j*Xt,o[2]=J*$e+ce*Ze+se*ze+te*ht,o[6]=J*Qe+ce*vt+se*ft+te*mt,o[10]=J*it+ce*Ft+se*Ye+te*Rt,o[14]=J*Le+ce*gt+se*rt+te*Xt,o[3]=_e*$e+ge*Ze+Me*ze+Re*ht,o[7]=_e*Qe+ge*vt+Me*ft+Re*mt,o[11]=_e*it+ge*Ft+Me*Ye+Re*Rt,o[15]=_e*Le+ge*gt+Me*rt+Re*Xt,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],o=e[12],s=e[1],a=e[5],c=e[9],b=e[13],L=e[2],H=e[6],G=e[10],j=e[14];return e[3]*(+o*c*H-r*b*H-o*a*G+i*b*G+r*a*j-i*c*j)+e[7]*(+t*c*j-t*b*G+o*s*G-r*s*j+r*b*L-o*c*L)+e[11]*(+t*b*H-t*a*j-o*s*H+i*s*j+o*a*L-i*b*L)+e[15]*(-r*a*L-t*c*H+t*a*G+r*s*H-i*s*G+i*c*L)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],c=e[6],b=e[7],L=e[8],H=e[9],G=e[10],j=e[11],J=e[12],ce=e[13],se=e[14],te=e[15],_e=H*se*b-ce*G*b+ce*c*j-a*se*j-H*c*te+a*G*te,ge=J*G*b-L*se*b-J*c*j+s*se*j+L*c*te-s*G*te,Me=L*ce*b-J*H*b+J*a*j-s*ce*j-L*a*te+s*H*te,Re=J*H*c-L*ce*c-J*a*G+s*ce*G+L*a*se-s*H*se,$e=t*_e+i*ge+r*Me+o*Re;if(0===$e)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Qe=1/$e;return e[0]=_e*Qe,e[1]=(ce*G*o-H*se*o-ce*r*j+i*se*j+H*r*te-i*G*te)*Qe,e[2]=(a*se*o-ce*c*o+ce*r*b-i*se*b-a*r*te+i*c*te)*Qe,e[3]=(H*c*o-a*G*o-H*r*b+i*G*b+a*r*j-i*c*j)*Qe,e[4]=ge*Qe,e[5]=(L*se*o-J*G*o+J*r*j-t*se*j-L*r*te+t*G*te)*Qe,e[6]=(J*c*o-s*se*o-J*r*b+t*se*b+s*r*te-t*c*te)*Qe,e[7]=(s*G*o-L*c*o+L*r*b-t*G*b-s*r*j+t*c*j)*Qe,e[8]=Me*Qe,e[9]=(J*H*o-L*ce*o-J*i*j+t*ce*j+L*i*te-t*H*te)*Qe,e[10]=(s*ce*o-J*a*o+J*i*b-t*ce*b-s*i*te+t*a*te)*Qe,e[11]=(L*a*o-s*H*o-L*i*b+t*H*b+s*i*j-t*a*j)*Qe,e[12]=Re*Qe,e[13]=(L*ce*r-J*H*r+J*i*G-t*ce*G-L*i*se+t*H*se)*Qe,e[14]=(J*a*r-s*ce*r-J*i*c+t*ce*c+s*i*se-t*a*se)*Qe,e[15]=(s*H*r-L*a*r+L*i*c-t*H*c-s*i*G+t*a*G)*Qe,this}scale(e){const t=this.elements,i=e.x,r=e.y,o=e.z;return t[0]*=i,t[4]*=r,t[8]*=o,t[1]*=i,t[5]*=r,t[9]*=o,t[2]*=i,t[6]*=r,t[10]*=o,t[3]*=i,t[7]*=r,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),o=1-i,s=e.x,a=e.y,c=e.z,b=o*s,L=o*a;return this.set(b*s+i,b*a-r*c,b*c+r*a,0,b*a+r*c,L*a+i,L*c-r*s,0,b*c-r*a,L*c+r*s,o*c*c+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,o,s){return this.set(1,i,o,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,o=t._x,s=t._y,a=t._z,c=t._w,b=o+o,L=s+s,H=a+a,G=o*b,j=o*L,J=o*H,ce=s*L,se=s*H,te=a*H,_e=c*b,ge=c*L,Me=c*H,Re=i.x,$e=i.y,Qe=i.z;return r[0]=(1-(ce+te))*Re,r[1]=(j+Me)*Re,r[2]=(J-ge)*Re,r[3]=0,r[4]=(j-Me)*$e,r[5]=(1-(G+te))*$e,r[6]=(se+_e)*$e,r[7]=0,r[8]=(J+ge)*Qe,r[9]=(se-_e)*Qe,r[10]=(1-(G+ce))*Qe,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let o=Gm.set(r[0],r[1],r[2]).length();const s=Gm.set(r[4],r[5],r[6]).length(),a=Gm.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],zc.copy(this);const b=1/o,L=1/s,H=1/a;return zc.elements[0]*=b,zc.elements[1]*=b,zc.elements[2]*=b,zc.elements[4]*=L,zc.elements[5]*=L,zc.elements[6]*=L,zc.elements[8]*=H,zc.elements[9]*=H,zc.elements[10]*=H,t.setFromRotationMatrix(zc),i.x=o,i.y=s,i.z=a,this}makePerspective(e,t,i,r,o,s){const a=this.elements,b=2*o/(i-r),L=(t+e)/(t-e),H=(i+r)/(i-r),G=-(s+o)/(s-o),j=-2*s*o/(s-o);return a[0]=2*o/(t-e),a[4]=0,a[8]=L,a[12]=0,a[1]=0,a[5]=b,a[9]=H,a[13]=0,a[2]=0,a[6]=0,a[10]=G,a[14]=j,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,o,s){const a=this.elements,c=1/(t-e),b=1/(i-r),L=1/(s-o),H=(t+e)*c,G=(i+r)*b,j=(s+o)*L;return a[0]=2*c,a[4]=0,a[8]=0,a[12]=-H,a[1]=0,a[5]=2*b,a[9]=0,a[13]=-G,a[2]=0,a[6]=0,a[10]=-2*L,a[14]=-j,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Gm=new Je,zc=new ar,Gq=new Je(0,0,0),zq=new Je(1,1,1),Ud=new Je,OA=new Je,Al=new Je,eH=new ar,tH=new Ha;let jq=(()=>{class n{constructor(t=0,i=0,r=0,o=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=r,this._order=o}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,r,o=this._order){return this._x=t,this._y=i,this._z=r,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,r=!0){const o=t.elements,s=o[0],a=o[4],c=o[8],b=o[1],L=o[5],H=o[9],G=o[2],j=o[6],J=o[10];switch(i){case"XYZ":this._y=Math.asin(jo(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-H,J),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(j,L),this._z=0);break;case"YXZ":this._x=Math.asin(-jo(H,-1,1)),Math.abs(H)<.9999999?(this._y=Math.atan2(c,J),this._z=Math.atan2(b,L)):(this._y=Math.atan2(-G,s),this._z=0);break;case"ZXY":this._x=Math.asin(jo(j,-1,1)),Math.abs(j)<.9999999?(this._y=Math.atan2(-G,J),this._z=Math.atan2(-a,L)):(this._y=0,this._z=Math.atan2(b,s));break;case"ZYX":this._y=Math.asin(-jo(G,-1,1)),Math.abs(G)<.9999999?(this._x=Math.atan2(j,J),this._z=Math.atan2(b,s)):(this._x=0,this._z=Math.atan2(-a,L));break;case"YZX":this._z=Math.asin(jo(b,-1,1)),Math.abs(b)<.9999999?(this._x=Math.atan2(-H,L),this._y=Math.atan2(-G,s)):(this._x=0,this._y=Math.atan2(c,J));break;case"XZY":this._z=Math.asin(-jo(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(j,L),this._y=Math.atan2(c,s)):(this._x=Math.atan2(-H,J),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===r&&this._onChangeCallback(),this}setFromQuaternion(t,i,r){return eH.makeRotationFromQuaternion(t),this.setFromRotationMatrix(eH,i,r)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return tH.setFromEuler(this),this.setFromQuaternion(tH,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class xD{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let Zq=0;const nH=new Je,zm=new Ha,Dh=new ar,FA=new Je,N_=new Je,Kq=new Je,Xq=new Ha,iH=new Je(1,0,0),rH=new Je(0,1,0),oH=new Je(0,0,1),Yq={type:"added"},sH={type:"removed"};let zs=(()=>{class n extends pp{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Zq++}),this.uuid=Cl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new Je,i=new jq,r=new Ha,o=new Je(1,1,1);i._onChange(function s(){r.setFromEuler(i,!1)}),r._onChange(function a(){i.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new ar},normalMatrix:{value:new Nr}}),this.matrix=new ar,this.matrixWorld=new ar,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new xD,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return zm.setFromAxisAngle(t,i),this.quaternion.multiply(zm),this}rotateOnWorldAxis(t,i){return zm.setFromAxisAngle(t,i),this.quaternion.premultiply(zm),this}rotateX(t){return this.rotateOnAxis(iH,t)}rotateY(t){return this.rotateOnAxis(rH,t)}rotateZ(t){return this.rotateOnAxis(oH,t)}translateOnAxis(t,i){return nH.copy(t).applyQuaternion(this.quaternion),this.position.add(nH.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(iH,t)}translateY(t){return this.translateOnAxis(rH,t)}translateZ(t){return this.translateOnAxis(oH,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Dh.copy(this.matrixWorld).invert())}lookAt(t,i,r){t.isVector3?FA.copy(t):FA.set(t,i,r);const o=this.parent;this.updateWorldMatrix(!0,!1),N_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Dh.lookAt(N_,FA,this.up):Dh.lookAt(FA,N_,this.up),this.quaternion.setFromRotationMatrix(Dh),o&&(Dh.extractRotation(o.matrixWorld),zm.setFromRotationMatrix(Dh),this.quaternion.premultiply(zm.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Yq)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(sH)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const i=this.children[t];i.parent=null,i.dispatchEvent(sH)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),Dh.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Dh.multiply(t.parent.matrixWorld)),t.applyMatrix4(Dh),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let r=0,o=this.children.length;r<o;r++){const a=this.children[r].getObjectByProperty(t,i);if(void 0!==a)return a}}getObjectsByProperty(t,i){let r=[];this[t]===i&&r.push(this);for(let o=0,s=this.children.length;o<s;o++){const a=this.children[o].getObjectsByProperty(t,i);a.length>0&&(r=r.concat(a))}return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(N_,t,Kq),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(N_,Xq,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].traverseVisible(t)}traverseAncestors(t){const i=this.parent;null!==i&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let r=0,o=i.length;r<o;r++){const s=i[r];(!0===s.matrixWorldAutoUpdate||!0===t)&&s.updateMatrixWorld(t)}}updateWorldMatrix(t,i){const r=this.parent;if(!0===t&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===i){const o=this.children;for(let s=0,a=o.length;s<a;s++){const c=o[s];!0===c.matrixWorldAutoUpdate&&c.updateWorldMatrix(!1,!0)}}}toJSON(t){const i=void 0===t||"string"==typeof t,r={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const o={};function s(c,b){return void 0===c[b.uuid]&&(c[b.uuid]=b.toJSON(t)),b.uuid}if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),!1===this.frustumCulled&&(o.frustumCulled=!1),0!==this.renderOrder&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(o.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(o.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(t.geometries,this.geometry);const c=this.geometry.parameters;if(void 0!==c&&void 0!==c.shapes){const b=c.shapes;if(Array.isArray(b))for(let L=0,H=b.length;L<H;L++)s(t.shapes,b[L]);else s(t.shapes,b)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(s(t.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const c=[];for(let b=0,L=this.material.length;b<L;b++)c.push(s(t.materials,this.material[b]));o.material=c}else o.material=s(t.materials,this.material);if(this.children.length>0){o.children=[];for(let c=0;c<this.children.length;c++)o.children.push(this.children[c].toJSON(t).object)}if(this.animations.length>0){o.animations=[];for(let c=0;c<this.animations.length;c++)o.animations.push(s(t.animations,this.animations[c]))}if(i){const c=a(t.geometries),b=a(t.materials),L=a(t.textures),H=a(t.images),G=a(t.shapes),j=a(t.skeletons),J=a(t.animations),ce=a(t.nodes);c.length>0&&(r.geometries=c),b.length>0&&(r.materials=b),L.length>0&&(r.textures=L),H.length>0&&(r.images=H),G.length>0&&(r.shapes=G),j.length>0&&(r.skeletons=j),J.length>0&&(r.animations=J),ce.length>0&&(r.nodes=ce)}return r.object=o,r;function a(c){const b=[];for(const L in c){const H=c[L];delete H.metadata,b.push(H)}return b}}clone(t){return(new this.constructor).copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===i)for(let r=0;r<t.children.length;r++)this.add(t.children[r].clone());return this}}return n.DEFAULT_UP=new Je(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const jc=new Je,kh=new Je,ED=new Je,Lh=new Je,jm=new Je,Zm=new Je,aH=new Je,MD=new Je,TD=new Je,RD=new Je;let NA=!1;class Sl{constructor(e=new Je,t=new Je,i=new Je){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),jc.subVectors(e,t),r.cross(jc);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,t,i,r,o){jc.subVectors(r,t),kh.subVectors(i,t),ED.subVectors(e,t);const s=jc.dot(jc),a=jc.dot(kh),c=jc.dot(ED),b=kh.dot(kh),L=kh.dot(ED),H=s*b-a*a;if(0===H)return o.set(-2,-1,-1);const G=1/H,j=(b*c-a*L)*G,J=(s*L-a*c)*G;return o.set(1-j-J,J,j)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Lh),Lh.x>=0&&Lh.y>=0&&Lh.x+Lh.y<=1}static getUV(e,t,i,r,o,s,a,c){return!1===NA&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),NA=!0),this.getInterpolation(e,t,i,r,o,s,a,c)}static getInterpolation(e,t,i,r,o,s,a,c){return this.getBarycoord(e,t,i,r,Lh),c.setScalar(0),c.addScaledVector(o,Lh.x),c.addScaledVector(s,Lh.y),c.addScaledVector(a,Lh.z),c}static isFrontFacing(e,t,i,r){return jc.subVectors(i,t),kh.subVectors(e,t),jc.cross(kh).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return jc.subVectors(this.c,this.b),kh.subVectors(this.a,this.b),.5*jc.cross(kh).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Sl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Sl.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,o){return!1===NA&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),NA=!0),Sl.getInterpolation(e,this.a,this.b,this.c,t,i,r,o)}getInterpolation(e,t,i,r,o){return Sl.getInterpolation(e,this.a,this.b,this.c,t,i,r,o)}containsPoint(e){return Sl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Sl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,o=this.c;let s,a;jm.subVectors(r,i),Zm.subVectors(o,i),MD.subVectors(e,i);const c=jm.dot(MD),b=Zm.dot(MD);if(c<=0&&b<=0)return t.copy(i);TD.subVectors(e,r);const L=jm.dot(TD),H=Zm.dot(TD);if(L>=0&&H<=L)return t.copy(r);const G=c*H-L*b;if(G<=0&&c>=0&&L<=0)return s=c/(c-L),t.copy(i).addScaledVector(jm,s);RD.subVectors(e,o);const j=jm.dot(RD),J=Zm.dot(RD);if(J>=0&&j<=J)return t.copy(o);const ce=j*b-c*J;if(ce<=0&&b>=0&&J<=0)return a=b/(b-J),t.copy(i).addScaledVector(Zm,a);const se=L*J-j*H;if(se<=0&&H-L>=0&&j-J>=0)return aH.subVectors(o,r),a=(H-L)/(H-L+(j-J)),t.copy(r).addScaledVector(aH,a);const te=1/(se+ce+G);return s=ce*te,a=G*te,t.copy(i).addScaledVector(jm,s).addScaledVector(Zm,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Jq=0;class Ph extends pp{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Jq++}),this.uuid=Cl(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const i=e[t];if(void 0===i){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(o){const s=[];for(const a in o){const c=o[a];delete c.metadata,s.push(c)}return s}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(i.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),t){const o=r(e.textures),s=r(e.images);o.length>0&&(i.textures=o),s.length>0&&(i.images=s)}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(null!==t){const r=t.length;i=new Array(r);for(let o=0;o!==r;++o)i[o]=t[o].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const lH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Zc={h:0,s:0,l:0},$A={h:0,s:0,l:0};function DD(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class Jn{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===t&&void 0===i?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=mr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Gc.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Gc.workingColorSpace){return this.r=e,this.g=t,this.b=i,Gc.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Gc.workingColorSpace){if(e=function pD(n,e){return(n%e+e)%e}(e,1),t=jo(t,0,1),i=jo(i,0,1),0===t)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+t):i+t-i*t,s=2*i-o;this.r=DD(s,o,e+1/3),this.g=DD(s,o,e),this.b=DD(s,o,e-1/3)}return Gc.toWorkingColorSpace(this,r),this}setStyle(e,t=mr){function i(o){void 0!==o&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=r[2];switch(r[1]){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=r[1],s=o.length;if(3===s)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(6===s)return this.setHex(parseInt(o,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=mr){const i=lH[e.toLowerCase()];return void 0!==i?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Nm(e.r),this.g=Nm(e.g),this.b=Nm(e.b),this}copyLinearToSRGB(e){return this.r=vD(e.r),this.g=vD(e.g),this.b=vD(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=mr){return Gc.fromWorkingColorSpace(wa.copy(this),e),65536*Math.round(jo(255*wa.r,0,255))+256*Math.round(jo(255*wa.g,0,255))+Math.round(jo(255*wa.b,0,255))}getHexString(e=mr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Gc.workingColorSpace){Gc.fromWorkingColorSpace(wa.copy(this),t);const i=wa.r,r=wa.g,o=wa.b,s=Math.max(i,r,o),a=Math.min(i,r,o);let c,b;const L=(a+s)/2;if(a===s)c=0,b=0;else{const H=s-a;switch(b=L<=.5?H/(s+a):H/(2-s-a),s){case i:c=(r-o)/H+(r<o?6:0);break;case r:c=(o-i)/H+2;break;case o:c=(i-r)/H+4}c/=6}return e.h=c,e.s=b,e.l=L,e}getRGB(e,t=Gc.workingColorSpace){return Gc.fromWorkingColorSpace(wa.copy(this),t),e.r=wa.r,e.g=wa.g,e.b=wa.b,e}getStyle(e=mr){Gc.fromWorkingColorSpace(wa.copy(this),e);const t=wa.r,i=wa.g,r=wa.b;return e!==mr?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*i)},${Math.round(255*r)})`}offsetHSL(e,t,i){return this.getHSL(Zc),Zc.h+=e,Zc.s+=t,Zc.l+=i,this.setHSL(Zc.h,Zc.s,Zc.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Zc),e.getHSL($A);const i=k_(Zc.h,$A.h,t),r=k_(Zc.s,$A.s,t),o=k_(Zc.l,$A.l,t);return this.setHSL(i,r,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,o=e.elements;return this.r=o[0]*t+o[3]*i+o[6]*r,this.g=o[1]*t+o[4]*i+o[7]*r,this.b=o[2]*t+o[5]*i+o[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const wa=new Jn;Jn.NAMES=lH;class _p extends Ph{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Jn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const bs=new Je,BA=new ln;class js{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,i=this.count;t<i;t++)BA.fromBufferAttribute(this,t),BA.applyMatrix3(e),this.setXY(t,BA.x,BA.y);else if(3===this.itemSize)for(let t=0,i=this.count;t<i;t++)bs.fromBufferAttribute(this,t),bs.applyMatrix3(e),this.setXYZ(t,bs.x,bs.y,bs.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)bs.fromBufferAttribute(this,t),bs.applyMatrix4(e),this.setXYZ(t,bs.x,bs.y,bs.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)bs.fromBufferAttribute(this,t),bs.applyNormalMatrix(e),this.setXYZ(t,bs.x,bs.y,bs.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)bs.fromBufferAttribute(this,t),bs.transformDirection(e),this.setXYZ(t,bs.x,bs.y,bs.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=wl(t,this.array)),t}setX(e,t){return this.normalized&&(t=vr(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=wl(t,this.array)),t}setY(e,t){return this.normalized&&(t=vr(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=wl(t,this.array)),t}setZ(e,t){return this.normalized&&(t=vr(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=wl(t,this.array)),t}setW(e,t){return this.normalized&&(t=vr(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=vr(t,this.array),i=vr(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=vr(t,this.array),i=vr(i,this.array),r=vr(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,o){return e*=this.itemSize,this.normalized&&(t=vr(t,this.array),i=vr(i,this.array),r=vr(r,this.array),o=vr(o,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class cH extends js{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class uH extends js{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class mi extends js{constructor(e,t,i){super(new Float32Array(e),t,i)}}let Qq=0;const Yl=new ar,kD=new zs,Km=new Je,Il=new xh,B_=new xh,Zs=new Je;class Ir extends pp{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Qq++}),this.uuid=Cl(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(XB(e)?uH:cH)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const o=(new Nr).getNormalMatrix(e);i.applyNormalMatrix(o),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Yl.makeRotationFromQuaternion(e),this.applyMatrix4(Yl),this}rotateX(e){return Yl.makeRotationX(e),this.applyMatrix4(Yl),this}rotateY(e){return Yl.makeRotationY(e),this.applyMatrix4(Yl),this}rotateZ(e){return Yl.makeRotationZ(e),this.applyMatrix4(Yl),this}translate(e,t,i){return Yl.makeTranslation(e,t,i),this.applyMatrix4(Yl),this}scale(e,t,i){return Yl.makeScale(e,t,i),this.applyMatrix4(Yl),this}lookAt(e){return kD.lookAt(e),kD.updateMatrix(),this.applyMatrix4(kD.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Km).negate(),this.translate(Km.x,Km.y,Km.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const o=e[i];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new mi(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new xh);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Je(-1/0,-1/0,-1/0),new Je(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++)Il.setFromBufferAttribute(t[i]),this.morphTargetsRelative?(Zs.addVectors(this.boundingBox.min,Il.min),this.boundingBox.expandByPoint(Zs),Zs.addVectors(this.boundingBox.max,Il.max),this.boundingBox.expandByPoint(Zs)):(this.boundingBox.expandByPoint(Il.min),this.boundingBox.expandByPoint(Il.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Th);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Je,1/0);if(e){const i=this.boundingSphere.center;if(Il.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++)B_.setFromBufferAttribute(t[o]),this.morphTargetsRelative?(Zs.addVectors(Il.min,B_.min),Il.expandByPoint(Zs),Zs.addVectors(Il.max,B_.max),Il.expandByPoint(Zs)):(Il.expandByPoint(B_.min),Il.expandByPoint(B_.max));Il.getCenter(i);let r=0;for(let o=0,s=e.count;o<s;o++)Zs.fromBufferAttribute(e,o),r=Math.max(r,i.distanceToSquared(Zs));if(t)for(let o=0,s=t.length;o<s;o++){const a=t[o],c=this.morphTargetsRelative;for(let b=0,L=a.count;b<L;b++)Zs.fromBufferAttribute(a,b),c&&(Km.fromBufferAttribute(e,b),Zs.add(Km)),r=Math.max(r,i.distanceToSquared(Zs))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=e.array,r=t.position.array,o=t.normal.array,s=t.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new js(new Float32Array(4*a),4));const c=this.getAttribute("tangent").array,b=[],L=[];for(let Ze=0;Ze<a;Ze++)b[Ze]=new Je,L[Ze]=new Je;const H=new Je,G=new Je,j=new Je,J=new ln,ce=new ln,se=new ln,te=new Je,_e=new Je;function ge(Ze,vt,Ft){H.fromArray(r,3*Ze),G.fromArray(r,3*vt),j.fromArray(r,3*Ft),J.fromArray(s,2*Ze),ce.fromArray(s,2*vt),se.fromArray(s,2*Ft),G.sub(H),j.sub(H),ce.sub(J),se.sub(J);const gt=1/(ce.x*se.y-se.x*ce.y);!isFinite(gt)||(te.copy(G).multiplyScalar(se.y).addScaledVector(j,-ce.y).multiplyScalar(gt),_e.copy(j).multiplyScalar(ce.x).addScaledVector(G,-se.x).multiplyScalar(gt),b[Ze].add(te),b[vt].add(te),b[Ft].add(te),L[Ze].add(_e),L[vt].add(_e),L[Ft].add(_e))}let Me=this.groups;0===Me.length&&(Me=[{start:0,count:i.length}]);for(let Ze=0,vt=Me.length;Ze<vt;++Ze){const Ft=Me[Ze],gt=Ft.start;for(let ft=gt,Ye=gt+Ft.count;ft<Ye;ft+=3)ge(i[ft+0],i[ft+1],i[ft+2])}const Re=new Je,$e=new Je,Qe=new Je,it=new Je;function Le(Ze){Qe.fromArray(o,3*Ze),it.copy(Qe);const vt=b[Ze];Re.copy(vt),Re.sub(Qe.multiplyScalar(Qe.dot(vt))).normalize(),$e.crossVectors(it,vt);const gt=$e.dot(L[Ze])<0?-1:1;c[4*Ze]=Re.x,c[4*Ze+1]=Re.y,c[4*Ze+2]=Re.z,c[4*Ze+3]=gt}for(let Ze=0,vt=Me.length;Ze<vt;++Ze){const Ft=Me[Ze],gt=Ft.start;for(let ft=gt,Ye=gt+Ft.count;ft<Ye;ft+=3)Le(i[ft+0]),Le(i[ft+1]),Le(i[ft+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let i=this.getAttribute("normal");if(void 0===i)i=new js(new Float32Array(3*t.count),3),this.setAttribute("normal",i);else for(let G=0,j=i.count;G<j;G++)i.setXYZ(G,0,0,0);const r=new Je,o=new Je,s=new Je,a=new Je,c=new Je,b=new Je,L=new Je,H=new Je;if(e)for(let G=0,j=e.count;G<j;G+=3){const J=e.getX(G+0),ce=e.getX(G+1),se=e.getX(G+2);r.fromBufferAttribute(t,J),o.fromBufferAttribute(t,ce),s.fromBufferAttribute(t,se),L.subVectors(s,o),H.subVectors(r,o),L.cross(H),a.fromBufferAttribute(i,J),c.fromBufferAttribute(i,ce),b.fromBufferAttribute(i,se),a.add(L),c.add(L),b.add(L),i.setXYZ(J,a.x,a.y,a.z),i.setXYZ(ce,c.x,c.y,c.z),i.setXYZ(se,b.x,b.y,b.z)}else for(let G=0,j=t.count;G<j;G+=3)r.fromBufferAttribute(t,G+0),o.fromBufferAttribute(t,G+1),s.fromBufferAttribute(t,G+2),L.subVectors(s,o),H.subVectors(r,o),L.cross(H),i.setXYZ(G+0,L.x,L.y,L.z),i.setXYZ(G+1,L.x,L.y,L.z),i.setXYZ(G+2,L.x,L.y,L.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Zs.fromBufferAttribute(e,t),Zs.normalize(),e.setXYZ(t,Zs.x,Zs.y,Zs.z)}toNonIndexed(){function e(a,c){const b=a.array,L=a.itemSize,H=a.normalized,G=new b.constructor(c.length*L);let j=0,J=0;for(let ce=0,se=c.length;ce<se;ce++){j=a.isInterleavedBufferAttribute?c[ce]*a.data.stride+a.offset:c[ce]*L;for(let te=0;te<L;te++)G[J++]=b[j++]}return new js(G,L,H)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ir,i=this.index.array,r=this.attributes;for(const a in r){const b=e(r[a],i);t.setAttribute(a,b)}const o=this.morphAttributes;for(const a in o){const c=[],b=o[a];for(let L=0,H=b.length;L<H;L++){const j=e(b[L],i);c.push(j)}t.morphAttributes[a]=c}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,c=s.length;a<c;a++){const b=s[a];t.addGroup(b.start,b.count,b.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const c=this.parameters;for(const b in c)void 0!==c[b]&&(e[b]=c[b]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const c in i)e.data.attributes[c]=i[c].toJSON(e.data);const r={};let o=!1;for(const c in this.morphAttributes){const b=this.morphAttributes[c],L=[];for(let H=0,G=b.length;H<G;H++)L.push(b[H].toJSON(e.data));L.length>0&&(r[c]=L,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;null!==i&&this.setIndex(i.clone(t));const r=e.attributes;for(const b in r)this.setAttribute(b,r[b].clone(t));const o=e.morphAttributes;for(const b in o){const L=[],H=o[b];for(let G=0,j=H.length;G<j;G++)L.push(H[G].clone(t));this.morphAttributes[b]=L}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let b=0,L=s.length;b<L;b++){const H=s[b];this.addGroup(H.start,H.count,H.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const c=e.boundingSphere;return null!==c&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const hH=new ar,Iu=new PA,HA=new Th,dH=new Je,Xm=new Je,Ym=new Je,Jm=new Je,LD=new Je,VA=new Je,WA=new ln,UA=new ln,GA=new ln,fH=new Je,pH=new Je,gH=new Je,zA=new Je,jA=new Je;class Va extends zs{constructor(e=new Ir,t=new _p){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,t){const i=this.geometry,o=i.morphAttributes.position,s=i.morphTargetsRelative;t.fromBufferAttribute(i.attributes.position,e);const a=this.morphTargetInfluences;if(o&&a){VA.set(0,0,0);for(let c=0,b=o.length;c<b;c++){const L=a[c],H=o[c];0!==L&&(LD.fromBufferAttribute(H,e),VA.addScaledVector(s?LD:LD.sub(t),L))}t.add(VA)}return t}raycast(e,t){const i=this.geometry,o=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),HA.copy(i.boundingSphere),HA.applyMatrix4(o),Iu.copy(e.ray).recast(e.near),(!1!==HA.containsPoint(Iu.origin)||!(null===Iu.intersectSphere(HA,dH)||Iu.origin.distanceToSquared(dH)>UL(e.far-e.near,2)))&&(hH.copy(o).invert(),Iu.copy(e.ray).applyMatrix4(hH),(null===i.boundingBox||!1!==Iu.intersectsBox(i.boundingBox))&&this._computeIntersections(e,t)))}_computeIntersections(e,t){let i;const r=this.geometry,o=this.material,s=r.index,a=r.attributes.position,c=r.attributes.uv,b=r.attributes.uv1,L=r.attributes.normal,H=r.groups,G=r.drawRange;if(null!==s)if(Array.isArray(o))for(let j=0,J=H.length;j<J;j++){const ce=H[j],se=o[ce.materialIndex];for(let ge=Math.max(ce.start,G.start),Me=Math.min(s.count,Math.min(ce.start+ce.count,G.start+G.count));ge<Me;ge+=3){const Re=s.getX(ge),$e=s.getX(ge+1),Qe=s.getX(ge+2);i=ZA(this,se,e,Iu,c,b,L,Re,$e,Qe),i&&(i.faceIndex=Math.floor(ge/3),i.face.materialIndex=ce.materialIndex,t.push(i))}}else for(let ce=Math.max(0,G.start),se=Math.min(s.count,G.start+G.count);ce<se;ce+=3){const te=s.getX(ce),_e=s.getX(ce+1),ge=s.getX(ce+2);i=ZA(this,o,e,Iu,c,b,L,te,_e,ge),i&&(i.faceIndex=Math.floor(ce/3),t.push(i))}else if(void 0!==a)if(Array.isArray(o))for(let j=0,J=H.length;j<J;j++){const ce=H[j],se=o[ce.materialIndex];for(let ge=Math.max(ce.start,G.start),Me=Math.min(a.count,Math.min(ce.start+ce.count,G.start+G.count));ge<Me;ge+=3)i=ZA(this,se,e,Iu,c,b,L,ge,ge+1,ge+2),i&&(i.faceIndex=Math.floor(ge/3),i.face.materialIndex=ce.materialIndex,t.push(i))}else for(let ce=Math.max(0,G.start),se=Math.min(a.count,G.start+G.count);ce<se;ce+=3)i=ZA(this,o,e,Iu,c,b,L,ce,ce+1,ce+2),i&&(i.faceIndex=Math.floor(ce/3),t.push(i))}}function ZA(n,e,t,i,r,o,s,a,c,b){n.getVertexPosition(a,Xm),n.getVertexPosition(c,Ym),n.getVertexPosition(b,Jm);const L=function eQ(n,e,t,i,r,o,s,a){let c;if(c=1===e.side?i.intersectTriangle(s,o,r,!0,a):i.intersectTriangle(r,o,s,0===e.side,a),null===c)return null;jA.copy(a),jA.applyMatrix4(n.matrixWorld);const b=t.ray.origin.distanceTo(jA);return b<t.near||b>t.far?null:{distance:b,point:jA.clone(),object:n}}(n,e,t,i,Xm,Ym,Jm,zA);if(L){r&&(WA.fromBufferAttribute(r,a),UA.fromBufferAttribute(r,c),GA.fromBufferAttribute(r,b),L.uv=Sl.getInterpolation(zA,Xm,Ym,Jm,WA,UA,GA,new ln)),o&&(WA.fromBufferAttribute(o,a),UA.fromBufferAttribute(o,c),GA.fromBufferAttribute(o,b),L.uv1=Sl.getInterpolation(zA,Xm,Ym,Jm,WA,UA,GA,new ln),L.uv2=L.uv1),s&&(fH.fromBufferAttribute(s,a),pH.fromBufferAttribute(s,c),gH.fromBufferAttribute(s,b),L.normal=Sl.getInterpolation(zA,Xm,Ym,Jm,fH,pH,gH,new Je),L.normal.dot(i.direction)>0&&L.normal.multiplyScalar(-1));const H={a,b:c,c:b,normal:new Je,materialIndex:0};Sl.getNormal(Xm,Ym,Jm,H.normal),L.face=H}return L}class Gd extends Ir{constructor(e=1,t=1,i=1,r=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:o,depthSegments:s};const a=this;r=Math.floor(r),o=Math.floor(o),s=Math.floor(s);const c=[],b=[],L=[],H=[];let G=0,j=0;function J(ce,se,te,_e,ge,Me,Re,$e,Qe,it,Le){const Ze=Me/Qe,vt=Re/it,Ft=Me/2,gt=Re/2,ze=$e/2,ft=Qe+1,Ye=it+1;let rt=0,ht=0;const mt=new Je;for(let Rt=0;Rt<Ye;Rt++){const Xt=Rt*vt-gt;for(let zt=0;zt<ft;zt++)mt[ce]=(zt*Ze-Ft)*_e,mt[se]=Xt*ge,mt[te]=ze,b.push(mt.x,mt.y,mt.z),mt[ce]=0,mt[se]=0,mt[te]=$e>0?1:-1,L.push(mt.x,mt.y,mt.z),H.push(zt/Qe),H.push(1-Rt/it),rt+=1}for(let Rt=0;Rt<it;Rt++)for(let Xt=0;Xt<Qe;Xt++){const Ot=G+Xt+ft*(Rt+1),Pt=G+(Xt+1)+ft*(Rt+1),mn=G+(Xt+1)+ft*Rt;c.push(G+Xt+ft*Rt,Ot,mn),c.push(Ot,Pt,mn),ht+=6}a.addGroup(j,ht,Le),j+=ht,G+=rt}J("z","y","x",-1,-1,i,t,e,s,o,0),J("z","y","x",1,-1,i,t,-e,s,o,1),J("x","z","y",1,1,e,i,t,r,s,2),J("x","z","y",1,-1,e,i,-t,r,s,3),J("x","y","z",1,-1,e,t,i,r,o,4),J("x","y","z",-1,-1,e,t,-i,r,o,5),this.setIndex(c),this.setAttribute("position",new mi(b,3)),this.setAttribute("normal",new mi(L,3)),this.setAttribute("uv",new mi(H,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function qm(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():e[t][i]=Array.isArray(r)?r.slice():r}}return e}function Wa(n){const e={};for(let t=0;t<n.length;t++){const i=qm(n[t]);for(const r in i)e[r]=i[r]}return e}function mH(n){return null===n.getRenderTarget()?n.outputColorSpace:Au}const nQ={clone:qm,merge:Wa};class zd extends Ph{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=qm(e.uniforms),this.uniformsGroups=function tQ(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;t.uniforms[r]=s&&s.isTexture?{type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?{type:"c",value:s.getHex()}:s&&s.isVector2?{type:"v2",value:s.toArray()}:s&&s.isVector3?{type:"v3",value:s.toArray()}:s&&s.isVector4?{type:"v4",value:s.toArray()}:s&&s.isMatrix3?{type:"m3",value:s.toArray()}:s&&s.isMatrix4?{type:"m4",value:s.toArray()}:{value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)!0===this.extensions[r]&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class PD extends zs{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ar,this.projectionMatrix=new ar,this.projectionMatrixInverse=new ar}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class Zo extends PD{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Om*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*gp*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Om*Math.atan(Math.tan(.5*gp*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,o,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*gp*this.fov)/this.zoom,i=2*t,r=this.aspect*i,o=-.5*r;const s=this.view;if(null!==this.view&&this.view.enabled){const c=s.fullWidth,b=s.fullHeight;o+=s.offsetX*r/c,t-=s.offsetY*i/b,r*=s.width/c,i*=s.height/b}const a=this.filmOffset;0!==a&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class oQ extends zs{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new Zo(-90,1,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const o=new Zo(-90,1,e,t);o.layers=this.layers,o.up.set(0,1,0),o.lookAt(-1,0,0),this.add(o);const s=new Zo(-90,1,e,t);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(0,1,0),this.add(s);const a=new Zo(-90,1,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const c=new Zo(-90,1,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,1),this.add(c);const b=new Zo(-90,1,e,t);b.layers=this.layers,b.up.set(0,1,0),b.lookAt(0,0,-1),this.add(b)}update(e,t){null===this.parent&&this.updateMatrixWorld();const i=this.renderTarget,[r,o,s,a,c,b]=this.children,L=e.getRenderTarget(),H=e.toneMapping,G=e.xr.enabled;e.toneMapping=0,e.xr.enabled=!1;const j=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,o),e.setRenderTarget(i,2),e.render(t,s),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,c),i.texture.generateMipmaps=j,e.setRenderTarget(i,5),e.render(t,b),e.setRenderTarget(L),e.toneMapping=H,e.xr.enabled=G,i.texture.needsPMREMUpdate=!0}}class KA extends Su{constructor(e,t,i,r,o,s,a,c,b,L){super(e=void 0!==e?e:[],t=void 0!==t?t:301,i,r,o,s,a,c,b,L),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class sQ extends mp{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];void 0!==t.encoding&&(P_("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===hp?mr:""),this.texture=new KA(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:rs}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new Gd(5,5,5),o=new zd({name:"CubemapFromEquirect",uniforms:qm(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:1,blending:0});o.uniforms.tEquirect.value=t;const s=new Va(r,o),a=t.minFilter;return t.minFilter===ap&&(t.minFilter=rs),new oQ(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,i,r){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,i,r);e.setRenderTarget(o)}}const OD=new Je,aQ=new Je,lQ=new Nr;class bp{constructor(e=new Je(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=OD.subVectors(i,t).cross(aQ.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(OD),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:t.copy(e.start).addScaledVector(i,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||lQ.getNormalMatrix(e),r=this.coplanarPoint(OD).applyMatrix4(e),o=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Cp=new Th,XA=new Je;class FD{constructor(e=new bp,t=new bp,i=new bp,r=new bp,o=new bp,s=new bp){this.planes=[e,t,i,r,o,s]}set(e,t,i,r,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(o),a[5].copy(s),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],o=i[1],s=i[2],a=i[3],c=i[4],b=i[5],L=i[6],H=i[7],G=i[8],j=i[9],J=i[10],ce=i[11],se=i[12],te=i[13],_e=i[14],ge=i[15];return t[0].setComponents(a-r,H-c,ce-G,ge-se).normalize(),t[1].setComponents(a+r,H+c,ce+G,ge+se).normalize(),t[2].setComponents(a+o,H+b,ce+j,ge+te).normalize(),t[3].setComponents(a-o,H-b,ce-j,ge-te).normalize(),t[4].setComponents(a-s,H-L,ce-J,ge-_e).normalize(),t[5].setComponents(a+s,H+L,ce+J,ge+_e).normalize(),this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Cp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Cp.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Cp)}intersectsSprite(e){return Cp.center.set(0,0,0),Cp.radius=.7071067811865476,Cp.applyMatrix4(e.matrixWorld),this.intersectsSphere(Cp)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(XA.x=r.normal.x>0?e.max.x:e.min.x,XA.y=r.normal.y>0?e.max.y:e.min.y,XA.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(XA)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function vH(){let n=null,e=!1,t=null,i=null;function r(o,s){t(o,s),i=n.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function cQ(n,e){const t=e.isWebGL2,i=new WeakMap;return{get:function s(b){return b.isInterleavedBufferAttribute&&(b=b.data),i.get(b)},remove:function a(b){b.isInterleavedBufferAttribute&&(b=b.data);const L=i.get(b);L&&(n.deleteBuffer(L.buffer),i.delete(b))},update:function c(b,L){if(b.isGLBufferAttribute){const G=i.get(b);return void((!G||G.version<b.version)&&i.set(b,{buffer:b.buffer,type:b.type,bytesPerElement:b.elementSize,version:b.version}))}b.isInterleavedBufferAttribute&&(b=b.data);const H=i.get(b);void 0===H?i.set(b,function r(b,L){const H=b.array,G=b.usage,j=n.createBuffer();let J;if(n.bindBuffer(L,j),n.bufferData(L,H,G),b.onUploadCallback(),H instanceof Float32Array)J=n.FLOAT;else if(H instanceof Uint16Array)if(b.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");J=n.HALF_FLOAT}else J=n.UNSIGNED_SHORT;else if(H instanceof Int16Array)J=n.SHORT;else if(H instanceof Uint32Array)J=n.UNSIGNED_INT;else if(H instanceof Int32Array)J=n.INT;else if(H instanceof Int8Array)J=n.BYTE;else if(H instanceof Uint8Array)J=n.UNSIGNED_BYTE;else{if(!(H instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+H);J=n.UNSIGNED_BYTE}return{buffer:j,type:J,bytesPerElement:H.BYTES_PER_ELEMENT,version:b.version}}(b,L)):H.version<b.version&&(function o(b,L,H){const G=L.array,j=L.updateRange;n.bindBuffer(H,b),-1===j.count?n.bufferSubData(H,0,G):(t?n.bufferSubData(H,j.offset*G.BYTES_PER_ELEMENT,G,j.offset,j.count):n.bufferSubData(H,j.offset*G.BYTES_PER_ELEMENT,G.subarray(j.offset,j.offset+j.count)),j.count=-1),L.onUploadCallback()}(H.buffer,b,L),H.version=b.version)}}}class YA extends Ir{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const o=e/2,s=t/2,a=Math.floor(i),c=Math.floor(r),b=a+1,L=c+1,H=e/a,G=t/c,j=[],J=[],ce=[],se=[];for(let te=0;te<L;te++){const _e=te*G-s;for(let ge=0;ge<b;ge++)J.push(ge*H-o,-_e,0),ce.push(0,0,1),se.push(ge/a),se.push(1-te/c)}for(let te=0;te<c;te++)for(let _e=0;_e<a;_e++){const Me=_e+b*(te+1),Re=_e+1+b*(te+1),$e=_e+1+b*te;j.push(_e+b*te,Me,$e),j.push(Me,Re,$e)}this.setIndex(j),this.setAttribute("position",new mi(J,3)),this.setAttribute("normal",new mi(ce,3)),this.setAttribute("uv",new mi(se,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new YA(e.width,e.height,e.widthSegments,e.heightSegments)}}const _r={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_NORMALMAP_TANGENTSPACE\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Hn={common:{diffuse:{value:new Jn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Nr},alphaMap:{value:null},alphaMapTransform:{value:new Nr},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Nr}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Nr}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Nr}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Nr},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Nr},normalScale:{value:new ln(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Nr},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Nr}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Nr}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Nr}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Jn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Jn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Nr}},sprite:{diffuse:{value:new Jn(16777215)},opacity:{value:1},center:{value:new ln(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Nr},alphaMap:{value:null},alphaTest:{value:0}}},xu={basic:{uniforms:Wa([Hn.common,Hn.specularmap,Hn.envmap,Hn.aomap,Hn.lightmap,Hn.fog]),vertexShader:_r.meshbasic_vert,fragmentShader:_r.meshbasic_frag},lambert:{uniforms:Wa([Hn.common,Hn.specularmap,Hn.envmap,Hn.aomap,Hn.lightmap,Hn.emissivemap,Hn.bumpmap,Hn.normalmap,Hn.displacementmap,Hn.fog,Hn.lights,{emissive:{value:new Jn(0)}}]),vertexShader:_r.meshlambert_vert,fragmentShader:_r.meshlambert_frag},phong:{uniforms:Wa([Hn.common,Hn.specularmap,Hn.envmap,Hn.aomap,Hn.lightmap,Hn.emissivemap,Hn.bumpmap,Hn.normalmap,Hn.displacementmap,Hn.fog,Hn.lights,{emissive:{value:new Jn(0)},specular:{value:new Jn(1118481)},shininess:{value:30}}]),vertexShader:_r.meshphong_vert,fragmentShader:_r.meshphong_frag},standard:{uniforms:Wa([Hn.common,Hn.envmap,Hn.aomap,Hn.lightmap,Hn.emissivemap,Hn.bumpmap,Hn.normalmap,Hn.displacementmap,Hn.roughnessmap,Hn.metalnessmap,Hn.fog,Hn.lights,{emissive:{value:new Jn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:_r.meshphysical_vert,fragmentShader:_r.meshphysical_frag},toon:{uniforms:Wa([Hn.common,Hn.aomap,Hn.lightmap,Hn.emissivemap,Hn.bumpmap,Hn.normalmap,Hn.displacementmap,Hn.gradientmap,Hn.fog,Hn.lights,{emissive:{value:new Jn(0)}}]),vertexShader:_r.meshtoon_vert,fragmentShader:_r.meshtoon_frag},matcap:{uniforms:Wa([Hn.common,Hn.bumpmap,Hn.normalmap,Hn.displacementmap,Hn.fog,{matcap:{value:null}}]),vertexShader:_r.meshmatcap_vert,fragmentShader:_r.meshmatcap_frag},points:{uniforms:Wa([Hn.points,Hn.fog]),vertexShader:_r.points_vert,fragmentShader:_r.points_frag},dashed:{uniforms:Wa([Hn.common,Hn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:_r.linedashed_vert,fragmentShader:_r.linedashed_frag},depth:{uniforms:Wa([Hn.common,Hn.displacementmap]),vertexShader:_r.depth_vert,fragmentShader:_r.depth_frag},normal:{uniforms:Wa([Hn.common,Hn.bumpmap,Hn.normalmap,Hn.displacementmap,{opacity:{value:1}}]),vertexShader:_r.meshnormal_vert,fragmentShader:_r.meshnormal_frag},sprite:{uniforms:Wa([Hn.sprite,Hn.fog]),vertexShader:_r.sprite_vert,fragmentShader:_r.sprite_frag},background:{uniforms:{uvTransform:{value:new Nr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:_r.background_vert,fragmentShader:_r.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:_r.backgroundCube_vert,fragmentShader:_r.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:_r.cube_vert,fragmentShader:_r.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:_r.equirect_vert,fragmentShader:_r.equirect_frag},distanceRGBA:{uniforms:Wa([Hn.common,Hn.displacementmap,{referencePosition:{value:new Je},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:_r.distanceRGBA_vert,fragmentShader:_r.distanceRGBA_frag},shadow:{uniforms:Wa([Hn.lights,Hn.fog,{color:{value:new Jn(0)},opacity:{value:1}}]),vertexShader:_r.shadow_vert,fragmentShader:_r.shadow_frag}};xu.physical={uniforms:Wa([xu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Nr},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Nr},clearcoatNormalScale:{value:new ln(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Nr},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Nr},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Nr},sheen:{value:0},sheenColor:{value:new Jn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Nr},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Nr},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Nr},transmissionSamplerSize:{value:new ln},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Nr},attenuationDistance:{value:0},attenuationColor:{value:new Jn(0)},specularColor:{value:new Jn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Nr},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Nr}}]),vertexShader:_r.meshphysical_vert,fragmentShader:_r.meshphysical_frag};const JA={r:0,b:0,g:0};function ote(n,e,t,i,r,o,s){const a=new Jn(0);let b,L,c=!0===o?0:1,H=null,G=0,j=null;function ce(se,te){se.getRGB(JA,mH(n)),i.buffers.color.setClear(JA.r,JA.g,JA.b,te,s)}return{getClearColor:function(){return a},setClearColor:function(se,te=1){a.set(se),c=te,ce(a,c)},getClearAlpha:function(){return c},setClearAlpha:function(se){c=se,ce(a,c)},render:function J(se,te){let _e=!1,ge=!0===te.isScene?te.background:null;switch(ge&&ge.isTexture&&(ge=(te.backgroundBlurriness>0?t:e).get(ge)),null===ge?ce(a,c):ge&&ge.isColor&&(ce(ge,1),_e=!0),n.xr.getEnvironmentBlendMode()){case"opaque":_e=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,s),_e=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,s),_e=!0}(n.autoClear||_e)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),ge&&(ge.isCubeTexture||306===ge.mapping)?(void 0===L&&(L=new Va(new Gd(1,1,1),new zd({name:"BackgroundCubeMaterial",uniforms:qm(xu.backgroundCube.uniforms),vertexShader:xu.backgroundCube.vertexShader,fragmentShader:xu.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),L.geometry.deleteAttribute("normal"),L.geometry.deleteAttribute("uv"),L.onBeforeRender=function($e,Qe,it){this.matrixWorld.copyPosition(it.matrixWorld)},Object.defineProperty(L.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(L)),L.material.uniforms.envMap.value=ge,L.material.uniforms.flipEnvMap.value=ge.isCubeTexture&&!1===ge.isRenderTargetTexture?-1:1,L.material.uniforms.backgroundBlurriness.value=te.backgroundBlurriness,L.material.uniforms.backgroundIntensity.value=te.backgroundIntensity,L.material.toneMapped=ge.colorSpace!==mr,(H!==ge||G!==ge.version||j!==n.toneMapping)&&(L.material.needsUpdate=!0,H=ge,G=ge.version,j=n.toneMapping),L.layers.enableAll(),se.unshift(L,L.geometry,L.material,0,0,null)):ge&&ge.isTexture&&(void 0===b&&(b=new Va(new YA(2,2),new zd({name:"BackgroundMaterial",uniforms:qm(xu.background.uniforms),vertexShader:xu.background.vertexShader,fragmentShader:xu.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),b.geometry.deleteAttribute("normal"),Object.defineProperty(b.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(b)),b.material.uniforms.t2D.value=ge,b.material.uniforms.backgroundIntensity.value=te.backgroundIntensity,b.material.toneMapped=ge.colorSpace!==mr,!0===ge.matrixAutoUpdate&&ge.updateMatrix(),b.material.uniforms.uvTransform.value.copy(ge.matrix),(H!==ge||G!==ge.version||j!==n.toneMapping)&&(b.material.needsUpdate=!0,H=ge,G=ge.version,j=n.toneMapping),b.layers.enableAll(),se.unshift(b,b.geometry,b.material,0,0,null))}}}function ste(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),o=i.isWebGL2?null:e.get("OES_vertex_array_object"),s=i.isWebGL2||null!==o,a={},c=se(null);let b=c,L=!1;function j(ze){return i.isWebGL2?n.bindVertexArray(ze):o.bindVertexArrayOES(ze)}function J(ze){return i.isWebGL2?n.deleteVertexArray(ze):o.deleteVertexArrayOES(ze)}function se(ze){const ft=[],Ye=[],rt=[];for(let ht=0;ht<r;ht++)ft[ht]=0,Ye[ht]=0,rt[ht]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ft,enabledAttributes:Ye,attributeDivisors:rt,object:ze,attributes:{},index:null}}function ge(){const ze=b.newAttributes;for(let ft=0,Ye=ze.length;ft<Ye;ft++)ze[ft]=0}function Me(ze){Re(ze,0)}function Re(ze,ft){const rt=b.enabledAttributes,ht=b.attributeDivisors;b.newAttributes[ze]=1,0===rt[ze]&&(n.enableVertexAttribArray(ze),rt[ze]=1),ht[ze]!==ft&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ze,ft),ht[ze]=ft)}function $e(){const ze=b.newAttributes,ft=b.enabledAttributes;for(let Ye=0,rt=ft.length;Ye<rt;Ye++)ft[Ye]!==ze[Ye]&&(n.disableVertexAttribArray(Ye),ft[Ye]=0)}function Qe(ze,ft,Ye,rt,ht,mt){!0!==i.isWebGL2||Ye!==n.INT&&Ye!==n.UNSIGNED_INT?n.vertexAttribPointer(ze,ft,Ye,rt,ht,mt):n.vertexAttribIPointer(ze,ft,Ye,ht,mt)}function Ft(){gt(),L=!0,b!==c&&(b=c,j(b.object))}function gt(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function H(ze,ft,Ye,rt,ht){let mt=!1;if(s){const Rt=function ce(ze,ft,Ye){const rt=!0===Ye.wireframe;let ht=a[ze.id];void 0===ht&&(ht={},a[ze.id]=ht);let mt=ht[ft.id];void 0===mt&&(mt={},ht[ft.id]=mt);let Rt=mt[rt];return void 0===Rt&&(Rt=se(function G(){return i.isWebGL2?n.createVertexArray():o.createVertexArrayOES()}()),mt[rt]=Rt),Rt}(rt,Ye,ft);b!==Rt&&(b=Rt,j(b.object)),mt=function te(ze,ft,Ye,rt){const ht=b.attributes,mt=ft.attributes;let Rt=0;const Xt=Ye.getAttributes();for(const zt in Xt)if(Xt[zt].location>=0){const Pt=ht[zt];let mn=mt[zt];if(void 0===mn&&("instanceMatrix"===zt&&ze.instanceMatrix&&(mn=ze.instanceMatrix),"instanceColor"===zt&&ze.instanceColor&&(mn=ze.instanceColor)),void 0===Pt||Pt.attribute!==mn||mn&&Pt.data!==mn.data)return!0;Rt++}return b.attributesNum!==Rt||b.index!==rt}(ze,rt,Ye,ht),mt&&function _e(ze,ft,Ye,rt){const ht={},mt=ft.attributes;let Rt=0;const Xt=Ye.getAttributes();for(const zt in Xt)if(Xt[zt].location>=0){let Pt=mt[zt];void 0===Pt&&("instanceMatrix"===zt&&ze.instanceMatrix&&(Pt=ze.instanceMatrix),"instanceColor"===zt&&ze.instanceColor&&(Pt=ze.instanceColor));const mn={};mn.attribute=Pt,Pt&&Pt.data&&(mn.data=Pt.data),ht[zt]=mn,Rt++}b.attributes=ht,b.attributesNum=Rt,b.index=rt}(ze,rt,Ye,ht)}else{const Rt=!0===ft.wireframe;(b.geometry!==rt.id||b.program!==Ye.id||b.wireframe!==Rt)&&(b.geometry=rt.id,b.program=Ye.id,b.wireframe=Rt,mt=!0)}null!==ht&&t.update(ht,n.ELEMENT_ARRAY_BUFFER),(mt||L)&&(L=!1,function it(ze,ft,Ye,rt){if(!1===i.isWebGL2&&(ze.isInstancedMesh||rt.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;ge();const ht=rt.attributes,mt=Ye.getAttributes(),Rt=ft.defaultAttributeValues;for(const Xt in mt){const zt=mt[Xt];if(zt.location>=0){let Ot=ht[Xt];if(void 0===Ot&&("instanceMatrix"===Xt&&ze.instanceMatrix&&(Ot=ze.instanceMatrix),"instanceColor"===Xt&&ze.instanceColor&&(Ot=ze.instanceColor)),void 0!==Ot){const Pt=Ot.normalized,mn=Ot.itemSize,En=t.get(Ot);if(void 0===En)continue;const st=En.buffer,Kn=En.type,Qn=En.bytesPerElement;if(Ot.isInterleavedBufferAttribute){const yn=Ot.data,ri=yn.stride,fn=Ot.offset;if(yn.isInstancedInterleavedBuffer){for(let jt=0;jt<zt.locationSize;jt++)Re(zt.location+jt,yn.meshPerAttribute);!0!==ze.isInstancedMesh&&void 0===rt._maxInstanceCount&&(rt._maxInstanceCount=yn.meshPerAttribute*yn.count)}else for(let jt=0;jt<zt.locationSize;jt++)Me(zt.location+jt);n.bindBuffer(n.ARRAY_BUFFER,st);for(let jt=0;jt<zt.locationSize;jt++)Qe(zt.location+jt,mn/zt.locationSize,Kn,Pt,ri*Qn,(fn+mn/zt.locationSize*jt)*Qn)}else{if(Ot.isInstancedBufferAttribute){for(let yn=0;yn<zt.locationSize;yn++)Re(zt.location+yn,Ot.meshPerAttribute);!0!==ze.isInstancedMesh&&void 0===rt._maxInstanceCount&&(rt._maxInstanceCount=Ot.meshPerAttribute*Ot.count)}else for(let yn=0;yn<zt.locationSize;yn++)Me(zt.location+yn);n.bindBuffer(n.ARRAY_BUFFER,st);for(let yn=0;yn<zt.locationSize;yn++)Qe(zt.location+yn,mn/zt.locationSize,Kn,Pt,mn*Qn,mn/zt.locationSize*yn*Qn)}}else if(void 0!==Rt){const Pt=Rt[Xt];if(void 0!==Pt)switch(Pt.length){case 2:n.vertexAttrib2fv(zt.location,Pt);break;case 3:n.vertexAttrib3fv(zt.location,Pt);break;case 4:n.vertexAttrib4fv(zt.location,Pt);break;default:n.vertexAttrib1fv(zt.location,Pt)}}}}$e()}(ze,ft,Ye,rt),null!==ht&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(ht).buffer))},reset:Ft,resetDefaultState:gt,dispose:function Le(){Ft();for(const ze in a){const ft=a[ze];for(const Ye in ft){const rt=ft[Ye];for(const ht in rt)J(rt[ht].object),delete rt[ht];delete ft[Ye]}delete a[ze]}},releaseStatesOfGeometry:function Ze(ze){if(void 0===a[ze.id])return;const ft=a[ze.id];for(const Ye in ft){const rt=ft[Ye];for(const ht in rt)J(rt[ht].object),delete rt[ht];delete ft[Ye]}delete a[ze.id]},releaseStatesOfProgram:function vt(ze){for(const ft in a){const Ye=a[ft];if(void 0===Ye[ze.id])continue;const rt=Ye[ze.id];for(const ht in rt)J(rt[ht].object),delete rt[ht];delete Ye[ze.id]}},initAttributes:ge,enableAttribute:Me,disableUnusedAttributes:$e}}function ate(n,e,t,i){const r=i.isWebGL2;let o;this.setMode=function s(b){o=b},this.render=function a(b,L){n.drawArrays(o,b,L),t.update(L,o,1)},this.renderInstances=function c(b,L,H){if(0===H)return;let G,j;if(r)G=n,j="drawArraysInstanced";else if(G=e.get("ANGLE_instanced_arrays"),j="drawArraysInstancedANGLE",null===G)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");G[j](o,b,L,H),t.update(L,o,H)}}function lte(n,e,t){let i;function o(Qe){if("highp"===Qe){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";Qe="mediump"}return"mediump"===Qe&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const s="undefined"!=typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===n.constructor.name;let a=void 0!==t.precision?t.precision:"highp";const c=o(a);c!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",c,"instead."),a=c);const b=s||e.has("WEBGL_draw_buffers"),L=!0===t.logarithmicDepthBuffer,H=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),G=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),j=n.getParameter(n.MAX_TEXTURE_SIZE),J=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),ce=n.getParameter(n.MAX_VERTEX_ATTRIBS),se=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),te=n.getParameter(n.MAX_VARYING_VECTORS),_e=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),ge=G>0,Me=s||e.has("OES_texture_float");return{isWebGL2:s,drawBuffers:b,getMaxAnisotropy:function r(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const Qe=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(Qe.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:o,precision:a,logarithmicDepthBuffer:L,maxTextures:H,maxVertexTextures:G,maxTextureSize:j,maxCubemapSize:J,maxAttributes:ce,maxVertexUniforms:se,maxVaryings:te,maxFragmentUniforms:_e,vertexTextures:ge,floatFragmentTextures:Me,floatVertexTextures:ge&&Me,maxSamples:s?n.getParameter(n.MAX_SAMPLES):0}}function cte(n){const e=this;let t=null,i=0,r=!1,o=!1;const s=new bp,a=new Nr,c={value:null,needsUpdate:!1};function L(H,G,j,J){const ce=null!==H?H.length:0;let se=null;if(0!==ce){if(se=c.value,!0!==J||null===se){const te=j+4*ce,_e=G.matrixWorldInverse;a.getNormalMatrix(_e),(null===se||se.length<te)&&(se=new Float32Array(te));for(let ge=0,Me=j;ge!==ce;++ge,Me+=4)s.copy(H[ge]).applyMatrix4(_e,a),s.normal.toArray(se,Me),se[Me+3]=s.constant}c.value=se,c.needsUpdate=!0}return e.numPlanes=ce,e.numIntersection=0,se}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(H,G){const j=0!==H.length||G||0!==i||r;return r=G,i=H.length,j},this.beginShadows=function(){o=!0,L(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(H,G){t=L(H,G,0)},this.setState=function(H,G,j){const J=H.clippingPlanes,ce=H.clipIntersection,se=H.clipShadows,te=n.get(H);if(!r||null===J||0===J.length||o&&!se)o?L(null):function b(){c.value!==t&&(c.value=t,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}();else{const _e=o?0:i,ge=4*_e;let Me=te.clippingState||null;c.value=Me,Me=L(J,G,ge,j);for(let Re=0;Re!==ge;++Re)Me[Re]=t[Re];te.clippingState=Me,this.numIntersection=ce?this.numPlanes:0,this.numPlanes+=_e}}}function ute(n){let e=new WeakMap;function t(s,a){return 303===a?s.mapping=301:304===a&&(s.mapping=302),s}function r(s){const a=s.target;a.removeEventListener("dispose",r);const c=e.get(a);void 0!==c&&(e.delete(a),c.dispose())}return{get:function i(s){if(s&&s.isTexture&&!1===s.isRenderTargetTexture){const a=s.mapping;if(303===a||304===a){if(e.has(s))return t(e.get(s).texture,s.mapping);{const c=s.image;if(c&&c.height>0){const b=new sQ(c.height/2);return b.fromEquirectangularTexture(n,s),e.set(s,b),s.addEventListener("dispose",r),t(b.texture,s.mapping)}return null}}}return s},dispose:function o(){e=new WeakMap}}}class qA extends PD{constructor(e=-1,t=1,i=1,r=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,o,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=i-e,s=i+e,a=r+t,c=r-t;if(null!==this.view&&this.view.enabled){const b=(this.right-this.left)/this.view.fullWidth/this.zoom,L=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=b*this.view.offsetX,s=o+b*this.view.width,a-=L*this.view.offsetY,c=a-L*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,c,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const yH=[.125,.215,.35,.446,.526,.582],ND=new qA,_H=new Jn;let $D=null;const Ap=(1+Math.sqrt(5))/2,nv=1/Ap,bH=[new Je(1,1,1),new Je(-1,1,1),new Je(1,1,-1),new Je(-1,1,-1),new Je(0,Ap,nv),new Je(0,Ap,-nv),new Je(nv,0,Ap),new Je(-nv,0,Ap),new Je(Ap,nv,0),new Je(-Ap,nv,0)];class CH{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){$D=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,i,r,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=SH(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=AH(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget($D),e.scissorTest=!1,QA(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(301===e.mapping||302===e.mapping?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),$D=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:rs,minFilter:rs,generateMipmaps:!1,type:D_,format:Xl,colorSpace:Au,depthBuffer:!1},r=wH(e,t,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=wH(e,t,i);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function hte(n){const e=[],t=[],i=[];let r=n;const o=n-4+1+yH.length;for(let s=0;s<o;s++){const a=Math.pow(2,r);t.push(a);let c=1/a;s>n-4?c=yH[s-n+4-1]:0===s&&(c=0),i.push(c);const b=1/(a-2),L=-b,H=1+b,G=[L,L,H,L,H,H,L,L,H,H,L,H],j=6,J=6,ce=3,se=2,te=1,_e=new Float32Array(ce*J*j),ge=new Float32Array(se*J*j),Me=new Float32Array(te*J*j);for(let $e=0;$e<j;$e++){const Qe=$e%3*2/3-1,it=$e>2?0:-1;_e.set([Qe,it,0,Qe+2/3,it,0,Qe+2/3,it+1,0,Qe,it,0,Qe+2/3,it+1,0,Qe,it+1,0],ce*J*$e),ge.set(G,se*J*$e),Me.set([$e,$e,$e,$e,$e,$e],te*J*$e)}const Re=new Ir;Re.setAttribute("position",new js(_e,ce)),Re.setAttribute("uv",new js(ge,se)),Re.setAttribute("faceIndex",new js(Me,te)),e.push(Re),r>4&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}(o)),this._blurMaterial=function dte(n,e,t){const i=new Float32Array(20),r=new Je(0,1,0);return new zd({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(o,e,t)}return r}_compileMaterial(e){const t=new Va(this._lodPlanes[0],e);this._renderer.compile(t,ND)}_sceneToCubeUV(e,t,i,r){const a=new Zo(90,1,t,i),c=[1,-1,1,1,1,1],b=[1,1,1,-1,-1,-1],L=this._renderer,H=L.autoClear,G=L.toneMapping;L.getClearColor(_H),L.toneMapping=0,L.autoClear=!1;const j=new _p({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),J=new Va(new Gd,j);let ce=!1;const se=e.background;se?se.isColor&&(j.color.copy(se),e.background=null,ce=!0):(j.color.copy(_H),ce=!0);for(let te=0;te<6;te++){const _e=te%3;0===_e?(a.up.set(0,c[te],0),a.lookAt(b[te],0,0)):1===_e?(a.up.set(0,0,c[te]),a.lookAt(0,b[te],0)):(a.up.set(0,c[te],0),a.lookAt(0,0,b[te]));const ge=this._cubeSize;QA(r,_e*ge,te>2?ge:0,ge,ge),L.setRenderTarget(r),ce&&L.render(J,a),L.render(e,a)}J.geometry.dispose(),J.material.dispose(),L.toneMapping=G,L.autoClear=H,e.background=se}_textureToCubeUV(e,t){const i=this._renderer,r=301===e.mapping||302===e.mapping;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=SH()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=AH());const o=r?this._cubemapMaterial:this._equirectMaterial,s=new Va(this._lodPlanes[0],o);o.uniforms.envMap.value=e;const c=this._cubeSize;QA(t,0,0,3*c,2*c),i.setRenderTarget(t),i.render(s,ND)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(e,r-1,r,o,bH[(r-1)%bH.length])}t.autoClear=i}_blur(e,t,i,r,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,i,r,"latitudinal",o),this._halfBlur(s,e,i,i,r,"longitudinal",o)}_halfBlur(e,t,i,r,o,s,a){const c=this._renderer,b=this._blurMaterial;"latitudinal"!==s&&"longitudinal"!==s&&console.error("blur direction must be either latitudinal or longitudinal!");const H=new Va(this._lodPlanes[r],b),G=b.uniforms,j=this._sizeLods[i]-1,J=isFinite(o)?Math.PI/(2*j):2*Math.PI/39,ce=o/J,se=isFinite(o)?1+Math.floor(3*ce):20;se>20&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${se} samples when the maximum is set to 20`);const te=[];let _e=0;for(let Qe=0;Qe<20;++Qe){const it=Qe/ce,Le=Math.exp(-it*it/2);te.push(Le),0===Qe?_e+=Le:Qe<se&&(_e+=2*Le)}for(let Qe=0;Qe<te.length;Qe++)te[Qe]=te[Qe]/_e;G.envMap.value=e.texture,G.samples.value=se,G.weights.value=te,G.latitudinal.value="latitudinal"===s,a&&(G.poleAxis.value=a);const{_lodMax:ge}=this;G.dTheta.value=J,G.mipInt.value=ge-i;const Me=this._sizeLods[r];QA(t,3*Me*(r>ge-4?r-ge+4:0),4*(this._cubeSize-Me),3*Me,2*Me),c.setRenderTarget(t),c.render(H,ND)}}function wH(n,e,t){const i=new mp(n,e,t);return i.texture.mapping=306,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function QA(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function AH(){return new zd({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function SH(){return new zd({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function fte(n){let e=new WeakMap,t=null;function o(a){const c=a.target;c.removeEventListener("dispose",o);const b=e.get(c);void 0!==b&&(e.delete(c),b.dispose())}return{get:function i(a){if(a&&a.isTexture){const c=a.mapping,b=303===c||304===c,L=301===c||302===c;if(b||L){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let H=e.get(a);return null===t&&(t=new CH(n)),H=b?t.fromEquirectangular(a,H):t.fromCubemap(a,H),e.set(a,H),H.texture}if(e.has(a))return e.get(a).texture;{const H=a.image;if(b&&H&&H.height>0||L&&H&&function r(a){let c=0;for(let L=0;L<6;L++)void 0!==a[L]&&c++;return 6===c}(H)){null===t&&(t=new CH(n));const G=b?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,G),a.addEventListener("dispose",o),G.texture}return null}}}return a},dispose:function s(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function pte(n){const e={};function t(i){if(void 0!==e[i])return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return null!==t(i)},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function gte(n,e,t,i){const r={},o=new WeakMap;function s(H){const G=H.target;null!==G.index&&e.remove(G.index);for(const J in G.attributes)e.remove(G.attributes[J]);G.removeEventListener("dispose",s),delete r[G.id];const j=o.get(G);j&&(e.remove(j),o.delete(G)),i.releaseStatesOfGeometry(G),!0===G.isInstancedBufferGeometry&&delete G._maxInstanceCount,t.memory.geometries--}function b(H){const G=[],j=H.index,J=H.attributes.position;let ce=0;if(null!==j){const _e=j.array;ce=j.version;for(let ge=0,Me=_e.length;ge<Me;ge+=3){const Re=_e[ge+0],$e=_e[ge+1],Qe=_e[ge+2];G.push(Re,$e,$e,Qe,Qe,Re)}}else{ce=J.version;for(let ge=0,Me=J.array.length/3-1;ge<Me;ge+=3){const Re=ge+0,$e=ge+1,Qe=ge+2;G.push(Re,$e,$e,Qe,Qe,Re)}}const se=new(XB(G)?uH:cH)(G,1);se.version=ce;const te=o.get(H);te&&e.remove(te),o.set(H,se)}return{get:function a(H,G){return!0===r[G.id]||(G.addEventListener("dispose",s),r[G.id]=!0,t.memory.geometries++),G},update:function c(H){const G=H.attributes;for(const J in G)e.update(G[J],n.ARRAY_BUFFER);const j=H.morphAttributes;for(const J in j){const ce=j[J];for(let se=0,te=ce.length;se<te;se++)e.update(ce[se],n.ARRAY_BUFFER)}},getWireframeAttribute:function L(H){const G=o.get(H);if(G){const j=H.index;null!==j&&G.version<j.version&&b(H)}else b(H);return o.get(H)}}}function mte(n,e,t,i){const r=i.isWebGL2;let o,a,c;this.setMode=function s(G){o=G},this.setIndex=function b(G){a=G.type,c=G.bytesPerElement},this.render=function L(G,j){n.drawElements(o,j,a,G*c),t.update(j,o,1)},this.renderInstances=function H(G,j,J){if(0===J)return;let ce,se;if(r)ce=n,se="drawElementsInstanced";else if(ce=e.get("ANGLE_instanced_arrays"),se="drawElementsInstancedANGLE",null===ce)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");ce[se](o,j,a,G*c,J),t.update(j,o,J)}}function vte(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function i(o,s,a){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=a*(o/3);break;case n.LINES:t.lines+=a*(o/2);break;case n.LINE_STRIP:t.lines+=a*(o-1);break;case n.LINE_LOOP:t.lines+=a*o;break;case n.POINTS:t.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s)}}}}function yte(n,e){return n[0]-e[0]}function _te(n,e){return Math.abs(e[1])-Math.abs(n[1])}function bte(n,e,t){const i={},r=new Float32Array(8),o=new WeakMap,s=new io,a=[];for(let b=0;b<8;b++)a[b]=[b,0];return{update:function c(b,L,H){const G=b.morphTargetInfluences;if(!0===e.isWebGL2){const j=L.morphAttributes.position||L.morphAttributes.normal||L.morphAttributes.color,J=void 0!==j?j.length:0;let ce=o.get(L);if(void 0===ce||ce.count!==J){let ze=function(){Ft.dispose(),o.delete(L),L.removeEventListener("dispose",ze)};void 0!==ce&&ce.texture.dispose();const _e=void 0!==L.morphAttributes.position,ge=void 0!==L.morphAttributes.normal,Me=void 0!==L.morphAttributes.color,Re=L.morphAttributes.position||[],$e=L.morphAttributes.normal||[],Qe=L.morphAttributes.color||[];let it=0;!0===_e&&(it=1),!0===ge&&(it=2),!0===Me&&(it=3);let Le=L.attributes.position.count*it,Ze=1;Le>e.maxTextureSize&&(Ze=Math.ceil(Le/e.maxTextureSize),Le=e.maxTextureSize);const vt=new Float32Array(Le*Ze*4*J),Ft=new _D(vt,Le,Ze,J);Ft.type=Bd,Ft.needsUpdate=!0;const gt=4*it;for(let ft=0;ft<J;ft++){const Ye=Re[ft],rt=$e[ft],ht=Qe[ft],mt=Le*Ze*4*ft;for(let Rt=0;Rt<Ye.count;Rt++){const Xt=Rt*gt;!0===_e&&(s.fromBufferAttribute(Ye,Rt),vt[mt+Xt+0]=s.x,vt[mt+Xt+1]=s.y,vt[mt+Xt+2]=s.z,vt[mt+Xt+3]=0),!0===ge&&(s.fromBufferAttribute(rt,Rt),vt[mt+Xt+4]=s.x,vt[mt+Xt+5]=s.y,vt[mt+Xt+6]=s.z,vt[mt+Xt+7]=0),!0===Me&&(s.fromBufferAttribute(ht,Rt),vt[mt+Xt+8]=s.x,vt[mt+Xt+9]=s.y,vt[mt+Xt+10]=s.z,vt[mt+Xt+11]=4===ht.itemSize?s.w:1)}}ce={count:J,texture:Ft,size:new ln(Le,Ze)},o.set(L,ce),L.addEventListener("dispose",ze)}let se=0;for(let _e=0;_e<G.length;_e++)se+=G[_e];const te=L.morphTargetsRelative?1:1-se;H.getUniforms().setValue(n,"morphTargetBaseInfluence",te),H.getUniforms().setValue(n,"morphTargetInfluences",G),H.getUniforms().setValue(n,"morphTargetsTexture",ce.texture,t),H.getUniforms().setValue(n,"morphTargetsTextureSize",ce.size)}else{const j=void 0===G?0:G.length;let J=i[L.id];if(void 0===J||J.length!==j){J=[];for(let ge=0;ge<j;ge++)J[ge]=[ge,0];i[L.id]=J}for(let ge=0;ge<j;ge++){const Me=J[ge];Me[0]=ge,Me[1]=G[ge]}J.sort(_te);for(let ge=0;ge<8;ge++)ge<j&&J[ge][1]?(a[ge][0]=J[ge][0],a[ge][1]=J[ge][1]):(a[ge][0]=Number.MAX_SAFE_INTEGER,a[ge][1]=0);a.sort(yte);const ce=L.morphAttributes.position,se=L.morphAttributes.normal;let te=0;for(let ge=0;ge<8;ge++){const Me=a[ge],Re=Me[0],$e=Me[1];Re!==Number.MAX_SAFE_INTEGER&&$e?(ce&&L.getAttribute("morphTarget"+ge)!==ce[Re]&&L.setAttribute("morphTarget"+ge,ce[Re]),se&&L.getAttribute("morphNormal"+ge)!==se[Re]&&L.setAttribute("morphNormal"+ge,se[Re]),r[ge]=$e,te+=$e):(ce&&!0===L.hasAttribute("morphTarget"+ge)&&L.deleteAttribute("morphTarget"+ge),se&&!0===L.hasAttribute("morphNormal"+ge)&&L.deleteAttribute("morphNormal"+ge),r[ge]=0)}const _e=L.morphTargetsRelative?1:1-te;H.getUniforms().setValue(n,"morphTargetBaseInfluence",_e),H.getUniforms().setValue(n,"morphTargetInfluences",r)}}}}function Cte(n,e,t,i){let r=new WeakMap;function a(c){const b=c.target;b.removeEventListener("dispose",a),t.remove(b.instanceMatrix),null!==b.instanceColor&&t.remove(b.instanceColor)}return{update:function o(c){const b=i.render.frame,H=e.get(c,c.geometry);return r.get(H)!==b&&(e.update(H),r.set(H,b)),c.isInstancedMesh&&(!1===c.hasEventListener("dispose",a)&&c.addEventListener("dispose",a),t.update(c.instanceMatrix,n.ARRAY_BUFFER),null!==c.instanceColor&&t.update(c.instanceColor,n.ARRAY_BUFFER)),H},dispose:function s(){r=new WeakMap}}}const IH=new Su,xH=new _D,EH=new qB,MH=new KA,TH=[],RH=[],DH=new Float32Array(16),kH=new Float32Array(9),LH=new Float32Array(4);function iv(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let o=TH[r];if(void 0===o&&(o=new Float32Array(r),TH[r]=o),0!==e){i.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=t,n[s].toArray(o,a)}return o}function Ls(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Ps(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function eS(n,e){let t=RH[e];void 0===t&&(t=new Int32Array(e),RH[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function wte(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Ate(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ls(t,e))return;n.uniform2fv(this.addr,e),Ps(t,e)}}function Ste(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ls(t,e))return;n.uniform3fv(this.addr,e),Ps(t,e)}}function Ite(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ls(t,e))return;n.uniform4fv(this.addr,e),Ps(t,e)}}function xte(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Ls(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ps(t,e)}else{if(Ls(t,i))return;LH.set(i),n.uniformMatrix2fv(this.addr,!1,LH),Ps(t,i)}}function Ete(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Ls(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ps(t,e)}else{if(Ls(t,i))return;kH.set(i),n.uniformMatrix3fv(this.addr,!1,kH),Ps(t,i)}}function Mte(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Ls(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ps(t,e)}else{if(Ls(t,i))return;DH.set(i),n.uniformMatrix4fv(this.addr,!1,DH),Ps(t,i)}}function Tte(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Rte(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ls(t,e))return;n.uniform2iv(this.addr,e),Ps(t,e)}}function Dte(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ls(t,e))return;n.uniform3iv(this.addr,e),Ps(t,e)}}function kte(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ls(t,e))return;n.uniform4iv(this.addr,e),Ps(t,e)}}function Lte(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Pte(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ls(t,e))return;n.uniform2uiv(this.addr,e),Ps(t,e)}}function Ote(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ls(t,e))return;n.uniform3uiv(this.addr,e),Ps(t,e)}}function Fte(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ls(t,e))return;n.uniform4uiv(this.addr,e),Ps(t,e)}}function Nte(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||IH,r)}function $te(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||EH,r)}function Bte(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||MH,r)}function Hte(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||xH,r)}function Wte(n,e){n.uniform1fv(this.addr,e)}function Ute(n,e){const t=iv(e,this.size,2);n.uniform2fv(this.addr,t)}function Gte(n,e){const t=iv(e,this.size,3);n.uniform3fv(this.addr,t)}function zte(n,e){const t=iv(e,this.size,4);n.uniform4fv(this.addr,t)}function jte(n,e){const t=iv(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Zte(n,e){const t=iv(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Kte(n,e){const t=iv(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Xte(n,e){n.uniform1iv(this.addr,e)}function Yte(n,e){n.uniform2iv(this.addr,e)}function Jte(n,e){n.uniform3iv(this.addr,e)}function qte(n,e){n.uniform4iv(this.addr,e)}function Qte(n,e){n.uniform1uiv(this.addr,e)}function ene(n,e){n.uniform2uiv(this.addr,e)}function tne(n,e){n.uniform3uiv(this.addr,e)}function nne(n,e){n.uniform4uiv(this.addr,e)}function ine(n,e,t){const i=this.cache,r=e.length,o=eS(t,r);Ls(i,o)||(n.uniform1iv(this.addr,o),Ps(i,o));for(let s=0;s!==r;++s)t.setTexture2D(e[s]||IH,o[s])}function rne(n,e,t){const i=this.cache,r=e.length,o=eS(t,r);Ls(i,o)||(n.uniform1iv(this.addr,o),Ps(i,o));for(let s=0;s!==r;++s)t.setTexture3D(e[s]||EH,o[s])}function one(n,e,t){const i=this.cache,r=e.length,o=eS(t,r);Ls(i,o)||(n.uniform1iv(this.addr,o),Ps(i,o));for(let s=0;s!==r;++s)t.setTextureCube(e[s]||MH,o[s])}function sne(n,e,t){const i=this.cache,r=e.length,o=eS(t,r);Ls(i,o)||(n.uniform1iv(this.addr,o),Ps(i,o));for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||xH,o[s])}class lne{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=function Vte(n){switch(n){case 5126:return wte;case 35664:return Ate;case 35665:return Ste;case 35666:return Ite;case 35674:return xte;case 35675:return Ete;case 35676:return Mte;case 5124:case 35670:return Tte;case 35667:case 35671:return Rte;case 35668:case 35672:return Dte;case 35669:case 35673:return kte;case 5125:return Lte;case 36294:return Pte;case 36295:return Ote;case 36296:return Fte;case 35678:case 36198:case 36298:case 36306:case 35682:return Nte;case 35679:case 36299:case 36307:return $te;case 35680:case 36300:case 36308:case 36293:return Bte;case 36289:case 36303:case 36311:case 36292:return Hte}}(t.type)}}class cne{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=function ane(n){switch(n){case 5126:return Wte;case 35664:return Ute;case 35665:return Gte;case 35666:return zte;case 35674:return jte;case 35675:return Zte;case 35676:return Kte;case 5124:case 35670:return Xte;case 35667:case 35671:return Yte;case 35668:case 35672:return Jte;case 35669:case 35673:return qte;case 5125:return Qte;case 36294:return ene;case 36295:return tne;case 36296:return nne;case 35678:case 36198:case 36298:case 36306:case 35682:return ine;case 35679:case 36299:case 36307:return rne;case 35680:case 36300:case 36308:case 36293:return one;case 36289:case 36303:case 36311:case 36292:return sne}}(t.type)}}class une{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let o=0,s=r.length;o!==s;++o){const a=r[o];a.setValue(e,t[a.id],i)}}}const HD=/(\w+)(\])?(\[|\.)?/g;function PH(n,e){n.seq.push(e),n.map[e.id]=e}function hne(n,e,t){const i=n.name,r=i.length;for(HD.lastIndex=0;;){const o=HD.exec(i),s=HD.lastIndex;let a=o[1];const b=o[3];if("]"===o[2]&&(a|=0),void 0===b||"["===b&&s+2===r){PH(t,void 0===b?new lne(a,n,e):new cne(a,n,e));break}{let H=t.map[a];void 0===H&&(H=new une(a),PH(t,H)),t=H}}}class tS{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const o=e.getActiveUniform(t,r);hne(o,e.getUniformLocation(t,o.name),this)}}setValue(e,t,i,r){const o=this.map[t];void 0!==o&&o.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];void 0!==r&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let o=0,s=t.length;o!==s;++o){const a=t[o],c=i[a.id];!1!==c.needsUpdate&&a.setValue(e,c.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,o=e.length;r!==o;++r){const s=e[r];s.id in t&&i.push(s)}return i}}function OH(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let dne=0;function FH(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&""===r)return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const s=parseInt(o[1]);return t.toUpperCase()+"\n\n"+r+"\n\n"+function fne(n,e){const t=n.split("\n"),i=[],r=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let s=r;s<o;s++){const a=s+1;i.push(`${a===e?">":" "} ${a}: ${t[s]}`)}return i.join("\n")}(n.getShaderSource(e),s)}return r}function gne(n,e){const t=function pne(n){switch(n){case Au:return["Linear","( value )"];case mr:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function mne(n,e){let t;switch(e){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="OptimizedCineon";break;case 4:t="ACESFilmic";break;case 5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function H_(n){return""!==n}function NH(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function $H(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const bne=/^[ \t]*#include +<([\w\d./]+)>/gm;function VD(n){return n.replace(bne,Cne)}function Cne(n,e){const t=_r[e];if(void 0===t)throw new Error("Can not resolve #include <"+e+">");return VD(t)}const wne=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function BH(n){return n.replace(wne,Ane)}function Ane(n,e,t,i){let r="";for(let o=parseInt(e);o<parseInt(t);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function HH(n){let e="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function Tne(n,e,t,i){const r=n.getContext(),o=t.defines;let s=t.vertexShader,a=t.fragmentShader;const c=function Sne(n){let e="SHADOWMAP_TYPE_BASIC";return 1===n.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===n.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===n.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(t),b=function Ine(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),L=function xne(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&302===n.envMapMode&&(e="ENVMAP_MODE_REFRACTION"),e}(t),H=function Ene(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(t),G=function Mne(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}(t),j=t.isWebGL2?"":function vne(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(H_).join("\n")}(t),J=function yne(n){const e=[];for(const t in n){const i=n[t];!1!==i&&e.push("#define "+t+" "+i)}return e.join("\n")}(o),ce=r.createProgram();let se,te,_e=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(se=[J].filter(H_).join("\n"),se.length>0&&(se+="\n"),te=[j,J].filter(H_).join("\n"),te.length>0&&(te+="\n")):(se=[HH(t),"#define SHADER_NAME "+t.shaderName,J,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+L:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(H_).join("\n"),te=[j,HH(t),"#define SHADER_NAME "+t.shaderName,J,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+b:"",t.envMap?"#define "+L:"",t.envMap?"#define "+H:"",G?"#define CUBEUV_TEXEL_WIDTH "+G.texelWidth:"",G?"#define CUBEUV_TEXEL_HEIGHT "+G.texelHeight:"",G?"#define CUBEUV_MAX_MIP "+G.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==t.toneMapping?"#define TONE_MAPPING":"",0!==t.toneMapping?_r.tonemapping_pars_fragment:"",0!==t.toneMapping?mne("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",_r.encodings_pars_fragment,gne("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(H_).join("\n")),s=VD(s),s=NH(s,t),s=$H(s,t),a=VD(a),a=NH(a,t),a=$H(a,t),s=BH(s),a=BH(a),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(_e="#version 300 es\n",se=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+se,te=["#define varying in","300 es"===t.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===t.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+te);const Me=_e+te+a,Re=OH(r,r.VERTEX_SHADER,_e+se+s),$e=OH(r,r.FRAGMENT_SHADER,Me);if(r.attachShader(ce,Re),r.attachShader(ce,$e),void 0!==t.index0AttributeName?r.bindAttribLocation(ce,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(ce,0,"position"),r.linkProgram(ce),n.debug.checkShaderErrors){const Le=r.getProgramInfoLog(ce).trim(),Ze=r.getShaderInfoLog(Re).trim(),vt=r.getShaderInfoLog($e).trim();let Ft=!0,gt=!0;if(!1===r.getProgramParameter(ce,r.LINK_STATUS))if(Ft=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(r,ce,Re,$e);else{const ze=FH(r,Re,"vertex"),ft=FH(r,$e,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(ce,r.VALIDATE_STATUS)+"\n\nProgram Info Log: "+Le+"\n"+ze+"\n"+ft)}else""!==Le?console.warn("THREE.WebGLProgram: Program Info Log:",Le):(""===Ze||""===vt)&&(gt=!1);gt&&(this.diagnostics={runnable:Ft,programLog:Le,vertexShader:{log:Ze,prefix:se},fragmentShader:{log:vt,prefix:te}})}let Qe,it;return r.deleteShader(Re),r.deleteShader($e),this.getUniforms=function(){return void 0===Qe&&(Qe=new tS(r,ce)),Qe},this.getAttributes=function(){return void 0===it&&(it=function _ne(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const o=n.getActiveAttrib(e,r),s=o.name;let a=1;o.type===n.FLOAT_MAT2&&(a=2),o.type===n.FLOAT_MAT3&&(a=3),o.type===n.FLOAT_MAT4&&(a=4),t[s]={type:o.type,location:n.getAttribLocation(e,s),locationSize:a}}return t}(r,ce)),it},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(ce),this.program=void 0},this.name=t.shaderName,this.id=dne++,this.cacheKey=e,this.usedTimes=1,this.program=ce,this.vertexShader=Re,this.fragmentShader=$e,this}let Rne=0;class Dne{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.fragmentShader,r=this._getShaderStage(e.vertexShader),o=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return!1===s.has(r)&&(s.add(r),r.usedTimes++),!1===s.has(o)&&(s.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return void 0===i&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return void 0===i&&(i=new kne(e),t.set(e,i)),i}}class kne{constructor(e){this.id=Rne++,this.code=e,this.usedTimes=0}}function Lne(n,e,t,i,r,o,s){const a=new xD,c=new Dne,b=[],L=r.isWebGL2,H=r.logarithmicDepthBuffer,G=r.vertexTextures;let j=r.precision;const J={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function ce(Le){return 1===Le?"uv1":2===Le?"uv2":3===Le?"uv3":"uv"}return{getParameters:function se(Le,Ze,vt,Ft,gt){const ze=Ft.fog,ft=gt.geometry,rt=(Le.isMeshStandardMaterial?t:e).get(Le.envMap||(Le.isMeshStandardMaterial?Ft.environment:null)),ht=rt&&306===rt.mapping?rt.image.height:null,mt=J[Le.type];null!==Le.precision&&(j=r.getMaxPrecision(Le.precision),j!==Le.precision&&console.warn("THREE.WebGLProgram.getParameters:",Le.precision,"not supported, using",j,"instead."));const Rt=ft.morphAttributes.position||ft.morphAttributes.normal||ft.morphAttributes.color,Xt=void 0!==Rt?Rt.length:0;let Ot,Pt,mn,En,zt=0;if(void 0!==ft.morphAttributes.position&&(zt=1),void 0!==ft.morphAttributes.normal&&(zt=2),void 0!==ft.morphAttributes.color&&(zt=3),mt){const ho=xu[mt];Ot=ho.vertexShader,Pt=ho.fragmentShader}else Ot=Le.vertexShader,Pt=Le.fragmentShader,c.update(Le),mn=c.getVertexShaderID(Le),En=c.getFragmentShaderID(Le);const st=n.getRenderTarget(),Kn=!0===gt.isInstancedMesh,Qn=!!Le.map,ri=!!rt,fn=!!Le.aoMap,jt=!!Le.lightMap,dn=!!Le.bumpMap,ti=!!Le.normalMap,$n=!!Le.displacementMap,xn=!!Le.emissiveMap,ei=!!Le.metalnessMap,di=!!Le.roughnessMap,$i=Le.clearcoat>0,Gr=Le.iridescence>0,et=Le.sheen>0,Xe=Le.transmission>0,Wt=$i&&!!Le.clearcoatMap,wn=$i&&!!Le.clearcoatNormalMap,Sn=$i&&!!Le.clearcoatRoughnessMap,Vn=Gr&&!!Le.iridescenceMap,yt=Gr&&!!Le.iridescenceThicknessMap,cn=et&&!!Le.sheenColorMap,Ht=et&&!!Le.sheenRoughnessMap,Gn=!!Le.specularMap,li=!!Le.specularColorMap,wi=!!Le.specularIntensityMap,ii=Xe&&!!Le.transmissionMap,_i=Xe&&!!Le.thicknessMap,xr=!!Le.alphaMap,St=!!Le.extensions,qt=!!ft.attributes.uv1,In=!!ft.attributes.uv2,oi=!!ft.attributes.uv3;return{isWebGL2:L,shaderID:mt,shaderName:Le.type,vertexShader:Ot,fragmentShader:Pt,defines:Le.defines,customVertexShaderID:mn,customFragmentShaderID:En,isRawShaderMaterial:!0===Le.isRawShaderMaterial,glslVersion:Le.glslVersion,precision:j,instancing:Kn,instancingColor:Kn&&null!==gt.instanceColor,supportsVertexTextures:G,outputColorSpace:null===st?n.outputColorSpace:!0===st.isXRRenderTarget?st.texture.colorSpace:Au,map:Qn,matcap:!!Le.matcap,envMap:ri,envMapMode:ri&&rt.mapping,envMapCubeUVHeight:ht,aoMap:fn,lightMap:jt,bumpMap:dn,normalMap:ti,displacementMap:G&&$n,emissiveMap:xn,normalMapObjectSpace:ti&&1===Le.normalMapType,normalMapTangentSpace:ti&&0===Le.normalMapType,metalnessMap:ei,roughnessMap:di,clearcoat:$i,clearcoatMap:Wt,clearcoatNormalMap:wn,clearcoatRoughnessMap:Sn,iridescence:Gr,iridescenceMap:Vn,iridescenceThicknessMap:yt,sheen:et,sheenColorMap:cn,sheenRoughnessMap:Ht,specularMap:Gn,specularColorMap:li,specularIntensityMap:wi,transmission:Xe,transmissionMap:ii,thicknessMap:_i,gradientMap:!!Le.gradientMap,opaque:!1===Le.transparent&&1===Le.blending,alphaMap:xr,alphaTest:Le.alphaTest>0,combine:Le.combine,mapUv:Qn&&ce(Le.map.channel),aoMapUv:fn&&ce(Le.aoMap.channel),lightMapUv:jt&&ce(Le.lightMap.channel),bumpMapUv:dn&&ce(Le.bumpMap.channel),normalMapUv:ti&&ce(Le.normalMap.channel),displacementMapUv:$n&&ce(Le.displacementMap.channel),emissiveMapUv:xn&&ce(Le.emissiveMap.channel),metalnessMapUv:ei&&ce(Le.metalnessMap.channel),roughnessMapUv:di&&ce(Le.roughnessMap.channel),clearcoatMapUv:Wt&&ce(Le.clearcoatMap.channel),clearcoatNormalMapUv:wn&&ce(Le.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Sn&&ce(Le.clearcoatRoughnessMap.channel),iridescenceMapUv:Vn&&ce(Le.iridescenceMap.channel),iridescenceThicknessMapUv:yt&&ce(Le.iridescenceThicknessMap.channel),sheenColorMapUv:cn&&ce(Le.sheenColorMap.channel),sheenRoughnessMapUv:Ht&&ce(Le.sheenRoughnessMap.channel),specularMapUv:Gn&&ce(Le.specularMap.channel),specularColorMapUv:li&&ce(Le.specularColorMap.channel),specularIntensityMapUv:wi&&ce(Le.specularIntensityMap.channel),transmissionMapUv:ii&&ce(Le.transmissionMap.channel),thicknessMapUv:_i&&ce(Le.thicknessMap.channel),alphaMapUv:xr&&ce(Le.alphaMap.channel),vertexTangents:ti&&!!ft.attributes.tangent,vertexColors:Le.vertexColors,vertexAlphas:!0===Le.vertexColors&&!!ft.attributes.color&&4===ft.attributes.color.itemSize,vertexUv1s:qt,vertexUv2s:In,vertexUv3s:oi,pointsUvs:!0===gt.isPoints&&!!ft.attributes.uv&&(Qn||xr),fog:!!ze,useFog:!0===Le.fog,fogExp2:ze&&ze.isFogExp2,flatShading:!0===Le.flatShading,sizeAttenuation:!0===Le.sizeAttenuation,logarithmicDepthBuffer:H,skinning:!0===gt.isSkinnedMesh,morphTargets:void 0!==ft.morphAttributes.position,morphNormals:void 0!==ft.morphAttributes.normal,morphColors:void 0!==ft.morphAttributes.color,morphTargetsCount:Xt,morphTextureStride:zt,numDirLights:Ze.directional.length,numPointLights:Ze.point.length,numSpotLights:Ze.spot.length,numSpotLightMaps:Ze.spotLightMap.length,numRectAreaLights:Ze.rectArea.length,numHemiLights:Ze.hemi.length,numDirLightShadows:Ze.directionalShadowMap.length,numPointLightShadows:Ze.pointShadowMap.length,numSpotLightShadows:Ze.spotShadowMap.length,numSpotLightShadowsWithMaps:Ze.numSpotLightShadowsWithMaps,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:Le.dithering,shadowMapEnabled:n.shadowMap.enabled&&vt.length>0,shadowMapType:n.shadowMap.type,toneMapping:Le.toneMapped?n.toneMapping:0,useLegacyLights:n.useLegacyLights,premultipliedAlpha:Le.premultipliedAlpha,doubleSided:2===Le.side,flipSided:1===Le.side,useDepthPacking:Le.depthPacking>=0,depthPacking:Le.depthPacking||0,index0AttributeName:Le.index0AttributeName,extensionDerivatives:St&&!0===Le.extensions.derivatives,extensionFragDepth:St&&!0===Le.extensions.fragDepth,extensionDrawBuffers:St&&!0===Le.extensions.drawBuffers,extensionShaderTextureLOD:St&&!0===Le.extensions.shaderTextureLOD,rendererExtensionFragDepth:L||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:L||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:L||i.has("EXT_shader_texture_lod"),customProgramCacheKey:Le.customProgramCacheKey()}},getProgramCacheKey:function te(Le){const Ze=[];if(Le.shaderID?Ze.push(Le.shaderID):(Ze.push(Le.customVertexShaderID),Ze.push(Le.customFragmentShaderID)),void 0!==Le.defines)for(const vt in Le.defines)Ze.push(vt),Ze.push(Le.defines[vt]);return!1===Le.isRawShaderMaterial&&(function _e(Le,Ze){Le.push(Ze.precision),Le.push(Ze.outputColorSpace),Le.push(Ze.envMapMode),Le.push(Ze.envMapCubeUVHeight),Le.push(Ze.mapUv),Le.push(Ze.alphaMapUv),Le.push(Ze.lightMapUv),Le.push(Ze.aoMapUv),Le.push(Ze.bumpMapUv),Le.push(Ze.normalMapUv),Le.push(Ze.displacementMapUv),Le.push(Ze.emissiveMapUv),Le.push(Ze.metalnessMapUv),Le.push(Ze.roughnessMapUv),Le.push(Ze.clearcoatMapUv),Le.push(Ze.clearcoatNormalMapUv),Le.push(Ze.clearcoatRoughnessMapUv),Le.push(Ze.iridescenceMapUv),Le.push(Ze.iridescenceThicknessMapUv),Le.push(Ze.sheenColorMapUv),Le.push(Ze.sheenRoughnessMapUv),Le.push(Ze.specularMapUv),Le.push(Ze.specularColorMapUv),Le.push(Ze.specularIntensityMapUv),Le.push(Ze.transmissionMapUv),Le.push(Ze.thicknessMapUv),Le.push(Ze.combine),Le.push(Ze.fogExp2),Le.push(Ze.sizeAttenuation),Le.push(Ze.morphTargetsCount),Le.push(Ze.morphAttributeCount),Le.push(Ze.numDirLights),Le.push(Ze.numPointLights),Le.push(Ze.numSpotLights),Le.push(Ze.numSpotLightMaps),Le.push(Ze.numHemiLights),Le.push(Ze.numRectAreaLights),Le.push(Ze.numDirLightShadows),Le.push(Ze.numPointLightShadows),Le.push(Ze.numSpotLightShadows),Le.push(Ze.numSpotLightShadowsWithMaps),Le.push(Ze.shadowMapType),Le.push(Ze.toneMapping),Le.push(Ze.numClippingPlanes),Le.push(Ze.numClipIntersection),Le.push(Ze.depthPacking)}(Ze,Le),function ge(Le,Ze){a.disableAll(),Ze.isWebGL2&&a.enable(0),Ze.supportsVertexTextures&&a.enable(1),Ze.instancing&&a.enable(2),Ze.instancingColor&&a.enable(3),Ze.matcap&&a.enable(4),Ze.envMap&&a.enable(5),Ze.normalMapObjectSpace&&a.enable(6),Ze.normalMapTangentSpace&&a.enable(7),Ze.clearcoat&&a.enable(8),Ze.iridescence&&a.enable(9),Ze.alphaTest&&a.enable(10),Ze.vertexColors&&a.enable(11),Ze.vertexAlphas&&a.enable(12),Ze.vertexUv1s&&a.enable(13),Ze.vertexUv2s&&a.enable(14),Ze.vertexUv3s&&a.enable(15),Ze.vertexTangents&&a.enable(16),Le.push(a.mask),a.disableAll(),Ze.fog&&a.enable(0),Ze.useFog&&a.enable(1),Ze.flatShading&&a.enable(2),Ze.logarithmicDepthBuffer&&a.enable(3),Ze.skinning&&a.enable(4),Ze.morphTargets&&a.enable(5),Ze.morphNormals&&a.enable(6),Ze.morphColors&&a.enable(7),Ze.premultipliedAlpha&&a.enable(8),Ze.shadowMapEnabled&&a.enable(9),Ze.useLegacyLights&&a.enable(10),Ze.doubleSided&&a.enable(11),Ze.flipSided&&a.enable(12),Ze.useDepthPacking&&a.enable(13),Ze.dithering&&a.enable(14),Ze.transmission&&a.enable(15),Ze.sheen&&a.enable(16),Ze.opaque&&a.enable(17),Ze.pointsUvs&&a.enable(18),Le.push(a.mask)}(Ze,Le),Ze.push(n.outputColorSpace)),Ze.push(Le.customProgramCacheKey),Ze.join()},getUniforms:function Me(Le){const Ze=J[Le.type];let vt;return vt=Ze?nQ.clone(xu[Ze].uniforms):Le.uniforms,vt},acquireProgram:function Re(Le,Ze){let vt;for(let Ft=0,gt=b.length;Ft<gt;Ft++){const ze=b[Ft];if(ze.cacheKey===Ze){vt=ze,++vt.usedTimes;break}}return void 0===vt&&(vt=new Tne(n,Ze,Le,o),b.push(vt)),vt},releaseProgram:function $e(Le){if(0==--Le.usedTimes){const Ze=b.indexOf(Le);b[Ze]=b[b.length-1],b.pop(),Le.destroy()}},releaseShaderCache:function Qe(Le){c.remove(Le)},programs:b,dispose:function it(){c.dispose()}}}function Pne(){let n=new WeakMap;return{get:function e(o){let s=n.get(o);return void 0===s&&(s={},n.set(o,s)),s},remove:function t(o){n.delete(o)},update:function i(o,s,a){n.get(o)[s]=a},dispose:function r(){n=new WeakMap}}}function One(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function VH(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function WH(){const n=[];let e=0;const t=[],i=[],r=[];function s(H,G,j,J,ce,se){let te=n[e];return void 0===te?(te={id:H.id,object:H,geometry:G,material:j,groupOrder:J,renderOrder:H.renderOrder,z:ce,group:se},n[e]=te):(te.id=H.id,te.object=H,te.geometry=G,te.material=j,te.groupOrder=J,te.renderOrder=H.renderOrder,te.z=ce,te.group=se),e++,te}return{opaque:t,transmissive:i,transparent:r,init:function o(){e=0,t.length=0,i.length=0,r.length=0},push:function a(H,G,j,J,ce,se){const te=s(H,G,j,J,ce,se);j.transmission>0?i.push(te):!0===j.transparent?r.push(te):t.push(te)},unshift:function c(H,G,j,J,ce,se){const te=s(H,G,j,J,ce,se);j.transmission>0?i.unshift(te):!0===j.transparent?r.unshift(te):t.unshift(te)},finish:function L(){for(let H=e,G=n.length;H<G;H++){const j=n[H];if(null===j.id)break;j.id=null,j.object=null,j.geometry=null,j.material=null,j.group=null}},sort:function b(H,G){t.length>1&&t.sort(H||One),i.length>1&&i.sort(G||VH),r.length>1&&r.sort(G||VH)}}}function Fne(){let n=new WeakMap;return{get:function e(i,r){const o=n.get(i);let s;return void 0===o?(s=new WH,n.set(i,[s])):r>=o.length?(s=new WH,o.push(s)):s=o[r],s},dispose:function t(){n=new WeakMap}}}function Nne(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Je,color:new Jn};break;case"SpotLight":t={position:new Je,direction:new Je,color:new Jn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Je,color:new Jn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Je,skyColor:new Jn,groundColor:new Jn};break;case"RectAreaLight":t={color:new Jn,position:new Je,halfWidth:new Je,halfHeight:new Je}}return n[e.id]=t,t}}}let Bne=0;function Hne(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Vne(n,e){const t=new Nne,i=function $ne(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ln};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ln,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let L=0;L<9;L++)r.probe.push(new Je);const o=new Je,s=new ar,a=new ar;return{setup:function c(L,H){let G=0,j=0,J=0;for(let vt=0;vt<9;vt++)r.probe[vt].set(0,0,0);let ce=0,se=0,te=0,_e=0,ge=0,Me=0,Re=0,$e=0,Qe=0,it=0;L.sort(Hne);const Le=!0===H?Math.PI:1;for(let vt=0,Ft=L.length;vt<Ft;vt++){const gt=L[vt],ze=gt.color,ft=gt.intensity,Ye=gt.distance,rt=gt.shadow&&gt.shadow.map?gt.shadow.map.texture:null;if(gt.isAmbientLight)G+=ze.r*ft*Le,j+=ze.g*ft*Le,J+=ze.b*ft*Le;else if(gt.isLightProbe)for(let ht=0;ht<9;ht++)r.probe[ht].addScaledVector(gt.sh.coefficients[ht],ft);else if(gt.isDirectionalLight){const ht=t.get(gt);if(ht.color.copy(gt.color).multiplyScalar(gt.intensity*Le),gt.castShadow){const mt=gt.shadow,Rt=i.get(gt);Rt.shadowBias=mt.bias,Rt.shadowNormalBias=mt.normalBias,Rt.shadowRadius=mt.radius,Rt.shadowMapSize=mt.mapSize,r.directionalShadow[ce]=Rt,r.directionalShadowMap[ce]=rt,r.directionalShadowMatrix[ce]=gt.shadow.matrix,Me++}r.directional[ce]=ht,ce++}else if(gt.isSpotLight){const ht=t.get(gt);ht.position.setFromMatrixPosition(gt.matrixWorld),ht.color.copy(ze).multiplyScalar(ft*Le),ht.distance=Ye,ht.coneCos=Math.cos(gt.angle),ht.penumbraCos=Math.cos(gt.angle*(1-gt.penumbra)),ht.decay=gt.decay,r.spot[te]=ht;const mt=gt.shadow;if(gt.map&&(r.spotLightMap[Qe]=gt.map,Qe++,mt.updateMatrices(gt),gt.castShadow&&it++),r.spotLightMatrix[te]=mt.matrix,gt.castShadow){const Rt=i.get(gt);Rt.shadowBias=mt.bias,Rt.shadowNormalBias=mt.normalBias,Rt.shadowRadius=mt.radius,Rt.shadowMapSize=mt.mapSize,r.spotShadow[te]=Rt,r.spotShadowMap[te]=rt,$e++}te++}else if(gt.isRectAreaLight){const ht=t.get(gt);ht.color.copy(ze).multiplyScalar(ft),ht.halfWidth.set(.5*gt.width,0,0),ht.halfHeight.set(0,.5*gt.height,0),r.rectArea[_e]=ht,_e++}else if(gt.isPointLight){const ht=t.get(gt);if(ht.color.copy(gt.color).multiplyScalar(gt.intensity*Le),ht.distance=gt.distance,ht.decay=gt.decay,gt.castShadow){const mt=gt.shadow,Rt=i.get(gt);Rt.shadowBias=mt.bias,Rt.shadowNormalBias=mt.normalBias,Rt.shadowRadius=mt.radius,Rt.shadowMapSize=mt.mapSize,Rt.shadowCameraNear=mt.camera.near,Rt.shadowCameraFar=mt.camera.far,r.pointShadow[se]=Rt,r.pointShadowMap[se]=rt,r.pointShadowMatrix[se]=gt.shadow.matrix,Re++}r.point[se]=ht,se++}else if(gt.isHemisphereLight){const ht=t.get(gt);ht.skyColor.copy(gt.color).multiplyScalar(ft*Le),ht.groundColor.copy(gt.groundColor).multiplyScalar(ft*Le),r.hemi[ge]=ht,ge++}}_e>0&&(e.isWebGL2||!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=Hn.LTC_FLOAT_1,r.rectAreaLTC2=Hn.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Hn.LTC_HALF_1,r.rectAreaLTC2=Hn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=G,r.ambient[1]=j,r.ambient[2]=J;const Ze=r.hash;(Ze.directionalLength!==ce||Ze.pointLength!==se||Ze.spotLength!==te||Ze.rectAreaLength!==_e||Ze.hemiLength!==ge||Ze.numDirectionalShadows!==Me||Ze.numPointShadows!==Re||Ze.numSpotShadows!==$e||Ze.numSpotMaps!==Qe)&&(r.directional.length=ce,r.spot.length=te,r.rectArea.length=_e,r.point.length=se,r.hemi.length=ge,r.directionalShadow.length=Me,r.directionalShadowMap.length=Me,r.pointShadow.length=Re,r.pointShadowMap.length=Re,r.spotShadow.length=$e,r.spotShadowMap.length=$e,r.directionalShadowMatrix.length=Me,r.pointShadowMatrix.length=Re,r.spotLightMatrix.length=$e+Qe-it,r.spotLightMap.length=Qe,r.numSpotLightShadowsWithMaps=it,Ze.directionalLength=ce,Ze.pointLength=se,Ze.spotLength=te,Ze.rectAreaLength=_e,Ze.hemiLength=ge,Ze.numDirectionalShadows=Me,Ze.numPointShadows=Re,Ze.numSpotShadows=$e,Ze.numSpotMaps=Qe,r.version=Bne++)},setupView:function b(L,H){let G=0,j=0,J=0,ce=0,se=0;const te=H.matrixWorldInverse;for(let _e=0,ge=L.length;_e<ge;_e++){const Me=L[_e];if(Me.isDirectionalLight){const Re=r.directional[G];Re.direction.setFromMatrixPosition(Me.matrixWorld),o.setFromMatrixPosition(Me.target.matrixWorld),Re.direction.sub(o),Re.direction.transformDirection(te),G++}else if(Me.isSpotLight){const Re=r.spot[J];Re.position.setFromMatrixPosition(Me.matrixWorld),Re.position.applyMatrix4(te),Re.direction.setFromMatrixPosition(Me.matrixWorld),o.setFromMatrixPosition(Me.target.matrixWorld),Re.direction.sub(o),Re.direction.transformDirection(te),J++}else if(Me.isRectAreaLight){const Re=r.rectArea[ce];Re.position.setFromMatrixPosition(Me.matrixWorld),Re.position.applyMatrix4(te),a.identity(),s.copy(Me.matrixWorld),s.premultiply(te),a.extractRotation(s),Re.halfWidth.set(.5*Me.width,0,0),Re.halfHeight.set(0,.5*Me.height,0),Re.halfWidth.applyMatrix4(a),Re.halfHeight.applyMatrix4(a),ce++}else if(Me.isPointLight){const Re=r.point[j];Re.position.setFromMatrixPosition(Me.matrixWorld),Re.position.applyMatrix4(te),j++}else if(Me.isHemisphereLight){const Re=r.hemi[se];Re.direction.setFromMatrixPosition(Me.matrixWorld),Re.direction.transformDirection(te),se++}}},state:r}}function UH(n,e){const t=new Vne(n,e),i=[],r=[];return{init:function o(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:function c(H){t.setup(i,H)},setupLightsView:function b(H){t.setupView(i,H)},pushLight:function s(H){i.push(H)},pushShadow:function a(H){r.push(H)}}}function Wne(n,e){let t=new WeakMap;return{get:function i(o,s=0){const a=t.get(o);let c;return void 0===a?(c=new UH(n,e),t.set(o,[c])):s>=a.length?(c=new UH(n,e),a.push(c)):c=a[s],c},dispose:function r(){t=new WeakMap}}}class GH extends Ph{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class zH extends Ph{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function zne(n,e,t){let i=new FD;const r=new ln,o=new ln,s=new io,a=new GH({depthPacking:3201}),c=new zH,b={},L=t.maxTextureSize,H={0:1,1:0,2:2},G=new zd({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ln},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),j=G.clone();j.defines.HORIZONTAL_PASS=1;const J=new Ir;J.setAttribute("position",new js(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const ce=new Va(J,G),se=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let te=this.type;function _e(Re,$e){const Qe=e.update(ce);G.defines.VSM_SAMPLES!==Re.blurSamples&&(G.defines.VSM_SAMPLES=Re.blurSamples,j.defines.VSM_SAMPLES=Re.blurSamples,G.needsUpdate=!0,j.needsUpdate=!0),null===Re.mapPass&&(Re.mapPass=new mp(r.x,r.y)),G.uniforms.shadow_pass.value=Re.map.texture,G.uniforms.resolution.value=Re.mapSize,G.uniforms.radius.value=Re.radius,n.setRenderTarget(Re.mapPass),n.clear(),n.renderBufferDirect($e,null,Qe,G,ce,null),j.uniforms.shadow_pass.value=Re.mapPass.texture,j.uniforms.resolution.value=Re.mapSize,j.uniforms.radius.value=Re.radius,n.setRenderTarget(Re.map),n.clear(),n.renderBufferDirect($e,null,Qe,j,ce,null)}function ge(Re,$e,Qe,it){let Le=null;const Ze=!0===Qe.isPointLight?Re.customDistanceMaterial:Re.customDepthMaterial;if(void 0!==Ze)Le=Ze;else if(Le=!0===Qe.isPointLight?c:a,n.localClippingEnabled&&!0===$e.clipShadows&&Array.isArray($e.clippingPlanes)&&0!==$e.clippingPlanes.length||$e.displacementMap&&0!==$e.displacementScale||$e.alphaMap&&$e.alphaTest>0||$e.map&&$e.alphaTest>0){const vt=Le.uuid,Ft=$e.uuid;let gt=b[vt];void 0===gt&&(gt={},b[vt]=gt);let ze=gt[Ft];void 0===ze&&(ze=Le.clone(),gt[Ft]=ze),Le=ze}return Le.visible=$e.visible,Le.wireframe=$e.wireframe,Le.side=3===it?null!==$e.shadowSide?$e.shadowSide:$e.side:null!==$e.shadowSide?$e.shadowSide:H[$e.side],Le.alphaMap=$e.alphaMap,Le.alphaTest=$e.alphaTest,Le.map=$e.map,Le.clipShadows=$e.clipShadows,Le.clippingPlanes=$e.clippingPlanes,Le.clipIntersection=$e.clipIntersection,Le.displacementMap=$e.displacementMap,Le.displacementScale=$e.displacementScale,Le.displacementBias=$e.displacementBias,Le.wireframeLinewidth=$e.wireframeLinewidth,Le.linewidth=$e.linewidth,!0===Qe.isPointLight&&!0===Le.isMeshDistanceMaterial&&(n.properties.get(Le).light=Qe),Le}function Me(Re,$e,Qe,it,Le){if(!1===Re.visible)return;if(Re.layers.test($e.layers)&&(Re.isMesh||Re.isLine||Re.isPoints)&&(Re.castShadow||Re.receiveShadow&&3===Le)&&(!Re.frustumCulled||i.intersectsObject(Re))){Re.modelViewMatrix.multiplyMatrices(Qe.matrixWorldInverse,Re.matrixWorld);const Ft=e.update(Re),gt=Re.material;if(Array.isArray(gt)){const ze=Ft.groups;for(let ft=0,Ye=ze.length;ft<Ye;ft++){const rt=ze[ft],ht=gt[rt.materialIndex];if(ht&&ht.visible){const mt=ge(Re,ht,it,Le);n.renderBufferDirect(Qe,null,Ft,mt,Re,rt)}}}else if(gt.visible){const ze=ge(Re,gt,it,Le);n.renderBufferDirect(Qe,null,Ft,ze,Re,null)}}const vt=Re.children;for(let Ft=0,gt=vt.length;Ft<gt;Ft++)Me(vt[Ft],$e,Qe,it,Le)}this.render=function(Re,$e,Qe){if(!1===se.enabled||!1===se.autoUpdate&&!1===se.needsUpdate||0===Re.length)return;const it=n.getRenderTarget(),Le=n.getActiveCubeFace(),Ze=n.getActiveMipmapLevel(),vt=n.state;vt.setBlending(0),vt.buffers.color.setClear(1,1,1,1),vt.buffers.depth.setTest(!0),vt.setScissorTest(!1);const Ft=3!==te&&3===this.type,gt=3===te&&3!==this.type;for(let ze=0,ft=Re.length;ze<ft;ze++){const Ye=Re[ze],rt=Ye.shadow;if(void 0===rt){console.warn("THREE.WebGLShadowMap:",Ye,"has no shadow.");continue}if(!1===rt.autoUpdate&&!1===rt.needsUpdate)continue;r.copy(rt.mapSize);const ht=rt.getFrameExtents();if(r.multiply(ht),o.copy(rt.mapSize),(r.x>L||r.y>L)&&(r.x>L&&(o.x=Math.floor(L/ht.x),r.x=o.x*ht.x,rt.mapSize.x=o.x),r.y>L&&(o.y=Math.floor(L/ht.y),r.y=o.y*ht.y,rt.mapSize.y=o.y)),null===rt.map||!0===Ft||!0===gt){const Rt=3!==this.type?{minFilter:_s,magFilter:_s}:{};null!==rt.map&&rt.map.dispose(),rt.map=new mp(r.x,r.y,Rt),rt.map.texture.name=Ye.name+".shadowMap",rt.camera.updateProjectionMatrix()}n.setRenderTarget(rt.map),n.clear();const mt=rt.getViewportCount();for(let Rt=0;Rt<mt;Rt++){const Xt=rt.getViewport(Rt);s.set(o.x*Xt.x,o.y*Xt.y,o.x*Xt.z,o.y*Xt.w),vt.viewport(s),rt.updateMatrices(Ye,Rt),i=rt.getFrustum(),Me($e,Qe,rt.camera,Ye,this.type)}!0!==rt.isPointLightShadow&&3===this.type&&_e(rt,Qe),rt.needsUpdate=!1}te=this.type,se.needsUpdate=!1,n.setRenderTarget(it,Le,Ze)}}function jne(n,e,t){const i=t.isWebGL2,a=new function r(){let St=!1;const qt=new io;let In=null;const oi=new io(0,0,0,0);return{setMask:function(Ai){In!==Ai&&!St&&(n.colorMask(Ai,Ai,Ai,Ai),In=Ai)},setLocked:function(Ai){St=Ai},setClear:function(Ai,ho,fo,xa,af){!0===af&&(Ai*=xa,ho*=xa,fo*=xa),qt.set(Ai,ho,fo,xa),!1===oi.equals(qt)&&(n.clearColor(Ai,ho,fo,xa),oi.copy(qt))},reset:function(){St=!1,In=null,oi.set(-1,0,0,0)}}},c=new function o(){let St=!1,qt=null,In=null,oi=null;return{setTest:function(Ai){Ai?st(n.DEPTH_TEST):Kn(n.DEPTH_TEST)},setMask:function(Ai){qt!==Ai&&!St&&(n.depthMask(Ai),qt=Ai)},setFunc:function(Ai){if(In!==Ai){switch(Ai){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:default:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL)}In=Ai}},setLocked:function(Ai){St=Ai},setClear:function(Ai){oi!==Ai&&(n.clearDepth(Ai),oi=Ai)},reset:function(){St=!1,qt=null,In=null,oi=null}}},b=new function s(){let St=!1,qt=null,In=null,oi=null,Ai=null,ho=null,fo=null,xa=null,af=null;return{setTest:function(ls){St||(ls?st(n.STENCIL_TEST):Kn(n.STENCIL_TEST))},setMask:function(ls){qt!==ls&&!St&&(n.stencilMask(ls),qt=ls)},setFunc:function(ls,lc,$u){(In!==ls||oi!==lc||Ai!==$u)&&(n.stencilFunc(ls,lc,$u),In=ls,oi=lc,Ai=$u)},setOp:function(ls,lc,$u){(ho!==ls||fo!==lc||xa!==$u)&&(n.stencilOp(ls,lc,$u),ho=ls,fo=lc,xa=$u)},setLocked:function(ls){St=ls},setClear:function(ls){af!==ls&&(n.clearStencil(ls),af=ls)},reset:function(){St=!1,qt=null,In=null,oi=null,Ai=null,ho=null,fo=null,xa=null,af=null}}},L=new WeakMap,H=new WeakMap;let G={},j={},J=new WeakMap,ce=[],se=null,te=!1,_e=null,ge=null,Me=null,Re=null,$e=null,Qe=null,it=null,Le=!1,Ze=null,vt=null,Ft=null,gt=null,ze=null;const ft=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Ye=!1,rt=0;const ht=n.getParameter(n.VERSION);-1!==ht.indexOf("WebGL")?(rt=parseFloat(/^WebGL (\d)/.exec(ht)[1]),Ye=rt>=1):-1!==ht.indexOf("OpenGL ES")&&(rt=parseFloat(/^OpenGL ES (\d)/.exec(ht)[1]),Ye=rt>=2);let mt=null,Rt={};const Xt=n.getParameter(n.SCISSOR_BOX),zt=n.getParameter(n.VIEWPORT),Ot=(new io).fromArray(Xt),Pt=(new io).fromArray(zt);function mn(St,qt,In,oi){const Ai=new Uint8Array(4),ho=n.createTexture();n.bindTexture(St,ho),n.texParameteri(St,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(St,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let fo=0;fo<In;fo++)!i||St!==n.TEXTURE_3D&&St!==n.TEXTURE_2D_ARRAY?n.texImage2D(qt+fo,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ai):n.texImage3D(qt,0,n.RGBA,1,1,oi,0,n.RGBA,n.UNSIGNED_BYTE,Ai);return ho}const En={};function st(St){!0!==G[St]&&(n.enable(St),G[St]=!0)}function Kn(St){!1!==G[St]&&(n.disable(St),G[St]=!1)}En[n.TEXTURE_2D]=mn(n.TEXTURE_2D,n.TEXTURE_2D,1),En[n.TEXTURE_CUBE_MAP]=mn(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(En[n.TEXTURE_2D_ARRAY]=mn(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),En[n.TEXTURE_3D]=mn(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),c.setClear(1),b.setClear(0),st(n.DEPTH_TEST),c.setFunc(3),$n(!1),xn(1),st(n.CULL_FACE),dn(0);const fn={100:n.FUNC_ADD,101:n.FUNC_SUBTRACT,102:n.FUNC_REVERSE_SUBTRACT};if(i)fn[103]=n.MIN,fn[104]=n.MAX;else{const St=e.get("EXT_blend_minmax");null!==St&&(fn[103]=St.MIN_EXT,fn[104]=St.MAX_EXT)}const jt={200:n.ZERO,201:n.ONE,202:n.SRC_COLOR,204:n.SRC_ALPHA,210:n.SRC_ALPHA_SATURATE,208:n.DST_COLOR,206:n.DST_ALPHA,203:n.ONE_MINUS_SRC_COLOR,205:n.ONE_MINUS_SRC_ALPHA,209:n.ONE_MINUS_DST_COLOR,207:n.ONE_MINUS_DST_ALPHA};function dn(St,qt,In,oi,Ai,ho,fo,xa){if(0!==St){if(!1===te&&(st(n.BLEND),te=!0),5===St)Ai=Ai||qt,ho=ho||In,fo=fo||oi,(qt!==ge||Ai!==$e)&&(n.blendEquationSeparate(fn[qt],fn[Ai]),ge=qt,$e=Ai),(In!==Me||oi!==Re||ho!==Qe||fo!==it)&&(n.blendFuncSeparate(jt[In],jt[oi],jt[ho],jt[fo]),Me=In,Re=oi,Qe=ho,it=fo),_e=St,Le=!1;else if(St!==_e||xa!==Le){if((100!==ge||100!==$e)&&(n.blendEquation(n.FUNC_ADD),ge=100,$e=100),xa)switch(St){case 1:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.ONE,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",St)}else switch(St){case 1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",St)}Me=null,Re=null,Qe=null,it=null,_e=St,Le=xa}}else!0===te&&(Kn(n.BLEND),te=!1)}function $n(St){Ze!==St&&(n.frontFace(St?n.CW:n.CCW),Ze=St)}function xn(St){0!==St?(st(n.CULL_FACE),St!==vt&&n.cullFace(1===St?n.BACK:2===St?n.FRONT:n.FRONT_AND_BACK)):Kn(n.CULL_FACE),vt=St}function di(St,qt,In){St?(st(n.POLYGON_OFFSET_FILL),(gt!==qt||ze!==In)&&(n.polygonOffset(qt,In),gt=qt,ze=In)):Kn(n.POLYGON_OFFSET_FILL)}return{buffers:{color:a,depth:c,stencil:b},enable:st,disable:Kn,bindFramebuffer:function Qn(St,qt){return j[St]!==qt&&(n.bindFramebuffer(St,qt),j[St]=qt,i&&(St===n.DRAW_FRAMEBUFFER&&(j[n.FRAMEBUFFER]=qt),St===n.FRAMEBUFFER&&(j[n.DRAW_FRAMEBUFFER]=qt)),!0)},drawBuffers:function yn(St,qt){let In=ce,oi=!1;if(St)if(In=J.get(qt),void 0===In&&(In=[],J.set(qt,In)),St.isWebGLMultipleRenderTargets){const Ai=St.texture;if(In.length!==Ai.length||In[0]!==n.COLOR_ATTACHMENT0){for(let ho=0,fo=Ai.length;ho<fo;ho++)In[ho]=n.COLOR_ATTACHMENT0+ho;In.length=Ai.length,oi=!0}}else In[0]!==n.COLOR_ATTACHMENT0&&(In[0]=n.COLOR_ATTACHMENT0,oi=!0);else In[0]!==n.BACK&&(In[0]=n.BACK,oi=!0);oi&&(t.isWebGL2?n.drawBuffers(In):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(In))},useProgram:function ri(St){return se!==St&&(n.useProgram(St),se=St,!0)},setBlending:dn,setMaterial:function ti(St,qt){2===St.side?Kn(n.CULL_FACE):st(n.CULL_FACE);let In=1===St.side;qt&&(In=!In),$n(In),1===St.blending&&!1===St.transparent?dn(0):dn(St.blending,St.blendEquation,St.blendSrc,St.blendDst,St.blendEquationAlpha,St.blendSrcAlpha,St.blendDstAlpha,St.premultipliedAlpha),c.setFunc(St.depthFunc),c.setTest(St.depthTest),c.setMask(St.depthWrite),a.setMask(St.colorWrite);const oi=St.stencilWrite;b.setTest(oi),oi&&(b.setMask(St.stencilWriteMask),b.setFunc(St.stencilFunc,St.stencilRef,St.stencilFuncMask),b.setOp(St.stencilFail,St.stencilZFail,St.stencilZPass)),di(St.polygonOffset,St.polygonOffsetFactor,St.polygonOffsetUnits),!0===St.alphaToCoverage?st(n.SAMPLE_ALPHA_TO_COVERAGE):Kn(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:$n,setCullFace:xn,setLineWidth:function ei(St){St!==Ft&&(Ye&&n.lineWidth(St),Ft=St)},setPolygonOffset:di,setScissorTest:function $i(St){St?st(n.SCISSOR_TEST):Kn(n.SCISSOR_TEST)},activeTexture:function Gr(St){void 0===St&&(St=n.TEXTURE0+ft-1),mt!==St&&(n.activeTexture(St),mt=St)},bindTexture:function et(St,qt,In){void 0===In&&(In=null===mt?n.TEXTURE0+ft-1:mt);let oi=Rt[In];void 0===oi&&(oi={type:void 0,texture:void 0},Rt[In]=oi),(oi.type!==St||oi.texture!==qt)&&(mt!==In&&(n.activeTexture(In),mt=In),n.bindTexture(St,qt||En[St]),oi.type=St,oi.texture=qt)},unbindTexture:function Xe(){const St=Rt[mt];void 0!==St&&void 0!==St.type&&(n.bindTexture(St.type,null),St.type=void 0,St.texture=void 0)},compressedTexImage2D:function Wt(){try{n.compressedTexImage2D.apply(n,arguments)}catch(St){console.error("THREE.WebGLState:",St)}},compressedTexImage3D:function wn(){try{n.compressedTexImage3D.apply(n,arguments)}catch(St){console.error("THREE.WebGLState:",St)}},texImage2D:function li(){try{n.texImage2D.apply(n,arguments)}catch(St){console.error("THREE.WebGLState:",St)}},texImage3D:function wi(){try{n.texImage3D.apply(n,arguments)}catch(St){console.error("THREE.WebGLState:",St)}},updateUBOMapping:function rr(St,qt){let In=H.get(qt);void 0===In&&(In=new WeakMap,H.set(qt,In));let oi=In.get(St);void 0===oi&&(oi=n.getUniformBlockIndex(qt,St.name),In.set(St,oi))},uniformBlockBinding:function xr(St,qt){const oi=H.get(qt).get(St);L.get(qt)!==oi&&(n.uniformBlockBinding(qt,oi,St.__bindingPointIndex),L.set(qt,oi))},texStorage2D:function Ht(){try{n.texStorage2D.apply(n,arguments)}catch(St){console.error("THREE.WebGLState:",St)}},texStorage3D:function Gn(){try{n.texStorage3D.apply(n,arguments)}catch(St){console.error("THREE.WebGLState:",St)}},texSubImage2D:function Sn(){try{n.texSubImage2D.apply(n,arguments)}catch(St){console.error("THREE.WebGLState:",St)}},texSubImage3D:function Vn(){try{n.texSubImage3D.apply(n,arguments)}catch(St){console.error("THREE.WebGLState:",St)}},compressedTexSubImage2D:function yt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(St){console.error("THREE.WebGLState:",St)}},compressedTexSubImage3D:function cn(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(St){console.error("THREE.WebGLState:",St)}},scissor:function ii(St){!1===Ot.equals(St)&&(n.scissor(St.x,St.y,St.z,St.w),Ot.copy(St))},viewport:function _i(St){!1===Pt.equals(St)&&(n.viewport(St.x,St.y,St.z,St.w),Pt.copy(St))},reset:function as(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),!0===i&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),G={},mt=null,Rt={},j={},J=new WeakMap,ce=[],se=null,te=!1,_e=null,ge=null,Me=null,Re=null,$e=null,Qe=null,it=null,Le=!1,Ze=null,vt=null,Ft=null,gt=null,ze=null,Ot.set(0,0,n.canvas.width,n.canvas.height),Pt.set(0,0,n.canvas.width,n.canvas.height),a.reset(),c.reset(),b.reset()}}}function Zne(n,e,t,i,r,o,s){const a=r.isWebGL2,c=r.maxTextures,b=r.maxCubemapSize,L=r.maxTextureSize,H=r.maxSamples,G=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,j="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),J=new WeakMap;let ce;const se=new WeakMap;let te=!1;try{te="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(et){}function _e(et,Xe){return te?new OffscreenCanvas(et,Xe):L_("canvas")}function ge(et,Xe,Wt,wn){let Sn=1;if((et.width>wn||et.height>wn)&&(Sn=wn/Math.max(et.width,et.height)),Sn<1||!0===Xe){if("undefined"!=typeof HTMLImageElement&&et instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&et instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&et instanceof ImageBitmap){const Vn=Xe?KB:Math.floor,yt=Vn(Sn*et.width),cn=Vn(Sn*et.height);void 0===ce&&(ce=_e(yt,cn));const Ht=Wt?_e(yt,cn):ce;return Ht.width=yt,Ht.height=cn,Ht.getContext("2d").drawImage(et,0,0,yt,cn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+et.width+"x"+et.height+") to ("+yt+"x"+cn+")."),Ht}return"data"in et&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+et.width+"x"+et.height+")."),et}return et}function Me(et){return gD(et.width)&&gD(et.height)}function $e(et,Xe){return et.generateMipmaps&&Xe&&et.minFilter!==_s&&et.minFilter!==rs}function Qe(et){n.generateMipmap(et)}function it(et,Xe,Wt,wn,Sn=!1){if(!1===a)return Xe;if(null!==et){if(void 0!==n[et])return n[et];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+et+"'")}let Vn=Xe;return Xe===n.RED&&(Wt===n.FLOAT&&(Vn=n.R32F),Wt===n.HALF_FLOAT&&(Vn=n.R16F),Wt===n.UNSIGNED_BYTE&&(Vn=n.R8)),Xe===n.RG&&(Wt===n.FLOAT&&(Vn=n.RG32F),Wt===n.HALF_FLOAT&&(Vn=n.RG16F),Wt===n.UNSIGNED_BYTE&&(Vn=n.RG8)),Xe===n.RGBA&&(Wt===n.FLOAT&&(Vn=n.RGBA32F),Wt===n.HALF_FLOAT&&(Vn=n.RGBA16F),Wt===n.UNSIGNED_BYTE&&(Vn=wn===mr&&!1===Sn?n.SRGB8_ALPHA8:n.RGBA8),Wt===n.UNSIGNED_SHORT_4_4_4_4&&(Vn=n.RGBA4),Wt===n.UNSIGNED_SHORT_5_5_5_1&&(Vn=n.RGB5_A1)),(Vn===n.R16F||Vn===n.R32F||Vn===n.RG16F||Vn===n.RG32F||Vn===n.RGBA16F||Vn===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Vn}function Le(et,Xe,Wt){return!0===$e(et,Wt)||et.isFramebufferTexture&&et.minFilter!==_s&&et.minFilter!==rs?Math.log2(Math.max(Xe.width,Xe.height))+1:void 0!==et.mipmaps&&et.mipmaps.length>0?et.mipmaps.length:et.isCompressedTexture&&Array.isArray(et.image)?Xe.mipmaps.length:1}function Ze(et){return et===_s||1004===et||1005===et?n.NEAREST:n.LINEAR}function vt(et){const Xe=et.target;Xe.removeEventListener("dispose",vt),function gt(et){const Xe=i.get(et);if(void 0===Xe.__webglInit)return;const Wt=et.source,wn=se.get(Wt);if(wn){const Sn=wn[Xe.__cacheKey];Sn.usedTimes--,0===Sn.usedTimes&&ze(et),0===Object.keys(wn).length&&se.delete(Wt)}i.remove(et)}(Xe),Xe.isVideoTexture&&J.delete(Xe)}function Ft(et){const Xe=et.target;Xe.removeEventListener("dispose",Ft),function ft(et){const Xe=et.texture,Wt=i.get(et),wn=i.get(Xe);if(void 0!==wn.__webglTexture&&(n.deleteTexture(wn.__webglTexture),s.memory.textures--),et.depthTexture&&et.depthTexture.dispose(),et.isWebGLCubeRenderTarget)for(let Sn=0;Sn<6;Sn++)n.deleteFramebuffer(Wt.__webglFramebuffer[Sn]),Wt.__webglDepthbuffer&&n.deleteRenderbuffer(Wt.__webglDepthbuffer[Sn]);else{if(n.deleteFramebuffer(Wt.__webglFramebuffer),Wt.__webglDepthbuffer&&n.deleteRenderbuffer(Wt.__webglDepthbuffer),Wt.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Wt.__webglMultisampledFramebuffer),Wt.__webglColorRenderbuffer)for(let Sn=0;Sn<Wt.__webglColorRenderbuffer.length;Sn++)Wt.__webglColorRenderbuffer[Sn]&&n.deleteRenderbuffer(Wt.__webglColorRenderbuffer[Sn]);Wt.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Wt.__webglDepthRenderbuffer)}if(et.isWebGLMultipleRenderTargets)for(let Sn=0,Vn=Xe.length;Sn<Vn;Sn++){const yt=i.get(Xe[Sn]);yt.__webglTexture&&(n.deleteTexture(yt.__webglTexture),s.memory.textures--),i.remove(Xe[Sn])}i.remove(Xe),i.remove(et)}(Xe)}function ze(et){const Xe=i.get(et);n.deleteTexture(Xe.__webglTexture),delete se.get(et.source)[Xe.__cacheKey],s.memory.textures--}let Ye=0;function Rt(et,Xe){const Wt=i.get(et);if(et.isVideoTexture&&function $i(et){const Xe=s.render.frame;J.get(et)!==Xe&&(J.set(et,Xe),et.update())}(et),!1===et.isRenderTargetTexture&&et.version>0&&Wt.__version!==et.version){const wn=et.image;if(null===wn)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==wn.complete)return void Kn(Wt,et,Xe);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,Wt.__webglTexture,n.TEXTURE0+Xe)}const Pt={1e3:n.REPEAT,[ia]:n.CLAMP_TO_EDGE,1002:n.MIRRORED_REPEAT},mn={[_s]:n.NEAREST,1004:n.NEAREST_MIPMAP_NEAREST,1005:n.NEAREST_MIPMAP_LINEAR,[rs]:n.LINEAR,1007:n.LINEAR_MIPMAP_NEAREST,[ap]:n.LINEAR_MIPMAP_LINEAR};function En(et,Xe,Wt){if(Wt?(n.texParameteri(et,n.TEXTURE_WRAP_S,Pt[Xe.wrapS]),n.texParameteri(et,n.TEXTURE_WRAP_T,Pt[Xe.wrapT]),(et===n.TEXTURE_3D||et===n.TEXTURE_2D_ARRAY)&&n.texParameteri(et,n.TEXTURE_WRAP_R,Pt[Xe.wrapR]),n.texParameteri(et,n.TEXTURE_MAG_FILTER,mn[Xe.magFilter]),n.texParameteri(et,n.TEXTURE_MIN_FILTER,mn[Xe.minFilter])):(n.texParameteri(et,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(et,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(et===n.TEXTURE_3D||et===n.TEXTURE_2D_ARRAY)&&n.texParameteri(et,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(Xe.wrapS!==ia||Xe.wrapT!==ia)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(et,n.TEXTURE_MAG_FILTER,Ze(Xe.magFilter)),n.texParameteri(et,n.TEXTURE_MIN_FILTER,Ze(Xe.minFilter)),Xe.minFilter!==_s&&Xe.minFilter!==rs&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const wn=e.get("EXT_texture_filter_anisotropic");if(Xe.magFilter===_s||1005!==Xe.minFilter&&Xe.minFilter!==ap||Xe.type===Bd&&!1===e.has("OES_texture_float_linear")||!1===a&&Xe.type===D_&&!1===e.has("OES_texture_half_float_linear"))return;(Xe.anisotropy>1||i.get(Xe).__currentAnisotropy)&&(n.texParameterf(et,wn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Xe.anisotropy,r.getMaxAnisotropy())),i.get(Xe).__currentAnisotropy=Xe.anisotropy)}}function st(et,Xe){let Wt=!1;void 0===et.__webglInit&&(et.__webglInit=!0,Xe.addEventListener("dispose",vt));const wn=Xe.source;let Sn=se.get(wn);void 0===Sn&&(Sn={},se.set(wn,Sn));const Vn=function mt(et){const Xe=[];return Xe.push(et.wrapS),Xe.push(et.wrapT),Xe.push(et.wrapR||0),Xe.push(et.magFilter),Xe.push(et.minFilter),Xe.push(et.anisotropy),Xe.push(et.internalFormat),Xe.push(et.format),Xe.push(et.type),Xe.push(et.generateMipmaps),Xe.push(et.premultiplyAlpha),Xe.push(et.flipY),Xe.push(et.unpackAlignment),Xe.push(et.colorSpace),Xe.join()}(Xe);if(Vn!==et.__cacheKey){void 0===Sn[Vn]&&(Sn[Vn]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,Wt=!0),Sn[Vn].usedTimes++;const yt=Sn[et.__cacheKey];void 0!==yt&&(Sn[et.__cacheKey].usedTimes--,0===yt.usedTimes&&ze(Xe)),et.__cacheKey=Vn,et.__webglTexture=Sn[Vn].texture}return Wt}function Kn(et,Xe,Wt){let wn=n.TEXTURE_2D;(Xe.isDataArrayTexture||Xe.isCompressedArrayTexture)&&(wn=n.TEXTURE_2D_ARRAY),Xe.isData3DTexture&&(wn=n.TEXTURE_3D);const Sn=st(et,Xe),Vn=Xe.source;t.bindTexture(wn,et.__webglTexture,n.TEXTURE0+Wt);const yt=i.get(Vn);if(Vn.version!==yt.__version||!0===Sn){t.activeTexture(n.TEXTURE0+Wt),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Xe.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Xe.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Xe.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const cn=function Re(et){return!a&&(et.wrapS!==ia||et.wrapT!==ia||et.minFilter!==_s&&et.minFilter!==rs)}(Xe)&&!1===Me(Xe.image);let Ht=ge(Xe.image,cn,!1,L);Ht=Gr(Xe,Ht);const Gn=Me(Ht)||a,li=o.convert(Xe.format,Xe.colorSpace);let _i,wi=o.convert(Xe.type),ii=it(Xe.internalFormat,li,wi,Xe.colorSpace);En(wn,Xe,Gn);const rr=Xe.mipmaps,xr=a&&!0!==Xe.isVideoTexture,as=void 0===yt.__version||!0===Sn,St=Le(Xe,Ht,Gn);if(Xe.isDepthTexture)ii=n.DEPTH_COMPONENT,a?ii=Xe.type===Bd?n.DEPTH_COMPONENT32F:Xe.type===cp?n.DEPTH_COMPONENT24:Xe.type===Dm?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT16:Xe.type===Bd&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Xe.format===up&&ii===n.DEPTH_COMPONENT&&1012!==Xe.type&&Xe.type!==cp&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Xe.type=cp,wi=o.convert(Xe.type)),Xe.format===km&&ii===n.DEPTH_COMPONENT&&(ii=n.DEPTH_STENCIL,Xe.type!==Dm&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Xe.type=Dm,wi=o.convert(Xe.type))),as&&(xr?t.texStorage2D(n.TEXTURE_2D,1,ii,Ht.width,Ht.height):t.texImage2D(n.TEXTURE_2D,0,ii,Ht.width,Ht.height,0,li,wi,null));else if(Xe.isDataTexture)if(rr.length>0&&Gn){xr&&as&&t.texStorage2D(n.TEXTURE_2D,St,ii,rr[0].width,rr[0].height);for(let qt=0,In=rr.length;qt<In;qt++)_i=rr[qt],xr?t.texSubImage2D(n.TEXTURE_2D,qt,0,0,_i.width,_i.height,li,wi,_i.data):t.texImage2D(n.TEXTURE_2D,qt,ii,_i.width,_i.height,0,li,wi,_i.data);Xe.generateMipmaps=!1}else xr?(as&&t.texStorage2D(n.TEXTURE_2D,St,ii,Ht.width,Ht.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ht.width,Ht.height,li,wi,Ht.data)):t.texImage2D(n.TEXTURE_2D,0,ii,Ht.width,Ht.height,0,li,wi,Ht.data);else if(Xe.isCompressedTexture)if(Xe.isCompressedArrayTexture){xr&&as&&t.texStorage3D(n.TEXTURE_2D_ARRAY,St,ii,rr[0].width,rr[0].height,Ht.depth);for(let qt=0,In=rr.length;qt<In;qt++)_i=rr[qt],Xe.format!==Xl?null!==li?xr?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,qt,0,0,0,_i.width,_i.height,Ht.depth,li,_i.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,qt,ii,_i.width,_i.height,Ht.depth,0,_i.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xr?t.texSubImage3D(n.TEXTURE_2D_ARRAY,qt,0,0,0,_i.width,_i.height,Ht.depth,li,wi,_i.data):t.texImage3D(n.TEXTURE_2D_ARRAY,qt,ii,_i.width,_i.height,Ht.depth,0,li,wi,_i.data)}else{xr&&as&&t.texStorage2D(n.TEXTURE_2D,St,ii,rr[0].width,rr[0].height);for(let qt=0,In=rr.length;qt<In;qt++)_i=rr[qt],Xe.format!==Xl?null!==li?xr?t.compressedTexSubImage2D(n.TEXTURE_2D,qt,0,0,_i.width,_i.height,li,_i.data):t.compressedTexImage2D(n.TEXTURE_2D,qt,ii,_i.width,_i.height,0,_i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xr?t.texSubImage2D(n.TEXTURE_2D,qt,0,0,_i.width,_i.height,li,wi,_i.data):t.texImage2D(n.TEXTURE_2D,qt,ii,_i.width,_i.height,0,li,wi,_i.data)}else if(Xe.isDataArrayTexture)xr?(as&&t.texStorage3D(n.TEXTURE_2D_ARRAY,St,ii,Ht.width,Ht.height,Ht.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Ht.width,Ht.height,Ht.depth,li,wi,Ht.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,ii,Ht.width,Ht.height,Ht.depth,0,li,wi,Ht.data);else if(Xe.isData3DTexture)xr?(as&&t.texStorage3D(n.TEXTURE_3D,St,ii,Ht.width,Ht.height,Ht.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Ht.width,Ht.height,Ht.depth,li,wi,Ht.data)):t.texImage3D(n.TEXTURE_3D,0,ii,Ht.width,Ht.height,Ht.depth,0,li,wi,Ht.data);else if(Xe.isFramebufferTexture){if(as)if(xr)t.texStorage2D(n.TEXTURE_2D,St,ii,Ht.width,Ht.height);else{let qt=Ht.width,In=Ht.height;for(let oi=0;oi<St;oi++)t.texImage2D(n.TEXTURE_2D,oi,ii,qt,In,0,li,wi,null),qt>>=1,In>>=1}}else if(rr.length>0&&Gn){xr&&as&&t.texStorage2D(n.TEXTURE_2D,St,ii,rr[0].width,rr[0].height);for(let qt=0,In=rr.length;qt<In;qt++)_i=rr[qt],xr?t.texSubImage2D(n.TEXTURE_2D,qt,0,0,li,wi,_i):t.texImage2D(n.TEXTURE_2D,qt,ii,li,wi,_i);Xe.generateMipmaps=!1}else xr?(as&&t.texStorage2D(n.TEXTURE_2D,St,ii,Ht.width,Ht.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,li,wi,Ht)):t.texImage2D(n.TEXTURE_2D,0,ii,li,wi,Ht);$e(Xe,Gn)&&Qe(wn),yt.__version=Vn.version,Xe.onUpdate&&Xe.onUpdate(Xe)}et.__version=Xe.version}function yn(et,Xe,Wt,wn,Sn){const Vn=o.convert(Wt.format,Wt.colorSpace),yt=o.convert(Wt.type),cn=it(Wt.internalFormat,Vn,yt,Wt.colorSpace);i.get(Xe).__hasExternalTextures||(Sn===n.TEXTURE_3D||Sn===n.TEXTURE_2D_ARRAY?t.texImage3D(Sn,0,cn,Xe.width,Xe.height,Xe.depth,0,Vn,yt,null):t.texImage2D(Sn,0,cn,Xe.width,Xe.height,0,Vn,yt,null)),t.bindFramebuffer(n.FRAMEBUFFER,et),di(Xe)?G.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,wn,Sn,i.get(Wt).__webglTexture,0,ei(Xe)):(Sn===n.TEXTURE_2D||Sn>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Sn<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,wn,Sn,i.get(Wt).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function ri(et,Xe,Wt){if(n.bindRenderbuffer(n.RENDERBUFFER,et),Xe.depthBuffer&&!Xe.stencilBuffer){let wn=n.DEPTH_COMPONENT16;if(Wt||di(Xe)){const Sn=Xe.depthTexture;Sn&&Sn.isDepthTexture&&(Sn.type===Bd?wn=n.DEPTH_COMPONENT32F:Sn.type===cp&&(wn=n.DEPTH_COMPONENT24));const Vn=ei(Xe);di(Xe)?G.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Vn,wn,Xe.width,Xe.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Vn,wn,Xe.width,Xe.height)}else n.renderbufferStorage(n.RENDERBUFFER,wn,Xe.width,Xe.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,et)}else if(Xe.depthBuffer&&Xe.stencilBuffer){const wn=ei(Xe);Wt&&!1===di(Xe)?n.renderbufferStorageMultisample(n.RENDERBUFFER,wn,n.DEPTH24_STENCIL8,Xe.width,Xe.height):di(Xe)?G.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,wn,n.DEPTH24_STENCIL8,Xe.width,Xe.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,Xe.width,Xe.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,et)}else{const wn=!0===Xe.isWebGLMultipleRenderTargets?Xe.texture:[Xe.texture];for(let Sn=0;Sn<wn.length;Sn++){const Vn=wn[Sn],yt=o.convert(Vn.format,Vn.colorSpace),cn=o.convert(Vn.type),Ht=it(Vn.internalFormat,yt,cn,Vn.colorSpace),Gn=ei(Xe);Wt&&!1===di(Xe)?n.renderbufferStorageMultisample(n.RENDERBUFFER,Gn,Ht,Xe.width,Xe.height):di(Xe)?G.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Gn,Ht,Xe.width,Xe.height):n.renderbufferStorage(n.RENDERBUFFER,Ht,Xe.width,Xe.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function jt(et){const Xe=i.get(et),Wt=!0===et.isWebGLCubeRenderTarget;if(et.depthTexture&&!Xe.__autoAllocateDepthBuffer){if(Wt)throw new Error("target.depthTexture not supported in Cube render targets");!function fn(et,Xe){if(Xe&&Xe.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,et),!Xe.depthTexture||!Xe.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(Xe.depthTexture).__webglTexture||Xe.depthTexture.image.width!==Xe.width||Xe.depthTexture.image.height!==Xe.height)&&(Xe.depthTexture.image.width=Xe.width,Xe.depthTexture.image.height=Xe.height,Xe.depthTexture.needsUpdate=!0),Rt(Xe.depthTexture,0);const wn=i.get(Xe.depthTexture).__webglTexture,Sn=ei(Xe);if(Xe.depthTexture.format===up)di(Xe)?G.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,wn,0,Sn):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,wn,0);else{if(Xe.depthTexture.format!==km)throw new Error("Unknown depthTexture format");di(Xe)?G.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,wn,0,Sn):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,wn,0)}}(Xe.__webglFramebuffer,et)}else if(Wt){Xe.__webglDepthbuffer=[];for(let wn=0;wn<6;wn++)t.bindFramebuffer(n.FRAMEBUFFER,Xe.__webglFramebuffer[wn]),Xe.__webglDepthbuffer[wn]=n.createRenderbuffer(),ri(Xe.__webglDepthbuffer[wn],et,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,Xe.__webglFramebuffer),Xe.__webglDepthbuffer=n.createRenderbuffer(),ri(Xe.__webglDepthbuffer,et,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function ei(et){return Math.min(H,et.samples)}function di(et){const Xe=i.get(et);return a&&et.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==Xe.__useRenderToTexture}function Gr(et,Xe){const Wt=et.colorSpace,wn=et.format,Sn=et.type;return!0===et.isCompressedTexture||1035===et.format||Wt!==Au&&""!==Wt&&(Wt===mr?!1===a?!0===e.has("EXT_sRGB")&&wn===Xl?(et.format=1035,et.minFilter=rs,et.generateMipmaps=!1):Xe=JB.sRGBToLinear(Xe):(wn!==Xl||Sn!==lp)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Wt)),Xe}this.allocateTextureUnit=function ht(){const et=Ye;return et>=c&&console.warn("THREE.WebGLTextures: Trying to use "+et+" texture units while this GPU supports only "+c),Ye+=1,et},this.resetTextureUnits=function rt(){Ye=0},this.setTexture2D=Rt,this.setTexture2DArray=function Xt(et,Xe){const Wt=i.get(et);et.version>0&&Wt.__version!==et.version?Kn(Wt,et,Xe):t.bindTexture(n.TEXTURE_2D_ARRAY,Wt.__webglTexture,n.TEXTURE0+Xe)},this.setTexture3D=function zt(et,Xe){const Wt=i.get(et);et.version>0&&Wt.__version!==et.version?Kn(Wt,et,Xe):t.bindTexture(n.TEXTURE_3D,Wt.__webglTexture,n.TEXTURE0+Xe)},this.setTextureCube=function Ot(et,Xe){const Wt=i.get(et);et.version>0&&Wt.__version!==et.version?function Qn(et,Xe,Wt){if(6!==Xe.image.length)return;const wn=st(et,Xe),Sn=Xe.source;t.bindTexture(n.TEXTURE_CUBE_MAP,et.__webglTexture,n.TEXTURE0+Wt);const Vn=i.get(Sn);if(Sn.version!==Vn.__version||!0===wn){t.activeTexture(n.TEXTURE0+Wt),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Xe.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Xe.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Xe.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const yt=Xe.isCompressedTexture||Xe.image[0].isCompressedTexture,cn=Xe.image[0]&&Xe.image[0].isDataTexture,Ht=[];for(let qt=0;qt<6;qt++)Ht[qt]=yt||cn?cn?Xe.image[qt].image:Xe.image[qt]:ge(Xe.image[qt],!1,!0,b),Ht[qt]=Gr(Xe,Ht[qt]);const Gn=Ht[0],li=Me(Gn)||a,wi=o.convert(Xe.format,Xe.colorSpace),ii=o.convert(Xe.type),_i=it(Xe.internalFormat,wi,ii,Xe.colorSpace),rr=a&&!0!==Xe.isVideoTexture,xr=void 0===Vn.__version||!0===wn;let St,as=Le(Xe,Gn,li);if(En(n.TEXTURE_CUBE_MAP,Xe,li),yt){rr&&xr&&t.texStorage2D(n.TEXTURE_CUBE_MAP,as,_i,Gn.width,Gn.height);for(let qt=0;qt<6;qt++){St=Ht[qt].mipmaps;for(let In=0;In<St.length;In++){const oi=St[In];Xe.format!==Xl?null!==wi?rr?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qt,In,0,0,oi.width,oi.height,wi,oi.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qt,In,_i,oi.width,oi.height,0,oi.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):rr?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qt,In,0,0,oi.width,oi.height,wi,ii,oi.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qt,In,_i,oi.width,oi.height,0,wi,ii,oi.data)}}}else{St=Xe.mipmaps,rr&&xr&&(St.length>0&&as++,t.texStorage2D(n.TEXTURE_CUBE_MAP,as,_i,Ht[0].width,Ht[0].height));for(let qt=0;qt<6;qt++)if(cn){rr?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qt,0,0,0,Ht[qt].width,Ht[qt].height,wi,ii,Ht[qt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qt,0,_i,Ht[qt].width,Ht[qt].height,0,wi,ii,Ht[qt].data);for(let In=0;In<St.length;In++){const Ai=St[In].image[qt].image;rr?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qt,In+1,0,0,Ai.width,Ai.height,wi,ii,Ai.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qt,In+1,_i,Ai.width,Ai.height,0,wi,ii,Ai.data)}}else{rr?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qt,0,0,0,wi,ii,Ht[qt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qt,0,_i,wi,ii,Ht[qt]);for(let In=0;In<St.length;In++){const oi=St[In];rr?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qt,In+1,0,0,wi,ii,oi.image[qt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qt,In+1,_i,wi,ii,oi.image[qt])}}}$e(Xe,li)&&Qe(n.TEXTURE_CUBE_MAP),Vn.__version=Sn.version,Xe.onUpdate&&Xe.onUpdate(Xe)}et.__version=Xe.version}(Wt,et,Xe):t.bindTexture(n.TEXTURE_CUBE_MAP,Wt.__webglTexture,n.TEXTURE0+Xe)},this.rebindTextures=function dn(et,Xe,Wt){const wn=i.get(et);void 0!==Xe&&yn(wn.__webglFramebuffer,et,et.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),void 0!==Wt&&jt(et)},this.setupRenderTarget=function ti(et){const Xe=et.texture,Wt=i.get(et),wn=i.get(Xe);et.addEventListener("dispose",Ft),!0!==et.isWebGLMultipleRenderTargets&&(void 0===wn.__webglTexture&&(wn.__webglTexture=n.createTexture()),wn.__version=Xe.version,s.memory.textures++);const Sn=!0===et.isWebGLCubeRenderTarget,Vn=!0===et.isWebGLMultipleRenderTargets,yt=Me(et)||a;if(Sn){Wt.__webglFramebuffer=[];for(let cn=0;cn<6;cn++)Wt.__webglFramebuffer[cn]=n.createFramebuffer()}else{if(Wt.__webglFramebuffer=n.createFramebuffer(),Vn)if(r.drawBuffers){const cn=et.texture;for(let Ht=0,Gn=cn.length;Ht<Gn;Ht++){const li=i.get(cn[Ht]);void 0===li.__webglTexture&&(li.__webglTexture=n.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&et.samples>0&&!1===di(et)){const cn=Vn?Xe:[Xe];Wt.__webglMultisampledFramebuffer=n.createFramebuffer(),Wt.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Wt.__webglMultisampledFramebuffer);for(let Ht=0;Ht<cn.length;Ht++){const Gn=cn[Ht];Wt.__webglColorRenderbuffer[Ht]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Wt.__webglColorRenderbuffer[Ht]);const li=o.convert(Gn.format,Gn.colorSpace),wi=o.convert(Gn.type),ii=it(Gn.internalFormat,li,wi,Gn.colorSpace,!0===et.isXRRenderTarget),_i=ei(et);n.renderbufferStorageMultisample(n.RENDERBUFFER,_i,ii,et.width,et.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ht,n.RENDERBUFFER,Wt.__webglColorRenderbuffer[Ht])}n.bindRenderbuffer(n.RENDERBUFFER,null),et.depthBuffer&&(Wt.__webglDepthRenderbuffer=n.createRenderbuffer(),ri(Wt.__webglDepthRenderbuffer,et,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Sn){t.bindTexture(n.TEXTURE_CUBE_MAP,wn.__webglTexture),En(n.TEXTURE_CUBE_MAP,Xe,yt);for(let cn=0;cn<6;cn++)yn(Wt.__webglFramebuffer[cn],et,Xe,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+cn);$e(Xe,yt)&&Qe(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Vn){const cn=et.texture;for(let Ht=0,Gn=cn.length;Ht<Gn;Ht++){const li=cn[Ht],wi=i.get(li);t.bindTexture(n.TEXTURE_2D,wi.__webglTexture),En(n.TEXTURE_2D,li,yt),yn(Wt.__webglFramebuffer,et,li,n.COLOR_ATTACHMENT0+Ht,n.TEXTURE_2D),$e(li,yt)&&Qe(n.TEXTURE_2D)}t.unbindTexture()}else{let cn=n.TEXTURE_2D;(et.isWebGL3DRenderTarget||et.isWebGLArrayRenderTarget)&&(a?cn=et.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(cn,wn.__webglTexture),En(cn,Xe,yt),yn(Wt.__webglFramebuffer,et,Xe,n.COLOR_ATTACHMENT0,cn),$e(Xe,yt)&&Qe(cn),t.unbindTexture()}et.depthBuffer&&jt(et)},this.updateRenderTargetMipmap=function $n(et){const Xe=Me(et)||a,Wt=!0===et.isWebGLMultipleRenderTargets?et.texture:[et.texture];for(let wn=0,Sn=Wt.length;wn<Sn;wn++){const Vn=Wt[wn];if($e(Vn,Xe)){const yt=et.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,cn=i.get(Vn).__webglTexture;t.bindTexture(yt,cn),Qe(yt),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function xn(et){if(a&&et.samples>0&&!1===di(et)){const Xe=et.isWebGLMultipleRenderTargets?et.texture:[et.texture],Wt=et.width,wn=et.height;let Sn=n.COLOR_BUFFER_BIT;const Vn=[],yt=et.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,cn=i.get(et),Ht=!0===et.isWebGLMultipleRenderTargets;if(Ht)for(let Gn=0;Gn<Xe.length;Gn++)t.bindFramebuffer(n.FRAMEBUFFER,cn.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Gn,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,cn.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Gn,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,cn.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,cn.__webglFramebuffer);for(let Gn=0;Gn<Xe.length;Gn++){Vn.push(n.COLOR_ATTACHMENT0+Gn),et.depthBuffer&&Vn.push(yt);const li=void 0!==cn.__ignoreDepthValues&&cn.__ignoreDepthValues;if(!1===li&&(et.depthBuffer&&(Sn|=n.DEPTH_BUFFER_BIT),et.stencilBuffer&&(Sn|=n.STENCIL_BUFFER_BIT)),Ht&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,cn.__webglColorRenderbuffer[Gn]),!0===li&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[yt]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[yt])),Ht){const wi=i.get(Xe[Gn]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,wi,0)}n.blitFramebuffer(0,0,Wt,wn,0,0,Wt,wn,Sn,n.NEAREST),j&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Vn)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ht)for(let Gn=0;Gn<Xe.length;Gn++){t.bindFramebuffer(n.FRAMEBUFFER,cn.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Gn,n.RENDERBUFFER,cn.__webglColorRenderbuffer[Gn]);const li=i.get(Xe[Gn]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,cn.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Gn,n.TEXTURE_2D,li,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,cn.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=jt,this.setupFrameBufferTexture=yn,this.useMultisampledRTT=di}function Kne(n,e,t){const i=t.isWebGL2;return{convert:function r(o,s=""){let a;if(o===lp)return n.UNSIGNED_BYTE;if(1017===o)return n.UNSIGNED_SHORT_4_4_4_4;if(1018===o)return n.UNSIGNED_SHORT_5_5_5_1;if(1010===o)return n.BYTE;if(1011===o)return n.SHORT;if(1012===o)return n.UNSIGNED_SHORT;if(1013===o)return n.INT;if(o===cp)return n.UNSIGNED_INT;if(o===Bd)return n.FLOAT;if(o===D_)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===o)return n.ALPHA;if(o===Xl)return n.RGBA;if(1024===o)return n.LUMINANCE;if(1025===o)return n.LUMINANCE_ALPHA;if(o===up)return n.DEPTH_COMPONENT;if(o===km)return n.DEPTH_STENCIL;if(1035===o)return a=e.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(1028===o)return n.RED;if(1029===o)return n.RED_INTEGER;if(1030===o)return n.RG;if(1031===o)return n.RG_INTEGER;if(1033===o)return n.RGBA_INTEGER;if(33776===o||33777===o||33778===o||33779===o)if(s===mr){if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(33776===o)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=e.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(33776===o)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===o)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===o)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===o)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===o||35841===o||35842===o||35843===o){if(a=e.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(35840===o)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===o)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===o)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===o)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===o)return a=e.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===o||37496===o){if(a=e.get("WEBGL_compressed_texture_etc"),null===a)return null;if(37492===o)return s===mr?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===o)return s===mr?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===o||37809===o||37810===o||37811===o||37812===o||37813===o||37814===o||37815===o||37816===o||37817===o||37818===o||37819===o||37820===o||37821===o){if(a=e.get("WEBGL_compressed_texture_astc"),null===a)return null;if(37808===o)return s===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===o)return s===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===o)return s===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===o)return s===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===o)return s===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===o)return s===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===o)return s===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===o)return s===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===o)return s===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===o)return s===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===o)return s===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===o)return s===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===o)return s===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===o)return s===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===o){if(a=e.get("EXT_texture_compression_bptc"),null===a)return null;if(36492===o)return s===mr?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(36283===o||36284===o||36285===o||36286===o){if(a=e.get("EXT_texture_compression_rgtc"),null===a)return null;if(36492===o)return a.COMPRESSED_RED_RGTC1_EXT;if(36284===o)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===o)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===o)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return o===Dm?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[o]?n[o]:null}}}class Xne extends Zo{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class V_ extends zs{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Yne={type:"move"};class WD{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new V_,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new V_,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Je,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Je),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new V_,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Je,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Je),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let r=null,o=null,s=null;const a=this._targetRay,c=this._grip,b=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(b&&e.hand){s=!0;for(const ce of e.hand.values()){const se=t.getJointPose(ce,i),te=this._getHandJoint(b,ce);null!==se&&(te.matrix.fromArray(se.transform.matrix),te.matrix.decompose(te.position,te.rotation,te.scale),te.matrixWorldNeedsUpdate=!0,te.jointRadius=se.radius),te.visible=null!==se}const G=b.joints["index-finger-tip"].position.distanceTo(b.joints["thumb-tip"].position),j=.02,J=.005;b.inputState.pinching&&G>j+J?(b.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!b.inputState.pinching&&G<=j-J&&(b.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==c&&e.gripSpace&&(o=t.getPose(e.gripSpace,i),null!==o&&(c.matrix.fromArray(o.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,o.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(o.linearVelocity)):c.hasLinearVelocity=!1,o.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(o.angularVelocity)):c.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,i),null===r&&null!==o&&(r=o),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Yne)))}return null!==a&&(a.visible=null!==r),null!==c&&(c.visible=null!==o),null!==b&&(b.visible=null!==s),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const i=new V_;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class Jne extends Su{constructor(e,t,i,r,o,s,a,c,b,L){if((L=void 0!==L?L:up)!==up&&L!==km)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&L===up&&(i=cp),void 0===i&&L===km&&(i=Dm),super(null,r,o,s,a,c,L,i,b),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:_s,this.minFilter=void 0!==c?c:_s,this.flipY=!1,this.generateMipmaps=!1}}class qne extends pp{constructor(e,t){super();const i=this;let r=null,o=1,s=null,a="local-floor",c=1,b=null,L=null,H=null,G=null,j=null,J=null;const ce=t.getContextAttributes();let se=null,te=null;const _e=[],ge=[],Me=new Set,Re=new Map,$e=new Zo;$e.layers.enable(1),$e.viewport=new io;const Qe=new Zo;Qe.layers.enable(2),Qe.viewport=new io;const it=[$e,Qe],Le=new Xne;Le.layers.enable(1),Le.layers.enable(2);let Ze=null,vt=null;function Ft(Ot){const Pt=ge.indexOf(Ot.inputSource);if(-1===Pt)return;const mn=_e[Pt];void 0!==mn&&(mn.update(Ot.inputSource,Ot.frame,b||s),mn.dispatchEvent({type:Ot.type,data:Ot.inputSource}))}function gt(){r.removeEventListener("select",Ft),r.removeEventListener("selectstart",Ft),r.removeEventListener("selectend",Ft),r.removeEventListener("squeeze",Ft),r.removeEventListener("squeezestart",Ft),r.removeEventListener("squeezeend",Ft),r.removeEventListener("end",gt),r.removeEventListener("inputsourceschange",ze);for(let Ot=0;Ot<_e.length;Ot++){const Pt=ge[Ot];null!==Pt&&(ge[Ot]=null,_e[Ot].disconnect(Pt))}Ze=null,vt=null,e.setRenderTarget(se),j=null,G=null,H=null,r=null,te=null,zt.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function ze(Ot){for(let Pt=0;Pt<Ot.removed.length;Pt++){const mn=Ot.removed[Pt],En=ge.indexOf(mn);En>=0&&(ge[En]=null,_e[En].disconnect(mn))}for(let Pt=0;Pt<Ot.added.length;Pt++){const mn=Ot.added[Pt];let En=ge.indexOf(mn);if(-1===En){for(let Kn=0;Kn<_e.length;Kn++){if(Kn>=ge.length){ge.push(mn),En=Kn;break}if(null===ge[Kn]){ge[Kn]=mn,En=Kn;break}}if(-1===En)break}const st=_e[En];st&&st.connect(mn)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Ot){let Pt=_e[Ot];return void 0===Pt&&(Pt=new WD,_e[Ot]=Pt),Pt.getTargetRaySpace()},this.getControllerGrip=function(Ot){let Pt=_e[Ot];return void 0===Pt&&(Pt=new WD,_e[Ot]=Pt),Pt.getGripSpace()},this.getHand=function(Ot){let Pt=_e[Ot];return void 0===Pt&&(Pt=new WD,_e[Ot]=Pt),Pt.getHandSpace()},this.setFramebufferScaleFactor=function(Ot){o=Ot,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Ot){a=Ot,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return b||s},this.setReferenceSpace=function(Ot){b=Ot},this.getBaseLayer=function(){return null!==G?G:j},this.getBinding=function(){return H},this.getFrame=function(){return J},this.getSession=function(){return r},this.setSession=function(){var Ot=function SJ(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(c){aB(o,i,r,s,a,"next",c)}function a(c){aB(o,i,r,s,a,"throw",c)}s(void 0)})}}(function*(Pt){if(r=Pt,null!==r){if(se=e.getRenderTarget(),r.addEventListener("select",Ft),r.addEventListener("selectstart",Ft),r.addEventListener("selectend",Ft),r.addEventListener("squeeze",Ft),r.addEventListener("squeezestart",Ft),r.addEventListener("squeezeend",Ft),r.addEventListener("end",gt),r.addEventListener("inputsourceschange",ze),!0!==ce.xrCompatible&&(yield t.makeXRCompatible()),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2)j=new XRWebGLLayer(r,t,{antialias:void 0!==r.renderState.layers||ce.antialias,alpha:!0,depth:ce.depth,stencil:ce.stencil,framebufferScaleFactor:o}),r.updateRenderState({baseLayer:j}),te=new mp(j.framebufferWidth,j.framebufferHeight,{format:Xl,type:lp,colorSpace:e.outputColorSpace,stencilBuffer:ce.stencil});else{let mn=null,En=null,st=null;ce.depth&&(st=ce.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,mn=ce.stencil?km:up,En=ce.stencil?Dm:cp);const Kn={colorFormat:t.RGBA8,depthFormat:st,scaleFactor:o};H=new XRWebGLBinding(r,t),G=H.createProjectionLayer(Kn),r.updateRenderState({layers:[G]}),te=new mp(G.textureWidth,G.textureHeight,{format:Xl,type:lp,depthTexture:new Jne(G.textureWidth,G.textureHeight,En,void 0,void 0,void 0,void 0,void 0,void 0,mn),stencilBuffer:ce.stencil,colorSpace:e.outputColorSpace,samples:ce.antialias?4:0}),e.properties.get(te).__ignoreDepthValues=G.ignoreDepthValues}te.isXRRenderTarget=!0,this.setFoveation(c),b=null,s=yield r.requestReferenceSpace(a),zt.setContext(r),zt.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(Pt){return Ot.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const ft=new Je,Ye=new Je;function ht(Ot,Pt){null===Pt?Ot.matrixWorld.copy(Ot.matrix):Ot.matrixWorld.multiplyMatrices(Pt.matrixWorld,Ot.matrix),Ot.matrixWorldInverse.copy(Ot.matrixWorld).invert()}this.updateCamera=function(Ot){if(null===r)return;Le.near=Qe.near=$e.near=Ot.near,Le.far=Qe.far=$e.far=Ot.far,(Ze!==Le.near||vt!==Le.far)&&(r.updateRenderState({depthNear:Le.near,depthFar:Le.far}),Ze=Le.near,vt=Le.far);const Pt=Ot.parent,mn=Le.cameras;ht(Le,Pt);for(let En=0;En<mn.length;En++)ht(mn[En],Pt);2===mn.length?function rt(Ot,Pt,mn){ft.setFromMatrixPosition(Pt.matrixWorld),Ye.setFromMatrixPosition(mn.matrixWorld);const En=ft.distanceTo(Ye),st=Pt.projectionMatrix.elements,Kn=mn.projectionMatrix.elements,Qn=st[14]/(st[10]-1),yn=st[14]/(st[10]+1),ri=(st[9]+1)/st[5],fn=(st[9]-1)/st[5],jt=(st[8]-1)/st[0],dn=(Kn[8]+1)/Kn[0],ti=Qn*jt,$n=Qn*dn,xn=En/(-jt+dn),ei=xn*-jt;Pt.matrixWorld.decompose(Ot.position,Ot.quaternion,Ot.scale),Ot.translateX(ei),Ot.translateZ(xn),Ot.matrixWorld.compose(Ot.position,Ot.quaternion,Ot.scale),Ot.matrixWorldInverse.copy(Ot.matrixWorld).invert();const di=Qn+xn,$i=yn+xn;Ot.projectionMatrix.makePerspective(ti-ei,$n+(En-ei),ri*yn/$i*di,fn*yn/$i*di,di,$i),Ot.projectionMatrixInverse.copy(Ot.projectionMatrix).invert()}(Le,$e,Qe):Le.projectionMatrix.copy($e.projectionMatrix),function mt(Ot,Pt,mn){null===mn?Ot.matrix.copy(Pt.matrixWorld):(Ot.matrix.copy(mn.matrixWorld),Ot.matrix.invert(),Ot.matrix.multiply(Pt.matrixWorld)),Ot.matrix.decompose(Ot.position,Ot.quaternion,Ot.scale),Ot.updateMatrixWorld(!0);const En=Ot.children;for(let st=0,Kn=En.length;st<Kn;st++)En[st].updateMatrixWorld(!0);Ot.projectionMatrix.copy(Pt.projectionMatrix),Ot.projectionMatrixInverse.copy(Pt.projectionMatrixInverse),Ot.isPerspectiveCamera&&(Ot.fov=2*Om*Math.atan(1/Ot.projectionMatrix.elements[5]),Ot.zoom=1)}(Ot,Le,Pt)},this.getCamera=function(){return Le},this.getFoveation=function(){if(null!==G||null!==j)return c},this.setFoveation=function(Ot){c=Ot,null!==G&&(G.fixedFoveation=Ot),null!==j&&void 0!==j.fixedFoveation&&(j.fixedFoveation=Ot)},this.getPlanes=function(){return Me};let Rt=null;const zt=new vH;zt.setAnimationLoop(function Xt(Ot,Pt){if(L=Pt.getViewerPose(b||s),J=Pt,null!==L){const mn=L.views;null!==j&&(e.setRenderTargetFramebuffer(te,j.framebuffer),e.setRenderTarget(te));let En=!1;mn.length!==Le.cameras.length&&(Le.cameras.length=0,En=!0);for(let st=0;st<mn.length;st++){const Kn=mn[st];let Qn=null;if(null!==j)Qn=j.getViewport(Kn);else{const ri=H.getViewSubImage(G,Kn);Qn=ri.viewport,0===st&&(e.setRenderTargetTextures(te,ri.colorTexture,G.ignoreDepthValues?void 0:ri.depthStencilTexture),e.setRenderTarget(te))}let yn=it[st];void 0===yn&&(yn=new Zo,yn.layers.enable(st),yn.viewport=new io,it[st]=yn),yn.matrix.fromArray(Kn.transform.matrix),yn.matrix.decompose(yn.position,yn.quaternion,yn.scale),yn.projectionMatrix.fromArray(Kn.projectionMatrix),yn.projectionMatrixInverse.copy(yn.projectionMatrix).invert(),yn.viewport.set(Qn.x,Qn.y,Qn.width,Qn.height),0===st&&(Le.matrix.copy(yn.matrix),Le.matrix.decompose(Le.position,Le.quaternion,Le.scale)),!0===En&&Le.cameras.push(yn)}}for(let mn=0;mn<_e.length;mn++){const En=ge[mn],st=_e[mn];null!==En&&void 0!==st&&st.update(En,Pt,b||s)}if(Rt&&Rt(Ot,Pt),Pt.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:Pt.detectedPlanes});let mn=null;for(const En of Me)Pt.detectedPlanes.has(En)||(null===mn&&(mn=[]),mn.push(En));if(null!==mn)for(const En of mn)Me.delete(En),Re.delete(En),i.dispatchEvent({type:"planeremoved",data:En});for(const En of Pt.detectedPlanes)if(Me.has(En)){const st=Re.get(En);En.lastChangedTime>st&&(Re.set(En,En.lastChangedTime),i.dispatchEvent({type:"planechanged",data:En}))}else Me.add(En),Re.set(En,Pt.lastChangedTime),i.dispatchEvent({type:"planeadded",data:En})}J=null}),this.setAnimationLoop=function(Ot){Rt=Ot},this.dispose=function(){}}}function Qne(n,e){function t(se,te){!0===se.matrixAutoUpdate&&se.updateMatrix(),te.value.copy(se.matrix)}function o(se,te){se.opacity.value=te.opacity,te.color&&se.diffuse.value.copy(te.color),te.emissive&&se.emissive.value.copy(te.emissive).multiplyScalar(te.emissiveIntensity),te.map&&(se.map.value=te.map,t(te.map,se.mapTransform)),te.alphaMap&&(se.alphaMap.value=te.alphaMap,t(te.alphaMap,se.alphaMapTransform)),te.bumpMap&&(se.bumpMap.value=te.bumpMap,t(te.bumpMap,se.bumpMapTransform),se.bumpScale.value=te.bumpScale,1===te.side&&(se.bumpScale.value*=-1)),te.normalMap&&(se.normalMap.value=te.normalMap,t(te.normalMap,se.normalMapTransform),se.normalScale.value.copy(te.normalScale),1===te.side&&se.normalScale.value.negate()),te.displacementMap&&(se.displacementMap.value=te.displacementMap,t(te.displacementMap,se.displacementMapTransform),se.displacementScale.value=te.displacementScale,se.displacementBias.value=te.displacementBias),te.emissiveMap&&(se.emissiveMap.value=te.emissiveMap,t(te.emissiveMap,se.emissiveMapTransform)),te.specularMap&&(se.specularMap.value=te.specularMap,t(te.specularMap,se.specularMapTransform)),te.alphaTest>0&&(se.alphaTest.value=te.alphaTest);const _e=e.get(te).envMap;if(_e&&(se.envMap.value=_e,se.flipEnvMap.value=_e.isCubeTexture&&!1===_e.isRenderTargetTexture?-1:1,se.reflectivity.value=te.reflectivity,se.ior.value=te.ior,se.refractionRatio.value=te.refractionRatio),te.lightMap){se.lightMap.value=te.lightMap;const ge=!0===n.useLegacyLights?Math.PI:1;se.lightMapIntensity.value=te.lightMapIntensity*ge,t(te.lightMap,se.lightMapTransform)}te.aoMap&&(se.aoMap.value=te.aoMap,se.aoMapIntensity.value=te.aoMapIntensity,t(te.aoMap,se.aoMapTransform))}return{refreshFogUniforms:function i(se,te){te.color.getRGB(se.fogColor.value,mH(n)),te.isFog?(se.fogNear.value=te.near,se.fogFar.value=te.far):te.isFogExp2&&(se.fogDensity.value=te.density)},refreshMaterialUniforms:function r(se,te,_e,ge,Me){te.isMeshBasicMaterial||te.isMeshLambertMaterial?o(se,te):te.isMeshToonMaterial?(o(se,te),function H(se,te){te.gradientMap&&(se.gradientMap.value=te.gradientMap)}(se,te)):te.isMeshPhongMaterial?(o(se,te),function L(se,te){se.specular.value.copy(te.specular),se.shininess.value=Math.max(te.shininess,1e-4)}(se,te)):te.isMeshStandardMaterial?(o(se,te),function G(se,te){se.metalness.value=te.metalness,te.metalnessMap&&(se.metalnessMap.value=te.metalnessMap,t(te.metalnessMap,se.metalnessMapTransform)),se.roughness.value=te.roughness,te.roughnessMap&&(se.roughnessMap.value=te.roughnessMap,t(te.roughnessMap,se.roughnessMapTransform)),e.get(te).envMap&&(se.envMapIntensity.value=te.envMapIntensity)}(se,te),te.isMeshPhysicalMaterial&&function j(se,te,_e){se.ior.value=te.ior,te.sheen>0&&(se.sheenColor.value.copy(te.sheenColor).multiplyScalar(te.sheen),se.sheenRoughness.value=te.sheenRoughness,te.sheenColorMap&&(se.sheenColorMap.value=te.sheenColorMap,t(te.sheenColorMap,se.sheenColorMapTransform)),te.sheenRoughnessMap&&(se.sheenRoughnessMap.value=te.sheenRoughnessMap,t(te.sheenRoughnessMap,se.sheenRoughnessMapTransform))),te.clearcoat>0&&(se.clearcoat.value=te.clearcoat,se.clearcoatRoughness.value=te.clearcoatRoughness,te.clearcoatMap&&(se.clearcoatMap.value=te.clearcoatMap,t(te.clearcoatMap,se.clearcoatMapTransform)),te.clearcoatRoughnessMap&&(se.clearcoatRoughnessMap.value=te.clearcoatRoughnessMap,t(te.clearcoatRoughnessMap,se.clearcoatRoughnessMapTransform)),te.clearcoatNormalMap&&(se.clearcoatNormalMap.value=te.clearcoatNormalMap,t(te.clearcoatNormalMap,se.clearcoatNormalMapTransform),se.clearcoatNormalScale.value.copy(te.clearcoatNormalScale),1===te.side&&se.clearcoatNormalScale.value.negate())),te.iridescence>0&&(se.iridescence.value=te.iridescence,se.iridescenceIOR.value=te.iridescenceIOR,se.iridescenceThicknessMinimum.value=te.iridescenceThicknessRange[0],se.iridescenceThicknessMaximum.value=te.iridescenceThicknessRange[1],te.iridescenceMap&&(se.iridescenceMap.value=te.iridescenceMap,t(te.iridescenceMap,se.iridescenceMapTransform)),te.iridescenceThicknessMap&&(se.iridescenceThicknessMap.value=te.iridescenceThicknessMap,t(te.iridescenceThicknessMap,se.iridescenceThicknessMapTransform))),te.transmission>0&&(se.transmission.value=te.transmission,se.transmissionSamplerMap.value=_e.texture,se.transmissionSamplerSize.value.set(_e.width,_e.height),te.transmissionMap&&(se.transmissionMap.value=te.transmissionMap,t(te.transmissionMap,se.transmissionMapTransform)),se.thickness.value=te.thickness,te.thicknessMap&&(se.thicknessMap.value=te.thicknessMap,t(te.thicknessMap,se.thicknessMapTransform)),se.attenuationDistance.value=te.attenuationDistance,se.attenuationColor.value.copy(te.attenuationColor)),se.specularIntensity.value=te.specularIntensity,se.specularColor.value.copy(te.specularColor),te.specularColorMap&&(se.specularColorMap.value=te.specularColorMap,t(te.specularColorMap,se.specularColorMapTransform)),te.specularIntensityMap&&(se.specularIntensityMap.value=te.specularIntensityMap,t(te.specularIntensityMap,se.specularIntensityMapTransform))}(se,te,Me)):te.isMeshMatcapMaterial?(o(se,te),function J(se,te){te.matcap&&(se.matcap.value=te.matcap)}(se,te)):te.isMeshDepthMaterial?o(se,te):te.isMeshDistanceMaterial?(o(se,te),function ce(se,te){const _e=e.get(te).light;se.referencePosition.value.setFromMatrixPosition(_e.matrixWorld),se.nearDistance.value=_e.shadow.camera.near,se.farDistance.value=_e.shadow.camera.far}(se,te)):te.isMeshNormalMaterial?o(se,te):te.isLineBasicMaterial?(function s(se,te){se.diffuse.value.copy(te.color),se.opacity.value=te.opacity,te.map&&(se.map.value=te.map,t(te.map,se.mapTransform))}(se,te),te.isLineDashedMaterial&&function a(se,te){se.dashSize.value=te.dashSize,se.totalSize.value=te.dashSize+te.gapSize,se.scale.value=te.scale}(se,te)):te.isPointsMaterial?function c(se,te,_e,ge){se.diffuse.value.copy(te.color),se.opacity.value=te.opacity,se.size.value=te.size*_e,se.scale.value=.5*ge,te.map&&(se.map.value=te.map,t(te.map,se.uvTransform)),te.alphaMap&&(se.alphaMap.value=te.alphaMap),te.alphaTest>0&&(se.alphaTest.value=te.alphaTest)}(se,te,_e,ge):te.isSpriteMaterial?function b(se,te){se.diffuse.value.copy(te.color),se.opacity.value=te.opacity,se.rotation.value=te.rotation,te.map&&(se.map.value=te.map,t(te.map,se.mapTransform)),te.alphaMap&&(se.alphaMap.value=te.alphaMap),te.alphaTest>0&&(se.alphaTest.value=te.alphaTest)}(se,te):te.isShadowMaterial?(se.color.value.copy(te.color),se.opacity.value=te.opacity):te.isShaderMaterial&&(te.uniformsNeedUpdate=!1)}}}function eie(n,e,t,i){let r={},o={},s=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function j(_e,ge,Me){const Re=_e.value;if(void 0===Me[ge]){if("number"==typeof Re)Me[ge]=Re;else{const $e=Array.isArray(Re)?Re:[Re],Qe=[];for(let it=0;it<$e.length;it++)Qe.push($e[it].clone());Me[ge]=Qe}return!0}if("number"==typeof Re){if(Me[ge]!==Re)return Me[ge]=Re,!0}else{const $e=Array.isArray(Me[ge])?Me[ge]:[Me[ge]],Qe=Array.isArray(Re)?Re:[Re];for(let it=0;it<$e.length;it++){const Le=$e[it];if(!1===Le.equals(Qe[it]))return Le.copy(Qe[it]),!0}}return!1}function ce(_e){const ge={boundary:0,storage:0};return"number"==typeof _e?(ge.boundary=4,ge.storage=4):_e.isVector2?(ge.boundary=8,ge.storage=8):_e.isVector3||_e.isColor?(ge.boundary=16,ge.storage=12):_e.isVector4?(ge.boundary=16,ge.storage=16):_e.isMatrix3?(ge.boundary=48,ge.storage=48):_e.isMatrix4?(ge.boundary=64,ge.storage=64):_e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_e),ge}function se(_e){const ge=_e.target;ge.removeEventListener("dispose",se);const Me=s.indexOf(ge.__bindingPointIndex);s.splice(Me,1),n.deleteBuffer(r[ge.id]),delete r[ge.id],delete o[ge.id]}return{bind:function c(_e,ge){i.uniformBlockBinding(_e,ge.program)},update:function b(_e,ge){let Me=r[_e.id];void 0===Me&&(function J(_e){const ge=_e.uniforms;let Me=0;let $e=0;for(let Qe=0,it=ge.length;Qe<it;Qe++){const Le=ge[Qe],Ze={boundary:0,storage:0},vt=Array.isArray(Le.value)?Le.value:[Le.value];for(let Ft=0,gt=vt.length;Ft<gt;Ft++){const ft=ce(vt[Ft]);Ze.boundary+=ft.boundary,Ze.storage+=ft.storage}if(Le.__data=new Float32Array(Ze.storage/Float32Array.BYTES_PER_ELEMENT),Le.__offset=Me,Qe>0){$e=Me%16;const Ft=16-$e;0!==$e&&Ft-Ze.boundary<0&&(Me+=16-$e,Le.__offset=Me)}Me+=Ze.storage}$e=Me%16,$e>0&&(Me+=16-$e),_e.__size=Me,_e.__cache={}}(_e),Me=function L(_e){const ge=function H(){for(let _e=0;_e<a;_e++)if(-1===s.indexOf(_e))return s.push(_e),_e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();_e.__bindingPointIndex=ge;const Me=n.createBuffer(),Re=_e.__size,$e=_e.usage;return n.bindBuffer(n.UNIFORM_BUFFER,Me),n.bufferData(n.UNIFORM_BUFFER,Re,$e),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,ge,Me),Me}(_e),r[_e.id]=Me,_e.addEventListener("dispose",se)),i.updateUBOMapping(_e,ge.program);const $e=e.render.frame;o[_e.id]!==$e&&(function G(_e){const Me=_e.uniforms,Re=_e.__cache;n.bindBuffer(n.UNIFORM_BUFFER,r[_e.id]);for(let $e=0,Qe=Me.length;$e<Qe;$e++){const it=Me[$e];if(!0===j(it,$e,Re)){const Le=it.__offset,Ze=Array.isArray(it.value)?it.value:[it.value];let vt=0;for(let Ft=0;Ft<Ze.length;Ft++){const gt=Ze[Ft],ze=ce(gt);"number"==typeof gt?(it.__data[0]=gt,n.bufferSubData(n.UNIFORM_BUFFER,Le+vt,it.__data)):gt.isMatrix3?(it.__data[0]=gt.elements[0],it.__data[1]=gt.elements[1],it.__data[2]=gt.elements[2],it.__data[3]=gt.elements[0],it.__data[4]=gt.elements[3],it.__data[5]=gt.elements[4],it.__data[6]=gt.elements[5],it.__data[7]=gt.elements[0],it.__data[8]=gt.elements[6],it.__data[9]=gt.elements[7],it.__data[10]=gt.elements[8],it.__data[11]=gt.elements[0]):(gt.toArray(it.__data,vt),vt+=ze.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,Le,it.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(_e),o[_e.id]=$e)},dispose:function te(){for(const _e in r)n.deleteBuffer(r[_e]);s=[],r={},o={}}}}function tie(){const n=L_("canvas");return n.style.display="block",n}class jH{constructor(e={}){const{canvas:t=tie(),context:i=null,depth:r=!0,stencil:o=!0,alpha:s=!1,antialias:a=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:b=!1,powerPreference:L="default",failIfMajorPerformanceCaveat:H=!1}=e;let G;this.isWebGLRenderer=!0,G=null!==i?i.getContextAttributes().alpha:s;let j=null,J=null;const ce=[],se=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=mr,this.useLegacyLights=!0,this.toneMapping=0,this.toneMappingExposure=1;const te=this;let _e=!1,ge=0,Me=0,Re=null,$e=-1,Qe=null;const it=new io,Le=new io;let Ze=null,vt=t.width,Ft=t.height,gt=1,ze=null,ft=null;const Ye=new io(0,0,vt,Ft),rt=new io(0,0,vt,Ft);let ht=!1;const mt=new FD;let Rt=!1,Xt=!1,zt=null;const Ot=new ar,Pt=new Je,mn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function En(){return null===Re?gt:1}let Qn,yn,ri,fn,jt,dn,ti,$n,xn,ei,di,$i,Gr,et,Xe,Wt,wn,Sn,Vn,yt,cn,Ht,Gn,li,st=i;function Kn(qe,Nt){for(let Qt=0;Qt<qe.length;Qt++){const sn=t.getContext(qe[Qt],Nt);if(null!==sn)return sn}return null}try{const qe={alpha:!0,depth:r,stencil:o,antialias:a,premultipliedAlpha:c,preserveDrawingBuffer:b,powerPreference:L,failIfMajorPerformanceCaveat:H};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r152"),t.addEventListener("webglcontextlost",_i,!1),t.addEventListener("webglcontextrestored",rr,!1),t.addEventListener("webglcontextcreationerror",xr,!1),null===st){const Nt=["webgl2","webgl","experimental-webgl"];if(!0===te.isWebGL1Renderer&&Nt.shift(),st=Kn(Nt,qe),null===st)throw Kn(Nt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===st.getShaderPrecisionFormat&&(st.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(qe){throw console.error("THREE.WebGLRenderer: "+qe.message),qe}function wi(){Qn=new pte(st),yn=new lte(st,Qn,e),Qn.init(yn),Ht=new Kne(st,Qn,yn),ri=new jne(st,Qn,yn),fn=new vte(st),jt=new Pne,dn=new Zne(st,Qn,ri,jt,yn,Ht,fn),ti=new ute(te),$n=new fte(te),xn=new cQ(st,yn),Gn=new ste(st,Qn,xn,yn),ei=new gte(st,xn,fn,Gn),di=new Cte(st,ei,xn,fn),Vn=new bte(st,yn,dn),Wt=new cte(jt),$i=new Lne(te,ti,$n,Qn,yn,Gn,Wt),Gr=new Qne(te,jt),et=new Fne,Xe=new Wne(Qn,yn),Sn=new ote(te,ti,$n,ri,di,G,c),wn=new zne(te,di,yn),li=new eie(st,fn,yn,ri),yt=new ate(st,Qn,fn,yn),cn=new mte(st,Qn,fn,yn),fn.programs=$i.programs,te.capabilities=yn,te.extensions=Qn,te.properties=jt,te.renderLists=et,te.shadowMap=wn,te.state=ri,te.info=fn}wi();const ii=new qne(te,st);function _i(qe){qe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_e=!0}function rr(){console.log("THREE.WebGLRenderer: Context Restored."),_e=!1;const qe=fn.autoReset,Nt=wn.enabled,Qt=wn.autoUpdate,Lt=wn.needsUpdate,sn=wn.type;wi(),fn.autoReset=qe,wn.enabled=Nt,wn.autoUpdate=Qt,wn.needsUpdate=Lt,wn.type=sn}function xr(qe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",qe.statusMessage)}function as(qe){const Nt=qe.target;Nt.removeEventListener("dispose",as),function St(qe){(function qt(qe){const Nt=jt.get(qe).programs;void 0!==Nt&&(Nt.forEach(function(Qt){$i.releaseProgram(Qt)}),qe.isShaderMaterial&&$i.releaseShaderCache(qe))})(qe),jt.remove(qe)}(Nt)}this.xr=ii,this.getContext=function(){return st},this.getContextAttributes=function(){return st.getContextAttributes()},this.forceContextLoss=function(){const qe=Qn.get("WEBGL_lose_context");qe&&qe.loseContext()},this.forceContextRestore=function(){const qe=Qn.get("WEBGL_lose_context");qe&&qe.restoreContext()},this.getPixelRatio=function(){return gt},this.setPixelRatio=function(qe){void 0!==qe&&(gt=qe,this.setSize(vt,Ft,!1))},this.getSize=function(qe){return qe.set(vt,Ft)},this.setSize=function(qe,Nt,Qt=!0){ii.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(vt=qe,Ft=Nt,t.width=Math.floor(qe*gt),t.height=Math.floor(Nt*gt),!0===Qt&&(t.style.width=qe+"px",t.style.height=Nt+"px"),this.setViewport(0,0,qe,Nt))},this.getDrawingBufferSize=function(qe){return qe.set(vt*gt,Ft*gt).floor()},this.setDrawingBufferSize=function(qe,Nt,Qt){vt=qe,Ft=Nt,gt=Qt,t.width=Math.floor(qe*Qt),t.height=Math.floor(Nt*Qt),this.setViewport(0,0,qe,Nt)},this.getCurrentViewport=function(qe){return qe.copy(it)},this.getViewport=function(qe){return qe.copy(Ye)},this.setViewport=function(qe,Nt,Qt,Lt){qe.isVector4?Ye.set(qe.x,qe.y,qe.z,qe.w):Ye.set(qe,Nt,Qt,Lt),ri.viewport(it.copy(Ye).multiplyScalar(gt).floor())},this.getScissor=function(qe){return qe.copy(rt)},this.setScissor=function(qe,Nt,Qt,Lt){qe.isVector4?rt.set(qe.x,qe.y,qe.z,qe.w):rt.set(qe,Nt,Qt,Lt),ri.scissor(Le.copy(rt).multiplyScalar(gt).floor())},this.getScissorTest=function(){return ht},this.setScissorTest=function(qe){ri.setScissorTest(ht=qe)},this.setOpaqueSort=function(qe){ze=qe},this.setTransparentSort=function(qe){ft=qe},this.getClearColor=function(qe){return qe.copy(Sn.getClearColor())},this.setClearColor=function(){Sn.setClearColor.apply(Sn,arguments)},this.getClearAlpha=function(){return Sn.getClearAlpha()},this.setClearAlpha=function(){Sn.setClearAlpha.apply(Sn,arguments)},this.clear=function(qe=!0,Nt=!0,Qt=!0){let Lt=0;qe&&(Lt|=st.COLOR_BUFFER_BIT),Nt&&(Lt|=st.DEPTH_BUFFER_BIT),Qt&&(Lt|=st.STENCIL_BUFFER_BIT),st.clear(Lt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",_i,!1),t.removeEventListener("webglcontextrestored",rr,!1),t.removeEventListener("webglcontextcreationerror",xr,!1),et.dispose(),Xe.dispose(),jt.dispose(),ti.dispose(),$n.dispose(),di.dispose(),Gn.dispose(),li.dispose(),$i.dispose(),ii.dispose(),ii.removeEventListener("sessionstart",Ai),ii.removeEventListener("sessionend",ho),zt&&(zt.dispose(),zt=null),fo.stop()},this.renderBufferDirect=function(qe,Nt,Qt,Lt,sn,Ri){null===Nt&&(Nt=mn);const Ui=sn.isMesh&&sn.matrixWorld.determinant()<0,or=function UCe(qe,Nt,Qt,Lt,sn){!0!==Nt.isScene&&(Nt=mn),dn.resetTextureUnits();const Ri=Nt.fog,or=null===Re?te.outputColorSpace:!0===Re.isXRRenderTarget?Re.texture.colorSpace:Au,Cr=(Lt.isMeshStandardMaterial?$n:ti).get(Lt.envMap||(Lt.isMeshStandardMaterial?Nt.environment:null)),Pr=!0===Lt.vertexColors&&!!Qt.attributes.color&&4===Qt.attributes.color.itemSize,Or=!!Lt.normalMap&&!!Qt.attributes.tangent,Br=!!Qt.morphAttributes.position,ro=!!Qt.morphAttributes.normal,Za=!!Qt.morphAttributes.color,nu=Lt.toneMapped?te.toneMapping:0,rg=Qt.morphAttributes.position||Qt.morphAttributes.normal||Qt.morphAttributes.color,As=void 0!==rg?rg.length:0,zr=jt.get(Lt),BL=J.state.lights;!0!==Rt||!0!==Xt&&qe===Qe||Wt.setState(Lt,qe,qe===Qe&&Lt.id===$e);let Xs=!1;Lt.version===zr.__version?(zr.needsLights&&zr.lightsStateVersion!==BL.state.version||zr.outputColorSpace!==or||sn.isInstancedMesh&&!1===zr.instancing||!sn.isInstancedMesh&&!0===zr.instancing||sn.isSkinnedMesh&&!1===zr.skinning||!sn.isSkinnedMesh&&!0===zr.skinning||zr.envMap!==Cr||!0===Lt.fog&&zr.fog!==Ri||void 0!==zr.numClippingPlanes&&(zr.numClippingPlanes!==Wt.numPlanes||zr.numIntersection!==Wt.numIntersection)||zr.vertexAlphas!==Pr||zr.vertexTangents!==Or||zr.morphTargets!==Br||zr.morphNormals!==ro||zr.morphColors!==Za||zr.toneMapping!==nu||!0===yn.isWebGL2&&zr.morphTargetsCount!==As)&&(Xs=!0):(Xs=!0,zr.__version=Lt.version);let og=zr.currentProgram;!0===Xs&&(og=Ix(Lt,Nt,sn));let Vz=!1,Kb=!1,HL=!1;const Ka=og.getUniforms(),sg=zr.uniforms;if(ri.useProgram(og.program)&&(Vz=!0,Kb=!0,HL=!0),Lt.id!==$e&&($e=Lt.id,Kb=!0),Vz||Qe!==qe){if(Ka.setValue(st,"projectionMatrix",qe.projectionMatrix),yn.logarithmicDepthBuffer&&Ka.setValue(st,"logDepthBufFC",2/(Math.log(qe.far+1)/Math.LN2)),Qe!==qe&&(Qe=qe,Kb=!0,HL=!0),Lt.isShaderMaterial||Lt.isMeshPhongMaterial||Lt.isMeshToonMaterial||Lt.isMeshStandardMaterial||Lt.envMap){const Rl=Ka.map.cameraPosition;void 0!==Rl&&Rl.setValue(st,Pt.setFromMatrixPosition(qe.matrixWorld))}(Lt.isMeshPhongMaterial||Lt.isMeshToonMaterial||Lt.isMeshLambertMaterial||Lt.isMeshBasicMaterial||Lt.isMeshStandardMaterial||Lt.isShaderMaterial)&&Ka.setValue(st,"isOrthographic",!0===qe.isOrthographicCamera),(Lt.isMeshPhongMaterial||Lt.isMeshToonMaterial||Lt.isMeshLambertMaterial||Lt.isMeshBasicMaterial||Lt.isMeshStandardMaterial||Lt.isShaderMaterial||Lt.isShadowMaterial||sn.isSkinnedMesh)&&Ka.setValue(st,"viewMatrix",qe.matrixWorldInverse)}if(sn.isSkinnedMesh){Ka.setOptional(st,sn,"bindMatrix"),Ka.setOptional(st,sn,"bindMatrixInverse");const Rl=sn.skeleton;Rl&&(yn.floatVertexTextures?(null===Rl.boneTexture&&Rl.computeBoneTexture(),Ka.setValue(st,"boneTexture",Rl.boneTexture,dn),Ka.setValue(st,"boneTextureSize",Rl.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const VL=Qt.morphAttributes;if((void 0!==VL.position||void 0!==VL.normal||void 0!==VL.color&&!0===yn.isWebGL2)&&Vn.update(sn,Qt,og),(Kb||zr.receiveShadow!==sn.receiveShadow)&&(zr.receiveShadow=sn.receiveShadow,Ka.setValue(st,"receiveShadow",sn.receiveShadow)),Lt.isMeshGouraudMaterial&&null!==Lt.envMap&&(sg.envMap.value=Cr,sg.flipEnvMap.value=Cr.isCubeTexture&&!1===Cr.isRenderTargetTexture?-1:1),Kb&&(Ka.setValue(st,"toneMappingExposure",te.toneMappingExposure),zr.needsLights&&function GCe(qe,Nt){qe.ambientLightColor.needsUpdate=Nt,qe.lightProbe.needsUpdate=Nt,qe.directionalLights.needsUpdate=Nt,qe.directionalLightShadows.needsUpdate=Nt,qe.pointLights.needsUpdate=Nt,qe.pointLightShadows.needsUpdate=Nt,qe.spotLights.needsUpdate=Nt,qe.spotLightShadows.needsUpdate=Nt,qe.rectAreaLights.needsUpdate=Nt,qe.hemisphereLights.needsUpdate=Nt}(sg,HL),Ri&&!0===Lt.fog&&Gr.refreshFogUniforms(sg,Ri),Gr.refreshMaterialUniforms(sg,Lt,gt,Ft,zt),tS.upload(st,zr.uniformsList,sg,dn)),Lt.isShaderMaterial&&!0===Lt.uniformsNeedUpdate&&(tS.upload(st,zr.uniformsList,sg,dn),Lt.uniformsNeedUpdate=!1),Lt.isSpriteMaterial&&Ka.setValue(st,"center",sn.center),Ka.setValue(st,"modelViewMatrix",sn.modelViewMatrix),Ka.setValue(st,"normalMatrix",sn.normalMatrix),Ka.setValue(st,"modelMatrix",sn.matrixWorld),Lt.isShaderMaterial||Lt.isRawShaderMaterial){const Rl=Lt.uniformsGroups;for(let WL=0,jCe=Rl.length;WL<jCe;WL++)if(yn.isWebGL2){const Wz=Rl[WL];li.update(Wz,og),li.bind(Wz,og)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return og}(qe,Nt,Qt,Lt,sn);ri.setMaterial(Lt,Ui);let Cr=Qt.index,Pr=1;!0===Lt.wireframe&&(Cr=ei.getWireframeAttribute(Qt),Pr=2);const Or=Qt.drawRange,Br=Qt.attributes.position;let ro=Or.start*Pr,Za=(Or.start+Or.count)*Pr;null!==Ri&&(ro=Math.max(ro,Ri.start*Pr),Za=Math.min(Za,(Ri.start+Ri.count)*Pr)),null!==Cr?(ro=Math.max(ro,0),Za=Math.min(Za,Cr.count)):null!=Br&&(ro=Math.max(ro,0),Za=Math.min(Za,Br.count));const nu=Za-ro;if(nu<0||nu===1/0)return;Gn.setup(sn,Lt,or,Qt,Cr);let rg,As=yt;if(null!==Cr&&(rg=xn.get(Cr),As=cn,As.setIndex(rg)),sn.isMesh)!0===Lt.wireframe?(ri.setLineWidth(Lt.wireframeLinewidth*En()),As.setMode(st.LINES)):As.setMode(st.TRIANGLES);else if(sn.isLine){let zr=Lt.linewidth;void 0===zr&&(zr=1),ri.setLineWidth(zr*En()),As.setMode(sn.isLineSegments?st.LINES:sn.isLineLoop?st.LINE_LOOP:st.LINE_STRIP)}else sn.isPoints?As.setMode(st.POINTS):sn.isSprite&&As.setMode(st.TRIANGLES);if(sn.isInstancedMesh)As.renderInstances(ro,nu,sn.count);else if(Qt.isInstancedBufferGeometry){const BL=Math.min(Qt.instanceCount,void 0!==Qt._maxInstanceCount?Qt._maxInstanceCount:1/0);As.renderInstances(ro,nu,BL)}else As.render(ro,nu)},this.compile=function(qe,Nt){function Qt(Lt,sn,Ri){!0===Lt.transparent&&2===Lt.side&&!1===Lt.forceSinglePass?(Lt.side=1,Lt.needsUpdate=!0,Ix(Lt,sn,Ri),Lt.side=0,Lt.needsUpdate=!0,Ix(Lt,sn,Ri),Lt.side=2):Ix(Lt,sn,Ri)}J=Xe.get(qe),J.init(),se.push(J),qe.traverseVisible(function(Lt){Lt.isLight&&Lt.layers.test(Nt.layers)&&(J.pushLight(Lt),Lt.castShadow&&J.pushShadow(Lt))}),J.setupLights(te.useLegacyLights),qe.traverse(function(Lt){const sn=Lt.material;if(sn)if(Array.isArray(sn))for(let Ri=0;Ri<sn.length;Ri++)Qt(sn[Ri],qe,Lt);else Qt(sn,qe,Lt)}),se.pop(),J=null};let In=null;function Ai(){fo.stop()}function ho(){fo.start()}const fo=new vH;function xa(qe,Nt,Qt,Lt){if(!1===qe.visible)return;if(qe.layers.test(Nt.layers))if(qe.isGroup)Qt=qe.renderOrder;else if(qe.isLOD)!0===qe.autoUpdate&&qe.update(Nt);else if(qe.isLight)J.pushLight(qe),qe.castShadow&&J.pushShadow(qe);else if(qe.isSprite){if(!qe.frustumCulled||mt.intersectsSprite(qe)){Lt&&Pt.setFromMatrixPosition(qe.matrixWorld).applyMatrix4(Ot);const Ui=di.update(qe),or=qe.material;or.visible&&j.push(qe,Ui,or,Qt,Pt.z,null)}}else if((qe.isMesh||qe.isLine||qe.isPoints)&&(!qe.frustumCulled||mt.intersectsObject(qe))){qe.isSkinnedMesh&&qe.skeleton.frame!==fn.render.frame&&(qe.skeleton.update(),qe.skeleton.frame=fn.render.frame);const Ui=di.update(qe),or=qe.material;if(Lt&&(null===Ui.boundingSphere&&Ui.computeBoundingSphere(),Pt.copy(Ui.boundingSphere.center).applyMatrix4(qe.matrixWorld).applyMatrix4(Ot)),Array.isArray(or)){const Cr=Ui.groups;for(let Pr=0,Or=Cr.length;Pr<Or;Pr++){const Br=Cr[Pr],ro=or[Br.materialIndex];ro&&ro.visible&&j.push(qe,Ui,ro,Qt,Pt.z,Br)}}else or.visible&&j.push(qe,Ui,or,Qt,Pt.z,null)}const Ri=qe.children;for(let Ui=0,or=Ri.length;Ui<or;Ui++)xa(Ri[Ui],Nt,Qt,Lt)}function af(qe,Nt,Qt,Lt){const sn=qe.opaque,Ri=qe.transmissive,Ui=qe.transparent;J.setupLightsView(Qt),!0===Rt&&Wt.setGlobalState(te.clippingPlanes,Qt),Ri.length>0&&function ls(qe,Nt,Qt,Lt){if(null===zt){const or=yn.isWebGL2;zt=new mp(1024,1024,{generateMipmaps:!0,type:Qn.has("EXT_color_buffer_half_float")?D_:lp,minFilter:ap,samples:or&&!0===a?4:0})}const sn=te.getRenderTarget();te.setRenderTarget(zt),te.clear();const Ri=te.toneMapping;te.toneMapping=0,lc(qe,Qt,Lt),dn.updateMultisampleRenderTarget(zt),dn.updateRenderTargetMipmap(zt);let Ui=!1;for(let or=0,Cr=Nt.length;or<Cr;or++){const Pr=Nt[or],Or=Pr.object,Br=Pr.geometry,ro=Pr.material,Za=Pr.group;if(2===ro.side&&Or.layers.test(Lt.layers)){const nu=ro.side;ro.side=1,ro.needsUpdate=!0,$u(Or,Qt,Lt,Br,ro,Za),ro.side=nu,ro.needsUpdate=!0,Ui=!0}}!0===Ui&&(dn.updateMultisampleRenderTarget(zt),dn.updateRenderTargetMipmap(zt)),te.setRenderTarget(sn),te.toneMapping=Ri}(sn,Ri,Nt,Qt),Lt&&ri.viewport(it.copy(Lt)),sn.length>0&&lc(sn,Nt,Qt),Ri.length>0&&lc(Ri,Nt,Qt),Ui.length>0&&lc(Ui,Nt,Qt),ri.buffers.depth.setTest(!0),ri.buffers.depth.setMask(!0),ri.buffers.color.setMask(!0),ri.setPolygonOffset(!1)}function lc(qe,Nt,Qt){const Lt=!0===Nt.isScene?Nt.overrideMaterial:null;for(let sn=0,Ri=qe.length;sn<Ri;sn++){const Ui=qe[sn],or=Ui.object,Cr=Ui.geometry,Pr=null===Lt?Ui.material:Lt,Or=Ui.group;or.layers.test(Qt.layers)&&$u(or,Nt,Qt,Cr,Pr,Or)}}function $u(qe,Nt,Qt,Lt,sn,Ri){qe.onBeforeRender(te,Nt,Qt,Lt,sn,Ri),qe.modelViewMatrix.multiplyMatrices(Qt.matrixWorldInverse,qe.matrixWorld),qe.normalMatrix.getNormalMatrix(qe.modelViewMatrix),sn.onBeforeRender(te,Nt,Qt,Lt,qe,Ri),!0===sn.transparent&&2===sn.side&&!1===sn.forceSinglePass?(sn.side=1,sn.needsUpdate=!0,te.renderBufferDirect(Qt,Nt,Lt,sn,qe,Ri),sn.side=0,sn.needsUpdate=!0,te.renderBufferDirect(Qt,Nt,Lt,sn,qe,Ri),sn.side=2):te.renderBufferDirect(Qt,Nt,Lt,sn,qe,Ri),qe.onAfterRender(te,Nt,Qt,Lt,sn,Ri)}function Ix(qe,Nt,Qt){!0!==Nt.isScene&&(Nt=mn);const Lt=jt.get(qe),sn=J.state.lights,Ui=sn.state.version,or=$i.getParameters(qe,sn.state,J.state.shadowsArray,Nt,Qt),Cr=$i.getProgramCacheKey(or);let Pr=Lt.programs;Lt.environment=qe.isMeshStandardMaterial?Nt.environment:null,Lt.fog=Nt.fog,Lt.envMap=(qe.isMeshStandardMaterial?$n:ti).get(qe.envMap||Lt.environment),void 0===Pr&&(qe.addEventListener("dispose",as),Pr=new Map,Lt.programs=Pr);let Or=Pr.get(Cr);if(void 0!==Or){if(Lt.currentProgram===Or&&Lt.lightsStateVersion===Ui)return Hz(qe,or),Or}else or.uniforms=$i.getUniforms(qe),qe.onBuild(Qt,or,te),qe.onBeforeCompile(or,te),Or=$i.acquireProgram(or,Cr),Pr.set(Cr,Or),Lt.uniforms=or.uniforms;const Br=Lt.uniforms;(!qe.isShaderMaterial&&!qe.isRawShaderMaterial||!0===qe.clipping)&&(Br.clippingPlanes=Wt.uniform),Hz(qe,or),Lt.needsLights=function zCe(qe){return qe.isMeshLambertMaterial||qe.isMeshToonMaterial||qe.isMeshPhongMaterial||qe.isMeshStandardMaterial||qe.isShadowMaterial||qe.isShaderMaterial&&!0===qe.lights}(qe),Lt.lightsStateVersion=Ui,Lt.needsLights&&(Br.ambientLightColor.value=sn.state.ambient,Br.lightProbe.value=sn.state.probe,Br.directionalLights.value=sn.state.directional,Br.directionalLightShadows.value=sn.state.directionalShadow,Br.spotLights.value=sn.state.spot,Br.spotLightShadows.value=sn.state.spotShadow,Br.rectAreaLights.value=sn.state.rectArea,Br.ltc_1.value=sn.state.rectAreaLTC1,Br.ltc_2.value=sn.state.rectAreaLTC2,Br.pointLights.value=sn.state.point,Br.pointLightShadows.value=sn.state.pointShadow,Br.hemisphereLights.value=sn.state.hemi,Br.directionalShadowMap.value=sn.state.directionalShadowMap,Br.directionalShadowMatrix.value=sn.state.directionalShadowMatrix,Br.spotShadowMap.value=sn.state.spotShadowMap,Br.spotLightMatrix.value=sn.state.spotLightMatrix,Br.spotLightMap.value=sn.state.spotLightMap,Br.pointShadowMap.value=sn.state.pointShadowMap,Br.pointShadowMatrix.value=sn.state.pointShadowMatrix);const ro=Or.getUniforms(),Za=tS.seqWithValue(ro.seq,Br);return Lt.currentProgram=Or,Lt.uniformsList=Za,Or}function Hz(qe,Nt){const Qt=jt.get(qe);Qt.outputColorSpace=Nt.outputColorSpace,Qt.instancing=Nt.instancing,Qt.skinning=Nt.skinning,Qt.morphTargets=Nt.morphTargets,Qt.morphNormals=Nt.morphNormals,Qt.morphColors=Nt.morphColors,Qt.morphTargetsCount=Nt.morphTargetsCount,Qt.numClippingPlanes=Nt.numClippingPlanes,Qt.numIntersection=Nt.numClipIntersection,Qt.vertexAlphas=Nt.vertexAlphas,Qt.vertexTangents=Nt.vertexTangents,Qt.toneMapping=Nt.toneMapping}fo.setAnimationLoop(function oi(qe){In&&In(qe)}),"undefined"!=typeof self&&fo.setContext(self),this.setAnimationLoop=function(qe){In=qe,ii.setAnimationLoop(qe),null===qe?fo.stop():fo.start()},ii.addEventListener("sessionstart",Ai),ii.addEventListener("sessionend",ho),this.render=function(qe,Nt){if(void 0===Nt||!0===Nt.isCamera){if(!0!==_e){if(!0===qe.matrixWorldAutoUpdate&&qe.updateMatrixWorld(),null===Nt.parent&&!0===Nt.matrixWorldAutoUpdate&&Nt.updateMatrixWorld(),!0===ii.enabled&&!0===ii.isPresenting&&(!0===ii.cameraAutoUpdate&&ii.updateCamera(Nt),Nt=ii.getCamera()),!0===qe.isScene&&qe.onBeforeRender(te,qe,Nt,Re),J=Xe.get(qe,se.length),J.init(),se.push(J),Ot.multiplyMatrices(Nt.projectionMatrix,Nt.matrixWorldInverse),mt.setFromProjectionMatrix(Ot),Xt=this.localClippingEnabled,Rt=Wt.init(this.clippingPlanes,Xt),j=et.get(qe,ce.length),j.init(),ce.push(j),xa(qe,Nt,0,te.sortObjects),j.finish(),!0===te.sortObjects&&j.sort(ze,ft),!0===Rt&&Wt.beginShadows(),wn.render(J.state.shadowsArray,qe,Nt),!0===Rt&&Wt.endShadows(),!0===this.info.autoReset&&this.info.reset(),Sn.render(j,qe),J.setupLights(te.useLegacyLights),Nt.isArrayCamera){const Lt=Nt.cameras;for(let sn=0,Ri=Lt.length;sn<Ri;sn++){const Ui=Lt[sn];af(j,qe,Ui,Ui.viewport)}}else af(j,qe,Nt);null!==Re&&(dn.updateMultisampleRenderTarget(Re),dn.updateRenderTargetMipmap(Re)),!0===qe.isScene&&qe.onAfterRender(te,qe,Nt),Gn.resetDefaultState(),$e=-1,Qe=null,se.pop(),J=se.length>0?se[se.length-1]:null,ce.pop(),j=ce.length>0?ce[ce.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return ge},this.getActiveMipmapLevel=function(){return Me},this.getRenderTarget=function(){return Re},this.setRenderTargetTextures=function(qe,Nt,Qt){jt.get(qe.texture).__webglTexture=Nt,jt.get(qe.depthTexture).__webglTexture=Qt;const Lt=jt.get(qe);Lt.__hasExternalTextures=!0,Lt.__hasExternalTextures&&(Lt.__autoAllocateDepthBuffer=void 0===Qt,Lt.__autoAllocateDepthBuffer||!0===Qn.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Lt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(qe,Nt){const Qt=jt.get(qe);Qt.__webglFramebuffer=Nt,Qt.__useDefaultFramebuffer=void 0===Nt},this.setRenderTarget=function(qe,Nt=0,Qt=0){Re=qe,ge=Nt,Me=Qt;let Lt=!0,sn=null,Ri=!1,Ui=!1;if(qe){const Cr=jt.get(qe);void 0!==Cr.__useDefaultFramebuffer?(ri.bindFramebuffer(st.FRAMEBUFFER,null),Lt=!1):void 0===Cr.__webglFramebuffer?dn.setupRenderTarget(qe):Cr.__hasExternalTextures&&dn.rebindTextures(qe,jt.get(qe.texture).__webglTexture,jt.get(qe.depthTexture).__webglTexture);const Pr=qe.texture;(Pr.isData3DTexture||Pr.isDataArrayTexture||Pr.isCompressedArrayTexture)&&(Ui=!0);const Or=jt.get(qe).__webglFramebuffer;qe.isWebGLCubeRenderTarget?(sn=Or[Nt],Ri=!0):sn=yn.isWebGL2&&qe.samples>0&&!1===dn.useMultisampledRTT(qe)?jt.get(qe).__webglMultisampledFramebuffer:Or,it.copy(qe.viewport),Le.copy(qe.scissor),Ze=qe.scissorTest}else it.copy(Ye).multiplyScalar(gt).floor(),Le.copy(rt).multiplyScalar(gt).floor(),Ze=ht;if(ri.bindFramebuffer(st.FRAMEBUFFER,sn)&&yn.drawBuffers&&Lt&&ri.drawBuffers(qe,sn),ri.viewport(it),ri.scissor(Le),ri.setScissorTest(Ze),Ri){const Cr=jt.get(qe.texture);st.framebufferTexture2D(st.FRAMEBUFFER,st.COLOR_ATTACHMENT0,st.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,Cr.__webglTexture,Qt)}else if(Ui){const Cr=jt.get(qe.texture);st.framebufferTextureLayer(st.FRAMEBUFFER,st.COLOR_ATTACHMENT0,Cr.__webglTexture,Qt||0,Nt||0)}$e=-1},this.readRenderTargetPixels=function(qe,Nt,Qt,Lt,sn,Ri,Ui){if(!qe||!qe.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let or=jt.get(qe).__webglFramebuffer;if(qe.isWebGLCubeRenderTarget&&void 0!==Ui&&(or=or[Ui]),or){ri.bindFramebuffer(st.FRAMEBUFFER,or);try{const Cr=qe.texture,Pr=Cr.format,Or=Cr.type;if(Pr!==Xl&&Ht.convert(Pr)!==st.getParameter(st.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Br=Or===D_&&(Qn.has("EXT_color_buffer_half_float")||yn.isWebGL2&&Qn.has("EXT_color_buffer_float"));if(!(Or===lp||Ht.convert(Or)===st.getParameter(st.IMPLEMENTATION_COLOR_READ_TYPE)||Or===Bd&&(yn.isWebGL2||Qn.has("OES_texture_float")||Qn.has("WEBGL_color_buffer_float"))||Br))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Nt>=0&&Nt<=qe.width-Lt&&Qt>=0&&Qt<=qe.height-sn&&st.readPixels(Nt,Qt,Lt,sn,Ht.convert(Pr),Ht.convert(Or),Ri)}finally{const Cr=null!==Re?jt.get(Re).__webglFramebuffer:null;ri.bindFramebuffer(st.FRAMEBUFFER,Cr)}}},this.copyFramebufferToTexture=function(qe,Nt,Qt=0){const Lt=Math.pow(2,-Qt),sn=Math.floor(Nt.image.width*Lt),Ri=Math.floor(Nt.image.height*Lt);dn.setTexture2D(Nt,0),st.copyTexSubImage2D(st.TEXTURE_2D,Qt,0,0,qe.x,qe.y,sn,Ri),ri.unbindTexture()},this.copyTextureToTexture=function(qe,Nt,Qt,Lt=0){const sn=Nt.image.width,Ri=Nt.image.height,Ui=Ht.convert(Qt.format),or=Ht.convert(Qt.type);dn.setTexture2D(Qt,0),st.pixelStorei(st.UNPACK_FLIP_Y_WEBGL,Qt.flipY),st.pixelStorei(st.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Qt.premultiplyAlpha),st.pixelStorei(st.UNPACK_ALIGNMENT,Qt.unpackAlignment),Nt.isDataTexture?st.texSubImage2D(st.TEXTURE_2D,Lt,qe.x,qe.y,sn,Ri,Ui,or,Nt.image.data):Nt.isCompressedTexture?st.compressedTexSubImage2D(st.TEXTURE_2D,Lt,qe.x,qe.y,Nt.mipmaps[0].width,Nt.mipmaps[0].height,Ui,Nt.mipmaps[0].data):st.texSubImage2D(st.TEXTURE_2D,Lt,qe.x,qe.y,Ui,or,Nt.image),0===Lt&&Qt.generateMipmaps&&st.generateMipmap(st.TEXTURE_2D),ri.unbindTexture()},this.copyTextureToTexture3D=function(qe,Nt,Qt,Lt,sn=0){if(te.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Ri=qe.max.x-qe.min.x+1,Ui=qe.max.y-qe.min.y+1,or=qe.max.z-qe.min.z+1,Cr=Ht.convert(Lt.format),Pr=Ht.convert(Lt.type);let Or;if(Lt.isData3DTexture)dn.setTexture3D(Lt,0),Or=st.TEXTURE_3D;else{if(!Lt.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");dn.setTexture2DArray(Lt,0),Or=st.TEXTURE_2D_ARRAY}st.pixelStorei(st.UNPACK_FLIP_Y_WEBGL,Lt.flipY),st.pixelStorei(st.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Lt.premultiplyAlpha),st.pixelStorei(st.UNPACK_ALIGNMENT,Lt.unpackAlignment);const Br=st.getParameter(st.UNPACK_ROW_LENGTH),ro=st.getParameter(st.UNPACK_IMAGE_HEIGHT),Za=st.getParameter(st.UNPACK_SKIP_PIXELS),nu=st.getParameter(st.UNPACK_SKIP_ROWS),rg=st.getParameter(st.UNPACK_SKIP_IMAGES),As=Qt.isCompressedTexture?Qt.mipmaps[0]:Qt.image;st.pixelStorei(st.UNPACK_ROW_LENGTH,As.width),st.pixelStorei(st.UNPACK_IMAGE_HEIGHT,As.height),st.pixelStorei(st.UNPACK_SKIP_PIXELS,qe.min.x),st.pixelStorei(st.UNPACK_SKIP_ROWS,qe.min.y),st.pixelStorei(st.UNPACK_SKIP_IMAGES,qe.min.z),Qt.isDataTexture||Qt.isData3DTexture?st.texSubImage3D(Or,sn,Nt.x,Nt.y,Nt.z,Ri,Ui,or,Cr,Pr,As.data):Qt.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),st.compressedTexSubImage3D(Or,sn,Nt.x,Nt.y,Nt.z,Ri,Ui,or,Cr,As.data)):st.texSubImage3D(Or,sn,Nt.x,Nt.y,Nt.z,Ri,Ui,or,Cr,Pr,As),st.pixelStorei(st.UNPACK_ROW_LENGTH,Br),st.pixelStorei(st.UNPACK_IMAGE_HEIGHT,ro),st.pixelStorei(st.UNPACK_SKIP_PIXELS,Za),st.pixelStorei(st.UNPACK_SKIP_ROWS,nu),st.pixelStorei(st.UNPACK_SKIP_IMAGES,rg),0===sn&&Lt.generateMipmaps&&st.generateMipmap(Or),ri.unbindTexture()},this.initTexture=function(qe){qe.isCubeTexture?dn.setTextureCube(qe,0):qe.isData3DTexture?dn.setTexture3D(qe,0):qe.isDataArrayTexture||qe.isCompressedArrayTexture?dn.setTexture2DArray(qe,0):dn.setTexture2D(qe,0),ri.unbindTexture()},this.resetState=function(){ge=0,Me=0,Re=null,ri.reset(),Gn.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===mr?hp:3e3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===hp?mr:Au}}(class nie extends jH{}).prototype.isWebGL1Renderer=!0;class ZH extends zs{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class KH{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Cl()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,o=this.stride;r<o;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Cl()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Cl()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ua=new Je;class rv{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Ua.fromBufferAttribute(this,t),Ua.applyMatrix4(e),this.setXYZ(t,Ua.x,Ua.y,Ua.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ua.fromBufferAttribute(this,t),Ua.applyNormalMatrix(e),this.setXYZ(t,Ua.x,Ua.y,Ua.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ua.fromBufferAttribute(this,t),Ua.transformDirection(e),this.setXYZ(t,Ua.x,Ua.y,Ua.z);return this}setX(e,t){return this.normalized&&(t=vr(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=vr(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=vr(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=vr(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=wl(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=wl(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=wl(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=wl(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=vr(t,this.array),i=vr(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=vr(t,this.array),i=vr(i,this.array),r=vr(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=vr(t,this.array),i=vr(i,this.array),r=vr(r,this.array),o=vr(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=o,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return new js(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new rv(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class zD extends Ph{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Jn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ov;const W_=new Je,sv=new Je,av=new Je,lv=new ln,U_=new ln,XH=new ar,nS=new Je,G_=new Je,iS=new Je,YH=new ln,jD=new ln,JH=new ln;class qH extends zs{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",void 0===ov){ov=new Ir;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new KH(t,5);ov.setIndex([0,1,2,0,2,3]),ov.setAttribute("position",new rv(i,3,0,!1)),ov.setAttribute("uv",new rv(i,2,3,!1))}this.geometry=ov,this.material=void 0!==e?e:new zD,this.center=new ln(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),sv.setFromMatrixScale(this.matrixWorld),XH.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),av.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&sv.multiplyScalar(-av.z);const i=this.material.rotation;let r,o;0!==i&&(o=Math.cos(i),r=Math.sin(i));const s=this.center;rS(nS.set(-.5,-.5,0),av,s,sv,r,o),rS(G_.set(.5,-.5,0),av,s,sv,r,o),rS(iS.set(.5,.5,0),av,s,sv,r,o),YH.set(0,0),jD.set(1,0),JH.set(1,1);let a=e.ray.intersectTriangle(nS,G_,iS,!1,W_);if(null===a&&(rS(G_.set(-.5,.5,0),av,s,sv,r,o),jD.set(0,1),a=e.ray.intersectTriangle(nS,iS,G_,!1,W_),null===a))return;const c=e.ray.origin.distanceTo(W_);c<e.near||c>e.far||t.push({distance:c,point:W_.clone(),uv:Sl.getInterpolation(W_,nS,G_,iS,YH,jD,JH,new ln),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function rS(n,e,t,i,r,o){lv.subVectors(n,t).addScalar(.5).multiply(i),void 0!==r?(U_.x=o*lv.x-r*lv.y,U_.y=r*lv.x+o*lv.y):U_.copy(lv),n.copy(e),n.x+=U_.x,n.y+=U_.y,n.applyMatrix4(XH)}class Ga extends Ph{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Jn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const lV=new Je,cV=new Je,uV=new ar,KD=new PA,aS=new Th;class hv extends zs{constructor(e=new Ir,t=new Ga){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,i=[0];for(let r=1,o=t.count;r<o;r++)lV.fromBufferAttribute(t,r-1),cV.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=lV.distanceTo(cV);e.setAttribute("lineDistance",new mi(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,s=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),aS.copy(i.boundingSphere),aS.applyMatrix4(r),aS.radius+=o,!1===e.ray.intersectsSphere(aS))return;uV.copy(r).invert(),KD.copy(e.ray).applyMatrix4(uV);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,b=new Je,L=new Je,H=new Je,G=new Je,j=this.isLineSegments?2:1,J=i.index,se=i.attributes.position;if(null!==J)for(let ge=Math.max(0,s.start),Me=Math.min(J.count,s.start+s.count)-1;ge<Me;ge+=j){const Re=J.getX(ge),$e=J.getX(ge+1);if(b.fromBufferAttribute(se,Re),L.fromBufferAttribute(se,$e),KD.distanceSqToSegment(b,L,G,H)>c)continue;G.applyMatrix4(this.matrixWorld);const it=e.ray.origin.distanceTo(G);it<e.near||it>e.far||t.push({distance:it,point:H.clone().applyMatrix4(this.matrixWorld),index:ge,face:null,faceIndex:null,object:this})}else for(let ge=Math.max(0,s.start),Me=Math.min(se.count,s.start+s.count)-1;ge<Me;ge+=j){if(b.fromBufferAttribute(se,ge),L.fromBufferAttribute(se,ge+1),KD.distanceSqToSegment(b,L,G,H)>c)continue;G.applyMatrix4(this.matrixWorld);const $e=e.ray.origin.distanceTo(G);$e<e.near||$e>e.far||t.push({distance:$e,point:H.clone().applyMatrix4(this.matrixWorld),index:ge,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}const hV=new Je,dV=new Je;class dv extends hv{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,i=[];for(let r=0,o=t.count;r<o;r+=2)hV.fromBufferAttribute(t,r),dV.fromBufferAttribute(t,r+1),i[r]=0===r?0:i[r-1],i[r+1]=i[r]+hV.distanceTo(dV);e.setAttribute("lineDistance",new mi(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class die extends Su{constructor(e,t,i,r,o,s,a,c,b){super(e,t,i,r,o,s,a,c,b),this.isCanvasTexture=!0,this.needsUpdate=!0}}const fS=new Je,pS=new Je,ak=new Je,gS=new Sl;class CV extends Ir{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const r=Math.pow(10,4),o=Math.cos(gp*t),s=e.getIndex(),a=e.getAttribute("position"),c=s?s.count:a.count,b=[0,0,0],L=["a","b","c"],H=new Array(3),G={},j=[];for(let J=0;J<c;J+=3){s?(b[0]=s.getX(J),b[1]=s.getX(J+1),b[2]=s.getX(J+2)):(b[0]=J,b[1]=J+1,b[2]=J+2);const{a:ce,b:se,c:te}=gS;if(ce.fromBufferAttribute(a,b[0]),se.fromBufferAttribute(a,b[1]),te.fromBufferAttribute(a,b[2]),gS.getNormal(ak),H[0]=`${Math.round(ce.x*r)},${Math.round(ce.y*r)},${Math.round(ce.z*r)}`,H[1]=`${Math.round(se.x*r)},${Math.round(se.y*r)},${Math.round(se.z*r)}`,H[2]=`${Math.round(te.x*r)},${Math.round(te.y*r)},${Math.round(te.z*r)}`,H[0]!==H[1]&&H[1]!==H[2]&&H[2]!==H[0])for(let _e=0;_e<3;_e++){const ge=(_e+1)%3,Me=H[_e],Re=H[ge],$e=gS[L[_e]],Qe=gS[L[ge]],it=`${Me}_${Re}`,Le=`${Re}_${Me}`;Le in G&&G[Le]?(ak.dot(G[Le].normal)<=o&&(j.push($e.x,$e.y,$e.z),j.push(Qe.x,Qe.y,Qe.z)),G[Le]=null):it in G||(G[it]={index0:b[_e],index1:b[ge],normal:ak.clone()})}}for(const J in G)if(G[J]){const{index0:ce,index1:se}=G[J];fS.fromBufferAttribute(a,ce),pS.fromBufferAttribute(a,se),j.push(fS.x,fS.y,fS.z),j.push(pS.x,pS.y,pS.z)}this.setAttribute("position",new mi(j,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class RV extends Ph{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Jn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Jn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}function Jl(n,e,t){return yk(n)?new n.constructor(n.subarray(e,void 0!==t?t:n.length)):n.slice(e,t)}function xp(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}function yk(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}class CS{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],o=t[i-1];e:{t:{let s;n:{i:if(!(e<r)){for(let a=i+2;;){if(void 0===r){if(e<o)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(o=r,r=t[++i],e<r)break t}s=t.length;break n}if(e>=o)break e;{const a=t[1];e<a&&(i=2,o=a);for(let c=i-2;;){if(void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=o,o=t[--i-1],e>=o)break t}s=i,i=0}}for(;i<s;){const a=i+s>>>1;e<t[a]?s=a:i=a+1}if(r=t[i],o=t[i-1],void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,o,r)}return this.interpolate_(i,o,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,o=e*r;for(let s=0;s!==r;++s)t[s]=i[o+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ire extends CS{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,i){const r=this.parameterPositions;let o=e-2,s=e+1,a=r[o],c=r[s];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:o=e,a=2*t-i;break;case 2402:o=r.length-2,a=t+r[o]-r[o+1];break;default:o=e,a=i}if(void 0===c)switch(this.getSettings_().endingEnd){case 2401:s=e,c=2*i-t;break;case 2402:s=1,c=i+r[1]-r[0];break;default:s=e-1,c=t}const b=.5*(i-t),L=this.valueSize;this._weightPrev=b/(t-a),this._weightNext=b/(c-i),this._offsetPrev=o*L,this._offsetNext=s*L}interpolate_(e,t,i,r){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=e*a,b=c-a,L=this._offsetPrev,H=this._offsetNext,G=this._weightPrev,j=this._weightNext,J=(i-t)/(r-t),ce=J*J,se=ce*J,te=-G*se+2*G*ce-G*J,_e=(1+G)*se+(-1.5-2*G)*ce+(-.5+G)*J+1,ge=(-1-j)*se+(1.5+j)*ce+.5*J,Me=j*se-j*ce;for(let Re=0;Re!==a;++Re)o[Re]=te*s[L+Re]+_e*s[b+Re]+ge*s[c+Re]+Me*s[H+Re];return o}}class kV extends CS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=e*a,b=c-a,L=(i-t)/(r-t),H=1-L;for(let G=0;G!==a;++G)o[G]=s[b+G]*H+s[c+G]*L;return o}}class rre extends CS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Mu{constructor(e,t,i,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=xp(t,this.TimeBufferType),this.values=xp(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:xp(e.times,Array),values:xp(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new rre(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new kV(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ire(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let o=0,s=r-1;for(;o!==r&&i[o]<e;)++o;for(;-1!==s&&i[s]>t;)--s;if(++s,0!==o||s!==r){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=Jl(i,o,s),this.values=Jl(this.values,o*a,s*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,o=i.length;0===o&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const c=i[a];if("number"==typeof c&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,c),e=!1;break}if(null!==s&&s>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,c,s),e=!1;break}s=c}if(void 0!==r&&yk(r))for(let a=0,c=r.length;a!==c;++a){const b=r[a];if(isNaN(b)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,b),e=!1;break}}return e}optimize(){const e=Jl(this.times),t=Jl(this.values),i=this.getValueSize(),r=2302===this.getInterpolation(),o=e.length-1;let s=1;for(let a=1;a<o;++a){let c=!1;const b=e[a];if(b!==e[a+1]&&(1!==a||b!==e[0]))if(r)c=!0;else{const H=a*i,G=H-i,j=H+i;for(let J=0;J!==i;++J){const ce=t[H+J];if(ce!==t[G+J]||ce!==t[j+J]){c=!0;break}}}if(c){if(a!==s){e[s]=e[a];const H=a*i,G=s*i;for(let j=0;j!==i;++j)t[G+j]=t[H+j]}++s}}if(o>0){e[s]=e[o];for(let a=o*i,c=s*i,b=0;b!==i;++b)t[c+b]=t[a+b];++s}return s!==e.length?(this.times=Jl(e,0,s),this.values=Jl(t,0,s*i)):(this.times=e,this.values=t),this}clone(){const e=Jl(this.times,0),t=Jl(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Mu.prototype.TimeBufferType=Float32Array,Mu.prototype.ValueBufferType=Float32Array,Mu.prototype.DefaultInterpolation=2301;class gv extends Mu{}gv.prototype.ValueTypeName="bool",gv.prototype.ValueBufferType=Array,gv.prototype.DefaultInterpolation=2300,gv.prototype.InterpolantFactoryMethodLinear=void 0,gv.prototype.InterpolantFactoryMethodSmooth=void 0;(class LV extends Mu{}).prototype.ValueTypeName="color";(class wS extends Mu{}).prototype.ValueTypeName="number";class ore extends CS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=(i-t)/(r-t);let b=e*a;for(let L=b+a;b!==L;b+=4)Ha.slerpFlat(o,0,s,b-a,s,b,c);return o}}class tb extends Mu{InterpolantFactoryMethodLinear(e){return new ore(this.times,this.values,this.getValueSize(),e)}}tb.prototype.ValueTypeName="quaternion",tb.prototype.DefaultInterpolation=2301,tb.prototype.InterpolantFactoryMethodSmooth=void 0;class mv extends Mu{}mv.prototype.ValueTypeName="string",mv.prototype.ValueBufferType=Array,mv.prototype.DefaultInterpolation=2300,mv.prototype.InterpolantFactoryMethodLinear=void 0,mv.prototype.InterpolantFactoryMethodSmooth=void 0;(class AS extends Mu{}).prototype.ValueTypeName="vector",Error;class OV extends zs{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Jn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}const Ck=new ar,FV=new Je,NV=new Je;class mre extends class hre{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ln(512,512),this.map=null,this.mapPass=null,this.matrix=new ar,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new FD,this._frameExtents=new ln(1,1),this._viewportCount=1,this._viewports=[new io(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;FV.setFromMatrixPosition(e.matrixWorld),t.position.copy(FV),NV.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(NV),t.updateMatrixWorld(),Ck.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ck),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Ck)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}{constructor(){super(new qA(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class BV extends OV{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(zs.DEFAULT_UP),this.updateMatrix(),this.target=new zs,this.shadow=new mre}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class HV extends OV{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}const Sk="\\[\\]\\.:\\/",Ere=new RegExp("["+Sk+"]","g"),Ik="[^"+Sk+"]",Mre="[^"+Sk.replace("\\.","")+"]",Lre=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Ik)+/(WCOD+)?/.source.replace("WCOD",Mre)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Ik)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Ik)+"$"),Pre=["material","materials","bones","map"];class Ore{constructor(e,t,i){const r=i||Io.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=i.length;r!==o;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}let Io=(()=>{class n{constructor(t,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,r){return t&&t.isAnimationObjectGroup?new n.Composite(t,i,r):new n(t,i,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Ere,"")}static parseTrackName(t){const i=Lre.exec(t);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},o=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==o&&-1!==o){const s=r.nodeName.substring(o+1);-1!==Pre.indexOf(s)&&(r.nodeName=r.nodeName.substring(0,o),r.objectName=s)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,i){if(void 0===i||""===i||"."===i||-1===i||i===t.name||i===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(i);if(void 0!==r)return r}if(t.children){const r=function(s){for(let a=0;a<s.length;a++){const c=s[a];if(c.name===i||c.uuid===i)return c;const b=r(c.children);if(b)return b}return null},o=r(t.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)t[i++]=r[o]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,r=i.objectName,o=i.propertyName;let s=i.propertyIndex;if(t||(t=n.findNode(this.rootNode,i.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(r){let L=i.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let H=0;H<t.length;H++)if(t[H].name===L){L=H;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==L){if(void 0===t[L])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[L]}}const a=t[o];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+o+" but it wasn't found.",t);let c=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);let b=this.BindingType.Direct;if(void 0!==s){if("morphTargetInfluences"===o){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[s]&&(s=t.morphTargetDictionary[s])}b=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else void 0!==a.fromArray&&void 0!==a.toArray?(b=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(b=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=o;this.getValue=this.GetterByBindingType[b],this.setValue=this.SetterByBindingTypeAndVersioning[b][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=Ore,n})();Io.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Io.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Io.prototype.GetterByBindingType=[Io.prototype._getValue_direct,Io.prototype._getValue_array,Io.prototype._getValue_arrayElement,Io.prototype._getValue_toArray],Io.prototype.SetterByBindingTypeAndVersioning=[[Io.prototype._setValue_direct,Io.prototype._setValue_direct_setNeedsUpdate,Io.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Io.prototype._setValue_array,Io.prototype._setValue_array_setNeedsUpdate,Io.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Io.prototype._setValue_arrayElement,Io.prototype._setValue_arrayElement_setNeedsUpdate,Io.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Io.prototype._setValue_fromArray,Io.prototype._setValue_fromArray_setNeedsUpdate,Io.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class Bre{constructor(e,t,i=0,r=1/0){this.ray=new PA(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new xD,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return xk(e,this,i,t),i.sort(JV),i}intersectObjects(e,t=!0,i=[]){for(let r=0,o=e.length;r<o;r++)xk(e[r],this,i,t);return i.sort(JV),i}}function JV(n,e){return n.distance-e.distance}function xk(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),!0===i){const r=n.children;for(let o=0,s=r.length;o<s;o++)xk(r[o],e,t,!0)}}class qV{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(jo(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class Vre extends dv{constructor(e=10,t=10,i=4473924,r=8947848){i=new Jn(i),r=new Jn(r);const o=t/2,s=e/t,a=e/2,c=[],b=[];for(let G=0,j=0,J=-a;G<=t;G++,J+=s){c.push(-a,0,J,a,0,J),c.push(J,0,-a,J,0,a);const ce=G===o?i:r;ce.toArray(b,j),j+=3,ce.toArray(b,j),j+=3,ce.toArray(b,j),j+=3,ce.toArray(b,j),j+=3}const L=new Ir;L.setAttribute("position",new mi(c,3)),L.setAttribute("color",new mi(b,3)),super(L,new Ga({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const RS=new Je,Ko=new PD;class l5 extends dv{constructor(e){const t=new Ir,i=new Ga({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],o=[],s={};function a(J,ce){c(J),c(ce)}function c(J){r.push(0,0,0),o.push(0,0,0),void 0===s[J]&&(s[J]=[]),s[J].push(r.length/3-1)}a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4"),t.setAttribute("position",new mi(r,3)),t.setAttribute("color",new mi(o,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const b=new Jn(16755200),L=new Jn(16711680),H=new Jn(43775),G=new Jn(16777215),j=new Jn(3355443);this.setColors(b,L,H,G,j)}setColors(e,t,i,r,o){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,o.r,o.g,o.b),a.setXYZ(41,o.r,o.g,o.b),a.setXYZ(42,o.r,o.g,o.b),a.setXYZ(43,o.r,o.g,o.b),a.setXYZ(44,o.r,o.g,o.b),a.setXYZ(45,o.r,o.g,o.b),a.setXYZ(46,o.r,o.g,o.b),a.setXYZ(47,o.r,o.g,o.b),a.setXYZ(48,o.r,o.g,o.b),a.setXYZ(49,o.r,o.g,o.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;Ko.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),os("c",t,e,Ko,0,0,-1),os("t",t,e,Ko,0,0,1),os("n1",t,e,Ko,-1,-1,-1),os("n2",t,e,Ko,1,-1,-1),os("n3",t,e,Ko,-1,1,-1),os("n4",t,e,Ko,1,1,-1),os("f1",t,e,Ko,-1,-1,1),os("f2",t,e,Ko,1,-1,1),os("f3",t,e,Ko,-1,1,1),os("f4",t,e,Ko,1,1,1),os("u1",t,e,Ko,.7,1.1,-1),os("u2",t,e,Ko,-.7,1.1,-1),os("u3",t,e,Ko,0,2,-1),os("cf1",t,e,Ko,-1,0,1),os("cf2",t,e,Ko,1,0,1),os("cf3",t,e,Ko,0,-1,1),os("cf4",t,e,Ko,0,1,1),os("cn1",t,e,Ko,-1,0,-1),os("cn2",t,e,Ko,1,0,-1),os("cn3",t,e,Ko,0,-1,-1),os("cn4",t,e,Ko,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function os(n,e,t,i,r,o,s){RS.set(r,o,s).unproject(i);const a=e[n];if(void 0!==a){const c=t.getAttribute("position");for(let b=0,L=a.length;b<L;b++)c.setXYZ(a[b],RS.x,RS.y,RS.z)}}class Wre extends dv{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=new Ir;r.setAttribute("position",new mi(t,3)),r.setAttribute("color",new mi([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(r,new Ga({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,i){const r=new Jn,o=this.geometry.attributes.color.array;return r.set(e),r.toArray(o,0),r.toArray(o,3),r.set(t),r.toArray(o,6),r.toArray(o,9),r.set(i),r.toArray(o,12),r.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"152"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="152");const u5={type:"change"},Tk={type:"start"},h5={type:"end"};class Ure extends pp{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Je,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(yt){yt.addEventListener("keydown",$i),this._domElementKeyEvents=yt},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",$i),this._domElementKeyEvents=null},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(u5),i.update(),o=r.NONE},this.update=function(){const yt=new Je,cn=(new Ha).setFromUnitVectors(e.up,new Je(0,1,0)),Ht=cn.clone().invert(),Gn=new Je,li=new Ha,wi=2*Math.PI;return function(){const _i=i.object.position;yt.copy(_i).sub(i.target),yt.applyQuaternion(cn),a.setFromVector3(yt),i.autoRotate&&o===r.NONE&&Le(function Qe(){return 2*Math.PI/60/60*i.autoRotateSpeed}()),i.enableDamping?(a.theta+=c.theta*i.dampingFactor,a.phi+=c.phi*i.dampingFactor):(a.theta+=c.theta,a.phi+=c.phi);let rr=i.minAzimuthAngle,xr=i.maxAzimuthAngle;return isFinite(rr)&&isFinite(xr)&&(rr<-Math.PI?rr+=wi:rr>Math.PI&&(rr-=wi),xr<-Math.PI?xr+=wi:xr>Math.PI&&(xr-=wi),a.theta=rr<=xr?Math.max(rr,Math.min(xr,a.theta)):a.theta>(rr+xr)/2?Math.max(rr,a.theta):Math.min(xr,a.theta)),a.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=b,a.radius=Math.max(i.minDistance,Math.min(i.maxDistance,a.radius)),!0===i.enableDamping?i.target.addScaledVector(L,i.dampingFactor):i.target.add(L),yt.setFromSpherical(a),yt.applyQuaternion(Ht),_i.copy(i.target).add(yt),i.object.lookAt(i.target),!0===i.enableDamping?(c.theta*=1-i.dampingFactor,c.phi*=1-i.dampingFactor,L.multiplyScalar(1-i.dampingFactor)):(c.set(0,0,0),L.set(0,0,0)),b=1,!!(H||Gn.distanceToSquared(i.object.position)>s||8*(1-li.dot(i.object.quaternion))>s)&&(i.dispatchEvent(u5),Gn.copy(i.object.position),li.copy(i.object.quaternion),H=!1,!0)}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",Xe),i.domElement.removeEventListener("pointerdown",dn),i.domElement.removeEventListener("pointercancel",$n),i.domElement.removeEventListener("wheel",di),i.domElement.removeEventListener("pointermove",ti),i.domElement.removeEventListener("pointerup",$n),null!==i._domElementKeyEvents&&(i._domElementKeyEvents.removeEventListener("keydown",$i),i._domElementKeyEvents=null)};const i=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=r.NONE;const s=1e-6,a=new qV,c=new qV;let b=1;const L=new Je;let H=!1;const G=new ln,j=new ln,J=new ln,ce=new ln,se=new ln,te=new ln,_e=new ln,ge=new ln,Me=new ln,Re=[],$e={};function it(){return Math.pow(.95,i.zoomSpeed)}function Le(yt){c.theta-=yt}function Ze(yt){c.phi-=yt}const vt=function(){const yt=new Je;return function(Ht,Gn){yt.setFromMatrixColumn(Gn,0),yt.multiplyScalar(-Ht),L.add(yt)}}(),Ft=function(){const yt=new Je;return function(Ht,Gn){!0===i.screenSpacePanning?yt.setFromMatrixColumn(Gn,1):(yt.setFromMatrixColumn(Gn,0),yt.crossVectors(i.object.up,yt)),yt.multiplyScalar(Ht),L.add(yt)}}(),gt=function(){const yt=new Je;return function(Ht,Gn){const li=i.domElement;if(i.object.isPerspectiveCamera){yt.copy(i.object.position).sub(i.target);let ii=yt.length();ii*=Math.tan(i.object.fov/2*Math.PI/180),vt(2*Ht*ii/li.clientHeight,i.object.matrix),Ft(2*Gn*ii/li.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(vt(Ht*(i.object.right-i.object.left)/i.object.zoom/li.clientWidth,i.object.matrix),Ft(Gn*(i.object.top-i.object.bottom)/i.object.zoom/li.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function ze(yt){i.object.isPerspectiveCamera?b/=yt:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*yt)),i.object.updateProjectionMatrix(),H=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function ft(yt){i.object.isPerspectiveCamera?b*=yt:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/yt)),i.object.updateProjectionMatrix(),H=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Ye(yt){G.set(yt.clientX,yt.clientY)}function ht(yt){ce.set(yt.clientX,yt.clientY)}function Pt(){1===Re.length?G.set(Re[0].pageX,Re[0].pageY):G.set(.5*(Re[0].pageX+Re[1].pageX),.5*(Re[0].pageY+Re[1].pageY))}function mn(){1===Re.length?ce.set(Re[0].pageX,Re[0].pageY):ce.set(.5*(Re[0].pageX+Re[1].pageX),.5*(Re[0].pageY+Re[1].pageY))}function En(){const yt=Re[0].pageX-Re[1].pageX,cn=Re[0].pageY-Re[1].pageY,Ht=Math.sqrt(yt*yt+cn*cn);_e.set(0,Ht)}function Qn(yt){if(1==Re.length)j.set(yt.pageX,yt.pageY);else{const Ht=Vn(yt);j.set(.5*(yt.pageX+Ht.x),.5*(yt.pageY+Ht.y))}J.subVectors(j,G).multiplyScalar(i.rotateSpeed);const cn=i.domElement;Le(2*Math.PI*J.x/cn.clientHeight),Ze(2*Math.PI*J.y/cn.clientHeight),G.copy(j)}function yn(yt){if(1===Re.length)se.set(yt.pageX,yt.pageY);else{const cn=Vn(yt);se.set(.5*(yt.pageX+cn.x),.5*(yt.pageY+cn.y))}te.subVectors(se,ce).multiplyScalar(i.panSpeed),gt(te.x,te.y),ce.copy(se)}function ri(yt){const cn=Vn(yt),Ht=yt.pageX-cn.x,Gn=yt.pageY-cn.y,li=Math.sqrt(Ht*Ht+Gn*Gn);ge.set(0,li),Me.set(0,Math.pow(ge.y/_e.y,i.zoomSpeed)),ze(Me.y),_e.copy(ge)}function dn(yt){!1!==i.enabled&&(0===Re.length&&(i.domElement.setPointerCapture(yt.pointerId),i.domElement.addEventListener("pointermove",ti),i.domElement.addEventListener("pointerup",$n)),function Wt(yt){Re.push(yt)}(yt),"touch"===yt.pointerType?function Gr(yt){switch(Sn(yt),Re.length){case 1:switch(i.touches.ONE){case 0:if(!1===i.enableRotate)return;Pt(),o=r.TOUCH_ROTATE;break;case 1:if(!1===i.enablePan)return;mn(),o=r.TOUCH_PAN;break;default:o=r.NONE}break;case 2:switch(i.touches.TWO){case 2:if(!1===i.enableZoom&&!1===i.enablePan)return;(function st(){i.enableZoom&&En(),i.enablePan&&mn()})(),o=r.TOUCH_DOLLY_PAN;break;case 3:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function Kn(){i.enableZoom&&En(),i.enableRotate&&Pt()})(),o=r.TOUCH_DOLLY_ROTATE;break;default:o=r.NONE}break;default:o=r.NONE}o!==r.NONE&&i.dispatchEvent(Tk)}(yt):function xn(yt){let cn;switch(yt.button){case 0:cn=i.mouseButtons.LEFT;break;case 1:cn=i.mouseButtons.MIDDLE;break;case 2:cn=i.mouseButtons.RIGHT;break;default:cn=-1}switch(cn){case 1:if(!1===i.enableZoom)return;(function rt(yt){_e.set(yt.clientX,yt.clientY)})(yt),o=r.DOLLY;break;case 0:if(yt.ctrlKey||yt.metaKey||yt.shiftKey){if(!1===i.enablePan)return;ht(yt),o=r.PAN}else{if(!1===i.enableRotate)return;Ye(yt),o=r.ROTATE}break;case 2:if(yt.ctrlKey||yt.metaKey||yt.shiftKey){if(!1===i.enableRotate)return;Ye(yt),o=r.ROTATE}else{if(!1===i.enablePan)return;ht(yt),o=r.PAN}break;default:o=r.NONE}o!==r.NONE&&i.dispatchEvent(Tk)}(yt))}function ti(yt){!1!==i.enabled&&("touch"===yt.pointerType?function et(yt){switch(Sn(yt),o){case r.TOUCH_ROTATE:if(!1===i.enableRotate)return;Qn(yt),i.update();break;case r.TOUCH_PAN:if(!1===i.enablePan)return;yn(yt),i.update();break;case r.TOUCH_DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;(function fn(yt){i.enableZoom&&ri(yt),i.enablePan&&yn(yt)})(yt),i.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function jt(yt){i.enableZoom&&ri(yt),i.enableRotate&&Qn(yt)})(yt),i.update();break;default:o=r.NONE}}(yt):function ei(yt){switch(o){case r.ROTATE:if(!1===i.enableRotate)return;!function mt(yt){j.set(yt.clientX,yt.clientY),J.subVectors(j,G).multiplyScalar(i.rotateSpeed);const cn=i.domElement;Le(2*Math.PI*J.x/cn.clientHeight),Ze(2*Math.PI*J.y/cn.clientHeight),G.copy(j),i.update()}(yt);break;case r.DOLLY:if(!1===i.enableZoom)return;!function Rt(yt){ge.set(yt.clientX,yt.clientY),Me.subVectors(ge,_e),Me.y>0?ze(it()):Me.y<0&&ft(it()),_e.copy(ge),i.update()}(yt);break;case r.PAN:if(!1===i.enablePan)return;!function Xt(yt){se.set(yt.clientX,yt.clientY),te.subVectors(se,ce).multiplyScalar(i.panSpeed),gt(te.x,te.y),ce.copy(se),i.update()}(yt)}}(yt))}function $n(yt){(function wn(yt){delete $e[yt.pointerId];for(let cn=0;cn<Re.length;cn++)if(Re[cn].pointerId==yt.pointerId)return void Re.splice(cn,1)})(yt),0===Re.length&&(i.domElement.releasePointerCapture(yt.pointerId),i.domElement.removeEventListener("pointermove",ti),i.domElement.removeEventListener("pointerup",$n)),i.dispatchEvent(h5),o=r.NONE}function di(yt){!1===i.enabled||!1===i.enableZoom||o!==r.NONE||(yt.preventDefault(),i.dispatchEvent(Tk),function zt(yt){yt.deltaY<0?ft(it()):yt.deltaY>0&&ze(it()),i.update()}(yt),i.dispatchEvent(h5))}function $i(yt){!1===i.enabled||!1===i.enablePan||function Ot(yt){let cn=!1;switch(yt.code){case i.keys.UP:yt.ctrlKey||yt.metaKey||yt.shiftKey?Ze(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):gt(0,i.keyPanSpeed),cn=!0;break;case i.keys.BOTTOM:yt.ctrlKey||yt.metaKey||yt.shiftKey?Ze(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):gt(0,-i.keyPanSpeed),cn=!0;break;case i.keys.LEFT:yt.ctrlKey||yt.metaKey||yt.shiftKey?Le(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):gt(i.keyPanSpeed,0),cn=!0;break;case i.keys.RIGHT:yt.ctrlKey||yt.metaKey||yt.shiftKey?Le(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):gt(-i.keyPanSpeed,0),cn=!0}cn&&(yt.preventDefault(),i.update())}(yt)}function Xe(yt){!1!==i.enabled&&yt.preventDefault()}function Sn(yt){let cn=$e[yt.pointerId];void 0===cn&&(cn=new ln,$e[yt.pointerId]=cn),cn.set(yt.pageX,yt.pageY)}function Vn(yt){return $e[(yt.pointerId===Re[0].pointerId?Re[1]:Re[0]).pointerId]}i.domElement.addEventListener("contextmenu",Xe),i.domElement.addEventListener("pointerdown",dn),i.domElement.addEventListener("pointercancel",$n),i.domElement.addEventListener("wheel",di,{passive:!1}),this.update()}}class Gre extends zs{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new ln(.5,.5),this.addEventListener("removed",function(){this.traverse(function(t){t.element instanceof Element&&null!==t.element.parentNode&&t.element.parentNode.removeChild(t.element)})})}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this.center=e.center,this}}const yv=new Je,d5=new ar,f5=new ar,p5=new Je,g5=new Je;class zre{constructor(e={}){const t=this;let i,r,o,s;const a={objects:new WeakMap},c=void 0!==e.element?e.element:document.createElement("div");function b(j,J,ce){if(j.isCSS2DObject){yv.setFromMatrixPosition(j.matrixWorld),yv.applyMatrix4(f5);const se=!0===j.visible&&yv.z>=-1&&yv.z<=1&&!0===j.layers.test(ce.layers);if(j.element.style.display=!0===se?"":"none",!0===se){j.onBeforeRender(t,J,ce);const _e=j.element;_e.style.transform="translate("+-100*j.center.x+"%,"+-100*j.center.y+"%)translate("+(yv.x*o+o)+"px,"+(-yv.y*s+s)+"px)",_e.parentNode!==c&&c.appendChild(_e),j.onAfterRender(t,J,ce)}const te={distanceToCameraSquared:L(ce,j)};a.objects.set(j,te)}for(let se=0,te=j.children.length;se<te;se++)b(j.children[se],J,ce)}function L(j,J){return p5.setFromMatrixPosition(j.matrixWorld),g5.setFromMatrixPosition(J.matrixWorld),p5.distanceToSquared(g5)}c.style.overflow="hidden",this.domElement=c,this.getSize=function(){return{width:i,height:r}},this.render=function(j,J){!0===j.matrixWorldAutoUpdate&&j.updateMatrixWorld(),null===J.parent&&!0===J.matrixWorldAutoUpdate&&J.updateMatrixWorld(),d5.copy(J.matrixWorldInverse),f5.multiplyMatrices(J.projectionMatrix,d5),b(j,j,J),function G(j){const J=function H(j){const J=[];return j.traverse(function(ce){ce.isCSS2DObject&&J.push(ce)}),J}(j).sort(function(se,te){return se.renderOrder!==te.renderOrder?te.renderOrder-se.renderOrder:a.objects.get(se).distanceToCameraSquared-a.objects.get(te).distanceToCameraSquared}),ce=J.length;for(let se=0,te=J.length;se<te;se++)J[se].element.style.zIndex=ce-se}(j)},this.setSize=function(j,J){i=j,r=J,o=i/2,s=r/2,c.style.width=j+"px",c.style.height=J+"px"}}}var Cs=(()=>{return(n=Cs||(Cs={})).View3D="View3D",n.View2DAlignment="Alignment",n.View2DApi="Api",n.View2DRelation="Relation",Cs;var n})();class _v{constructor(){this.resources=new Set}track(e){if(!e)return e;if(Array.isArray(e))return e.forEach(t=>this.track(t)),e;if((e.dispose||e instanceof zs)&&this.resources.add(e),e instanceof Va)this.track(e.geometry),this.track(e.material),this.track(e.children);else if(e instanceof Ph)for(const t of Object.values(e))t instanceof Su&&this.track(t);return e}untrack(e){this.resources.delete(e)}dispose(){for(const e of this.resources)e instanceof zs&&e.parent&&e.parent.remove(e),e.dispose&&e.dispose();this.resources.clear()}}class $h{static createLine(e,t,i=11711154){const r=[];r.push(e),r.push(t);const o=new Jn(i),s=(new Ir).setFromPoints(r),a=new Ga({color:o});return new hv(s,a)}static createOutlineCube(e,t,i){const r=new Gd(e,t,i),o=new CV(r),s=new dv(o,new Ga({color:0}));return s.position.set(e/2+.5,t/2+.5,i/2-.5),s}static createCube(e,t,i,r,o){const s=new Gd(e,e,e),a=new RV({color:t}),c=new Va(s,a);return c.position.x=i,c.position.y=r,c.position.z=o,c}static createHTMLCanvasLabel(e,t,i,r="gray"){const s=document.createElement("canvas").getContext("2d"),a=`${t}px bold sans-serif`;s.font=a;const c=s.measureText(i).width,L=e+4,H=t+4;s.canvas.width=L,s.canvas.height=H,s.font=a,s.textBaseline="middle",s.textAlign="center",s.fillStyle=r,s.fillRect(0,0,L,H);const G=Math.min(1,e/c);return s.translate(L/2,H/2),s.scale(G,1),s.fillStyle="white",s.fillText(i,0,0),s.canvas}}class jre{constructor(e,t){this.alignmentCubeService=e,this.labelFormatter=t,this.alignmentModel=e.alignmentContainer,this.scene=e.scene,this.labelTracker=new _v}addLabelsX(e,t,i,r=0,o=0,s=0,a=0,c=!1){const b=this.longestCommonPrefix(this.alignmentModel.apiLabels);this.alignmentModel.apiLabels.forEach((L,H)=>{const G=e+r+H,j=t+o,J=i+s,ce=this.labelFormatter.formatApiPath(this.alignmentCubeService,L,b),se=this.attachLabelToObject(ce,this.alignmentCubeService.outlineBox,G,j,J,400,"blue",a,!0);if(this.labelTracker.track(se),c){const te=$h.createLine(new Je(G,t,i),se.position);this.scene.add(te),this.labelTracker.track(te),this.alignmentCubeService.outlineBox.add(te)}this.alignmentCubeService.outlineBox.add(se)})}addLabelsY(e,t,i,r=0,o=0,s=0,a=0,c=!1){this.alignmentModel.relationPathLabels.forEach((b,L)=>{const H=[],G=e+r,j=t+o+L,J=i+s;b.forEach(te=>{H.push(this.labelFormatter.formatRelationPath(this.alignmentCubeService,te))});const ce=this.labelFormatter.joinRelPaths(H),se=this.attachLabelToObject(ce,this.alignmentCubeService.outlineBox,G,j,J,400,"blue",a,!0);if(this.labelTracker.track(se),c){const te=$h.createLine(new Je(e,j,i),se.position);this.scene.add(te),this.labelTracker.track(te),this.alignmentCubeService.outlineBox.add(te)}this.alignmentCubeService.outlineBox.add(se)})}addLabelsZ(e,t,i,r=0,o=0,s=0,a=0,c=!1){const b=this.alignmentModel.alignments.length;for(let L=0;L<b;L++){const j=i-b+1+L+s,ce=this.attachLabelToObject(this.alignmentModel.alignments[L].name,this.alignmentCubeService.outlineBox,e+r,t+o,j,400,"blue",a,!0);if(this.labelTracker.track(ce),c){const se=$h.createLine(new Je(e,t,j),ce.position);this.scene.add(se),this.labelTracker.track(se),this.alignmentCubeService.outlineBox.add(se)}this.alignmentCubeService.outlineBox.add(ce)}}attachLabelToObject(e,t,i=0,r=1,o=0,s=100,a="gray",c=0,b=!1){const L=$h.createHTMLCanvasLabel(s,30,e,a),H=new die(L);H.minFilter=rs,H.wrapS=ia,H.wrapT=ia;const G=new zD({map:H,transparent:!0});G.rotation=c;const J=new qH(G);return t.add(J),J.position.set(i,r,o),J.scale.x=.01*L.width,J.scale.y=.01*L.height,J.traverse(ce=>{ce.visible=b}),J}disposeLabels(){this.labelTracker.dispose()}longestCommonPrefix(e){let t=e.length;if(0==t)return"";if(1==t)return e[0];e.sort();let i=Math.min(e[0].length,e[t-1].length),r=0;for(;r<i&&e[0][r]==e[t-1][r];)r++;let o=e[0].substring(0,r);return o=o.substring(0,o.lastIndexOf(".")+1),o}}const ql_regexRelSearch=/(#(\w)+)$|(\/[\w]+)$/g,ql_regexRelReplace=/[#/]/g,ql_regexApiSearch=/(\.[\w-\w]+(\[\*\])*)$/g,ql_regexApiReplace=/[./]/g,ql_regexApiReplaceWildcard=/(\[\*\])*$/g;class Zre{constructor(e){this.alignmentCubeService=e,this.alignmentModel=e.alignmentContainer,this.scene=e.scene,this.cubeTracker=new _v}addDataCubes(){const e=this.alignmentCubeService.viewMode;this.alignmentModel.alignments.forEach((t,i)=>{(e!==Cs.View2DAlignment||this.alignmentCubeService.selectedAlignmentIndex===i)&&t.mappings.forEach(r=>{r.apiPaths.forEach(o=>{const s=this.alignmentModel.apiLabels.findIndex(a=>a===o);(e!==Cs.View2DApi||this.alignmentCubeService.selectedApiPathIndex===s)&&r.relationPaths.forEach(a=>{const c=this.alignmentModel.getRelationPathIndex(a.paths);if(e===Cs.View2DRelation&&this.alignmentCubeService.selectedRelationPathLabelIndex!==c)return;const b=this.createDataCube(t,r,o,a,i);this.scene.add(b),this.cubeTracker.track(b)})})})})}makeDataCubeLabel(e,t,i,r,o){const s=document.createElement("div"),a=document.createElement("div");a.textContent="alignment: "+e;const c=document.createElement("div");c.textContent="api_path: "+t;const b=document.createElement("div");b.textContent="relation_path:";const L=document.createElement("ul");for(const j of i){const J=document.createElement("li");J.textContent=this.alignmentCubeService.showFullRelationPath?j:j.match(ql_regexRelSearch)[0].replace(ql_regexRelReplace,""),L.appendChild(J)}const H=document.createElement("div");H.textContent=`${r}: ${o}`,b.appendChild(L),s.className="label",s.style.marginTop="-0.5em",s.appendChild(a),s.appendChild(c),s.appendChild(b),s.appendChild(H),s.style.zIndex="10";const G=new Gre(s);return G.traverse(j=>{j.visible=!1}),G}createDataCube(e,t,i,r,o){const s=r.paths,a=this.alignmentModel.apiLabels.indexOf(i)+1,c=this.alignmentModel.getRelationPathIndex(s)+1,b=t.metrics.find(j=>j.name===this.alignmentCubeService.selectedMetric);if(void 0===b)return;const L=Math.max(0,Math.min(b.value,1));let G;if(String(L),G=this.alignmentModel.getScaleColorForMapping(i,s.join(),L),L>0){const j=$h.createCube(L,G,a,c,o);j.layers.enable(1);const J=this.makeDataCubeLabel(e.name,i,s,this.alignmentCubeService.selectedMetric,L);return J.position.set(0,1.5,0),j.add(J),j}return null}disposeCubes(){this.cubeTracker.dispose()}}class Kre{constructor(e,t){this.alignmentCubeService=e,this.alignmentModel=e.alignmentContainer,this.scene=e.scene,this.labelCreator=new jre(e,t),this.dataCubeCreator=new Zre(e),this.resTracker=new _v}load2DSceneRelation(){const e=this.alignmentModel.apiLabels.length,i=this.alignmentModel.alignments.length;this.alignmentCubeService.outlineBox=$h.createOutlineCube(e,1,i),this.resTracker.track(this.alignmentCubeService.outlineBox),this.scene.add(this.alignmentCubeService.outlineBox);const r=-e/2,s=i/2;this.labelCreator.addLabelsX(r,-.5,s,.5,0,2.5,Math.PI/2),this.labelCreator.addLabelsZ(r,-.5,s,-2.5,0,-.5,0),this.dataCubeCreator.addDataCubes(),this.alignmentCubeService.orbitControls.enableRotate=!1,this.alignmentCubeService.orbitControls.enablePan=!1;const a=this.alignmentCubeService.outlineBox.position.clone(),c=this.alignmentModel.relationPathLabels.length+1;this.alignmentCubeService.currentCamera instanceof Zo&&this.alignmentCubeService.changeCamera(),this.alignmentCubeService.currentCamera.position.set(a.x,c,a.z)}load2DSceneAlignment(){const e=this.alignmentModel.apiLabels.length,t=this.alignmentModel.relationPathLabels.length;this.alignmentCubeService.outlineBox=$h.createOutlineCube(e,t,1),this.resTracker.track(this.alignmentCubeService.outlineBox),this.scene.add(this.alignmentCubeService.outlineBox);const r=-e/2,o=-t/2;this.labelCreator.addLabelsX(r,o,.5,.5,-2.5,0,Math.PI/2),this.labelCreator.addLabelsY(r,o,.5,-2.5,.5,0),this.dataCubeCreator.addDataCubes(),this.alignmentCubeService.orbitControls.enableRotate=!1,this.alignmentCubeService.orbitControls.enablePan=!1;const a=this.alignmentCubeService.outlineBox.position.clone(),c=this.alignmentModel.alignments.length+1;this.alignmentCubeService.currentCamera instanceof Zo&&this.alignmentCubeService.changeCamera(),this.alignmentCubeService.currentCamera.position.set(a.x,a.y,c)}load2DSceneApi(){const t=this.alignmentModel.relationPathLabels.length,i=this.alignmentModel.alignments.length;this.alignmentCubeService.outlineBox=$h.createOutlineCube(1,t,i),this.resTracker.track(this.alignmentCubeService.outlineBox),this.scene.add(this.alignmentCubeService.outlineBox);const o=-t/2,s=i/2;this.labelCreator.addLabelsY(-.5,o,s,0,.5,2.5),this.labelCreator.addLabelsZ(.5,o,s,0,-2.5,-.5,Math.PI/2),this.dataCubeCreator.addDataCubes(),this.alignmentCubeService.orbitControls.enableRotate=!1,this.alignmentCubeService.orbitControls.enablePan=!1;const a=this.alignmentCubeService.outlineBox.position.clone(),c=this.alignmentModel.apiLabels.length+1;this.alignmentCubeService.currentCamera instanceof Zo&&this.alignmentCubeService.changeCamera(),this.alignmentCubeService.currentCamera.position.set(c,a.y,a.z)}load3DScene(){const e=this.alignmentModel.apiLabels.length,t=this.alignmentModel.relationPathLabels.length,i=this.alignmentModel.alignments.length;this.alignmentCubeService.outlineBox=$h.createOutlineCube(e,t,i),this.resTracker.track(this.alignmentCubeService.outlineBox),this.scene.add(this.alignmentCubeService.outlineBox);const r=-e/2,o=-t/2,s=i/2;this.alignmentCubeService.orbitControls.enableRotate=!0,this.alignmentCubeService.orbitControls.enablePan=!0,this.alignmentCubeService.orbitControls.target.copy(this.alignmentCubeService.outlineBox.position.clone()),this.labelCreator.addLabelsX(r,o,s,.5,-2.5,0,Math.PI/2),this.labelCreator.addLabelsY(r,o,s,-2.5,.5,0),this.labelCreator.addLabelsZ(-r,o,s,2.5,0,-.5),this.dataCubeCreator.addDataCubes(),this.alignmentCubeService.orbitControls.enableRotate=!0,this.alignmentCubeService.orbitControls.enablePan=!0;const a=this.alignmentCubeService.outlineBox.position.clone(),b=this.alignmentModel.relationPathLabels.length,L=Math.sqrt(Math.pow(this.alignmentModel.apiLabels.length,2)+Math.pow(b,2))+1;this.alignmentCubeService.currentCamera.position.set(a.x+1,a.y+1,L)}clearScene(){this.labelCreator.disposeLabels(),this.dataCubeCreator.disposeCubes(),this.resTracker.dispose()}}class Xre{constructor(e=0){this.raycaster=new Bre,this.pickedObject=null,this.pickedObjectSavedColor=0,this.raycaster.layers.set(e),this.raycaster.layers.enable(e)}pick(e,t,i){this.pickedObject&&(this.pickedObject.material.color.setHex(this.pickedObjectSavedColor),this.pickedObject.children.forEach(o=>o.visible=!1),this.pickedObject=void 0),this.raycaster.setFromCamera(e,i);const r=this.raycaster.intersectObjects(t.children);r.length&&(this.pickedObject=r[0].object,this.pickedObject.children.forEach(o=>o.visible=!0),this.pickedObjectSavedColor=this.pickedObject.material.color.getHex(),this.pickedObject.material.color.setHex(16711680))}}let Yre=(()=>{class n{constructor(){}formatApiPath(t,i,r){let o;return o=t.showFullApiPath?i:i.replace(r,""),o}formatRelationPath(t,i){if(!t.showFullRelationPath){const r=i.match(ql_regexRelSearch);if(null==r)return i;for(let o=0;o<r.length;o++)r[o]=r[o].replace(ql_regexRelReplace,"");return r.join()}return i}joinRelPaths(t){return t.join("\u{1f862}")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ib=(()=>{class n{constructor(t,i){this.ngZone=t,this.labelFormatter=i,this.helper=!1,this.showFullApiPath=!1,this.showFullRelationPath=!1,this.rayCasterWorkingLayer=1,this.cameraWidth=10,this.frameId=null,this._selectedAlignmentIndex=0,this._selectedApiPathIndex=0,this._selectedRelationPathLabelIndex=0,this.pickPosition={x:0,y:0},this.cubeTracker=new _v,this.resTracker=new _v,this.labelTracker=new _v}ngOnDestroy(){null!=this.frameId&&cancelAnimationFrame(this.frameId)}initialize(t){this._viewMode=Cs.View3D,this.canvas=t.nativeElement;const i=window.innerWidth,r=window.innerHeight,o=i/r;this.renderer=new jH({canvas:this.canvas,alpha:!0,antialias:!0}),this.renderer.setSize(i,r),this.renderer.setPixelRatio(window.devicePixelRatio),this.labelRenderer=new zre,this.labelRenderer.setSize(i,r),document.getElementById("engine-wrapper-label").appendChild(this.labelRenderer.domElement),this._scene=new ZH,this.cameraPersp=new Zo(75,o,.01,100),this.cameraOrtho=new qA(-this.cameraWidth*o,this.cameraWidth*o,this.cameraWidth,-this.cameraWidth,.01,100),this._currentCamera=this.cameraPersp,this._currentCamera.position.set(3,5,15),this._scene.add(this._currentCamera),this.light=new HV(16777215,1),this.light.position.set(-10,0,10);const s=new BV(16777215,.8);s.position.set(0,100,10),this._scene.add(this.light),this._scene.add(s),this._orbitControls=new Ure(this._currentCamera,this.labelRenderer.domElement),this._orbitControls.minDistance=5,this._orbitControls.maxDistance=50,this.pickHelper=new Xre(this.rayCasterWorkingLayer),this.clearPickPosition()}loadSceneForAlignmentContainer(t){switch(this._alignmentContainer=t,void 0===this.sceneLoader&&(this.sceneLoader=new Kre(this,this.labelFormatter)),void 0===this._selectedMetric&&(this._selectedMetric=t.metricsNames.values().next().value),this._viewMode){case Cs.View2DAlignment:this.sceneLoader.load2DSceneAlignment();break;case Cs.View3D:this.sceneLoader.load3DScene();break;case Cs.View2DApi:this.sceneLoader.load2DSceneApi();break;case Cs.View2DRelation:this.sceneLoader.load2DSceneRelation()}}animate(){this.ngZone.runOutsideAngular(()=>{"loading"!==document.readyState?this.render():window.addEventListener("DOMContentLoaded",()=>{this.render()}),window.addEventListener("mousemove",t=>{this.setPickPosition(t)}),window.addEventListener("mouseout",()=>{this.clearPickPosition()}),window.addEventListener("mouseleave",()=>{this.clearPickPosition()}),window.addEventListener("touchstart",t=>{this.setPickPosition(t)}),window.addEventListener("touchmove",t=>{this.setPickPosition(t)}),window.addEventListener("touchcancel",()=>{this.clearPickPosition()}),window.addEventListener("touchend",()=>{this.clearPickPosition()}),window.addEventListener("resize",()=>{this.resize()})})}render(){this.frameId=requestAnimationFrame(()=>{this.render()}),this.pickHelper.pick(this.pickPosition,this._scene,this._currentCamera),this.renderer.clear(),this._currentCamera.lookAt(this._outlineBox.position),this.renderer.render(this._scene,this._currentCamera),this.labelRenderer.render(this._scene,this._currentCamera)}resize(){const t=window.innerWidth,i=window.innerHeight,r=t/i;this.cameraPersp.aspect=r,this.cameraPersp.updateProjectionMatrix(),this.cameraOrtho.left=-this.cameraWidth*r,this.cameraOrtho.right=this.cameraWidth*r,this.cameraOrtho.updateProjectionMatrix(),this.renderer.setSize(t,i),this.labelRenderer.setSize(t,i)}resetOrbitControls(){this._orbitControls.reset(),this._orbitControls.target.copy(this._outlineBox.position.clone())}setOrbitControlPosition(){this._currentCamera.lookAt(this._outlineBox.position),this._orbitControls.update()}changeCamera(){const t=this._currentCamera.position.clone();this._currentCamera=this._currentCamera instanceof Zo?this.cameraOrtho:this.cameraPersp,this._currentCamera.position.copy(t),this._orbitControls.object=this._currentCamera,this._currentCamera.lookAt(this._orbitControls.target.x,this._orbitControls.target.y,this._orbitControls.target.z),this.resize()}toggleGridHelper(t=10,i=10){null==this.gridHelper?(this.gridHelper=new Vre(t,i),this._scene.add(this.gridHelper)):(this._scene.remove(this.gridHelper),this.gridHelper=null)}toggleAxisHelper(t=10){null==this.axisHelper?(this.axisHelper=new Wre(t),this._scene.add(this.axisHelper)):(this._scene.remove(this.axisHelper),this.axisHelper=null)}toggleCameraHelper(){null==this.cameraHelper?(this.cameraHelper=new l5(this._currentCamera instanceof Zo?this.cameraOrtho:this.cameraPersp),this._scene.add(this.cameraHelper)):(this._scene.remove(this.cameraHelper),this.cameraHelper=null)}getCanvasRelativePosition(t){const i=this.canvas.getBoundingClientRect();return{x:(t.clientX-i.left)*this.canvas.width/i.width,y:(t.clientY-i.top)*this.canvas.height/i.height}}setPickPosition(t){const i=this.getCanvasRelativePosition(t);this.pickPosition.x=i.x/this.canvas.width*2-1,this.pickPosition.y=i.y/this.canvas.height*-2+1}clearPickPosition(){this.pickPosition.x=-1e5,this.pickPosition.y=-1e5}clearScene(){this.labelTracker.dispose(),this.cubeTracker.dispose(),this.resTracker.dispose(),this.sceneLoader.clearScene()}reloadScene(){this.clearScene(),this.loadSceneForAlignmentContainer(this.alignmentContainer)}setMetric(t){this._selectedMetric=t,this.reloadScene()}removeAxisLabels(){this.labelTracker.dispose()}setShowApiFullPath(t){this.showFullApiPath=t,this.reloadScene()}setShowRelationFullPath(t){this.showFullRelationPath=t,this.reloadScene()}setShowAdvancedMode(t){this.helper=t,this.reloadScene()}setSelectedDataSet(t){t>=0&&t<this.alignmentContainer.alignments.length&&(this._selectedAlignmentIndex=t,this.reloadScene())}setSelectedApiLabel(t){t>=0&&t<this.alignmentContainer.apiLabels.length&&(this._selectedApiPathIndex=t,this.reloadScene())}setSelectedRelationPathLabel(t){console.log(`${t} -> ${this.alignmentContainer.relationPathLabels[t].join()}`),t>=0&&t<this.alignmentContainer.relationPathLabels.length&&(console.log("Changed index to "+t),this._selectedRelationPathLabelIndex=t,this.reloadScene())}changeViewMode(t){this._viewMode=t,this.reloadScene()}set alignmentContainer(t){this._alignmentContainer=t}get alignmentContainer(){return this._alignmentContainer}get viewMode(){return this._viewMode}get currentCamera(){return this._currentCamera}get orbitControls(){return this._orbitControls}get outlineBox(){return this._outlineBox}set outlineBox(t){this._outlineBox=t}get selectedAlignmentIndex(){return this._selectedAlignmentIndex}get selectedApiPathIndex(){return this._selectedApiPathIndex}get selectedRelationPathLabelIndex(){return this._selectedRelationPathLabelIndex}get selectedMetric(){return this._selectedMetric}get scene(){return this._scene}}return n.\u0275fac=function(t){return new(t||n)(At(Ei),At(Yre))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jre=JSON.parse('{"system":"DORIS (PCA)","alignments":[{"metrics":{"confidence":0.5606060606060606},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#title"]}],"api_path":["message.title[*]"]},{"metrics":{"confidence":0.75},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#pagination"]}],"api_path":["message.page"]},{"metrics":{"confidence":0.20408163265306123},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#authoredBy","https://dblp.org/rdf/schema-2020-07-01#primaryAffiliation"]}],"api_path":["message.author[*].affiliation[*]"]},{"metrics":{"confidence":0.75},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedIn"]}],"api_path":["message.short-container-title[*]"]},{"metrics":{"confidence":1},"relation_path":[{"path":["http://www.wikidata.org/prop/direct/P356"]}],"api_path":["message.DOI"]},{"metrics":{"confidence":0.75},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedInJournal"]}],"api_path":["message.short-container-title[*]"]},{"metrics":{"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedInJournalVolume"]}],"api_path":["message.volume"]},{"metrics":{"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedInJournalVolumeIssue"]}],"api_path":["message.journal-issue.issue"]},{"metrics":{"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#yearOfPublication"]}],"api_path":["message.published-print.date-parts[*][*]"]},{"metrics":{"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedAsPartOf","https://dblp.org/rdf/schema-2020-07-01#yearOfPublication"]}],"api_path":["message.published-print.date-parts[*][*]"]}],"name":"dblp_crossref_v1"}'),qre=JSON.parse('{"system":"DORIS (PCA)","alignments":[{"metrics":{"confidence":0.6606060606060606},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#title"]}],"api_path":["message.title[*]"]},{"metrics":{"confidence":0.85},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#pagination"]}],"api_path":["message.page"]},{"metrics":{"confidence":0.40408163265306124},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#authoredBy","https://dblp.org/rdf/schema-2020-07-01#primaryAffiliation"]}],"api_path":["message.author[*].affiliation[*]"]},{"metrics":{"confidence":0.75},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedIn"]}],"api_path":["message.short-container-title[*]"]},{"metrics":{"confidence":1},"relation_path":[{"path":["http://www.wikidata.org/prop/direct/P356"]}],"api_path":["message.DOI"]},{"metrics":{"confidence":0.75},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedInJournal"]}],"api_path":["message.short-container-title[*]"]},{"metrics":{"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedInJournalVolume"]}],"api_path":["message.volume"]},{"metrics":{"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedInJournalVolumeIssue"]}],"api_path":["message.journal-issue.issue"]},{"metrics":{"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#yearOfPublication"]}],"api_path":["message.published-print.date-parts[*][*]"]},{"metrics":{"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedAsPartOf","https://dblp.org/rdf/schema-2020-07-01#yearOfPublication"]}],"api_path":["message.published-print.date-parts[*][*]"]}],"name":"dblp_crossref_v2"}'),Qre=JSON.parse('{"system":"DORIS (PCA)","alignments":[{"metrics":{"confidence":0.7606060606060606},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#title"]}],"api_path":["message.title[*]"]},{"metrics":{"confidence":0.95},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#pagination"]}],"api_path":["message.page"]},{"metrics":{"confidence":0.5040816326530613},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#authoredBy","https://dblp.org/rdf/schema-2020-07-01#primaryAffiliation"]}],"api_path":["message.author[*].affiliation[*]"]},{"metrics":{"confidence":0.8},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedIn"]}],"api_path":["message.short-container-title[*]"]},{"metrics":{"confidence":1},"relation_path":[{"path":["http://www.wikidata.org/prop/direct/P356"]}],"api_path":["message.DOI"]},{"metrics":{"confidence":0.8},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedInJournal"]}],"api_path":["message.short-container-title[*]"]},{"metrics":{"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedInJournalVolume"]}],"api_path":["message.volume"]},{"metrics":{"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedInJournalVolumeIssue"]}],"api_path":["message.journal-issue.issue"]},{"metrics":{"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#yearOfPublication"]}],"api_path":["message.published-print.date-parts[*][*]"]},{"metrics":{"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedAsPartOf","https://dblp.org/rdf/schema-2020-07-01#yearOfPublication"]}],"api_path":["message.published-print.date-parts[*][*]"]}],"name":"dblp_crossref_v3"}'),eoe=JSON.parse('{"system":"DORIS (PCA)","alignments":[{"metrics":{"confidence":0.8606060606060606},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#title"]}],"api_path":["message.title[*]"]},{"metrics":{"confidence":0.95},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#pagination"]}],"api_path":["message.page"]},{"metrics":{"confidence":0.8040816326530612},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#authoredBy","https://dblp.org/rdf/schema-2020-07-01#primaryAffiliation"]}],"api_path":["message.author[*].affiliation[*]"]},{"metrics":{"confidence":0.95},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedIn"]}],"api_path":["message.short-container-title[*]"]},{"metrics":{"confidence":1},"relation_path":[{"path":["http://www.wikidata.org/prop/direct/P356"]}],"api_path":["message.DOI"]},{"metrics":{"confidence":0.95},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedInJournal"]}],"api_path":["message.short-container-title[*]"]},{"metrics":{"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedInJournalVolume"]}],"api_path":["message.volume"]},{"metrics":{"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedInJournalVolumeIssue"]}],"api_path":["message.journal-issue.issue"]},{"metrics":{"confidence":0.2},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#yearOfPublication"]}],"api_path":["message.published-print.date-parts[*][*]"]},{"metrics":{"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#publishedAsPartOf","https://dblp.org/rdf/schema-2020-07-01#yearOfPublication"]}],"api_path":["message.published-print.date-parts[*][*]"]}],"name":"dblp_crossref_v4"}'),toe=JSON.parse('{"system":"FiLiPo","alignments":[{"metrics":{"data_availability":0.9518072289156626,"confidence":0.9518072289156626},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#title"]}],"api_path":["feed.entry.title"]},{"metrics":{"data_availability":0.996268656716418,"confidence":0.996268656716418},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#authoredBy","https://dblp.org/rdf/schema-2020-07-01#primaryFullCreatorName"]}],"api_path":["feed.entry.author[*].name"]},{"metrics":{"data_availability":0.8674698795180723,"confidence":0.8674698795180723},"relation_path":[{"path":["http://www.w3.org/2000/01/rdf-schema#label"]}],"api_path":["feed.entry.title"]},{"metrics":{"data_availability":0.9960629921259843,"confidence":0.9960629921259843},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#authoredBy","http://www.w3.org/2000/01/rdf-schema#label"]}],"api_path":["feed.entry.author[*].name"]},{"metrics":{"data_availability":1,"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#orderedCreators","http://www.w3.org/2000/01/rdf-schema#label"]}],"api_path":["feed.entry.author[*].name"]},{"metrics":{"data_availability":1,"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#orderedCreators","https://dblp.org/rdf/schema-2020-07-01#primaryFullCreatorName"]}],"api_path":["feed.entry.author[*].name"]}],"name":"sample_dblp_sample_arxiv_filipo"}'),noe=JSON.parse('{"system":"DORIS (Overlap)","alignments":[{"metrics":{"confidence":0.9102564102564102},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#title"]}],"api_path":["feed.entry.title"]},{"metrics":{"confidence":0.14102564102564102},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#authoredBy","https://dblp.org/rdf/schema-2020-07-01#otherFullCreatorName"]}],"api_path":["feed.entry.author[*].name"]},{"metrics":{"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#authoredBy","https://dblp.org/rdf/schema-2020-07-01#primaryFullCreatorName"]}],"api_path":["feed.entry.author[*].name"]},{"metrics":{"confidence":1},"relation_path":[{"path":["https://dblp.org/rdf/schema-2020-07-01#authoredBy","http://www.w3.org/2000/01/rdf-schema#label"]}],"api_path":["feed.entry.author[*].name"]}],"name":"sample_dblp_sample_arxiv_overlap"}');class Rk{constructor(e){this._paths=e}addPath(e){this._paths.push(e)}compareTo(e){return this.paths.toString().localeCompare(e.toString())}get paths(){return this._paths}toString(){return this.paths.join()}}class ioe{constructor(e,t,i){this._apiPaths=e,this._relationPaths=t,this._metrics=i}get apiPaths(){return this._apiPaths}get relationPaths(){return this._relationPaths}get metrics(){return this._metrics}addRelationPath(e){if(Array.isArray(e)){if(0===e.length)return;if(e[0]instanceof Rk)for(const t of e)this._relationPaths.push(t);else{const t=new Rk(e);this._relationPaths.push(t)}}else this._relationPaths.push(e)}addApiPath(e){if(Array.isArray(e))for(const t of e)this._apiPaths.push(t);else this._apiPaths.push(e)}}class roe{constructor(e,t){this._name=e,this._value=t}get name(){return this._name}get value(){return this._value}}class ooe{constructor(){this._mappings=[],this._metricsNames=new Set}addMapping(e){this._mappings.push(e)}addAlignment(e){e.alignments.forEach(t=>{const i=[];for(const s in t.metrics)i.push(new roe(s,t.metrics[s])),this._metricsNames.add(s);const r=[];t.relation_path.forEach(s=>{r.push(new Rk(s.path))});const o=new ioe(t.api_path,r,i);this._mappings.push(o)})}compareTo(e){return this.name.localeCompare(e.name)}get mappings(){return this._mappings}get name(){return this._name}get metricsNames(){return this._metricsNames}set name(e){this._name=e}}function soe(){}function Dk(n){return null==n?soe:function(){return this.querySelector(n)}}function loe(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}function coe(){return[]}function m5(n){return null==n?coe:function(){return this.querySelectorAll(n)}}function v5(n){return function(){return this.matches(n)}}function y5(n){return function(e){return e.matches(n)}}var doe=Array.prototype.find;function poe(){return this.firstElementChild}var moe=Array.prototype.filter;function voe(){return Array.from(this.children)}function _5(n){return new Array(n.length)}function LS(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}function woe(n){return function(){return n}}function Aoe(n,e,t,i,r,o){for(var a,s=0,c=e.length,b=o.length;s<b;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):t[s]=new LS(n,o[s]);for(;s<c;++s)(a=e[s])&&(r[s]=a)}function Soe(n,e,t,i,r,o,s){var a,c,j,b=new Map,L=e.length,H=o.length,G=new Array(L);for(a=0;a<L;++a)(c=e[a])&&(G[a]=j=s.call(c,c.__data__,a,e)+"",b.has(j)?r[a]=c:b.set(j,c));for(a=0;a<H;++a)j=s.call(n,o[a],a,o)+"",(c=b.get(j))?(i[a]=c,c.__data__=o[a],b.delete(j)):t[a]=new LS(n,o[a]);for(a=0;a<L;++a)(c=e[a])&&b.get(G[a])===c&&(r[a]=c)}function Ioe(n){return n.__data__}function Eoe(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function Loe(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}LS.prototype={constructor:LS,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var kk="http://www.w3.org/1999/xhtml";const b5={svg:"http://www.w3.org/2000/svg",xhtml:kk,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function PS(n){var e=n+="",t=e.indexOf(":");return t>=0&&"xmlns"!==(e=n.slice(0,t))&&(n=n.slice(t+1)),b5.hasOwnProperty(e)?{space:b5[e],local:n}:n}function Hoe(n){return function(){this.removeAttribute(n)}}function Voe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Woe(n,e){return function(){this.setAttribute(n,e)}}function Uoe(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function Goe(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}}function zoe(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function C5(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Zoe(n){return function(){this.style.removeProperty(n)}}function Koe(n,e,t){return function(){this.style.setProperty(n,e,t)}}function Xoe(n,e,t){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,t)}}function bv(n,e){return n.style.getPropertyValue(e)||C5(n).getComputedStyle(n,null).getPropertyValue(e)}function Joe(n){return function(){delete this[n]}}function qoe(n,e){return function(){this[n]=e}}function Qoe(n,e){return function(){var t=e.apply(this,arguments);null==t?delete this[n]:this[n]=t}}function w5(n){return n.trim().split(/^|\s+/)}function Lk(n){return n.classList||new A5(n)}function A5(n){this._node=n,this._names=w5(n.getAttribute("class")||"")}function S5(n,e){for(var t=Lk(n),i=-1,r=e.length;++i<r;)t.add(e[i])}function I5(n,e){for(var t=Lk(n),i=-1,r=e.length;++i<r;)t.remove(e[i])}function tse(n){return function(){S5(this,n)}}function nse(n){return function(){I5(this,n)}}function ise(n,e){return function(){(e.apply(this,arguments)?S5:I5)(this,n)}}function ose(){this.textContent=""}function sse(n){return function(){this.textContent=n}}function ase(n){return function(){var e=n.apply(this,arguments);this.textContent=null==e?"":e}}function cse(){this.innerHTML=""}function use(n){return function(){this.innerHTML=n}}function hse(n){return function(){var e=n.apply(this,arguments);this.innerHTML=null==e?"":e}}function fse(){this.nextSibling&&this.parentNode.appendChild(this)}function gse(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vse(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===kk&&e.documentElement.namespaceURI===kk?e.createElement(n):e.createElementNS(t,n)}}function yse(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function x5(n){var e=PS(n);return(e.local?yse:vse)(e)}function bse(){return null}function wse(){var n=this.parentNode;n&&n.removeChild(this)}function Sse(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Ise(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Tse(n){return n.trim().split(/^|\s+/).map(function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}})}function Rse(n){return function(){var e=this.__on;if(e){for(var o,t=0,i=-1,r=e.length;t<r;++t)o=e[t],n.type&&o.type!==n.type||o.name!==n.name?e[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?e.length=i:delete this.__on}}}function Dse(n,e,t){return function(){var r,i=this.__on,o=function Mse(n){return function(e){n.call(this,e,this.__data__)}}(e);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===n.type&&r.name===n.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=t),void(r.value=e);this.addEventListener(n.type,o,t),r={type:n.type,name:n.name,value:e,listener:o,options:t},i?i.push(r):this.__on=[r]}}function E5(n,e,t){var i=C5(n),r=i.CustomEvent;"function"==typeof r?r=new r(e,t):(r=i.document.createEvent("Event"),t?(r.initEvent(e,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(e,!1,!1)),n.dispatchEvent(r)}function Lse(n,e){return function(){return E5(this,n,e)}}function Pse(n,e){return function(){return E5(this,n,e.apply(this,arguments))}}A5.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var Nse=[null];function Kc(n,e){this._groups=n,this._parents=e}function M5(){return new Kc([[document.documentElement]],Nse)}Kc.prototype=M5.prototype={constructor:Kc,select:function aoe(n){"function"!=typeof n&&(n=Dk(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var c,b,o=e[r],s=o.length,a=i[r]=new Array(s),L=0;L<s;++L)(c=o[L])&&(b=n.call(c,c.__data__,L,o))&&("__data__"in c&&(b.__data__=c.__data__),a[L]=b);return new Kc(i,this._parents)},selectAll:function hoe(n){n="function"==typeof n?function uoe(n){return function(){return loe(n.apply(this,arguments))}}(n):m5(n);for(var e=this._groups,t=e.length,i=[],r=[],o=0;o<t;++o)for(var c,s=e[o],a=s.length,b=0;b<a;++b)(c=s[b])&&(i.push(n.call(c,c.__data__,b,s)),r.push(c));return new Kc(i,r)},selectChild:function goe(n){return this.select(null==n?poe:function foe(n){return function(){return doe.call(this.children,n)}}("function"==typeof n?n:y5(n)))},selectChildren:function _oe(n){return this.selectAll(null==n?voe:function yoe(n){return function(){return moe.call(this.children,n)}}("function"==typeof n?n:y5(n)))},filter:function boe(n){"function"!=typeof n&&(n=v5(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var c,o=e[r],s=o.length,a=i[r]=[],b=0;b<s;++b)(c=o[b])&&n.call(c,c.__data__,b,o)&&a.push(c);return new Kc(i,this._parents)},data:function xoe(n,e){if(!arguments.length)return Array.from(this,Ioe);var t=e?Soe:Aoe,i=this._parents,r=this._groups;"function"!=typeof n&&(n=woe(n));for(var o=r.length,s=new Array(o),a=new Array(o),c=new Array(o),b=0;b<o;++b){var L=i[b],H=r[b],G=H.length,j=Eoe(n.call(L,L&&L.__data__,b,i)),J=j.length,ce=a[b]=new Array(J),se=s[b]=new Array(J),te=c[b]=new Array(G);t(L,H,ce,se,te,j,e);for(var Me,Re,_e=0,ge=0;_e<J;++_e)if(Me=ce[_e]){for(_e>=ge&&(ge=_e+1);!(Re=se[ge])&&++ge<J;);Me._next=Re||null}}return(s=new Kc(s,i))._enter=a,s._exit=c,s},enter:function Coe(){return new Kc(this._enter||this._groups.map(_5),this._parents)},exit:function Moe(){return new Kc(this._exit||this._groups.map(_5),this._parents)},join:function Toe(n,e,t){var i=this.enter(),r=this,o=this.exit();return"function"==typeof n?(i=n(i))&&(i=i.selection()):i=i.append(n+""),null!=e&&(r=e(r))&&(r=r.selection()),null==t?o.remove():t(o),i&&r?i.merge(r).order():r},merge:function Roe(n){for(var e=n.selection?n.selection():n,t=this._groups,i=e._groups,r=t.length,s=Math.min(r,i.length),a=new Array(r),c=0;c<s;++c)for(var j,b=t[c],L=i[c],H=b.length,G=a[c]=new Array(H),J=0;J<H;++J)(j=b[J]||L[J])&&(G[J]=j);for(;c<r;++c)a[c]=t[c];return new Kc(a,this._parents)},selection:function $se(){return this},order:function Doe(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var s,i=n[e],r=i.length-1,o=i[r];--r>=0;)(s=i[r])&&(o&&4^s.compareDocumentPosition(o)&&o.parentNode.insertBefore(s,o),o=s);return this},sort:function koe(n){function e(H,G){return H&&G?n(H.__data__,G.__data__):!H-!G}n||(n=Loe);for(var t=this._groups,i=t.length,r=new Array(i),o=0;o<i;++o){for(var b,s=t[o],a=s.length,c=r[o]=new Array(a),L=0;L<a;++L)(b=s[L])&&(c[L]=b);c.sort(e)}return new Kc(r,this._parents).order()},call:function Poe(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function Ooe(){return Array.from(this)},node:function Foe(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function Noe(){let n=0;for(const e of this)++n;return n},empty:function $oe(){return!this.node()},each:function Boe(n){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var a,r=e[t],o=0,s=r.length;o<s;++o)(a=r[o])&&n.call(a,a.__data__,o,r);return this},attr:function joe(n,e){var t=PS(n);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((null==e?t.local?Voe:Hoe:"function"==typeof e?t.local?zoe:Goe:t.local?Uoe:Woe)(t,e))},style:function Yoe(n,e,t){return arguments.length>1?this.each((null==e?Zoe:"function"==typeof e?Xoe:Koe)(n,e,null==t?"":t)):bv(this.node(),n)},property:function ese(n,e){return arguments.length>1?this.each((null==e?Joe:"function"==typeof e?Qoe:qoe)(n,e)):this.node()[n]},classed:function rse(n,e){var t=w5(n+"");if(arguments.length<2){for(var i=Lk(this.node()),r=-1,o=t.length;++r<o;)if(!i.contains(t[r]))return!1;return!0}return this.each(("function"==typeof e?ise:e?tse:nse)(t,e))},text:function lse(n){return arguments.length?this.each(null==n?ose:("function"==typeof n?ase:sse)(n)):this.node().textContent},html:function dse(n){return arguments.length?this.each(null==n?cse:("function"==typeof n?hse:use)(n)):this.node().innerHTML},raise:function pse(){return this.each(fse)},lower:function mse(){return this.each(gse)},append:function _se(n){var e="function"==typeof n?n:x5(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function Cse(n,e){var t="function"==typeof n?n:x5(n),i=null==e?bse:"function"==typeof e?e:Dk(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function Ase(){return this.each(wse)},clone:function xse(n){return this.select(n?Ise:Sse)},datum:function Ese(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function kse(n,e,t){var r,s,i=Tse(n+""),o=i.length;if(!(arguments.length<2)){for(a=e?Dse:Rse,r=0;r<o;++r)this.each(a(i[r],e,t));return this}var a=this.node().__on;if(a)for(var L,c=0,b=a.length;c<b;++c)for(r=0,L=a[c];r<o;++r)if((s=i[r]).type===L.type&&s.name===L.name)return L.value},dispatch:function Ose(n,e){return this.each(("function"==typeof e?Pse:Lse)(n,e))},[Symbol.iterator]:function*Fse(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var s,i=n[e],r=0,o=i.length;r<o;++r)(s=i[r])&&(yield s)}};const rb=M5;var Bse={value:()=>{}};function T5(){for(var i,n=0,e=arguments.length,t={};n<e;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new OS(t)}function OS(n){this._=n}function Hse(n,e){return n.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}function Vse(n,e){for(var r,t=0,i=n.length;t<i;++t)if((r=n[t]).name===e)return r.value}function R5(n,e,t){for(var i=0,r=n.length;i<r;++i)if(n[i].name===e){n[i]=Bse,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=t&&n.push({name:e,value:t}),n}OS.prototype=T5.prototype={constructor:OS,on:function(n,e){var r,t=this._,i=Hse(n+"",t),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(r=(n=i[o]).type)t[r]=R5(t[r],n.name,e);else if(null==e)for(r in t)t[r]=R5(t[r],n.name,null);return this}for(;++o<s;)if((r=(n=i[o]).type)&&(r=Vse(t[r],n.name)))return r},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new OS(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var r,o,t=new Array(r),i=0;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,r=(o=this._[n]).length;i<r;++i)o[i].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,o=i.length;r<o;++r)i[r].value.apply(e,t)}};const Wse=T5;var FS,ab,Cv=0,ob=0,sb=0,NS=0,kp=0,$S=0,lb="object"==typeof performance&&performance.now?performance:Date,k5="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Pk(){return kp||(k5(Use),kp=lb.now()+$S)}function Use(){kp=0}function BS(){this._call=this._time=this._next=null}function L5(n,e,t){var i=new BS;return i.restart(n,e,t),i}function P5(){kp=(NS=lb.now())+$S,Cv=ob=0;try{!function Gse(){Pk(),++Cv;for(var e,n=FS;n;)(e=kp-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Cv}()}finally{Cv=0,function jse(){for(var n,t,e=FS,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:FS=t);ab=n,Ok(i)}(),kp=0}}function zse(){var n=lb.now(),e=n-NS;e>1e3&&($S-=e,NS=n)}function Ok(n){Cv||(ob&&(ob=clearTimeout(ob)),n-kp>24?(n<1/0&&(ob=setTimeout(P5,n-lb.now()-$S)),sb&&(sb=clearInterval(sb))):(sb||(NS=lb.now(),sb=setInterval(zse,1e3)),Cv=1,k5(P5)))}function O5(n,e,t){var i=new BS;return i.restart(r=>{i.stop(),n(r+e)},e=null==e?0:+e,t),i}BS.prototype=L5.prototype={constructor:BS,restart:function(n,e,t){if("function"!=typeof n)throw new TypeError("callback is not a function");t=(null==t?Pk():+t)+(null==e?0:+e),!this._next&&ab!==this&&(ab?ab._next=this:FS=this,ab=this),this._call=n,this._time=t,Ok()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ok())}};var Zse=Wse("start","end","cancel","interrupt"),Kse=[];function WS(n,e,t,i,r,o){var s=n.__transition;if(s){if(t in s)return}else n.__transition={};!function Xse(n,e,t){var r,i=n.__transition;function s(b){var L,H,G,j;if(1!==t.state)return c();for(L in i)if((j=i[L]).name===t.name){if(3===j.state)return O5(s);4===j.state?(j.state=6,j.timer.stop(),j.on.call("interrupt",n,n.__data__,j.index,j.group),delete i[L]):+L<e&&(j.state=6,j.timer.stop(),j.on.call("cancel",n,n.__data__,j.index,j.group),delete i[L])}if(O5(function(){3===t.state&&(t.state=4,t.timer.restart(a,t.delay,t.time),a(b))}),t.state=2,t.on.call("start",n,n.__data__,t.index,t.group),2===t.state){for(t.state=3,r=new Array(G=t.tween.length),L=0,H=-1;L<G;++L)(j=t.tween[L].value.call(n,n.__data__,t.index,t.group))&&(r[++H]=j);r.length=H+1}}function a(b){for(var L=b<t.duration?t.ease.call(null,b/t.duration):(t.timer.restart(c),t.state=5,1),H=-1,G=r.length;++H<G;)r[H].call(n,L);5===t.state&&(t.on.call("end",n,n.__data__,t.index,t.group),c())}function c(){for(var b in t.state=6,t.timer.stop(),delete i[e],i)return;delete n.__transition}i[e]=t,t.timer=L5(function o(b){t.state=1,t.timer.restart(s,t.delay,t.time),t.delay<=b&&s(b-t.delay)},0,t.time)}(n,t,{name:e,index:i,group:r,on:Zse,tween:Kse,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function $k(n,e){var t=Xc(n,e);if(t.state>0)throw new Error("too late; already scheduled");return t}function Tu(n,e){var t=Xc(n,e);if(t.state>3)throw new Error("too late; already running");return t}function Xc(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function Ru(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var US,B5=180/Math.PI,Bk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function H5(n,e,t,i,r,o){var s,a,c;return(s=Math.sqrt(n*n+e*e))&&(n/=s,e/=s),(c=n*t+e*i)&&(t-=n*c,i-=e*c),(a=Math.sqrt(t*t+i*i))&&(t/=a,i/=a,c/=a),n*i<e*t&&(n=-n,e=-e,c=-c,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,n)*B5,skewX:Math.atan(c)*B5,scaleX:s,scaleY:a}}function V5(n,e,t,i){function r(b){return b.length?b.pop()+" ":""}return function(b,L){var H=[],G=[];return b=n(b),L=n(L),function o(b,L,H,G,j,J){if(b!==H||L!==G){var ce=j.push("translate(",null,e,null,t);J.push({i:ce-4,x:Ru(b,H)},{i:ce-2,x:Ru(L,G)})}else(H||G)&&j.push("translate("+H+e+G+t)}(b.translateX,b.translateY,L.translateX,L.translateY,H,G),function s(b,L,H,G){b!==L?(b-L>180?L+=360:L-b>180&&(b+=360),G.push({i:H.push(r(H)+"rotate(",null,i)-2,x:Ru(b,L)})):L&&H.push(r(H)+"rotate("+L+i)}(b.rotate,L.rotate,H,G),function a(b,L,H,G){b!==L?G.push({i:H.push(r(H)+"skewX(",null,i)-2,x:Ru(b,L)}):L&&H.push(r(H)+"skewX("+L+i)}(b.skewX,L.skewX,H,G),function c(b,L,H,G,j,J){if(b!==H||L!==G){var ce=j.push(r(j)+"scale(",null,",",null,")");J.push({i:ce-4,x:Ru(b,H)},{i:ce-2,x:Ru(L,G)})}else(1!==H||1!==G)&&j.push(r(j)+"scale("+H+","+G+")")}(b.scaleX,b.scaleY,L.scaleX,L.scaleY,H,G),b=L=null,function(j){for(var se,J=-1,ce=G.length;++J<ce;)H[(se=G[J]).i]=se.x(j);return H.join("")}}}var eae=V5(function qse(n){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?Bk:H5(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),tae=V5(function Qse(n){return null!=n&&(US||(US=document.createElementNS("http://www.w3.org/2000/svg","g")),US.setAttribute("transform",n),n=US.transform.baseVal.consolidate())?H5((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):Bk},", ",")",")");function nae(n,e){var t,i;return function(){var r=Tu(this,n),o=r.tween;if(o!==t)for(var s=0,a=(i=t=o).length;s<a;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}r.tween=i}}function iae(n,e,t){var i,r;if("function"!=typeof t)throw new Error;return function(){var o=Tu(this,n),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:t},c=0,b=r.length;c<b;++c)if(r[c].name===e){r[c]=a;break}c===b&&r.push(a)}o.tween=r}}function Hk(n,e,t){var i=n._id;return n.each(function(){var r=Tu(this,i);(r.value||(r.value={}))[e]=t.apply(this,arguments)}),function(r){return Xc(r,i).value[e]}}function Vk(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function W5(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function cb(){}var GS=1/.7,wv="\\s*([+-]?\\d+)\\s*",hb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Du="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oae=/^#([0-9a-f]{3,8})$/,sae=new RegExp(`^rgb\\(${wv},${wv},${wv}\\)$`),aae=new RegExp(`^rgb\\(${Du},${Du},${Du}\\)$`),lae=new RegExp(`^rgba\\(${wv},${wv},${wv},${hb}\\)$`),cae=new RegExp(`^rgba\\(${Du},${Du},${Du},${hb}\\)$`),uae=new RegExp(`^hsl\\(${hb},${Du},${Du}\\)$`),hae=new RegExp(`^hsla\\(${hb},${Du},${Du},${hb}\\)$`),U5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function G5(){return this.rgb().formatHex()}function z5(){return this.rgb().formatRgb()}function Lp(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=oae.exec(n))?(t=e[1].length,e=parseInt(e[1],16),6===t?j5(e):3===t?new al(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===t?zS(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===t?zS(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=sae.exec(n))?new al(e[1],e[2],e[3],1):(e=aae.exec(n))?new al(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=lae.exec(n))?zS(e[1],e[2],e[3],e[4]):(e=cae.exec(n))?zS(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=uae.exec(n))?X5(e[1],e[2]/100,e[3]/100,1):(e=hae.exec(n))?X5(e[1],e[2]/100,e[3]/100,e[4]):U5.hasOwnProperty(n)?j5(U5[n]):"transparent"===n?new al(NaN,NaN,NaN,0):null}function j5(n){return new al(n>>16&255,n>>8&255,255&n,1)}function zS(n,e,t,i){return i<=0&&(n=e=t=NaN),new al(n,e,t,i)}function pae(n){return n instanceof cb||(n=Lp(n)),n?new al((n=n.rgb()).r,n.g,n.b,n.opacity):new al}function db(n,e,t,i){return 1===arguments.length?pae(n):new al(n,e,t,null==i?1:i)}function al(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}function Z5(){return`#${Op(this.r)}${Op(this.g)}${Op(this.b)}`}function K5(){const n=jS(this.opacity);return`${1===n?"rgb(":"rgba("}${Pp(this.r)}, ${Pp(this.g)}, ${Pp(this.b)}${1===n?")":`, ${n})`}`}function jS(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Pp(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Op(n){return((n=Pp(n))<16?"0":"")+n.toString(16)}function X5(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Yc(n,e,t,i)}function Y5(n){if(n instanceof Yc)return new Yc(n.h,n.s,n.l,n.opacity);if(n instanceof cb||(n=Lp(n)),!n)return new Yc;if(n instanceof Yc)return n;var e=(n=n.rgb()).r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),o=Math.max(e,t,i),s=NaN,a=o-r,c=(o+r)/2;return a?(s=e===o?(t-i)/a+6*(t<i):t===o?(i-e)/a+2:(e-t)/a+4,a/=c<.5?o+r:2-o-r,s*=60):a=c>0&&c<1?0:s,new Yc(s,a,c,n.opacity)}function J5(n,e,t,i){return 1===arguments.length?Y5(n):new Yc(n,e,t,null==i?1:i)}function Yc(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}function q5(n){return(n=(n||0)%360)<0?n+360:n}function ZS(n){return Math.max(0,Math.min(1,n||0))}function Wk(n,e,t){return 255*(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)}function Q5(n,e,t,i,r){var o=n*n,s=o*n;return((1-3*n+3*o-s)*e+(4-6*o+3*s)*t+(1+3*n+3*o-3*s)*i+s*r)/6}Vk(cb,Lp,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:G5,formatHex:G5,formatHex8:function dae(){return this.rgb().formatHex8()},formatHsl:function fae(){return Y5(this).formatHsl()},formatRgb:z5,toString:z5}),Vk(al,db,W5(cb,{brighter(n){return n=null==n?GS:Math.pow(GS,n),new al(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new al(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new al(Pp(this.r),Pp(this.g),Pp(this.b),jS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Z5,formatHex:Z5,formatHex8:function gae(){return`#${Op(this.r)}${Op(this.g)}${Op(this.b)}${Op(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:K5,toString:K5})),Vk(Yc,J5,W5(cb,{brighter(n){return n=null==n?GS:Math.pow(GS,n),new Yc(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new Yc(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new al(Wk(n>=240?n-240:n+120,r,i),Wk(n,r,i),Wk(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Yc(q5(this.h),ZS(this.s),ZS(this.l),jS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=jS(this.opacity);return`${1===n?"hsl(":"hsla("}${q5(this.h)}, ${100*ZS(this.s)}%, ${100*ZS(this.l)}%${1===n?")":`, ${n})`}`}}));const Uk=n=>()=>n;function t4(n,e){var t=e-n;return t?function e4(n,e){return function(t){return n+t*e}}(n,t):Uk(isNaN(n)?e:n)}const KS=function n(e){var t=function _ae(n){return 1==(n=+n)?t4:function(e,t){return t-e?function yae(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}(e,t,n):Uk(isNaN(e)?t:e)}}(e);function i(r,o){var s=t((r=db(r)).r,(o=db(o)).r),a=t(r.g,o.g),c=t(r.b,o.b),b=t4(r.opacity,o.opacity);return function(L){return r.r=s(L),r.g=a(L),r.b=c(L),r.opacity=b(L),r+""}}return i.gamma=n,i}(1);function n4(n){return function(e){var s,a,t=e.length,i=new Array(t),r=new Array(t),o=new Array(t);for(s=0;s<t;++s)a=db(e[s]),i[s]=a.r||0,r[s]=a.g||0,o[s]=a.b||0;return i=n(i),r=n(r),o=n(o),a.opacity=1,function(c){return a.r=i(c),a.g=r(c),a.b=o(c),a+""}}}n4(function mae(n){var e=n.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),r=n[i],o=n[i+1];return Q5((t-i/e)*e,i>0?n[i-1]:2*r-o,r,o,i<e-1?n[i+2]:2*o-r)}}),n4(function vae(n){var e=n.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*e);return Q5((t-i/e)*e,n[(i+e-1)%e],n[i%e],n[(i+1)%e],n[(i+2)%e])}});var Gk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zk=new RegExp(Gk.source,"g");function r4(n,e){var i,r,o,t=Gk.lastIndex=zk.lastIndex=0,s=-1,a=[],c=[];for(n+="",e+="";(i=Gk.exec(n))&&(r=zk.exec(e));)(o=r.index)>t&&(o=e.slice(t,o),a[s]?a[s]+=o:a[++s]=o),(i=i[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,c.push({i:s,x:Ru(i,r)})),t=zk.lastIndex;return t<e.length&&(o=e.slice(t),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?function Cae(n){return function(e){return n(e)+""}}(c[0].x):function bae(n){return function(){return n}}(e):(e=c.length,function(b){for(var H,L=0;L<e;++L)a[(H=c[L]).i]=H.x(b);return a.join("")})}function o4(n,e){var t;return("number"==typeof e?Ru:e instanceof Lp?KS:(t=Lp(e))?(e=t,KS):r4)(n,e)}function wae(n){return function(){this.removeAttribute(n)}}function Aae(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Sae(n,e,t){var i,o,r=t+"";return function(){var s=this.getAttribute(n);return s===r?null:s===i?o:o=e(i=s,t)}}function Iae(n,e,t){var i,o,r=t+"";return function(){var s=this.getAttributeNS(n.space,n.local);return s===r?null:s===i?o:o=e(i=s,t)}}function xae(n,e,t){var i,r,o;return function(){var s,c,a=t(this);return null==a?void this.removeAttribute(n):(s=this.getAttribute(n))===(c=a+"")?null:s===i&&c===r?o:(r=c,o=e(i=s,a))}}function Eae(n,e,t){var i,r,o;return function(){var s,c,a=t(this);return null==a?void this.removeAttributeNS(n.space,n.local):(s=this.getAttributeNS(n.space,n.local))===(c=a+"")?null:s===i&&c===r?o:(r=c,o=e(i=s,a))}}function Tae(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function Rae(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function Dae(n,e){var t,i;function r(){var o=e.apply(this,arguments);return o!==i&&(t=(i=o)&&Rae(n,o)),t}return r._value=e,r}function kae(n,e){var t,i;function r(){var o=e.apply(this,arguments);return o!==i&&(t=(i=o)&&Tae(n,o)),t}return r._value=e,r}function Pae(n,e){return function(){$k(this,n).delay=+e.apply(this,arguments)}}function Oae(n,e){return e=+e,function(){$k(this,n).delay=e}}function Nae(n,e){return function(){Tu(this,n).duration=+e.apply(this,arguments)}}function $ae(n,e){return e=+e,function(){Tu(this,n).duration=e}}function Hae(n,e){if("function"!=typeof e)throw new Error;return function(){Tu(this,n).ease=e}}function Zae(n,e,t){var i,r,o=function jae(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(e)?$k:Tu;return function(){var s=o(this,n),a=s.on;a!==i&&(r=(i=a).copy()).on(e,t),s.on=r}}var Qae=rb.prototype.constructor;function s4(n){return function(){this.style.removeProperty(n)}}function sle(n,e,t){return function(i){this.style.setProperty(n,e.call(this,i),t)}}function ale(n,e,t){var i,r;function o(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&sle(n,s,t)),i}return o._value=e,o}function dle(n){return function(e){this.textContent=n.call(this,e)}}function fle(n){var e,t;function i(){var r=n.apply(this,arguments);return r!==t&&(e=(t=r)&&dle(r)),e}return i._value=n,i}var vle=0;function Bh(n,e,t,i){this._groups=n,this._parents=e,this._name=t,this._id=i}function a4(){return++vle}var Hh=rb.prototype;Bh.prototype=function yle(n){return rb().transition(n)}.prototype={constructor:Bh,select:function Jae(n){var e=this._name,t=this._id;"function"!=typeof n&&(n=Dk(n));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var L,H,a=i[s],c=a.length,b=o[s]=new Array(c),G=0;G<c;++G)(L=a[G])&&(H=n.call(L,L.__data__,G,a))&&("__data__"in L&&(H.__data__=L.__data__),b[G]=H,WS(b[G],e,t,G,b,Xc(L,t)));return new Bh(o,this._parents,e,t)},selectAll:function qae(n){var e=this._name,t=this._id;"function"!=typeof n&&(n=m5(n));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var L,c=i[a],b=c.length,H=0;H<b;++H)if(L=c[H]){for(var j,G=n.call(L,L.__data__,H,c),J=Xc(L,t),ce=0,se=G.length;ce<se;++ce)(j=G[ce])&&WS(j,e,t,ce,G,J);o.push(G),s.push(L)}return new Bh(o,s,e,t)},selectChild:Hh.selectChild,selectChildren:Hh.selectChildren,filter:function Gae(n){"function"!=typeof n&&(n=v5(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var c,o=e[r],s=o.length,a=i[r]=[],b=0;b<s;++b)(c=o[b])&&n.call(c,c.__data__,b,o)&&a.push(c);return new Bh(i,this._parents,this._name,this._id)},merge:function zae(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,i=e.length,o=Math.min(i,t.length),s=new Array(i),a=0;a<o;++a)for(var G,c=e[a],b=t[a],L=c.length,H=s[a]=new Array(L),j=0;j<L;++j)(G=c[j]||b[j])&&(H[j]=G);for(;a<i;++a)s[a]=e[a];return new Bh(s,this._parents,this._name,this._id)},selection:function ele(){return new Qae(this._groups,this._parents)},transition:function gle(){for(var n=this._name,e=this._id,t=a4(),i=this._groups,r=i.length,o=0;o<r;++o)for(var c,s=i[o],a=s.length,b=0;b<a;++b)if(c=s[b]){var L=Xc(c,e);WS(c,n,t,b,s,{time:L.time+L.delay+L.duration,delay:0,duration:L.duration,ease:L.ease})}return new Bh(i,this._parents,n,t)},call:Hh.call,nodes:Hh.nodes,node:Hh.node,size:Hh.size,empty:Hh.empty,each:Hh.each,on:function Kae(n,e){var t=this._id;return arguments.length<2?Xc(this.node(),t).on.on(n):this.each(Zae(t,n,e))},attr:function Mae(n,e){var t=PS(n),i="transform"===t?tae:o4;return this.attrTween(n,"function"==typeof e?(t.local?Eae:xae)(t,i,Hk(this,"attr."+n,e)):null==e?(t.local?Aae:wae)(t):(t.local?Iae:Sae)(t,i,e))},attrTween:function Lae(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;var i=PS(n);return this.tween(t,(i.local?Dae:kae)(i,e))},style:function ole(n,e,t){var i="transform"==(n+="")?eae:o4;return null==e?this.styleTween(n,function tle(n,e){var t,i,r;return function(){var o=bv(this,n),s=(this.style.removeProperty(n),bv(this,n));return o===s?null:o===t&&s===i?r:r=e(t=o,i=s)}}(n,i)).on("end.style."+n,s4(n)):"function"==typeof e?this.styleTween(n,function ile(n,e,t){var i,r,o;return function(){var s=bv(this,n),a=t(this),c=a+"";return null==a&&(this.style.removeProperty(n),c=a=bv(this,n)),s===c?null:s===i&&c===r?o:(r=c,o=e(i=s,a))}}(n,i,Hk(this,"style."+n,e))).each(function rle(n,e){var t,i,r,a,o="style."+e,s="end."+o;return function(){var c=Tu(this,n),b=c.on,L=null==c.value[o]?a||(a=s4(e)):void 0;(b!==t||r!==L)&&(i=(t=b).copy()).on(s,r=L),c.on=i}}(this._id,n)):this.styleTween(n,function nle(n,e,t){var i,o,r=t+"";return function(){var s=bv(this,n);return s===r?null:s===i?o:o=e(i=s,t)}}(n,i,e),t).on("end.style."+n,null)},styleTween:function lle(n,e,t){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,ale(n,e,null==t?"":t))},text:function hle(n){return this.tween("text","function"==typeof n?function ule(n){return function(){var e=n(this);this.textContent=null==e?"":e}}(Hk(this,"text",n)):function cle(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function ple(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;return this.tween(e,fle(n))},remove:function Yae(){return this.on("end.remove",function Xae(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}(this._id))},tween:function rae(n,e){var t=this._id;if(n+="",arguments.length<2){for(var s,i=Xc(this.node(),t).tween,r=0,o=i.length;r<o;++r)if((s=i[r]).name===n)return s.value;return null}return this.each((null==e?nae:iae)(t,n,e))},delay:function Fae(n){var e=this._id;return arguments.length?this.each(("function"==typeof n?Pae:Oae)(e,n)):Xc(this.node(),e).delay},duration:function Bae(n){var e=this._id;return arguments.length?this.each(("function"==typeof n?Nae:$ae)(e,n)):Xc(this.node(),e).duration},ease:function Vae(n){var e=this._id;return arguments.length?this.each(Hae(e,n)):Xc(this.node(),e).ease},easeVarying:function Uae(n){if("function"!=typeof n)throw new Error;return this.each(function Wae(n,e){return function(){var t=e.apply(this,arguments);if("function"!=typeof t)throw new Error;Tu(this,n).ease=t}}(this._id,n))},end:function mle(){var n,e,t=this,i=t._id,r=t.size();return new Promise(function(o,s){var a={value:s},c={value:function(){0==--r&&o()}};t.each(function(){var b=Tu(this,i),L=b.on;L!==n&&((e=(n=L).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),b.on=e}),0===r&&o()})},[Symbol.iterator]:Hh[Symbol.iterator]};var ble={time:null,delay:0,duration:250,ease:function _le(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function Cle(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}rb.prototype.interrupt=function Jse(n){return this.each(function(){!function Yse(n,e){var i,r,s,t=n.__transition,o=!0;if(t){for(s in e=null==e?null:e+"",t)(i=t[s]).name===e?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete t[s]):o=!1;o&&delete n.__transition}}(this,n)})},rb.prototype.transition=function wle(n){var e,t;n instanceof Bh?(e=n._id,n=n._name):(e=a4(),(t=ble).time=Pk(),n=null==n?null:n+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var c,s=i[o],a=s.length,b=0;b<a;++b)(c=s[b])&&WS(c,n,e,b,s,t||Cle(c,e));return new Bh(i,this._parents,n,e)};Math;function fb(n){return{type:n}}function f4(n,e){var s,t=e?e.length:0,i=n?Math.min(t,n.length):0,r=new Array(i),o=new Array(t);for(s=0;s<i;++s)r[s]=Yk(n[s],e[s]);for(;s<t;++s)o[s]=e[s];return function(a){for(s=0;s<i;++s)o[s]=r[s](a);return o}}function Rle(n,e){var t=new Date;return n=+n,e=+e,function(i){return t.setTime(n*(1-i)+e*i),t}}function Dle(n,e){var r,t={},i={};for(r in(null===n||"object"!=typeof n)&&(n={}),(null===e||"object"!=typeof e)&&(e={}),e)r in n?t[r]=Yk(n[r],e[r]):i[r]=e[r];return function(o){for(r in t)i[r]=t[r](o);return i}}function kle(n,e){e||(e=[]);var r,t=n?Math.min(e.length,n.length):0,i=e.slice();return function(o){for(r=0;r<t;++r)i[r]=n[r]*(1-o)+e[r]*o;return i}}function Yk(n,e){var i,t=typeof e;return null==e||"boolean"===t?Uk(e):("number"===t?Ru:"string"===t?(i=Lp(e))?(e=i,KS):r4:e instanceof Lp?KS:e instanceof Date?Rle:function Lle(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(e)?kle:Array.isArray(e)?f4:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Dle:Ru)(n,e)}function Ple(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function Kd(n){return n}function Ble(n,e){switch(arguments.length){case 0:break;case 1:"function"==typeof n?this.interpolator(n):this.range(n);break;default:this.domain(n),"function"==typeof e?this.interpolator(e):this.range(e)}return this}["w","e"].map(fb),["n","s"].map(fb),["n","w","e","s","nw","ne","sw","se"].map(fb);const Hle=Math.sqrt(50),Vle=Math.sqrt(10),Wle=Math.sqrt(2);function JS(n,e,t){const i=(e-n)/Math.max(0,t),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),s=o>=Hle?10:o>=Vle?5:o>=Wle?2:1;let a,c,b;return r<0?(b=Math.pow(10,-r)/s,a=Math.round(n*b),c=Math.round(e*b),a/b<n&&++a,c/b>e&&--c,b=-b):(b=Math.pow(10,r)*s,a=Math.round(n/b),c=Math.round(e/b),a*b<n&&++a,c*b>e&&--c),c<a&&.5<=t&&t<2?JS(n,e,2*t):[a,c,b]}function qk(n,e,t){return JS(n=+n,e=+e,t=+t)[2]}var g4,zle=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qS(n){if(!(e=zle.exec(n)))throw new Error("invalid format: "+n);var e;return new Qk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Qk(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function QS(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function Iv(n){return(n=QS(Math.abs(n)))?n[1]:NaN}function m4(n,e){var t=QS(n,e);if(!t)return n+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}qS.prototype=Qk.prototype,Qk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const v4={"%":(n,e)=>(100*n).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function jle(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>m4(100*n,e),r:m4,s:function Jle(n,e){var t=QS(n,e);if(!t)return n+"";var i=t[0],r=t[1],o=r-(g4=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+QS(n,Math.max(0,e+o-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function y4(n){return n}var eI,C4,w4,_4=Array.prototype.map,b4=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function A4(n){var e=n.domain;return n.ticks=function(t){var i=e();return function Ule(n,e,t){if(!((t=+t)>0))return[];if((n=+n)==(e=+e))return[n];const i=e<n,[r,o,s]=i?JS(e,n,t):JS(n,e,t);if(!(o>=r))return[];const a=o-r+1,c=new Array(a);if(i)if(s<0)for(let b=0;b<a;++b)c[b]=(o-b)/-s;else for(let b=0;b<a;++b)c[b]=(o-b)*s;else if(s<0)for(let b=0;b<a;++b)c[b]=(r+b)/-s;else for(let b=0;b<a;++b)c[b]=(r+b)*s;return c}(i[0],i[i.length-1],null==t?10:t)},n.tickFormat=function(t,i){var r=e();return function nce(n,e,t,i){var o,r=function Gle(n,e,t){t=+t;const i=(e=+e)<(n=+n),r=i?qk(e,n,t):qk(n,e,t);return(i?-1:1)*(r<0?1/-r:r)}(n,e,t);switch((i=qS(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(n),Math.abs(e));return null==i.precision&&!isNaN(o=function Zle(n,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Iv(e)/3)))-Iv(Math.abs(n)))}(r,s))&&(i.precision=o),w4(i,s);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(o=function ece(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Iv(e)-Iv(n))+1}(r,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=o-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(o=function tce(n){return Math.max(0,-Iv(Math.abs(n)))}(r))&&(i.precision=o-2*("%"===i.type))}return C4(i)}(r[0],r[r.length-1],null==t?10:t,i)},n.nice=function(t){null==t&&(t=10);var c,b,i=e(),r=0,o=i.length-1,s=i[r],a=i[o],L=10;for(a<s&&(b=s,s=a,a=b,b=r,r=o,o=b);L-- >0;){if((b=qk(s,a,t))===c)return i[r]=s,i[o]=a,e(i);if(b>0)s=Math.floor(s/b)*b,a=Math.ceil(a/b)*b;else{if(!(b<0))break;s=Math.ceil(s*b)/b,a=Math.floor(a*b)/b}c=b}return n},n}function tI(){var t,i,r,o,c,n=0,e=1,s=Kd,a=!1;function b(H){return null==H||isNaN(H=+H)?c:s(0===r?.5:(H=(o(H)-t)*r,a?Math.max(0,Math.min(1,H)):H))}function L(H){return function(G){var j,J;return arguments.length?([j,J]=G,s=H(j,J),b):[s(0),s(1)]}}return b.domain=function(H){return arguments.length?([n,e]=H,t=o(n=+n),i=o(e=+e),r=t===i?0:1/(i-t),b):[n,e]},b.clamp=function(H){return arguments.length?(a=!!H,b):a},b.interpolator=function(H){return arguments.length?(s=H,b):s},b.range=L(Yk),b.rangeRound=L(Ple),b.unknown=function(H){return arguments.length?(c=H,b):c},function(H){return o=H,t=H(n),i=H(e),r=t===i?0:1/(i-t),b}}function nI(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function S4(){var n=A4(tI()(Kd));return n.copy=function(){return nI(n,S4())},Ble.apply(n,arguments)}!function Qle(n){eI=function qle(n){var e=void 0===n.grouping||void 0===n.thousands?y4:function Kle(n,e){return function(t,i){for(var r=t.length,o=[],s=0,a=n[0],c=0;r>0&&a>0&&(c+a+1>i&&(a=Math.max(1,i-c)),o.push(t.substring(r-=a,r+a)),!((c+=a+1)>i));)a=n[s=(s+1)%n.length];return o.reverse().join(e)}}(_4.call(n.grouping,Number),n.thousands+""),t=void 0===n.currency?"":n.currency[0]+"",i=void 0===n.currency?"":n.currency[1]+"",r=void 0===n.decimal?".":n.decimal+"",o=void 0===n.numerals?y4:function Xle(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}(_4.call(n.numerals,String)),s=void 0===n.percent?"%":n.percent+"",a=void 0===n.minus?"\u2212":n.minus+"",c=void 0===n.nan?"NaN":n.nan+"";function b(H){var G=(H=qS(H)).fill,j=H.align,J=H.sign,ce=H.symbol,se=H.zero,te=H.width,_e=H.comma,ge=H.precision,Me=H.trim,Re=H.type;"n"===Re?(_e=!0,Re="g"):v4[Re]||(void 0===ge&&(ge=12),Me=!0,Re="g"),(se||"0"===G&&"="===j)&&(se=!0,G="0",j="=");var $e="$"===ce?t:"#"===ce&&/[boxX]/.test(Re)?"0"+Re.toLowerCase():"",Qe="$"===ce?i:/[%p]/.test(Re)?s:"",it=v4[Re],Le=/[defgprs%]/.test(Re);function Ze(vt){var ze,ft,Ye,Ft=$e,gt=Qe;if("c"===Re)gt=it(vt)+gt,vt="";else{var rt=(vt=+vt)<0||1/vt<0;if(vt=isNaN(vt)?c:it(Math.abs(vt),ge),Me&&(vt=function Yle(n){e:for(var r,e=n.length,t=1,i=-1;t<e;++t)switch(n[t]){case".":i=r=t;break;case"0":0===i&&(i=t),r=t;break;default:if(!+n[t])break e;i>0&&(i=0)}return i>0?n.slice(0,i)+n.slice(r+1):n}(vt)),rt&&0==+vt&&"+"!==J&&(rt=!1),Ft=(rt?"("===J?J:a:"-"===J||"("===J?"":J)+Ft,gt=("s"===Re?b4[8+g4/3]:"")+gt+(rt&&"("===J?")":""),Le)for(ze=-1,ft=vt.length;++ze<ft;)if(48>(Ye=vt.charCodeAt(ze))||Ye>57){gt=(46===Ye?r+vt.slice(ze+1):vt.slice(ze))+gt,vt=vt.slice(0,ze);break}}_e&&!se&&(vt=e(vt,1/0));var ht=Ft.length+vt.length+gt.length,mt=ht<te?new Array(te-ht+1).join(G):"";switch(_e&&se&&(vt=e(mt+vt,mt.length?te-gt.length:1/0),mt=""),j){case"<":vt=Ft+vt+gt+mt;break;case"=":vt=Ft+mt+vt+gt;break;case"^":vt=mt.slice(0,ht=mt.length>>1)+Ft+vt+gt+mt.slice(ht);break;default:vt=mt+Ft+vt+gt}return o(vt)}return ge=void 0===ge?6:/[gprs]/.test(Re)?Math.max(1,Math.min(21,ge)):Math.max(0,Math.min(20,ge)),Ze.toString=function(){return H+""},Ze}return{format:b,formatPrefix:function L(H,G){var j=b(((H=qS(H)).type="f",H)),J=3*Math.max(-8,Math.min(8,Math.floor(Iv(G)/3))),ce=Math.pow(10,-J),se=b4[8+J/3];return function(te){return j(ce*te)+se}}}}(n),C4=eI.format,w4=eI.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var iI=db(),sce=Math.PI/3,lce=2*Math.PI/3;function xv(n,e,t){this.k=n,this.x=e,this.y=t}xv.prototype={constructor:xv,scale:function(n){return 1===n?this:new xv(this.k*n,this.x,this.y)},translate:function(n,e){return 0===n&0===e?this:new xv(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new xv(1,0,0);class vce{constructor(){this._alignments=[],this._relationPathLabels=[],this._apiLabels=[],this._metricsNames=new Set,this._colorMapping=new Map,this._colorScaleMapping=new Map}addAlignment(e){const t=new ooe;t.name=e.name,t.addAlignment(e),t.mappings.forEach((i,r)=>{let o=!1,s=!1;i.apiPaths.forEach(a=>{i.relationPaths.forEach(c=>{const b=c.paths;b.join(),this.apiLabels.some(J=>J===a)||(this.apiLabels.push(a),o=!0),this._relationPathLabels.some(J=>this.arrayEquals(J,b))||(this._relationPathLabels.push(b),s=!0);const H=Math.random(),G=function cce(n){var e;return n=(.5-n)*Math.PI,iI.r=255*(e=Math.sin(n))*e,iI.g=255*(e=Math.sin(n+sce))*e,iI.b=255*(e=Math.sin(n+lce))*e,iI+""}(H),j=S4(J=>J5(360*H,J,.5).toString());if(o||s)if(o){const J=new Map;J.set(b.join(),new Jn(G)),this.colorMapping.set(a,J);const ce=new Map;ce.set(b.join(),j),this.colorScaleMapping.set(a,ce)}else this.colorMapping.get(a).set(b.join(),new Jn(G)),this.colorScaleMapping.get(a).set(b.join(),j);else{const J=this.colorMapping.get(a),ce=this.colorScaleMapping.get(a);if(void 0!==J){const se=J.get(b.join());J.get(b.join()),void 0===se&&(J.set(b.join(),new Jn(G)),ce.set(b.join(),j))}else{const se=new Map,te=new Map;se.set(b.join(),new Jn(G)),te.set(b.join(),j),this.colorMapping.set(a,se),this.colorScaleMapping.set(a,te)}}})})});for(const i of t.metricsNames)this._metricsNames.add(i);return this.alignments.push(t),!0}sortApiLabels(){this.apiLabels.sort((e,t)=>e.localeCompare(t))}sortRelationLabels(){this.relationPathLabels.sort((e,t)=>e.join().localeCompare(t.join()))}arrayEquals(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((i,r)=>i===t[r])}getRelationPathIndex(e){let t=-1;return this._relationPathLabels.some((i,r)=>{if(this.arrayEquals(i,e))return t=r,!0}),t}getColorForMapping(e,t){return this.colorMapping.get(e).get(t)}getScaleColorForMapping(e,t,i){const o=this.colorScaleMapping.get(e).get(t);return new Jn(o(i))}get alignments(){return this._alignments}get apiLabels(){return this._apiLabels}get relationPathLabels(){return this._relationPathLabels}get colorScaleMapping(){return this._colorScaleMapping}get colorMapping(){return this._colorMapping}get metricsNames(){return this._metricsNames}}const Ni_baseUrl=(Ve(4147),"http://localhost:8080/etara");let ll=(()=>{class n{constructor(t){this.httpClient=t}getApis(){return we(this,void 0,void 0,function*(){return yield this.httpClient.get(Ni_baseUrl+"/apiManager").toPromise()})}getWebserviceConfiguration(t){return we(this,void 0,void 0,function*(){return this.httpClient.post(Ni_baseUrl+"/webserviceManager?option=overview",{mode:"webserviceInformation",name:t}).toPromise()})}getLocalDatabaseData(t){return we(this,void 0,void 0,function*(){let i=new Uc;return i=i.append("label",t),yield this.httpClient.get(Ni_baseUrl+"/dbManager",{params:i}).toPromise()})}getWebDatabaseData(t){return we(this,void 0,void 0,function*(){let i=new Uc;return i=i.append("label",t),yield this.httpClient.get(Ni_baseUrl+"/apiManager",{params:i}).toPromise()})}getWebEntity(t,i,r){return this.httpClient.post(Ni_baseUrl+"/apiManager/call",{label:t,value:i,regex:r})}getDatabases(){return we(this,void 0,void 0,function*(){return yield this.httpClient.get(Ni_baseUrl+"/dbManager").toPromise()})}getAlignments(){return we(this,void 0,void 0,function*(){return yield this.httpClient.get(Ni_baseUrl+"/alignmentManagement").toPromise()})}getLocalDatabaseSchema(t){let i=new Uc;return i=i.append("label",t),this.httpClient.get(Ni_baseUrl+"/dbManager/schema",{params:i})}getLocalEntity(t,i,r,o){return this.httpClient.post(Ni_baseUrl+"/dbManager/knowledge",{label:t,predicate:i,inputType:r,limit:o})}updateDatabase(t,i){return this.httpClient.post(Ni_baseUrl+"/dbManager",{mode:"update",db:t,newDb:i})}deleteDatabase(t){return this.httpClient.post(Ni_baseUrl+"/dbManager",{mode:"delete",label:t})}addNewDatabase(t){return this.httpClient.post(Ni_baseUrl+"/dbManager",{mode:"new",db:t})}getWebservices(){return this.httpClient.get(Ni_baseUrl+"/webserviceManager?option=overview")}restartWebServices(){return this.httpClient.get(Ni_baseUrl+"/webserviceManager?option=restart")}addNewWebservice(t,i,r){return this.httpClient.post(Ni_baseUrl+"/webserviceManager?option=overview",{name:t,mode:"new",configuration:i,returnTemplate:r})}updateWebservice(t,i,r){const o=i.returnTemplate.lastIndexOf("\\"),s=i.returnTemplate.substring(o+1);return this.httpClient.post(Ni_baseUrl+"/webserviceManager?option=overview",{name:t,mode:"update",configuration:i,returnTemplate:r,returnTemplateName:s})}deleteWebservice(t){return this.httpClient.post(Ni_baseUrl+"/webserviceManager?option=overview",{mode:"delete",name:t})}updateApi(t,i){return this.httpClient.post(Ni_baseUrl+"/apiManager",{mode:"update",label:t,newApi:i})}deleteApi(t){return this.httpClient.post(Ni_baseUrl+"/apiManager",{mode:"delete",label:t})}addNewApi(t){return this.httpClient.post(Ni_baseUrl+"/apiManager",{mode:"new",api:t})}postToFlatJson(t){return this.httpClient.post(Ni_baseUrl+"/apiManager/flatJson",t)}postJsonDiff(t,i){return this.httpClient.post(Ni_baseUrl+"/apiManager/jsonDiff",{original:t,modified:i})}postSuggestions(t){return this.httpClient.post(Ni_baseUrl+"/gsb/suggestions",{mappings:t})}postFinalAlignment(t){return this.httpClient.post(Ni_baseUrl+"/gsb/saveFinalAlignment",{webLabel:t.webLabel,localLabel:t.localLabel,alignment:t})}}return n.\u0275fac=function(t){return new(t||n)(At(T_))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yce=new rn("cdk-dir-doc",{providedIn:"root",factory:function _ce(){return Kr(Oi)}}),bce=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let e2,za=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new ni,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function Cce(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?bce.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(At(yce,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ev=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({}),n})();try{e2="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){e2=!1}let Mv,Xo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function c$(n){return n===l$}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!e2)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(At(vm))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const M4=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function T4(){if(Mv)return Mv;if("object"!=typeof document||!document)return Mv=new Set(M4),Mv;let n=document.createElement("input");return Mv=new Set(M4.filter(e=>(n.setAttribute("type",e),n.type===e))),Mv}let pb,Fp,t2;function Tv(n){return function wce(){if(null==pb&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>pb=!0}))}finally{pb=pb||!1}return pb}()?n:!!n.capture}function Ace(){if(null==Fp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fp=!1,Fp;if("scrollBehavior"in document.documentElement.style)Fp=!0;else{const n=Element.prototype.scrollTo;Fp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Fp}function R4(n){if(function Sce(){if(null==t2){const n="undefined"!=typeof document?document.head:null;t2=!(!n||!n.createShadowRoot&&!n.attachShadow)}return t2}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function oI(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Np(n){return n.composedPath?n.composedPath()[0]:n.target}function n2(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function Jc(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class Fce extends ee{constructor(e,t){super()}schedule(e,t=0){return this}}const aI={setInterval(n,e,...t){const{delegate:i}=aI;return null!=i&&i.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=aI;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class s2 extends Fce{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return aI.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&aI.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,X(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const P4={now:()=>(P4.delegate||Date).now(),delegate:void 0};class gb{constructor(e,t=gb.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}gb.now=P4.now;class a2 extends gb{constructor(e,t=gb.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const l2=new a2(s2),Nce=l2;function c2(n,e=l2){return W((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const b=o;o=null,i.next(b)}};function c(){const b=s+n,L=e.now();if(L<b)return r=this.schedule(void 0,b-L),void i.add(r);a()}t.subscribe(ne(i,b=>{o=b,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function u2(n){return _o((e,t)=>n<=t)}function mb(n,e=O){return n=null!=n?n:$ce,W((t,i)=>{let r,o=!0;t.subscribe(ne(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function $ce(n,e){return n===e}function br(n){return W((e,t)=>{Vr(n).subscribe(ne(t,()=>t.complete(),A)),!t.closed&&e.subscribe(t)})}function Gi(n){return null!=n&&"false"!=`${n}`}function xl(n,e=0){return function Bce(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function lI(n){return Array.isArray(n)?n:[n]}function ws(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Wh(n){return n instanceof ci?n.nativeElement:n}let O4=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hce=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Wh(t);return new K(r=>{const s=this._observeElement(i).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new F,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(At(O4))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cI=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new ni,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Gi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=xl(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(c2(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(Te(Hce),Te(ci),Te(Ei))},n.\u0275dir=Gt({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),vb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({providers:[O4]}),n})();const F4=new Set;let kv,Vce=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Uce}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Wce(n){if(!F4.has(n))try{kv||(kv=document.createElement("style"),kv.setAttribute("type","text/css"),document.head.appendChild(kv)),kv.sheet&&(kv.sheet.insertRule(`@media ${n} {body{ }}`,0),F4.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(At(Xo))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Uce(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let uI=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new F}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return N4(lI(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=vR(N4(lI(t)).map(s=>this._registerQuery(s).observable));return o=K1(o.pipe(Eo(1)),o.pipe(u2(1),c2(0))),o.pipe(he(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:b})=>{a.matches=a.matches||c,a.breakpoints[b]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new K(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Us(i),he(({matches:s})=>({query:t,matches:s})),br(this._destroySubject)),mql:i};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(At(Vce),At(Ei))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function N4(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function hI(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const H4="cdk-describedby-message",dI="cdk-describedby-host";let h2=0,jce=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+h2++,this._document=t,this._id=Kr(mm)+"-"+h2++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const o=d2(i,r);"string"!=typeof i?(V4(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,i,r){var o;if(!i||!this._isElementNode(t))return;const s=d2(i,r);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof i){const a=this._messageRegistry.get(s);a&&0===a.referenceCount&&this._deleteMessageElement(s)}0===(null===(o=this._messagesContainer)||void 0===o?void 0:o.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var t;const i=this._document.querySelectorAll(`[${dI}="${this._id}"]`);for(let r=0;r<i.length;r++)this._removeCdkDescribedByReferenceIds(i[r]),i[r].removeAttribute(dI);null===(t=this._messagesContainer)||void 0===t||t.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");V4(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(d2(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){var i,r;null===(r=null===(i=this._messageRegistry.get(t))||void 0===i?void 0:i.messageElement)||void 0===r||r.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=hI(t,"aria-describedby").filter(r=>0!=r.indexOf(H4));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);(function Gce(n,e,t){const i=hI(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(dI,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,function zce(n,e,t){const r=hI(n,e).filter(o=>o!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(dI)}_isElementDescribedByMessage(t,i){const r=hI(t,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=t.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(At(Oi),At(Xo))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function d2(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function V4(n,e){n.id||(n.id=`${H4}-${e}-${h2++}`)}class W4{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new F,this._typeaheadSubscription=ee.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new F,this.change=new F,e instanceof vu&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Mo(t=>this._pressedLetters.push(t)),c2(e),_o(()=>this._pressedLetters.length>0),he(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Jc(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e),r=t[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof vu?this._items.toArray():this._items}}class Zce extends W4{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class f2 extends W4{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let fI=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Xce(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function Kce(n){try{return n.frameElement}catch(e){return null}}(function iue(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===G4(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=G4(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function tue(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function nue(n){return!function Jce(n){return function Qce(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Yce(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function qce(n){return function eue(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||U4(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(At(Xo))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function U4(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function G4(n){if(!U4(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class rue{constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Eo(1)).subscribe(e)}}let p2=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new rue(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(At(fI),At(Ei),At(Oi))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function z4(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function j4(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const oue=new rn("cdk-input-modality-detector-options"),sue={ignoreKeys:[18,17,224,91,16]},Lv=Tv({passive:!0,capture:!0});let aue=(()=>{class n{constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new rl(null),this._lastTouchMs=0,this._onKeydown=s=>{var a,c;null!==(c=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)&&void 0!==c&&c.some(b=>b===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Np(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(z4(s)?"keyboard":"mouse"),this._mostRecentTarget=Np(s))},this._onTouchstart=s=>{j4(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Np(s))},this._options=Object.assign(Object.assign({},sue),o),this.modalityDetected=this._modality.pipe(u2(1)),this.modalityChanged=this.modalityDetected.pipe(mb()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Lv),r.addEventListener("mousedown",this._onMousedown,Lv),r.addEventListener("touchstart",this._onTouchstart,Lv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Lv),document.removeEventListener("mousedown",this._onMousedown,Lv),document.removeEventListener("touchstart",this._onTouchstart,Lv))}}return n.\u0275fac=function(t){return new(t||n)(At(Xo),At(Ei),At(Oi),At(oue,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lue=new rn("liveAnnouncerElement",{providedIn:"root",factory:function cue(){return null}}),uue=new rn("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let g2=(()=>{class n{constructor(t,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t,i;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(t){return new(t||n)(At(lue,8),At(Ei),At(Oi),At(uue,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hue=new rn("cdk-focus-monitor-default-options"),pI=Tv({passive:!0,capture:!0});let Ql=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new F,this._rootNodeFocusAndBlurListener=a=>{for(let b=Np(a);b;b=b.parentElement)"focus"===a.type?this._onFocus(a,b):this._onBlur(a,b)},this._document=o,this._detectionMode=(null==s?void 0:s.detectionMode)||0}monitor(t,i=!1){const r=Wh(t);if(!this._platform.isBrowser||1!==r.nodeType)return ai(null);const o=R4(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new F,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Wh(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Wh(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!(null==t||!t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Np(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,pI),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,pI)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(br(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,pI),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,pI),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(At(Ei),At(Xo),At(aue),At(Oi,8),At(hue,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),due=(()=>{class n{constructor(t,i){this._elementRef=t,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new ni}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(Ql))},n.\u0275dir=Gt({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const K4="cdk-high-contrast-black-on-white",X4="cdk-high-contrast-white-on-black",m2="cdk-high-contrast-active";let Y4=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Kr(uI).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(m2,K4,X4),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(m2,K4):2===i&&t.add(m2,X4)}}}return n.\u0275fac=function(t){return new(t||n)(At(Xo),At(Oi))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gI=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(At(Y4))},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[vb]}),n})();const fue=["*",[["mat-option"],["ng-container"]]],pue=["*","mat-option, ng-container"];function gue(n,e){if(1&n&&kn(0,"mat-pseudo-checkbox",4),2&n){const t=kt();Ke("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function mue(n,e){if(1&n&&(be(0,"span",5),He(1),Se()),2&n){const t=kt();Be(1),Ar("(",t.group.label,")")}}const vue=["*"],_ue=new rn("mat-sanity-checks",{providedIn:"root",factory:function yue(){return!0}});let qi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!n2()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(At(Y4),At(_ue,8),At(Oi))},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[Ev,Ev]}),n})();function $p(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Gi(e)}}}function Xd(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Pv(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Gi(e)}}}function yb(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?xl(t):this.defaultTabIndex}}}function q4(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}}}let Ov=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[qi,qi]}),n})();class Cue{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const eW={enterDuration:225,exitDuration:150},v2=Tv({passive:!0}),tW=["mousedown","touchstart"],nW=["mouseup","mouseleave","touchend","touchcancel"];class Aue{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Wh(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},eW),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function Sue(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,b=o.enterDuration,L=document.createElement("div");L.classList.add("mat-ripple-element"),L.style.left=a-s+"px",L.style.top=c-s+"px",L.style.height=2*s+"px",L.style.width=2*s+"px",null!=i.color&&(L.style.backgroundColor=i.color),L.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(L);const H=window.getComputedStyle(L),j=H.transitionDuration,J="none"===H.transitionProperty||"0s"===j||"0s, 0s"===j,ce=new Cue(this,L,i,J);L.style.transform="scale3d(1, 1, 1)",ce.state=0,i.persistent||(this._mostRecentTransientRipple=ce);let se=null;return!J&&(b||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const te=()=>this._finishRippleTransition(ce),_e=()=>this._destroyRipple(ce);L.addEventListener("transitionend",te),L.addEventListener("transitioncancel",_e),se={onTransitionEnd:te,onTransitionCancel:_e}}),this._activeRipples.set(ce,se),(J||!b)&&this._finishRippleTransition(ce),ce}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i=Object.assign(Object.assign({},eW),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Wh(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(tW))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(nW),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){var t;const i=null!==(t=this._activeRipples.get(e))&&void 0!==t?t:null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==i&&(e.element.removeEventListener("transitionend",i.onTransitionEnd),e.element.removeEventListener("transitioncancel",i.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=z4(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!j4(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,v2)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(tW.forEach(e=>{this._triggerElement.removeEventListener(e,this,v2)}),this._pointerUpEventsRegistered&&nW.forEach(e=>{this._triggerElement.removeEventListener(e,this,v2)}))}}const Iue=new rn("mat-ripple-global-options");let qc=(()=>{class n{constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Aue(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(Ei),Te(Xo),Te(Iue,8),Te(No,8))},n.\u0275dir=Gt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&Li("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Bp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[qi,qi]}),n})(),xue=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(Te(No,8))},n.\u0275cmp=Wn({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&Li("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),Eue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[qi]}),n})();const y2=new rn("MAT_OPTION_PARENT_COMPONENT"),Mue=$p(class{});let Tue=0,Rue=(()=>{class n extends Mue{constructor(t){var i;super(),this._labelId="mat-optgroup-label-"+Tue++,this._inert=null!==(i=null==t?void 0:t.inertGroups)&&void 0!==i&&i}}return n.\u0275fac=function(t){return new(t||n)(Te(y2,8))},n.\u0275dir=Gt({type:n,inputs:{label:"label"},features:[Cn]}),n})();const _2=new rn("MatOptgroup");let Due=(()=>{class n extends Rue{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275cmp=Wn({type:n,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-optgroup"],hostVars:5,hostBindings:function(t,i){2&t&&(Zi("role",i._inert?null:"group")("aria-disabled",i._inert?null:i.disabled.toString())("aria-labelledby",i._inert?null:i._labelId),Li("mat-optgroup-disabled",i.disabled))},inputs:{disabled:"disabled"},exportAs:["matOptgroup"],features:[yi([{provide:_2,useExisting:n}]),Cn],ngContentSelectors:pue,decls:4,vars:2,consts:[["aria-hidden","true",1,"mat-optgroup-label",3,"id"]],template:function(t,i){1&t&&(Ts(fue),be(0,"span",0),He(1),Ur(2),Se(),Ur(3,1)),2&t&&(Ke("id",i._labelId),Be(1),Ar("",i.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}"],encapsulation:2,changeDetection:0}),n})(),kue=0;class Lue{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let Pue=(()=>{class n{constructor(t,i,r,o){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+kue++,this.onSelectionChange=new ni,this._stateChanges=new F}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Gi(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Jc(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Lue(this,t))}}return n.\u0275fac=function(t){Lc()},n.\u0275dir=Gt({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),Hp=(()=>{class n extends Pue{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(Hr),Te(y2,8),Te(_2,8))},n.\u0275cmp=Wn({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,i){1&t&&It("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&t&&(Nc("id",i.id),Zi("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),Li("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[Cn],ngContentSelectors:vue,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(Ts(),Ct(0,gue,1,2,"mat-pseudo-checkbox",0),be(1,"span",1),Ur(2),Se(),Ct(3,mue,2,1,"span",2),kn(4,"div",3)),2&t&&(Ke("ngIf",i.multiple),Be(3),Ke("ngIf",i.group&&i.group._inert),Be(1),Ke("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[qc,ks,xue],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function iW(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}let rW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[Bp,Vc,qi,Eue]}),n})();const oW=["mat-button",""],sW=["*"],$ue=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Bue=Xd($p(Pv(class{constructor(n){this._elementRef=n}})));let ss=(()=>{class n extends Bue{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of $ue)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(Ql),Te(No,8))},n.\u0275cmp=Wn({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&Pi(qc,5),2&t){let r;Ln(r=Pn())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(Zi("disabled",i.disabled||null),Li("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Cn],attrs:oW,ngContentSelectors:sW,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(Ts(),be(0,"span",0),Ur(1),Se(),kn(2,"span",1)(3,"span",2)),2&t&&(Be(2),Li("mat-button-ripple-round",i.isRoundButton||i.isIconButton),Ke("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[qc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Hue=(()=>{class n extends ss{constructor(t,i,r,o){super(i,t,r),this._ngZone=o,this._haltDisabledEvents=s=>{this.disabled&&(s.preventDefault(),s.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(t){return new(t||n)(Te(Ql),Te(ci),Te(No,8),Te(Ei,8))},n.\u0275cmp=Wn({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,i){2&t&&(Zi("tabindex",i.disabled?-1:i.tabIndex)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),Li("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[Cn],attrs:oW,ngContentSelectors:sW,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(Ts(),be(0,"span",0),Ur(1),Se(),kn(2,"span",1)(3,"span",2)),2&t&&(Be(2),Li("mat-button-ripple-round",i.isRoundButton||i.isIconButton),Ke("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[qc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),b2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[Bp,qi,qi]}),n})();function aW(...n){const e=Mi(n),{args:t,keys:i}=F$(n),r=new K(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,b=s;for(let L=0;L<s;L++){let H=!1;Vr(t[L]).subscribe(ne(o,G=>{H||(H=!0,b--),a[L]=G},()=>c--,void 0,()=>{(!c||!H)&&(b||o.next(i?N$(i,a):a),o.complete())}))}});return e?r.pipe(mR(e)):r}let lW=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(Te(Gl),Te(ci))},n.\u0275dir=Gt({type:n}),n})(),Vp=(()=>{class n extends lW{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275dir=Gt({type:n,features:[Cn]}),n})();const cl=new rn("NgValueAccessor"),Wue={provide:cl,useExisting:zi(()=>ku),multi:!0},Gue=new rn("CompositionEventMode");let ku=(()=>{class n extends lW{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Uue(){const n=bu()?bu().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(Te(Gl),Te(ci),Te(Gue,8))},n.\u0275dir=Gt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&It("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[yi([Wue]),Cn]}),n})();function Yd(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function uW(n){return null!=n&&"number"==typeof n.length}const Ks=new rn("NgValidators"),Jd=new rn("NgAsyncValidators"),jue=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Fv{static min(e){return function hW(n){return e=>{if(Yd(e.value)||Yd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function dW(n){return e=>{if(Yd(e.value)||Yd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function fW(n){return Yd(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function pW(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function gW(n){return Yd(n.value)||jue.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function mW(n){return e=>Yd(e.value)||!uW(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function vW(n){return e=>uW(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function yW(n){if(!n)return mI;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Yd(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return SW(e)}static composeAsync(e){return IW(e)}}function mI(n){return null}function _W(n){return null!=n}function bW(n){return K0(n)?fr(n):n}function CW(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function wW(n,e){return e.map(t=>t(n))}function AW(n){return n.map(e=>function Zue(n){return!n.validate}(e)?e:t=>e.validate(t))}function SW(n){if(!n)return null;const e=n.filter(_W);return 0==e.length?null:function(t){return CW(wW(t,e))}}function C2(n){return null!=n?SW(AW(n)):null}function IW(n){if(!n)return null;const e=n.filter(_W);return 0==e.length?null:function(t){return aW(wW(t,e).map(bW)).pipe(he(CW))}}function w2(n){return null!=n?IW(AW(n)):null}function xW(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function EW(n){return n._rawValidators}function MW(n){return n._rawAsyncValidators}function A2(n){return n?Array.isArray(n)?n:[n]:[]}function vI(n,e){return Array.isArray(n)?n.includes(e):n===e}function TW(n,e){const t=A2(e);return A2(n).forEach(r=>{vI(t,r)||t.push(r)}),t}function RW(n,e){return A2(e).filter(t=>!vI(n,t))}class DW{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=C2(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=w2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Lu extends DW{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ja extends DW{get formDirective(){return null}get path(){return null}}class kW{constructor(e){this._cd=e}get isTouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.touched)}get isUntouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.untouched)}get isPristine(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pristine)}get isDirty(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.dirty)}get isValid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.valid)}get isInvalid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.invalid)}get isPending(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}let ul=(()=>{class n extends kW{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(Te(Lu,2))},n.\u0275dir=Gt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Li("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Cn]}),n})(),LW=(()=>{class n extends kW{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(Te(ja,10))},n.\u0275dir=Gt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&Li("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Cn]}),n})();const bb="VALID",_I="INVALID",Nv="PENDING",Cb="DISABLED";function E2(n){return(bI(n)?n.validators:n)||null}function OW(n){return Array.isArray(n)?C2(n):n||null}function M2(n,e){return(bI(e)?e.asyncValidators:n)||null}function FW(n){return Array.isArray(n)?w2(n):n||null}function bI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function NW(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new Jt(1e3,"");if(!i[t])throw new Jt(1001,"")}function $W(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new Jt(1002,"")})}class CI{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=OW(this._rawValidators),this._composedAsyncValidatorFn=FW(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===bb}get invalid(){return this.status===_I}get pending(){return this.status==Nv}get disabled(){return this.status===Cb}get enabled(){return this.status!==Cb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=OW(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=FW(e)}addValidators(e){this.setValidators(TW(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TW(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RW(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RW(e,this._rawAsyncValidators))}hasValidator(e){return vI(this._rawValidators,e)}hasAsyncValidator(e){return vI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Nv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Cb,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=bb,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bb||this.status===Nv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cb:bb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Nv,this._hasOwnPendingAsyncValidator=!0;const t=bW(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ni,this.statusChanges=new ni}_calculateStatus(){return this._allControlsDisabled()?Cb:this.errors?_I:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nv)?Nv:this._anyControlsHaveStatus(_I)?_I:bb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class wb extends CI{constructor(e,t,i){super(E2(t),M2(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){$W(this,0,e),Object.keys(e).forEach(i=>{NW(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class BW extends wb{}function wI(n,e){return[...e.path,n]}function Ab(n,e){var t,i;T2(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&(null===(i=(t=e.valueAccessor).setDisabledState)||void 0===i||i.call(t,!0)),function the(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&HW(n,e)})}(n,e),function ihe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function nhe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&HW(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ehe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function AI(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),II(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function SI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function T2(n,e){const t=EW(n);null!==e.validator?n.setValidators(xW(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=MW(n);null!==e.asyncValidator?n.setAsyncValidators(xW(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();SI(e._rawValidators,r),SI(e._rawAsyncValidators,r)}function II(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=EW(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=MW(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return SI(e._rawValidators,i),SI(e._rawAsyncValidators,i),t}function HW(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function VW(n,e){T2(n,e)}function R2(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function UW(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function D2(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===ku?t=o:function she(n){return Object.getPrototypeOf(n.constructor)===Vp}(o)?i=o:r=o}),r||i||t||null}const lhe={provide:ja,useExisting:zi(()=>Ib)},Sb=(()=>Promise.resolve())();let Ib=(()=>{class n extends ja{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new ni,this.form=new wb({},C2(t),w2(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Sb.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Ab(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Sb.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Sb.then(()=>{const i=this._findContainer(t.path),r=new wb({});VW(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Sb.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Sb.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){var i;return this.submitted=!0,UW(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===(null===(i=null==t?void 0:t.target)||void 0===i?void 0:i.method)}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(Te(Ks,10),Te(Jd,10))},n.\u0275dir=Gt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&It("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yi([lhe]),Cn]}),n})();function GW(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function zW(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ec=class extends CI{constructor(e=null,t,i){super(E2(t),M2(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=zW(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GW(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GW(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){zW(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},hhe={provide:Lu,useExisting:zi(()=>tc)},KW=(()=>Promise.resolve())();let tc=(()=>{class n extends Lu{constructor(t,i,r,o,s){super(),this._changeDetectorRef=s,this.control=new ec,this._registered=!1,this.update=new ni,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=D2(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),R2(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ab(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){KW.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&vh(i);KW.then(()=>{var o;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(t){return this._parent?wI(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(Te(ja,9),Te(Ks,10),Te(Jd,10),Te(cl,10),Te(Hr,8))},n.\u0275dir=Gt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[yi([hhe]),Cn,lo]}),n})(),XW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Gt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),JW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({}),n})();const k2=new rn("NgModelWithFormControlWarning"),mhe={provide:Lu,useExisting:zi(()=>xI)};let xI=(()=>{class n extends Lu{constructor(t,i,r,o){super(),this._ngModelWarningConfig=o,this.update=new ni,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=D2(0,r)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&AI(i,this,!1),Ab(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}R2(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&AI(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(Te(Ks,10),Te(Jd,10),Te(cl,10),Te(k2,8))},n.\u0275dir=Gt({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[yi([mhe]),Cn,lo]}),n})();const vhe={provide:ja,useExisting:zi(()=>$v)};let $v=(()=>{class n extends ja{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ni,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(II(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Ab(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){AI(t.control||null,t,!1),function ahe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){var i;return this.submitted=!0,UW(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===(null===(i=null==t?void 0:t.target)||void 0===i?void 0:i.method)}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(AI(i||null,t),(n=>n instanceof ec)(r)&&(Ab(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);VW(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function rhe(n,e){return II(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){T2(this.form,this),this._oldForm&&II(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(Te(Ks,10),Te(Jd,10))},n.\u0275dir=Gt({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&It("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yi([vhe]),Cn,lo]}),n})();const bhe={provide:Lu,useExisting:zi(()=>O2)};let O2=(()=>{class n extends Lu{constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new ni,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=D2(0,o)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),R2(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return wI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(Te(ja,13),Te(Ks,10),Te(Jd,10),Te(cl,10),Te(k2,8))},n.\u0275dir=Gt({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[yi([bhe]),Cn,lo]}),n})(),hU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[JW]}),n})(),Ohe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[hU]}),n})(),dU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:k2,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[hU]}),n})();class fU extends CI{constructor(e,t,i){super(E2(t),M2(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){$W(this,0,e),e.forEach((i,r)=>{NW(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){var t;return null!==(t=this.at(e))&&void 0!==t?t:null}}function pU(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let MI=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let o={};return pU(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new wb(r,o)}record(t,i=null){const r=this._reduceControls(t);return new BW(r,i)}control(t,i,r){let o={};return this.useNonNullable?(pU(i)?o=i:(o.validators=i,o.asyncValidators=r),new ec(t,Object.assign(Object.assign({},o),{nonNullable:!0}))):new ec(t,i,r)}array(t,i,r){const o=t.map(s=>this._createControl(s));return new fU(o,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof ec||t instanceof CI?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:dU}),n})();function B2(n){return n&&"function"==typeof n.connect&&!(n instanceof _R)}class gU{applyChanges(e,t,i,r,o){e.forEachOperation((s,a,c)=>{let b,L;if(null==s.previousIndex){const H=i(s,a,c);b=t.createEmbeddedView(H.templateRef,H.context,H.index),L=1}else null==c?(t.remove(a),L=3):(b=t.get(a),t.move(b,c),L=2);o&&o({context:null==b?void 0:b.context,operation:L,record:s})})}detach(){}}class Fhe{constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new F,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){if(this.compareWith){for(const t of this._selection)if(this.compareWith(t,e))return!0;return!1}return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let H2=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xb=new rn("_ViewRepeater"),Nhe=["input"],$he=function(n){return{enterDuration:n}},Bhe=["*"],Hhe=new rn("mat-radio-default-options",{providedIn:"root",factory:function Vhe(){return{color:"accent"}}});let vU=0;const Whe={provide:cl,useExisting:zi(()=>bU),multi:!0};class yU{constructor(e,t){this.source=e,this.value=t}}const _U=new rn("MatRadioGroup");let Uhe=(()=>{class n{constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+vU++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new ni}get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=Gi(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=Gi(t),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new yU(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(Te(Hr))},n.\u0275dir=Gt({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})(),bU=(()=>{class n extends Uhe{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275dir=Gt({type:n,selectors:[["mat-radio-group"]],contentQueries:function(t,i,r){if(1&t&&kr(r,CU,5),2&t){let o;Ln(o=Pn())&&(i._radios=o)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[yi([Whe,{provide:_U,useExisting:n}]),Cn]}),n})();class Ghe{constructor(e){this._elementRef=e}}const zhe=Pv(yb(Ghe));let jhe=(()=>{class n extends zhe{constructor(t,i,r,o,s,a,c,b){super(i),this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=s,this._providerOverride=c,this._uniqueId="mat-radio-"+ ++vU,this.id=this._uniqueId,this.change=new ni,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===a,b&&(this.tabIndex=xl(b,0)),this._removeUniqueSelectionListener=s.listen((L,H)=>{L!==this.id&&H===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(t){const i=Gi(t);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(Gi(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=Gi(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new yU(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){var t;const i=this.radioGroup;let r;if(r=i&&i.selected&&!this.disabled?i.selected===this?this.tabIndex:-1:this.tabIndex,r!==this._previousTabIndex){const o=null===(t=this._inputElement)||void 0===t?void 0:t.nativeElement;o&&(o.setAttribute("tabindex",r+""),this._previousTabIndex=r)}}}return n.\u0275fac=function(t){Lc()},n.\u0275dir=Gt({type:n,viewQuery:function(t,i){if(1&t&&Pi(Nhe,5),2&t){let r;Ln(r=Pn())&&(i._inputElement=r.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[Cn]}),n})(),CU=(()=>{class n extends jhe{constructor(t,i,r,o,s,a,c,b){super(t,i,r,o,s,a,c,b)}}return n.\u0275fac=function(t){return new(t||n)(Te(_U,8),Te(ci),Te(Hr),Te(Ql),Te(H2),Te(No,8),Te(Hhe,8),la("tabindex"))},n.\u0275cmp=Wn({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,i){1&t&&It("focus",function(){return i._inputElement.nativeElement.focus()}),2&t&&(Zi("tabindex",null)("id",i.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Li("mat-radio-checked",i.checked)("mat-radio-disabled",i.disabled)("_mat-animation-noopable",i._noopAnimations)("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[Cn],ngContentSelectors:Bhe,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,i){if(1&t&&(Ts(),be(0,"label",0,1)(2,"span",2),kn(3,"span",3)(4,"span",4),be(5,"input",5,6),It("change",function(o){return i._onInputInteraction(o)})("click",function(o){return i._onInputClick(o)}),Se(),be(7,"span",7),kn(8,"span",8),Se()(),be(9,"span",9)(10,"span",10),He(11,"\xa0"),Se(),Ur(12),Se()()),2&t){const r=bl(1);Zi("for",i.inputId),Be(5),Ke("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),Zi("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),Be(2),Ke("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",Jf(17,$he,i._noopAnimations?0:150)),Be(2),Li("mat-radio-label-before","before"==i.labelPosition)}},dependencies:[qc],styles:['.mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.mat-radio-input:focus~.mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}'],encapsulation:2,changeDetection:0}),n})(),Zhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[Bp,qi,qi]}),n})();const Khe=["input"],Xhe=["label"],Yhe=function(n){return{enterDuration:n}},Jhe=["*"],qhe=new rn("mat-checkbox-default-options",{providedIn:"root",factory:wU});function wU(){return{color:"accent",clickAction:"check-indeterminate"}}let Qhe=0;const AU=wU(),ede={provide:cl,useExisting:zi(()=>V2),multi:!0};class tde{}const nde=yb(Xd(Pv($p(class{constructor(n){this._elementRef=n}}))));let ide=(()=>{class n extends nde{constructor(t,i,r,o,s,a,c){super(i),this._changeDetectorRef=r,this._ngZone=o,this._animationMode=a,this._options=c,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new ni,this.indeterminateChange=new ni,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||AU,this.color=this.defaultColor=this._options.color||AU.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`${t}${++Qhe}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=Gi(t)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){const i=Gi(t);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const i=Gi(t);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const i=t!=this._indeterminate;this._indeterminate=Gi(t),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){var t;const i=null===(t=this._options)||void 0===t?void 0:t.clickAction;this.disabled||"noop"===i?!this.disabled&&"noop"===i&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==i&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}}return n.\u0275fac=function(t){Lc()},n.\u0275dir=Gt({type:n,viewQuery:function(t,i){if(1&t&&(Pi(Khe,5),Pi(Xhe,5),Pi(qc,5)),2&t){let r;Ln(r=Pn())&&(i._inputElement=r.first),Ln(r=Pn())&&(i._labelElement=r.first),Ln(r=Pn())&&(i.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[Cn]}),n})(),V2=(()=>{class n extends ide{constructor(t,i,r,o,s,a,c){super("mat-checkbox-",t,i,o,s,a,c),this._focusMonitor=r,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(t){const i=new tde;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(t){t.stopPropagation(),super._handleInputClick()}focus(t,i){t?this._focusMonitor.focusVia(this._inputElement,t,i):this._inputElement.nativeElement.focus(i)}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(Hr),Te(Ql),Te(Ei),la("tabindex"),Te(No,8),Te(qhe,8))},n.\u0275cmp=Wn({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(t,i){2&t&&(Nc("id",i.id),Zi("tabindex",null)("aria-label",null)("aria-labelledby",null),Li("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[yi([ede]),Cn],ngContentSelectors:Jhe,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,i){if(1&t&&(Ts(),be(0,"label",0,1)(2,"span",2)(3,"input",3,4),It("change",function(o){return i._onInteractionEvent(o)})("click",function(o){return i._onInputClick(o)}),Se(),be(5,"span",5),kn(6,"span",6),Se(),kn(7,"span",7),be(8,"span",8),od(),be(9,"svg",9),kn(10,"path",10),Se(),function Pl(){!function Ey(){ji.lFrame.currentNamespace=null}()}(),kn(11,"span",11),Se()(),be(12,"span",12,13),It("cdkObserveContent",function(){return i._onLabelTextChange()}),be(14,"span",14),He(15,"\xa0"),Se(),Ur(16),Se()()),2&t){const r=bl(1),o=bl(13);Zi("for",i.inputId),Be(2),Li("mat-checkbox-inner-container-no-side-margin",!o.textContent||!o.textContent.trim()),Be(1),Ke("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),Zi("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),Be(2),Ke("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",Jf(19,Yhe,"NoopAnimations"===i._animationMode?0:150))}},dependencies:[qc,cI],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),SU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({}),n})(),sde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[Bp,qi,vb,SU,qi,SU]}),n})();function ade(n,e){if(1&n&&(be(0,"mat-checkbox",5),He(1),Se()),2&n){const t=e.$implicit;Ke("checked",!0),Be(1),Ar(" ",t.name," ")}}function lde(n,e){if(1&n&&(be(0,"div",1)(1,"div",2),He(2," Datasets "),Se(),be(3,"div",3),Ct(4,ade,2,2,"mat-checkbox",4),Se()()),2&n){const t=kt();Be(4),Ke("ngForOf",t.engineService.alignmentContainer.alignments)}}function cde(n,e){if(1&n&&(be(0,"mat-radio-button",13),He(1),Se()),2&n){const t=e.$implicit;Ke("value",e.index),Be(1),Ar(" ",t.name," ")}}function ude(n,e){if(1&n){const t=wr();be(0,"div",3)(1,"mat-radio-group",10),It("change",function(){return Tn(t),Rn(kt(2).changeSelectedAlignment())}),be(2,"div",11),Ct(3,cde,2,2,"mat-radio-button",12),Se()()()}if(2&n){const t=kt(2);Be(1),Ke("formControl",t.selectedAlignmentControl),Be(2),Ke("ngForOf",t.engineService.alignmentContainer.alignments)}}function hde(n,e){if(1&n){const t=wr();be(0,"div",1)(1,"div",2)(2,"div",6)(3,"div",7),He(4,"Datasets"),Se(),be(5,"button",8),It("click",function(){Tn(t);const r=kt();return Rn(r.visible=!r.visible)}),Se()()(),Ct(6,ude,4,2,"div",9),Se()}if(2&n){const t=kt();Be(6),Ke("ngIf",t.visible)}}function dde(n,e){if(1&n&&(be(0,"mat-radio-button",13),He(1),Se()),2&n){const t=e.$implicit;Ke("value",e.index),Be(1),Ar(" ",t," ")}}function fde(n,e){if(1&n){const t=wr();be(0,"div",3)(1,"mat-radio-group",10),It("change",function(){return Tn(t),Rn(kt(2).changeSelectedApi())}),be(2,"div",11),Ct(3,dde,2,2,"mat-radio-button",12),Se()()()}if(2&n){const t=kt(2);Be(1),Ke("formControl",t.selectedApiControl),Be(2),Ke("ngForOf",t.engineService.alignmentContainer.apiLabels)}}function pde(n,e){if(1&n){const t=wr();be(0,"div",1)(1,"div",2)(2,"div",6)(3,"div",7),He(4,"Api Paths"),Se(),be(5,"button",8),It("click",function(){Tn(t);const r=kt();return Rn(r.visible=!r.visible)}),Se()()(),Ct(6,fde,4,2,"div",9),Se()}if(2&n){const t=kt();Be(6),Ke("ngIf",t.visible)}}function gde(n,e){if(1&n&&(be(0,"mat-radio-button",15),He(1),Se()),2&n){const t=e.$implicit;Ke("value",e.index),Be(1),Ar(" ",t.join("->")," ")}}function mde(n,e){if(1&n){const t=wr();be(0,"div",3)(1,"mat-radio-group",10),It("change",function(){return Tn(t),Rn(kt(2).changeSelectedRelationPath())}),be(2,"div",11),Ct(3,gde,2,2,"mat-radio-button",14),Se()()()}if(2&n){const t=kt(2);Be(1),Ke("formControl",t.selectedRelationControl),Be(2),Ke("ngForOf",t.engineService.alignmentContainer.relationPathLabels)}}function vde(n,e){if(1&n){const t=wr();be(0,"div",1)(1,"div",2)(2,"div",6)(3,"div",7),He(4,"Relation Paths"),Se(),be(5,"button",8),It("click",function(){Tn(t);const r=kt();return Rn(r.visible=!r.visible)}),Se()()(),Ct(6,mde,4,2,"div",9),Se()}if(2&n){const t=kt();Be(6),Ke("ngIf",t.visible)}}function yde(n,e){if(1&n){const t=wr();be(0,"div",3)(1,"div",16)(2,"button",17),It("click",function(){return Tn(t),Rn(kt(2).engineService.resetOrbitControls())}),He(3,"Reset OrbitControls"),Se()(),be(4,"div",16)(5,"button",17),It("click",function(){return Tn(t),Rn(kt(2).engineService.clearScene())}),He(6,"Clear Scene"),Se()(),be(7,"div",16)(8,"button",17),It("click",function(){return Tn(t),Rn(kt(2).engineService.reloadScene())}),He(9,"Reload Scene"),Se()(),be(10,"div",16)(11,"button",17),It("click",function(){return Tn(t),Rn(kt(2).engineService.removeAxisLabels())}),He(12,"Clear Labels"),Se()(),be(13,"div",16)(14,"button",17),It("click",function(){return Tn(t),Rn(kt(2).engineService.setOrbitControlPosition())}),He(15,"Reset Orbit Center"),Se()(),be(16,"div",16)(17,"button",17),It("click",function(){return Tn(t),Rn(kt(2).engineService.changeCamera())}),He(18,"Switch Camera"),Se()(),be(19,"div",16)(20,"button",17),It("click",function(){return Tn(t),Rn(kt(2).engineService.toggleGridHelper())}),He(21,"Toggle GridHelper"),Se()(),be(22,"div",16)(23,"button",17),It("click",function(){return Tn(t),Rn(kt(2).engineService.toggleAxisHelper())}),He(24,"Toggle AxisHelper"),Se()(),be(25,"div",16)(26,"button",17),It("click",function(){return Tn(t),Rn(kt(2).engineService.toggleCameraHelper())}),He(27,"Toggle CameraHelper"),Se()()()}}function _de(n,e){if(1&n&&(be(0,"div",1)(1,"div",2)(2,"div",6)(3,"div",7),He(4,"Advanced Options"),Se()()(),Ct(5,yde,28,0,"div",9),Se()),2&n){const t=kt();Be(5),Ke("ngIf",t.visible)}}let IU=(()=>{class n{constructor(t,i){this.fb=t,this.engineService=i,this.ViewModeEnum=Cs,this.visible=!0}ngOnInit(){this.selectedAlignmentControl=new ec(0),this.selectedApiControl=new ec(0),this.selectedRelationControl=new ec(0)}changeSelectedAlignment(){this.engineService.setSelectedDataSet(this.selectedAlignmentControl.value)}changeSelectedApi(){this.engineService.setSelectedApiLabel(this.selectedApiControl.value)}changeSelectedRelationPath(){this.engineService.setSelectedRelationPathLabel(this.selectedRelationControl.value)}}return n.\u0275fac=function(t){return new(t||n)(Te(MI),Te(ib))},n.\u0275cmp=Wn({type:n,selectors:[["app-ui-sidebar-left"]],decls:5,vars:5,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"checked",4,"ngFor","ngForOf"],[3,"checked"],[1,"d-flex","flex-row","justify-content-between"],[1,"card-title"],[1,"btn-close",3,"click"],["class","card-body",4,"ngIf"],[3,"formControl","change"],[1,"d-flex","flex-column","justify-content-between"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","p-1",3,"value",4,"ngFor","ngForOf"],[1,"p-1",3,"value"],[1,"row","m-1"],[1,"btn","btn-secondary",3,"click"]],template:function(t,i){1&t&&(Ct(0,lde,5,1,"div",0),Ct(1,hde,7,1,"div",0),Ct(2,pde,7,1,"div",0),Ct(3,vde,7,1,"div",0),Ct(4,_de,6,1,"div",0)),2&t&&(Ke("ngIf",!1),Be(1),Ke("ngIf",i.engineService.viewMode===i.ViewModeEnum.View2DAlignment),Be(1),Ke("ngIf",i.engineService.viewMode===i.ViewModeEnum.View2DApi),Be(1),Ke("ngIf",i.engineService.viewMode===i.ViewModeEnum.View2DRelation),Be(1),Ke("ngIf",i.engineService.helper))},dependencies:[_a,ks,ul,xI,bU,CU,V2]}),n})();const bde=["addListener","removeListener"],Cde=["addEventListener","removeEventListener"],wde=["on","off"];function Up(n,e,t,i){if(ae(t)&&(i=t,t=void 0),i)return Up(n,e,t).pipe(mR(i));const[r,o]=function Ide(n){return ae(n.addEventListener)&&ae(n.removeEventListener)}(n)?Cde.map(s=>a=>n[s](e,a,t)):function Ade(n){return ae(n.addListener)&&ae(n.removeListener)}(n)?bde.map(xU(n,e)):function Sde(n){return ae(n.on)&&ae(n.off)}(n)?wde.map(xU(n,e)):[];if(!r&&si(n))return wt(s=>Up(s,e,t))(Vr(n));if(!r)throw new TypeError("Invalid event target");return new K(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function xU(n,e){return t=>i=>n[t](e,i)}class EU{}const Uh="*";function Qc(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ia(n,e=null){return{type:4,styles:e,timings:n}}function MU(n,e=null){return{type:3,steps:n,options:e}}function TU(n,e=null){return{type:2,steps:n,options:e}}function $r(n){return{type:6,styles:n,offset:null}}function Ho(n,e,t){return{type:0,name:n,styles:e,options:t}}function ra(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function W2(n=null){return{type:9,options:n}}function U2(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function RU(n){Promise.resolve().then(n)}class Eb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){RU(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class DU{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?RU(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Mde=["connectionContainer"],Tde=["inputContainer"],Rde=["label"];function Dde(n,e){1&n&&(Rr(0),be(1,"div",14),kn(2,"div",15)(3,"div",16)(4,"div",17),Se(),be(5,"div",18),kn(6,"div",15)(7,"div",16)(8,"div",17),Se(),Dr())}function kde(n,e){if(1&n){const t=wr();be(0,"div",19),It("cdkObserveContent",function(){return Tn(t),Rn(kt().updateOutlineGap())}),Ur(1,1),Se()}2&n&&Ke("cdkObserveContentDisabled","outline"!=kt().appearance)}function Lde(n,e){if(1&n&&(Rr(0),Ur(1,2),be(2,"span"),He(3),Se(),Dr()),2&n){const t=kt(2);Be(3),Jr(t._control.placeholder)}}function Pde(n,e){1&n&&Ur(0,3,["*ngSwitchCase","true"])}function Ode(n,e){1&n&&(be(0,"span",23),He(1," *"),Se())}function Fde(n,e){if(1&n){const t=wr();be(0,"label",20,21),It("cdkObserveContent",function(){return Tn(t),Rn(kt().updateOutlineGap())}),Ct(2,Lde,4,1,"ng-container",12),Ct(3,Pde,1,0,"ng-content",12),Ct(4,Ode,2,0,"span",22),Se()}if(2&n){const t=kt();Li("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),Ke("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),Zi("for",t._control.id)("aria-owns",t._control.id),Be(2),Ke("ngSwitchCase",!1),Be(1),Ke("ngSwitchCase",!0),Be(1),Ke("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Nde(n,e){1&n&&(be(0,"div",24),Ur(1,4),Se())}function $de(n,e){if(1&n&&(be(0,"div",25),kn(1,"span",26),Se()),2&n){const t=kt();Be(1),Li("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Bde(n,e){1&n&&(be(0,"div"),Ur(1,5),Se()),2&n&&Ke("@transitionMessages",kt()._subscriptAnimationState)}function Hde(n,e){if(1&n&&(be(0,"div",30),He(1),Se()),2&n){const t=kt(2);Ke("id",t._hintLabelId),Be(1),Jr(t.hintLabel)}}function Vde(n,e){if(1&n&&(be(0,"div",27),Ct(1,Hde,2,2,"div",28),Ur(2,6),kn(3,"div",29),Ur(4,7),Se()),2&n){const t=kt();Ke("@transitionMessages",t._subscriptAnimationState),Be(1),Ke("ngIf",t.hintLabel)}}const Wde=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ude=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Gde=new rn("MatError"),zde={transitionMessages:Qc("transitionMessages",[Ho("enter",$r({opacity:1,transform:"translateY(0%)"})),ra("void => enter",[$r({opacity:0,transform:"translateY(-5px)"}),Ia("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let TI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Gt({type:n}),n})();const jde=new rn("MatHint");let nc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Gt({type:n,selectors:[["mat-label"]]}),n})(),Zde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Gt({type:n,selectors:[["mat-placeholder"]]}),n})();const Kde=new rn("MatPrefix"),kU=new rn("MatSuffix");let Xde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Gt({type:n,selectors:[["","matSuffix",""]],features:[yi([{provide:kU,useExisting:n}])]}),n})(),LU=0;const Jde=Xd(class{constructor(n){this._elementRef=n}},"primary"),qde=new rn("MAT_FORM_FIELD_DEFAULT_OPTIONS"),z2=new rn("MatFormField");let Pu=(()=>{class n extends Jde{constructor(t,i,r,o,s,a,c){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=s,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new F,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+LU++,this._labelId="mat-form-field-label-"+LU++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==c,this.appearance=(null==o?void 0:o.appearance)||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(t){var i;const r=this._appearance;this._appearance=t||(null===(i=this._defaults)||void 0===i?void 0:i.appearance)||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Gi(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Us(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(br(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(br(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),po(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Us(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Us(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(br(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Up(this._label.nativeElement,"transitionend").pipe(Eo(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const L=i.querySelectorAll(`${r}, ${o}`);for(let H=0;H<L.length;H++)L[H].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,a=0;const c=i.querySelectorAll(r),b=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const L=i.getBoundingClientRect();if(0===L.width&&0===L.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const H=this._getStartEnd(L),G=t.children,j=this._getStartEnd(G[0].getBoundingClientRect());let J=0;for(let ce=0;ce<G.length;ce++)J+=G[ce].offsetWidth;s=Math.abs(j-H)-5,a=J>0?.75*J+10:0}for(let L=0;L<c.length;L++)c[L].style.width=`${s}px`;for(let L=0;L<b.length;L++)b[L].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(Hr),Te(za,8),Te(qde,8),Te(Xo),Te(Ei),Te(No,8))},n.\u0275cmp=Wn({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(kr(r,TI,5),kr(r,TI,7),kr(r,nc,5),kr(r,nc,7),kr(r,Zde,5),kr(r,Gde,5),kr(r,jde,5),kr(r,Kde,5),kr(r,kU,5)),2&t){let o;Ln(o=Pn())&&(i._controlNonStatic=o.first),Ln(o=Pn())&&(i._controlStatic=o.first),Ln(o=Pn())&&(i._labelChildNonStatic=o.first),Ln(o=Pn())&&(i._labelChildStatic=o.first),Ln(o=Pn())&&(i._placeholderChild=o.first),Ln(o=Pn())&&(i._errorChildren=o),Ln(o=Pn())&&(i._hintChildren=o),Ln(o=Pn())&&(i._prefixChildren=o),Ln(o=Pn())&&(i._suffixChildren=o)}},viewQuery:function(t,i){if(1&t&&(Pi(Mde,7),Pi(Tde,5),Pi(Rde,5)),2&t){let r;Ln(r=Pn())&&(i._connectionContainerRef=r.first),Ln(r=Pn())&&(i._inputContainerRef=r.first),Ln(r=Pn())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&Li("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[yi([{provide:z2,useExisting:n}]),Cn],ngContentSelectors:Ude,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(Ts(Wde),be(0,"div",0)(1,"div",1,2),It("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),Ct(3,Dde,9,0,"ng-container",3),Ct(4,kde,2,1,"div",4),be(5,"div",5,6),Ur(7),be(8,"span",7),Ct(9,Fde,5,16,"label",8),Se()(),Ct(10,Nde,2,0,"div",9),Se(),Ct(11,$de,2,4,"div",10),be(12,"div",11),Ct(13,Bde,2,1,"div",12),Ct(14,Vde,5,2,"div",13),Se()()),2&t&&(Be(3),Ke("ngIf","outline"==i.appearance),Be(1),Ke("ngIf",i._prefixChildren.length),Be(5),Ke("ngIf",i._hasFloatingLabel()),Be(1),Ke("ngIf",i._suffixChildren.length),Be(1),Ke("ngIf","outline"!=i.appearance),Be(1),Ke("ngSwitch",i._getDisplayedMessages()),Be(1),Ke("ngSwitchCase","error"),Be(1),Ke("ngSwitchCase","hint"))},dependencies:[ks,kd,_m,cI],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[zde.transitionMessages]},changeDetection:0}),n})(),RI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[Vc,qi,vb,qi]}),n})();const Mb={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Mb;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new ee(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=Mb;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Mb;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class efe extends a2{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Qde extends s2{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Mb.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Mb.cancelAnimationFrame(t),e._scheduled=void 0)}});let j2,tfe=1;const kI={};function OU(n){return n in kI&&(delete kI[n],!0)}const nfe={setImmediate(n){const e=tfe++;return kI[e]=!0,j2||(j2=Promise.resolve()),j2.then(()=>OU(e)&&n()),e},clearImmediate(n){OU(n)}},{setImmediate:ife,clearImmediate:rfe}=nfe,LI={setImmediate(...n){const{delegate:e}=LI;return((null==e?void 0:e.setImmediate)||ife)(...n)},clearImmediate(n){const{delegate:e}=LI;return((null==e?void 0:e.clearImmediate)||rfe)(n)},delegate:void 0};new class sfe extends a2{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class ofe extends s2{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=LI.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(LI.clearImmediate(t),e._scheduled=void 0)}});function FU(n=0,e,t=Nce){let i=-1;return null!=e&&(Bi(e)?t=e:i=e),new K(r=>{let o=function cfe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function NU(n,e=l2){return function lfe(n){return W((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const b=r;r=null,t.next(b)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(ne(t,b=>{i=!0,r=b,o||Vr(n(b)).subscribe(o=ne(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>FU(n,e))}let $U=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new F,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new K(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(NU(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ai()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(_o(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Wh(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Up(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(At(Ei),At(Xo),At(Oi,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qd=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new F,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(NU(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(At(Xo),At(Ei),At(Oi,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({}),n})(),OI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[Ev,PI,Ev,PI]}),n})();class Z2{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Bv extends Z2{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class Gp extends Z2{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class dfe extends Z2{constructor(e){super(),this.element=e instanceof ci?e.nativeElement:e}}class FI{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Bv?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Gp?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof dfe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ffe extends FI{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||vo.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Ou=(()=>{class n extends FI{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new ni,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(Te(Rc),Te(Fo),Te(Oi))},n.\u0275dir=Gt({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Cn]}),n})(),Qd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({}),n})();const BU=Ace();class pfe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ws(-this._previousScrollPosition.left),e.style.top=ws(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),BU&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),BU&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class gfe{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class HU{enable(){}disable(){}attach(){}}function K2(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function VU(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class mfe{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();K2(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let vfe=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new HU,this.close=s=>new gfe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new pfe(this._viewportRuler,this._document),this.reposition=s=>new mfe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(At($U),At(qd),At(Ei),At(Oi))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class NI{constructor(e){if(this.scrollStrategy=new HU,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class yfe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class Tb{constructor(e,t,i,r,o,s,a,c,b,L=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=b,this._animationsDisabled=L,this._backdropElement=null,this._backdropClick=new F,this._attachments=new F,this._detachments=new F,this._locationChanges=ee.EMPTY,this._backdropClickHandler=H=>this._backdropClick.next(H),this._backdropTransitionendHandler=H=>{this._disposeBackdrop(H.target)},this._keydownEvents=new F,this._outsidePointerEvents=new F,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Eo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof(null==t?void 0:t.onDestroy)&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ws(this._config.width),e.height=ws(this._config.height),e.minWidth=ws(this._config.minWidth),e.minHeight=ws(this._config.minHeight),e.maxWidth=ws(this._config.maxWidth),e.maxHeight=ws(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),this._animationsDisabled||"undefined"==typeof requestAnimationFrame?this._backdropElement.classList.add(e):this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})})}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=lI(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(br(po(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let $I=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||n2()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),n2()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(At(Oi),At(Xo))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const WU="cdk-overlay-connected-position-bounding-box",_fe=/([A-Za-z%]+)$/;class bfe{constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new F,this._resizeSubscription=ee.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(WU),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),b=this._getOverlayPoint(c,t,a),L=this._getOverlayFit(b,t,i,a);if(L.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(L,b,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<L.visibleArea)&&(s={overlayFit:L,overlayPoint:b,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const b of o){const L=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);L>c&&(c=L,a=b)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&zp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(WU),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=GU(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),b=this._getOffset(r,"y");c&&(s+=c),b&&(a+=b);let G=0-a,j=a+o.height-i.height,J=this._subtractOverflows(o.width,0-s,s+o.width-i.width),ce=this._subtractOverflows(o.height,G,j),se=J*ce;return{visibleArea:se,isCompletelyWithinViewport:o.width*o.height===se,fitsInViewportVertically:ce===o.height,fitsInViewportHorizontally:J==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=UU(this._overlayRef.getConfig().minHeight),a=UU(this._overlayRef.getConfig().minWidth),b=e.fitsInViewportHorizontally||null!=a&&a<=o;return(e.fitsInViewportVertically||null!=s&&s<=r)&&b}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=GU(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),b=Math.max(o.left-i.left-e.x,0);let L=0,H=0;return L=r.width<=o.width?b||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,H=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:L,y:H},{x:e.x+L,y:e.y+H}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new yfe(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,L,H,G;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const j=Math.min(i.bottom-e.y+i.top,e.y),J=this._lastBoundingBoxSize.height;o=2*j,s=e.y-j,o>J&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-J/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)G=i.width-e.x+this._viewportMargin,L=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)H=e.x,L=i.right-e.x;else{const j=Math.min(i.right-e.x+i.left,e.x),J=this._lastBoundingBoxSize.width;L=2*j,H=e.x-j,L>J&&!this._isInitialRender&&!this._growAfterOpen&&(H=e.x-J/2)}return{top:s,left:H,bottom:a,right:G,width:L,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ws(i.height),r.top=ws(i.top),r.bottom=ws(i.bottom),r.width=ws(i.width),r.left=ws(i.left),r.right=ws(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=ws(o)),s&&(r.maxWidth=ws(s))}this._lastBoundingBoxSize=i,zp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){zp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){zp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const L=this._viewportRuler.getViewportScrollPosition();zp(i,this._getExactOverlayY(t,e,L)),zp(i,this._getExactOverlayX(t,e,L))}else i.position="static";let a="",c=this._getOffset(t,"x"),b=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),b&&(a+=`translateY(${b}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=ws(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=ws(s.maxWidth):o&&(i.maxWidth="")),zp(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=ws(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=ws(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:VU(e,i),isOriginOutsideView:K2(e,i),isOverlayClipped:VU(t,i),isOverlayOutsideView:K2(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&lI(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof ci)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function zp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function UU(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(_fe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function GU(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const zU="cdk-global-overlay-wrapper";class Cfe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(zU),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),b=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),L=this._xPosition,H=this._xOffset,G="rtl"===this._overlayRef.getConfig().direction;let j="",J="",ce="";c?ce="flex-start":"center"===L?(ce="center",G?J=H:j=H):G?"left"===L||"end"===L?(ce="flex-end",j=H):("right"===L||"start"===L)&&(ce="flex-start",J=H):"left"===L||"start"===L?(ce="flex-start",j=H):("right"===L||"end"===L)&&(ce="flex-end",J=H),e.position=this._cssPosition,e.marginLeft=c?"0":j,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":J,t.justifyContent=ce,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(zU),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let wfe=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Cfe}flexibleConnectedTo(t){return new bfe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(At(qd),At(Oi),At(Xo),At($I))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jU=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(At(Oi))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Afe=(()=>{class n extends jU{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(At(Oi),At(Ei,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sfe=(()=>{class n extends jU{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Np(o)},this._clickListener=o=>{const s=Np(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let b=c.length-1;b>-1;b--){const L=c[b];if(L._outsidePointerEvents.observers.length<1||!L.hasAttached())continue;if(L.overlayElement.contains(s)||L.overlayElement.contains(a))break;const H=L._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>H.next(o)):H.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(At(Oi),At(Xo),At(Ei,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ife=0,ic=(()=>{class n{constructor(t,i,r,o,s,a,c,b,L,H,G,j){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=b,this._directionality=L,this._location=H,this._outsideClickDispatcher=G,this._animationsModuleType=j}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new NI(t);return s.direction=s.direction||this._directionality.value,new Tb(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Ife++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ym)),new ffe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(At(vfe),At($I),At(Rc),At(wfe),At(Afe),At(vo),At(Ei),At(Oi),At(za),At(a_),At(Sfe),At(No,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();const xfe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ZU=new rn("cdk-connected-overlay-scroll-strategy");let KU=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(Te(ci))},n.\u0275dir=Gt({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),XU=(()=>{class n{constructor(t,i,r,o,s){this._overlay=t,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ee.EMPTY,this._attachSubscription=ee.EMPTY,this._detachSubscription=ee.EMPTY,this._positionSubscription=ee.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new ni,this.positionChange=new ni,this.attach=new ni,this.detach=new ni,this.overlayKeydown=new ni,this.overlayOutsideClick=new ni,this._templatePortal=new Gp(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Gi(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Gi(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Gi(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Gi(t)}get push(){return this._push}set push(t){this._push=Gi(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=xfe);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Jc(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new NI({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof KU?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(W$(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(Te(ic),Te(uo),Te(Fo),Te(ZU),Te(za,8))},n.\u0275dir=Gt({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[lo]}),n})();const Mfe={provide:ZU,deps:[ic],useFactory:function Efe(n){return()=>n.scrollStrategies.reposition()}};let Rb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({providers:[ic,Mfe],imports:[Ev,Qd,OI,OI]}),n})();const Tfe=["trigger"],Rfe=["panel"];function Dfe(n,e){if(1&n&&(be(0,"span",8),He(1),Se()),2&n){const t=kt();Be(1),Jr(t.placeholder)}}function kfe(n,e){if(1&n&&(be(0,"span",12),He(1),Se()),2&n){const t=kt(2);Be(1),Jr(t.triggerValue)}}function Lfe(n,e){1&n&&Ur(0,0,["*ngSwitchCase","true"])}function Pfe(n,e){1&n&&(be(0,"span",9),Ct(1,kfe,2,1,"span",10),Ct(2,Lfe,1,0,"ng-content",11),Se()),2&n&&(Ke("ngSwitch",!!kt().customTrigger),Be(2),Ke("ngSwitchCase",!0))}function Ofe(n,e){if(1&n){const t=wr();be(0,"div",13)(1,"div",14,15),It("@transformPanel.done",function(r){return Tn(t),Rn(kt()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return Tn(t),Rn(kt()._handleKeydown(r))}),Ur(3,1),Se()()}if(2&n){const t=kt();Ke("@transformPanelWrap",void 0),Be(1),dT("mat-select-panel ",t._getPanelTheme(),""),nl("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),Ke("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),Zi("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const Ffe=[[["mat-select-trigger"]],"*"],Nfe=["mat-select-trigger","*"],YU={transformPanelWrap:Qc("transformPanelWrap",[ra("* => void",U2("@transformPanel",[W2()],{optional:!0}))]),transformPanel:Qc("transformPanel",[Ho("void",$r({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Ho("showing",$r({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Ho("showing-multiple",$r({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),ra("void => *",Ia("120ms cubic-bezier(0, 0, 0.2, 1)")),ra("* => void",Ia("100ms 25ms linear",$r({opacity:0})))])};let JU=0;const QU=new rn("mat-select-scroll-strategy"),Vfe=new rn("MAT_SELECT_CONFIG"),Wfe={provide:QU,deps:[ic],useFactory:function Hfe(n){return()=>n.scrollStrategies.reposition()}};class Ufe{constructor(e,t){this.source=e,this.value=t}}const Gfe=Pv(yb($p(q4(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new F}})))),zfe=new rn("MatSelectTrigger");let jfe=(()=>{class n extends Gfe{constructor(t,i,r,o,s,a,c,b,L,H,G,j,J,ce){var se,te,_e;super(s,o,c,b,H),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._parentFormField=L,this._liveAnnouncer=J,this._defaultOptions=ce,this._panelOpen=!1,this._compareWith=(ge,Me)=>ge===Me,this._uid="mat-select-"+JU++,this._triggerAriaLabelledBy=null,this._destroy=new F,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+JU++,this._panelDoneAnimatingStream=new F,this._overlayPanelClass=(null===(se=this._defaultOptions)||void 0===se?void 0:se.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(_e=null===(te=this._defaultOptions)||void 0===te?void 0:te.disableOptionCentering)&&void 0!==_e&&_e,this.ariaLabel="",this.optionSelectionChanges=p_(()=>{const ge=this.options;return ge?ge.changes.pipe(Us(ge),ba(()=>po(...ge.map(Me=>Me.onSelectionChange)))):this._ngZone.onStable.pipe(Eo(1),ba(()=>this.optionSelectionChanges))}),this.openedChange=new ni,this._openedStream=this.openedChange.pipe(_o(ge=>ge),he(()=>{})),this._closedStream=this.openedChange.pipe(_o(ge=>!ge),he(()=>{})),this.selectionChange=new ni,this.valueChange=new ni,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==ce?void 0:ce.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=ce.typeaheadDebounceInterval),this._scrollStrategyFactory=j,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(G)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,i,r,o;return null!==(o=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(Fv.required))&&void 0!==o&&o}set required(t){this._required=Gi(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Gi(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Gi(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=xl(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Fhe(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(mb(),br(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(br(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Us(null),br(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,i;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,s=this._keyManager;if(!s.isTyping()&&o&&!Jc(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(t);const c=this.selected;c&&a!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,o=40===r||38===r,s=i.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(s||13!==r&&32!==r||!i.activeItem||Jc(t))if(!s&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const a=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(a?c.select():c.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(t),this._multiple&&o&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Eo(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch(o){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new Zce(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(br(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(br(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=po(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(br(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),po(...this.options.map(i=>i._stateChanges)).pipe(br(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(Te(qd),Te(Hr),Te(Ei),Te(Ov),Te(ci),Te(za,8),Te(Ib,8),Te($v,8),Te(z2,8),Te(Lu,10),la("tabindex"),Te(QU),Te(g2),Te(Vfe,8))},n.\u0275dir=Gt({type:n,viewQuery:function(t,i){if(1&t&&(Pi(Tfe,5),Pi(Rfe,5),Pi(XU,5)),2&t){let r;Ln(r=Pn())&&(i.trigger=r.first),Ln(r=Pn())&&(i.panel=r.first),Ln(r=Pn())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Cn,lo]}),n})(),Vv=(()=>{class n extends jfe{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,i,r){const o=this._getItemHeight();return Math.min(Math.max(0,o*t-i+o/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(br(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Eo(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const i=iW(t,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===i?0:function Oue(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}((t+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new Ufe(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),o=this.multiple?56:32;let s;if(this.multiple)s=40;else if(this.disableOptionCentering)s=16;else{let b=this._selectionModel.selected[0]||this.options.first;s=b&&b.group?32:16}r||(s*=-1);const a=0-(t.left+s-(r?o:0)),c=t.right+s-i.width+(r?0:o);a>0?s+=a+8:c>0&&(s-=c+8),this._overlayDir.offsetX=Math.round(s),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,i,r){const o=this._getItemHeight(),s=(o-this._triggerRect.height)/2,a=Math.floor(256/o);let c;return this.disableOptionCentering?0:(c=0===this._scrollTop?t*o:this._scrollTop===r?(t-(this._getItemCount()-a))*o+(o-(this._getItemCount()*o-256)%o):i-o/2,Math.round(-1*c-s))}_checkOverlayWithinViewport(t){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,s=r.height-this._triggerRect.bottom-8,a=Math.abs(this._offsetY),b=Math.min(this._getItemCount()*i,256)-a-this._triggerRect.height;b>s?this._adjustPanelUp(b,s):a>o?this._adjustPanelDown(a,o,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,i){const r=Math.round(t-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,i,r){const o=Math.round(t-i);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*t,256),s=i*t-r;let a;a=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),a+=iW(a,this.options,this.optionGroups);const c=r/2;this._scrollTop=this._calculateOverlayScroll(a,c,s),this._offsetY=this._calculateOverlayOffsetY(a,c,s),this._checkOverlayWithinViewport(s)}_getOriginBasedOnOption(){const t=this._getItemHeight(),i=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275cmp=Wn({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(kr(r,zfe,5),kr(r,Hp,5),kr(r,_2,5)),2&t){let o;Ln(o=Pn())&&(i.customTrigger=o.first),Ln(o=Pn())&&(i.options=o),Ln(o=Pn())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(t,i){1&t&&It("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(Zi("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),Li("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[yi([{provide:TI,useExisting:n},{provide:y2,useExisting:n}]),Cn],ngContentSelectors:Nfe,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(Ts(Ffe),be(0,"div",0,1),It("click",function(){return i.toggle()}),be(3,"div",2),Ct(4,Dfe,2,1,"span",3),Ct(5,Pfe,3,2,"span",4),Se(),be(6,"div",5),kn(7,"div",6),Se()(),Ct(8,Ofe,4,14,"ng-template",7),It("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=bl(1);Zi("aria-owns",i.panelOpen?i.id+"-panel":null),Be(3),Ke("ngSwitch",i.empty),Zi("id",i._valueId),Be(1),Ke("ngSwitchCase",!0),Be(1),Ke("ngSwitchCase",!1),Be(3),Ke("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[u_,kd,_m,rR,XU,KU],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[YU.transformPanelWrap,YU.transformPanel]},changeDetection:0}),n})(),Zfe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({providers:[Wfe],imports:[Vc,Rb,rW,qi,PI,RI,rW,qi]}),n})(),Kfe=0;const X2=new rn("CdkAccordion");let Xfe=(()=>{class n{constructor(){this._stateChanges=new F,this._openCloseAllActions=new F,this.id="cdk-accordion-"+Kfe++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=Gi(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Gt({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[yi([{provide:X2,useExisting:n}]),lo]}),n})(),Yfe=0,Jfe=(()=>{class n{constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=ee.EMPTY,this.closed=new ni,this.opened=new ni,this.destroyed=new ni,this.expandedChange=new ni,this.id="cdk-accordion-child-"+Yfe++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=Gi(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=Gi(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(Te(X2,12),Te(Hr),Te(H2))},n.\u0275dir=Gt({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[yi([{provide:X2,useValue:void 0}])]}),n})(),qfe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({}),n})();const Qfe=["body"];function epe(n,e){}const tpe=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],npe=["mat-expansion-panel-header","*","mat-action-row"];function ipe(n,e){1&n&&kn(0,"span",2),2&n&&Ke("@indicatorRotate",kt()._getExpandedState())}const rpe=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],ope=["mat-panel-title","mat-panel-description","*"],Y2=new rn("MAT_ACCORDION"),eG="225ms cubic-bezier(0.4,0.0,0.2,1)",tG={indicatorRotate:Qc("indicatorRotate",[Ho("collapsed, void",$r({transform:"rotate(0deg)"})),Ho("expanded",$r({transform:"rotate(180deg)"})),ra("expanded <=> collapsed, void => collapsed",Ia(eG))]),bodyExpansion:Qc("bodyExpansion",[Ho("collapsed, void",$r({height:"0px",visibility:"hidden"})),Ho("expanded",$r({height:"*",visibility:"visible"})),ra("expanded <=> collapsed, void => collapsed",Ia(eG))])},nG=new rn("MAT_EXPANSION_PANEL");let spe=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}}return n.\u0275fac=function(t){return new(t||n)(Te(uo),Te(nG,8))},n.\u0275dir=Gt({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),ape=0;const iG=new rn("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let jp=(()=>{class n extends Jfe{constructor(t,i,r,o,s,a,c){super(t,i,r),this._viewContainerRef=o,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new ni,this.afterCollapse=new ni,this._inputChanges=new F,this._headerId="mat-expansion-panel-header-"+ape++,this._bodyAnimationDone=new F,this.accordion=t,this._document=s,this._bodyAnimationDone.pipe(mb((b,L)=>b.fromState===L.fromState&&b.toState===L.toState)).subscribe(b=>{"void"!==b.fromState&&("expanded"===b.toState?this.afterExpand.emit():"collapsed"===b.toState&&this.afterCollapse.emit())}),c&&(this.hideToggle=c.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=Gi(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Us(null),_o(()=>this.expanded&&!this._portal),Eo(1)).subscribe(()=>{this._portal=new Gp(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(Te(Y2,12),Te(Hr),Te(H2),Te(Fo),Te(Oi),Te(No,8),Te(iG,8))},n.\u0275cmp=Wn({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,i,r){if(1&t&&kr(r,spe,5),2&t){let o;Ln(o=Pn())&&(i._lazyContent=o.first)}},viewQuery:function(t,i){if(1&t&&Pi(Qfe,5),2&t){let r;Ln(r=Pn())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,i){2&t&&Li("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[yi([{provide:Y2,useValue:void 0},{provide:nG,useExisting:n}]),Cn,lo],ngContentSelectors:npe,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(Ts(tpe),Ur(0),be(1,"div",0,1),It("@bodyExpansion.done",function(o){return i._bodyAnimationDone.next(o)}),be(3,"div",2),Ur(4,1),Ct(5,epe,0,0,"ng-template",3),Se(),Ur(6,2),Se()),2&t&&(Be(1),Ke("@bodyExpansion",i._getExpandedState())("id",i.id),Zi("aria-labelledby",i._headerId),Be(4),Ke("cdkPortalOutlet",i._portal))},dependencies:[Ou],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[tG.bodyExpansion]},changeDetection:0}),n})();class lpe{}const cpe=yb(lpe);let Zp=(()=>{class n extends cpe{constructor(t,i,r,o,s,a,c){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=a,this._parentChangeSubscription=ee.EMPTY;const b=t.accordion?t.accordion._stateChanges.pipe(_o(L=>!(!L.hideToggle&&!L.togglePosition))):An;this.tabIndex=parseInt(c||"")||0,this._parentChangeSubscription=po(t.opened,t.closed,b,t._inputChanges.pipe(_o(L=>!!(L.hideToggle||L.disabled||L.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(_o(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Jc(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(Te(jp,1),Te(ci),Te(Ql),Te(Hr),Te(iG,8),Te(No,8),la("tabindex"))},n.\u0275cmp=Wn({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&It("click",function(){return i._toggle()})("keydown",function(o){return i._keydown(o)}),2&t&&(Zi("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),nl("height",i._getHeaderHeight()),Li("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[Cn],ngContentSelectors:ope,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,i){1&t&&(Ts(rpe),be(0,"span",0),Ur(1),Ur(2,1),Ur(3,2),Se(),Ct(4,ipe,1,1,"span",1)),2&t&&(Li("mat-content-hide-toggle",!i._showToggle()),Be(4),Ke("ngIf",i._showToggle()))},dependencies:[ks],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[tG.indicatorRotate]},changeDetection:0}),n})(),Wv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Gt({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),upe=(()=>{class n extends Xfe{constructor(){super(...arguments),this._ownHeaders=new vu,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=Gi(t)}ngAfterContentInit(){this._headers.changes.pipe(Us(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new f2(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275dir=Gt({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,i,r){if(1&t&&kr(r,Zp,5),2&t){let o;Ln(o=Pn())&&(i._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,i){2&t&&Li("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[yi([{provide:Y2,useExisting:n}]),Cn]}),n})(),hpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[Vc,qi,qfe,Qd]}),n})();const dpe=["input"],fpe=function(n){return{enterDuration:n}},ppe=["*"],gpe=new rn("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let mpe=0;const vpe={provide:cl,useExisting:zi(()=>HI),multi:!0};class ype{constructor(e,t){this.source=e,this.checked=t}}const _pe=yb(Xd(Pv($p(class{constructor(n){this._elementRef=n}}))));let bpe=(()=>{class n extends _pe{constructor(t,i,r,o,s,a,c){super(t),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=s,this._onChange=b=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new ni,this.toggleChange=new ni,this.tabIndex=parseInt(o)||0,this.color=this.defaultColor=s.color||"accent",this._noopAnimations="NoopAnimations"===a,this.id=this._uniqueId=`${c}${++mpe}`}get required(){return this._required}set required(t){this._required=Gi(t)}get checked(){return this._checked}set checked(t){this._checked=Gi(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?this._focused=!0:t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return n.\u0275fac=function(t){Lc()},n.\u0275dir=Gt({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[Cn]}),n})(),HI=(()=>{class n extends bpe{constructor(t,i,r,o,s,a){super(t,i,r,o,s,a,"mat-slide-toggle-")}_createChangeEvent(t){return new ype(this,t)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(Ql),Te(Hr),la("tabindex"),Te(gpe),Te(No,8))},n.\u0275cmp=Wn({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(t,i){if(1&t&&Pi(dpe,5),2&t){let r;Ln(r=Pn())&&(i._inputElement=r.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(t,i){2&t&&(Nc("id",i.id),Zi("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),Li("mat-checked",i.checked)("mat-disabled",i.disabled)("mat-slide-toggle-label-before","before"==i.labelPosition)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[yi([vpe]),Cn],ngContentSelectors:ppe,decls:14,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,i){if(1&t&&(Ts(),be(0,"label",0,1)(2,"span",2)(3,"input",3,4),It("change",function(o){return i._onChangeEvent(o)})("click",function(o){return i._onInputClick(o)}),Se(),be(5,"span",5),kn(6,"span",6),be(7,"span",7),kn(8,"span",8),Se()()(),be(9,"span",9,10),It("cdkObserveContent",function(){return i._onLabelTextChange()}),be(11,"span",11),He(12,"\xa0"),Se(),Ur(13),Se()()),2&t){const r=bl(1),o=bl(10);Zi("for",i.inputId),Be(2),Li("mat-slide-toggle-bar-no-side-margin",!o.textContent||!o.textContent.trim()),Be(1),Ke("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex)("checked",i.checked)("disabled",i.disabled),Zi("name",i.name)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),Be(4),Ke("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",Jf(18,fpe,i._noopAnimations?0:150))}},dependencies:[qc,cI],styles:['.mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.mat-slide-toggle-input:focus~.mat-slide-toggle-thumb-container .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}'],encapsulation:2,changeDetection:0}),n})(),rG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({}),n})(),Ape=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[rG,Bp,qi,vb,rG,qi]}),n})();function Spe(n,e){if(1&n&&(be(0,"mat-option",7),He(1),Se()),2&n){const t=e.$implicit;Ke("value",t),Be(1),Ar(" ",t," ")}}let oG=(()=>{class n{constructor(t,i){this.fb=t,this.engineService=i}ngOnInit(){this.fullRelationPathControl=new ec(this.engineService.showFullRelationPath),this.fullApiPathControl=new ec(this.engineService.showFullApiPath),this.metricChoiceControl=new ec(""),this.advancedModeControl=new ec(this.engineService.helper)}changeMetric(){this.engineService.setMetric(this.metricChoiceControl.value)}changeRelationPath(){this.engineService.setShowRelationFullPath(this.fullRelationPathControl.value)}changeApiPath(){this.engineService.setShowApiFullPath(this.fullApiPathControl.value)}changeAdvancedMode(){this.engineService.setShowAdvancedMode(this.advancedModeControl.value)}}return n.\u0275fac=function(t){return new(t||n)(Te(MI),Te(ib))},n.\u0275cmp=Wn({type:n,selectors:[["app-ui-sidebar-right"]],decls:27,vars:5,consts:[[1,"card-body"],["appearance","fill"],[3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"row","m-1"],["color","primary",3,"formControl","change"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(t,i){1&t&&(be(0,"mat-accordion")(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),He(4," Settings "),Se()(),be(5,"div",0)(6,"mat-form-field",1)(7,"mat-label"),He(8,"Metric:"),Se(),be(9,"mat-select",2),It("selectionChange",function(){return i.changeMetric()}),Ct(10,Spe,2,2,"mat-option",3),Se()(),kn(11,"hr"),be(12,"p"),He(13,"Cube Label Settings"),Se(),be(14,"div",4)(15,"mat-slide-toggle",5),It("change",function(){return i.changeRelationPath()}),He(16," Full Relation Path "),Se(),be(17,"mat-slide-toggle",5),It("change",function(){return i.changeApiPath()}),He(18," Full Api Path "),Se()(),kn(19,"hr"),be(20,"div",4)(21,"mat-slide-toggle",5),It("change",function(){return i.changeAdvancedMode()}),He(22," Advanced Mode "),Se()(),kn(23,"hr"),be(24,"div",4)(25,"button",6),It("click",function(){return i.engineService.changeCamera()}),He(26,"Change Perspective"),Se()()()()()),2&t&&(Be(9),Ke("formControl",i.metricChoiceControl),Be(1),Ke("ngForOf",i.engineService.alignmentContainer.metricsNames),Be(5),Ke("formControl",i.fullRelationPathControl),Be(2),Ke("formControl",i.fullApiPathControl),Be(4),Ke("formControl",i.advancedModeControl))},dependencies:[_a,ul,xI,Pu,nc,Vv,Hp,upe,jp,Zp,Wv,ss,HI],encapsulation:2}),n})(),Ipe=(()=>{class n{constructor(t){this.engineService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(Te(ib))},n.\u0275cmp=Wn({type:n,selectors:[["app-ui-infobar-bottom"]],decls:2,vars:0,template:function(t,i){1&t&&(be(0,"p"),He(1," ui-infobar-bottom works!\n"),Se())},encapsulation:2}),n})();const xpe=["*"];let VI;function kb(n){var e;return(null===(e=function Epe(){if(void 0===VI&&(VI=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(VI=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return VI}())||void 0===e?void 0:e.createHTML(n))||n}function sG(n){return Error(`Unable to find icon with the name "${n}"`)}function aG(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function lG(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Kp{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let WI=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new Kp(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const s=this._sanitizer.sanitize(ir.HTML,r);if(!s)throw lG(r);const a=kb(s);return this._addSvgIconConfig(t,i,new Kp("",a,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Kp(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(ir.HTML,i);if(!o)throw lG(i);const s=kb(o);return this._addSvgIconSetConfig(t,new Kp("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(ir.RESOURCE_URL,t);if(!i)throw aG(t);const r=this._cachedIconsByUrl.get(i);return r?ai(UI(r)):this._loadSvgIconFromConfig(new Kp(t,null)).pipe(Mo(o=>this._cachedIconsByUrl.set(i,o)),he(o=>UI(o)))}getNamedSvgIcon(t,i=""){const r=cG(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):Wc(sG(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ai(UI(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(he(i=>UI(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?ai(r):aW(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Cu(a=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(ir.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(b)),ai(null)})))).pipe(he(()=>{const s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw sG(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Mo(i=>t.svgText=i),he(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ai(null):this._fetchIcon(t).pipe(Mo(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(kb("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(kb("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:o}=t,s=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function Mpe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(ir.RESOURCE_URL,r);if(!a)throw aG(r);const c=this._inProgressUrlFetches.get(a);if(c)return c;const b=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(he(L=>kb(L)),Y1(()=>this._inProgressUrlFetches.delete(a)),Wo());return this._inProgressUrlFetches.set(a,b),b}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(cG(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return Rpe(o)?new Kp(o.url,null,o.options):new Kp(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(At(T_,8),At(j1),At(Oi,8),At(Dc))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UI(n){return n.cloneNode(!0)}function cG(n,e){return n+":"+e}function Rpe(n){return!(!n.url||!n.options)}const Dpe=Xd(class{constructor(n){this._elementRef=n}}),kpe=new rn("MAT_ICON_DEFAULT_OPTIONS"),Lpe=new rn("mat-icon-location",{providedIn:"root",factory:function Ppe(){const n=Kr(Oi),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),uG=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ope=uG.map(n=>`[${n}]`).join(", "),Fpe=/^url\(['"]?#(.*?)['"]?\)$/;let rc=(()=>{class n extends Dpe{constructor(t,i,r,o,s,a){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ee.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Gi(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(Ope),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)uG.forEach(s=>{const a=i[o],c=a.getAttribute(s),b=c?c.match(Fpe):null;if(b){let L=r.get(a);L||(L=[],r.set(a,L)),L.push({name:s,value:b[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Eo(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(WI),la("aria-hidden"),Te(Lpe),Te(Dc),Te(kpe,8))},n.\u0275cmp=Wn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(Zi("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Li("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Cn],ngContentSelectors:xpe,decls:1,vars:0,template:function(t,i){1&t&&(Ts(),Ur(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),hG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[qi,qi]}),n})(),dG=(()=>{class n{constructor(t){this.engineService=t}ngOnInit(){}changeViewMode(){switch(this.engineService.viewMode){case Cs.View2DAlignment:this.engineService.changeViewMode(Cs.View2DApi);break;case Cs.View2DApi:this.engineService.changeViewMode(Cs.View2DRelation);break;case Cs.View2DRelation:this.engineService.changeViewMode(Cs.View3D);break;case Cs.View3D:this.engineService.changeViewMode(Cs.View2DAlignment)}}}return n.\u0275fac=function(t){return new(t||n)(Te(ib))},n.\u0275cmp=Wn({type:n,selectors:[["app-ui-infobar-top"]],decls:4,vars:1,consts:[["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(be(0,"button",0),It("click",function(){return i.changeViewMode()}),be(1,"mat-icon"),He(2,"cameraswitch"),Se(),He(3),Se()),2&t&&(Be(3),Ar(" ",i.engineService.viewMode,"\n"))},dependencies:[rc,ss],encapsulation:2}),n})(),Npe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Wn({type:n,selectors:[["app-ui"]],viewQuery:function(t,i){if(1&t&&(Pi(IU,5),Pi(oG,5),Pi(Ipe,5),Pi(dG,5)),2&t){let r;Ln(r=Pn())&&(i.leftSidebar=r.first),Ln(r=Pn())&&(i.rightSidebar=r.first),Ln(r=Pn())&&(i.bottomInfobar=r.first),Ln(r=Pn())&&(i.topInfobar=r.first)}},inputs:{engineService:"engineService"},decls:4,vars:0,consts:[[1,"ui-wrapper"],[1,"ui-wrapper-top"],[1,"ui-wrapper-left"],[1,"ui-wrapper-right"]],template:function(t,i){1&t&&(be(0,"div",0),kn(1,"app-ui-infobar-top",1)(2,"app-ui-sidebar-left",2)(3,"app-ui-sidebar-right",3),Se())},dependencies:[dG,IU,oG],styles:[".ui-wrapper[_ngcontent-%COMP%]{position:relative}.ui-wrapper[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{z-index:10}.ui-wrapper-left[_ngcontent-%COMP%]{position:absolute;left:0;z-index:10;height:80%;max-width:20%;margin:1rem;display:inline-block}.ui-wrapper-right[_ngcontent-%COMP%]{position:absolute;right:0;z-index:10;width:20%;max-width:20%;margin:1rem;display:inline-block}.ui-wrapper-top[_ngcontent-%COMP%]{position:absolute;left:50%;margin:1rem}.label[_ngcontent-%COMP%]{color:#fff;font-family:sans-serif;padding:2px;background:rgba(0,0,0,.6)}.example-action-buttons[_ngcontent-%COMP%]{padding-bottom:20px}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-basis:0}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:2px}"]}),n})();var $pe=Ve(4411),Bpe=Ve.n($pe);const Hpe=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://example.com/alignment.schema.json","type":"object","properties":{"name":{"type":"string"},"system":{"type":"string"},"description":{"type":"string"},"alignments":{"type":"array","items":{"$ref":"#/definitions/mapping"}}},"required":["name","alignments"],"definitions":{"mapping":{"type":"object","properties":{"api_path":{"type":"array","items":{"type":"string"}},"relation_path":{"type":"array","items":{"$ref":"#/definitions/relationPath"}},"metrics":{"type":"object","patternProperties":{"":{"type":"number"}}}},"required":["api_path","relation_path","metrics"]},"relationPath":{"type":"object","properties":{"path":{"type":"array","items":{"type":"string"}}}}}}');let Vpe=(()=>{class n{constructor(t){this.httpClient=t}getAlignmentsOverview(){return we(this,void 0,void 0,function*(){return yield this.httpClient.get(Ni_baseUrl+"/alignmentManagement").toPromise()})}}return n.\u0275fac=function(t){return new(t||n)(At(T_))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wpe=["fileSelector"];function Upe(n,e){if(1&n&&(be(0,"mat-option",15),He(1),Se()),2&n){const t=e.$implicit;Ke("value",t),Be(1),Ar(" ",t.name," ")}}function Gpe(n,e){if(1&n&&(be(0,"tr"),kn(1,"th",16),be(2,"td"),He(3),Se(),be(4,"td"),He(5),Se(),be(6,"td"),He(7),Se()()),2&n){const t=e.$implicit;Be(3),Jr(t.name),Be(2),Jr(t.system),Be(2),Jr(t.alignments.length)}}let J2=(()=>{class n{constructor(t){this.connection=t,this.newAlignmentAdded=new ni,this.alignments=[],this.selectedAlignments=[]}ngOnInit(){this.ajv=new(Bpe())({allErrors:!0}),this.ajv.addSchema(Hpe,"mySchema"),this.connection.getAlignmentsOverview().then(t=>{this.alignments=t.files})}readFiles(){const t=this.fileSelector.nativeElement;t.onchange=()=>{for(const i of t.files){const r=new FileReader;r.onload=()=>{try{const o=JSON.parse(r.result.toString());if(this.parseAndLog(o)){const a=JSON.parse(r.result.toString());this.alignments.push(a),this.addAlignment(a)}else{let a="JSONSchemaError \n";for(const c of this.ajv.errors)a+=c.message+"\n";alert(a)}}catch(o){alert(o)}},r.readAsText(i)}},t.click()}addAlignment(t){this.newAlignmentAdded.emit(t),this.selectedAlignments.push(t)}parseAndLog(t){return this.ajv.validate("mySchema",t)}}return n.\u0275fac=function(t){return new(t||n)(Te(Vpe))},n.\u0275cmp=Wn({type:n,selectors:[["app-data-selector"]],viewQuery:function(t,i){if(1&t&&Pi(Wpe,5),2&t){let r;Ln(r=Pn())&&(i.fileSelector=r.first)}},outputs:{newAlignmentAdded:"newAlignmentAdded"},decls:36,vars:3,consts:[[1,"card","m-1"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"space"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["type","file","id","fileSelector","multiple","multiple","accept","application/json",1,"form-control",2,"display","none"],["fileSelector",""],["mat-raised-button","","color","primary",1,"center",3,"click"],["aria-hidden","false","aria-label","Example home icon"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"value"],["scope","row"]],template:function(t,i){1&t&&(be(0,"div",0)(1,"div",1)(2,"div",2),He(3," Choose the Data "),Se()(),be(4,"div",3)(5,"div")(6,"div")(7,"mat-form-field",4)(8,"mat-label"),He(9,"Select Alignments"),Se(),be(10,"mat-select",5),It("ngModelChange",function(o){return i.selection=o}),Ct(11,Upe,2,2,"mat-option",6),Se()(),be(12,"button",7),It("click",function(){return i.addAlignment(i.selection)}),He(13,"Add Gold Standard"),Se()(),be(14,"div"),kn(15,"input",8,9),be(17,"button",10),It("click",function(){return i.readFiles()}),be(18,"mat-icon",11),He(19,"folder"),Se(),He(20," Upload Alignment "),Se()()(),kn(21,"br")(22,"br"),be(23,"table",12)(24,"thead")(25,"tr")(26,"th",13),He(27,"#"),Se(),be(28,"th",13),He(29,"name"),Se(),be(30,"th",13),He(31,"system"),Se(),be(32,"th",13),He(33,"entries"),Se()()(),be(34,"tbody"),Ct(35,Gpe,8,3,"tr",14),Se()()()()),2&t&&(Be(10),Ke("ngModel",i.selection),Be(1),Ke("ngForOf",i.alignments),Be(24),Ke("ngForOf",i.selectedAlignments))},dependencies:[_a,ul,rc,Pu,nc,Vv,Hp,ss,tc],styles:[".header[_ngcontent-%COMP%]{color:#36a0ff;font-size:27px;padding:10px}.bigicon[_ngcontent-%COMP%]{font-size:35px;color:#36a0ff}.space[_ngcontent-%COMP%]{padding-right:20px}.center[_ngcontent-%COMP%]{margin:0 auto;display:block}"]}),n})();const zpe=["rendererCanvas"],jpe=["labelRendererCanvas"];function Zpe(n,e){if(1&n){const t=wr();be(0,"div",7)(1,"app-data-selector",8),It("newAlignmentAdded",function(r){return Tn(t),Rn(kt().onAlignmentAdded(r))}),Se(),be(2,"button",9),It("click",function(){return Tn(t),Rn(kt().startAnimation())}),He(3,"Generate AlignmentCube"),Se(),be(4,"button",10),It("click",function(){return Tn(t),Rn(kt().startAnimationExample())}),He(5,"Generate Example 1 System"),Se(),be(6,"button",10),It("click",function(){return Tn(t),Rn(kt().startAnimationExample2Systems())}),He(7,"Generate Example 2 Systems"),Se()()}if(2&n){const t=kt();Be(2),Ke("disabled",t.alignmentModel.alignments.length<1)}}function Kpe(n,e){1&n&&kn(0,"app-ui",11),2&n&&Ke("engineService",kt().engServ)}let Xpe=(()=>{class n{constructor(t,i){this.engServ=t,this.connection=i,this.alignmentModel=new vce}ngOnInit(){this.showAddAlignmentComponent=!0,this.animationStarted=!1,this.selectedAlignments=[],this.engServ.initialize(this.rendererCanvas),this.loadAlignments()}onAlignmentAdded(t){this.alignmentModel.addAlignment(t)}loadAlignments(){this.connection.getAlignments().then(t=>{this.alignments=t.alignments})}startAnimation(){this.showAddAlignmentComponent=!1,this.animationStarted=!0,this.engServ.loadSceneForAlignmentContainer(this.alignmentModel),this.engServ.animate()}startAnimationExample(){this.showAddAlignmentComponent=!1,this.animationStarted=!0;const i=qre,r=Qre,o=eoe;this.alignmentModel.addAlignment(Jre),this.alignmentModel.addAlignment(i),this.alignmentModel.addAlignment(r),this.alignmentModel.addAlignment(o),this.alignmentModel.sortApiLabels(),this.alignmentModel.sortRelationLabels(),this.engServ.loadSceneForAlignmentContainer(this.alignmentModel),this.engServ.animate()}startAnimationExample2Systems(){this.showAddAlignmentComponent=!1,this.animationStarted=!0;const t=toe;this.alignmentModel.addAlignment(noe),this.alignmentModel.addAlignment(t),this.alignmentModel.sortApiLabels(),this.alignmentModel.sortRelationLabels(),this.engServ.loadSceneForAlignmentContainer(this.alignmentModel),this.engServ.animate()}}return n.\u0275fac=function(t){return new(t||n)(Te(ib),Te(ll))},n.\u0275cmp=Wn({type:n,selectors:[["app-alignment-cube"]],viewQuery:function(t,i){if(1&t&&(Pi(zpe,7),Pi(jpe,7)),2&t){let r;Ln(r=Pn())&&(i.rendererCanvas=r.first),Ln(r=Pn())&&(i.labelRendererCanvas=r.first)}},decls:8,vars:4,consts:[["class","h-100 d-flex flex-column align-items-center justify-content-center","style","height: 100%",4,"ngIf"],[3,"engineService",4,"ngIf"],["id","graph-frame",1,"graph-frame"],["id","engine-wrapper",1,"engine-wrapper"],["id","renderCanvas"],["rendererCanvas",""],["id","engine-wrapper-label",1,"engine-wrapper-label"],[1,"h-100","d-flex","flex-column","align-items-center","justify-content-center",2,"height","100%"],[3,"newAlignmentAdded"],["mat-raised-button","","color","primary",1,"m-1",3,"disabled","click"],["mat-raised-button","","color","primary",1,"m-1",3,"click"],[3,"engineService"]],template:function(t,i){1&t&&(Ct(0,Zpe,8,1,"div",0),be(1,"div"),Ct(2,Kpe,1,1,"app-ui",1),be(3,"div",2)(4,"div",3),kn(5,"canvas",4,5),Se(),kn(7,"div",6),Se()()),2&t&&(Ke("ngIf",i.showAddAlignmentComponent),Be(1),nl("display",i.animationStarted?"block":"none"),Be(1),Ke("ngIf",i.animationStarted))},dependencies:[ks,ss,Npe,J2],styles:[".engine-wrapper[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;z-index:-2}.engine-wrapper[_ngcontent-%COMP%]   #renderCanvas[_ngcontent-%COMP%]{width:100%;height:100%;touch-action:none}.engine-wrapper-label[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;z-index:2}"]}),n})(),Ype=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Wn({type:n,selectors:[["app-data-cube-page"]],decls:1,vars:0,template:function(t,i){1&t&&kn(0,"app-alignment-cube")},dependencies:[Xpe]}),n})();function Jpe(n,e){1&n&&Ur(0)}const fG=["*"];function qpe(n,e){}const Qpe=function(n){return{animationDuration:n}},ege=function(n,e){return{value:n,params:e}},tge=["tabListContainer"],nge=["tabList"],ige=["tabListInner"],rge=["nextPaginator"],oge=["previousPaginator"],sge=["tabBodyWrapper"],age=["tabHeader"];function lge(n,e){}function cge(n,e){1&n&&Ct(0,lge,0,0,"ng-template",10),2&n&&Ke("cdkPortalOutlet",kt().$implicit.templateLabel)}function uge(n,e){1&n&&He(0),2&n&&Jr(kt().$implicit.textLabel)}function hge(n,e){if(1&n){const t=wr();be(0,"div",6),It("click",function(){const r=Tn(t),o=r.$implicit,s=r.index,a=kt(),c=bl(1);return Rn(a._handleClick(o,c,s))})("cdkFocusChange",function(r){const s=Tn(t).index;return Rn(kt()._tabFocusChanged(r,s))}),be(1,"div",7),Ct(2,cge,1,1,"ng-template",8),Ct(3,uge,1,1,"ng-template",null,9,MT),Se()()}if(2&n){const t=e.$implicit,i=e.index,r=bl(4),o=kt();Li("mat-tab-label-active",o.selectedIndex===i),Ke("id",o._getTabLabelId(i))("ngClass",t.labelClass)("disabled",t.disabled)("matRippleDisabled",t.disabled||o.disableRipple),Zi("tabIndex",o._getTabIndex(t,i))("aria-posinset",i+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(i))("aria-selected",o.selectedIndex===i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),Be(2),Ke("ngIf",t.templateLabel)("ngIfElse",r)}}function dge(n,e){if(1&n){const t=wr();be(0,"mat-tab-body",11),It("_onCentered",function(){return Tn(t),Rn(kt()._removeTabBodyWrapperHeight())})("_onCentering",function(r){return Tn(t),Rn(kt()._setTabBodyWrapperHeight(r))}),Se()}if(2&n){const t=e.$implicit,i=e.index,r=kt();Li("mat-tab-body-active",r.selectedIndex===i),Ke("id",r._getTabContentId(i))("ngClass",t.bodyClass)("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),Zi("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const fge=new rn("MatInkBarPositioner",{providedIn:"root",factory:function pge(){return e=>({left:e?(e.offsetLeft||0)+"px":"0",width:e?(e.offsetWidth||0)+"px":"0"})}});let pG=(()=>{class n{constructor(t,i,r,o){this._elementRef=t,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=o}alignToElement(t){this.show(),this._ngZone.run(()=>{this._ngZone.onStable.pipe(Eo(1)).subscribe(()=>{const i=this._inkBarPositioner(t),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width})})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(Ei),Te(fge),Te(No,8))},n.\u0275dir=Gt({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,i){2&t&&Li("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const gge=new rn("MatTabContent"),mge=new rn("MatTabLabel"),vge=new rn("MAT_TAB"),yge=$p(class{}),gG=new rn("MAT_TAB_GROUP");let ef=(()=>{class n extends yge{constructor(t,i){super(),this._viewContainerRef=t,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new F,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Gp(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}}return n.\u0275fac=function(t){return new(t||n)(Te(Fo),Te(gG,8))},n.\u0275cmp=Wn({type:n,selectors:[["mat-tab"]],contentQueries:function(t,i,r){if(1&t&&(kr(r,mge,5),kr(r,gge,7,uo)),2&t){let o;Ln(o=Pn())&&(i.templateLabel=o.first),Ln(o=Pn())&&(i._explicitContent=o.first)}},viewQuery:function(t,i){if(1&t&&Pi(uo,7),2&t){let r;Ln(r=Pn())&&(i._implicitContent=r.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[yi([{provide:vge,useExisting:n}]),Cn,lo],ngContentSelectors:fG,decls:1,vars:0,template:function(t,i){1&t&&(Ts(),Ct(0,Jpe,1,0,"ng-template"))},encapsulation:2}),n})();const _ge={translateTab:Qc("translateTab",[Ho("center, void, left-origin-center, right-origin-center",$r({transform:"none"})),Ho("left",$r({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Ho("right",$r({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),ra("* => left, * => right, left => center, right => center",Ia("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),ra("void => left-origin-center",[$r({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Ia("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),ra("void => right-origin-center",[$r({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Ia("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let bge=(()=>{class n extends Ou{constructor(t,i,r,o){super(t,i,o),this._host=r,this._centeringSub=ee.EMPTY,this._leavingSub=ee.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Us(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(Te(Rc),Te(Fo),Te(zi(()=>mG)),Te(Oi))},n.\u0275dir=Gt({type:n,selectors:[["","matTabBodyHost",""]],features:[Cn]}),n})(),Cge=(()=>{class n{constructor(t,i,r){this._elementRef=t,this._dir=i,this._dirChangeSubscription=ee.EMPTY,this._translateTabComplete=new F,this._onCentering=new ni,this._beforeCentering=new ni,this._afterLeavingCenter=new ni,this._onCentered=new ni(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),r.markForCheck()})),this._translateTabComplete.pipe(mb((o,s)=>o.fromState===s.fromState&&o.toState===s.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const i=this._isCenterPosition(t.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const i=this._getLayoutDirection();return"ltr"==i&&t<=0||"rtl"==i&&t>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(za,8),Te(Hr))},n.\u0275dir=Gt({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),mG=(()=>{class n extends Cge{constructor(t,i,r){super(t,i,r)}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(za,8),Te(Hr))},n.\u0275cmp=Wn({type:n,selectors:[["mat-tab-body"]],viewQuery:function(t,i){if(1&t&&Pi(Ou,5),2&t){let r;Ln(r=Pn())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-tab-body"],features:[Cn],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,i){1&t&&(be(0,"div",0,1),It("@translateTab.start",function(o){return i._onTranslateTabStarted(o)})("@translateTab.done",function(o){return i._translateTabComplete.next(o)}),Ct(2,qpe,0,0,"ng-template",2),Se()),2&t&&Ke("@translateTab",Dd(3,ege,i._position,Jf(1,Qpe,i.animationDuration)))},dependencies:[bge],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[_ge.translateTab]}}),n})();const vG=new rn("MAT_TABS_CONFIG"),wge=$p(class{});let yG=(()=>{class n extends wge{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(t){return new(t||n)(Te(ci))},n.\u0275dir=Gt({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,i){2&t&&(Zi("aria-disabled",!!i.disabled),Li("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[Cn]}),n})();const _G=Tv({passive:!0});let Ige=(()=>{class n{constructor(t,i,r,o,s,a,c){this._elementRef=t,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=o,this._ngZone=s,this._platform=a,this._animationMode=c,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new F,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new F,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new ni,this.indexFocused=new ni,s.runOutsideAngular(()=>{Up(t.nativeElement,"mouseleave").pipe(br(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get disablePagination(){return this._disablePagination}set disablePagination(t){this._disablePagination=Gi(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=xl(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){Up(this._previousPaginator.nativeElement,"touchstart",_G).pipe(br(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Up(this._nextPaginator.nativeElement,"touchstart",_G).pipe(br(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:ai("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new f2(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Eo(1)).subscribe(r),po(t,i,this._items.changes,this._itemsResized()).pipe(br(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(br(this._destroyed)).subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return"function"!=typeof ResizeObserver?An:this._items.changes.pipe(Us(this._items),ba(t=>new K(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(o=>i.next(o));return t.forEach(o=>r.observe(o.elementRef.nativeElement)),()=>{r.disconnect()}}))),u2(1),_o(t=>t.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Jc(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const i=this._items?this._items.toArray()[t]:null;return!!i&&!i.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const i=this._items?this._items.toArray()[t]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=i.elementRef.nativeElement;let a,c;"ltr"==this._getLayoutDirection()?(a=o,c=a+s):(c=this._tabListInner.nativeElement.offsetWidth-o,a=c-s);const b=this.scrollDistance,L=this.scrollDistance+r;a<b?this.scrollDistance-=b-a+60:c>L&&(this.scrollDistance+=c-L+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=t?t.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),FU(650,100).pipe(br(po(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:o}=this._scrollHeader(t);(0===o||o>=r)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(Hr),Te(qd),Te(za,8),Te(Ei),Te(Xo),Te(No,8))},n.\u0275dir=Gt({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),xge=(()=>{class n extends Ige{constructor(t,i,r,o,s,a,c){super(t,i,r,o,s,a,c),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Gi(t)}_itemSelected(t){t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(Hr),Te(qd),Te(za,8),Te(Ei),Te(Xo),Te(No,8))},n.\u0275dir=Gt({type:n,inputs:{disableRipple:"disableRipple"},features:[Cn]}),n})(),Ege=(()=>{class n extends xge{constructor(t,i,r,o,s,a,c){super(t,i,r,o,s,a,c)}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(Hr),Te(qd),Te(za,8),Te(Ei),Te(Xo),Te(No,8))},n.\u0275cmp=Wn({type:n,selectors:[["mat-tab-header"]],contentQueries:function(t,i,r){if(1&t&&kr(r,yG,4),2&t){let o;Ln(o=Pn())&&(i._items=o)}},viewQuery:function(t,i){if(1&t&&(Pi(pG,7),Pi(tge,7),Pi(nge,7),Pi(ige,7),Pi(rge,5),Pi(oge,5)),2&t){let r;Ln(r=Pn())&&(i._inkBar=r.first),Ln(r=Pn())&&(i._tabListContainer=r.first),Ln(r=Pn())&&(i._tabList=r.first),Ln(r=Pn())&&(i._tabListInner=r.first),Ln(r=Pn())&&(i._nextPaginator=r.first),Ln(r=Pn())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,i){2&t&&Li("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Cn],ngContentSelectors:fG,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,i){1&t&&(Ts(),be(0,"button",0,1),It("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(o){return i._handlePaginatorPress("before",o)})("touchend",function(){return i._stopInterval()}),kn(2,"div",2),Se(),be(3,"div",3,4),It("keydown",function(o){return i._handleKeydown(o)}),be(5,"div",5,6),It("cdkObserveContent",function(){return i._onContentChanges()}),be(7,"div",7,8),Ur(9),Se(),kn(10,"mat-ink-bar"),Se()(),be(11,"button",9,10),It("mousedown",function(o){return i._handlePaginatorPress("after",o)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),kn(13,"div",2),Se()),2&t&&(Li("mat-tab-header-pagination-disabled",i._disableScrollBefore),Ke("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),Be(5),Li("_mat-animation-noopable","NoopAnimations"===i._animationMode),Be(6),Li("mat-tab-header-pagination-disabled",i._disableScrollAfter),Ke("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},dependencies:[qc,cI,pG],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}.mat-tab-label::before{margin:5px}@media(max-width: 599px){.mat-tab-label{min-width:72px}}"],encapsulation:2}),n})(),Mge=0;class Tge{}const Rge=Xd(Pv(class{constructor(n){this._elementRef=n}}),"primary");let Dge=(()=>{class n extends Rge{constructor(t,i,r,o){var s;super(t),this._changeDetectorRef=i,this._animationMode=o,this._tabs=new vu,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=ee.EMPTY,this._tabLabelSubscription=ee.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new ni,this.focusChange=new ni,this.animationDone=new ni,this.selectedTabChange=new ni(!0),this._groupId=Mge++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=null!==(s=null==r?void 0:r.contentTabIndex)&&void 0!==s?s:null,this.preserveContent=!(null==r||!r.preserveContent)}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Gi(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=xl(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t+"")?t+"ms":t}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=xl(t,null)}get disablePagination(){return this._disablePagination}set disablePagination(t){this._disablePagination=Gi(t)}get preserveContent(){return this._preserveContent}set preserveContent(t){this._preserveContent=Gi(t)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),t&&i.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(t));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===t),i||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-t,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const i=this._tabs.toArray();let r;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=i[o];break}!r&&i[t]&&Promise.resolve().then(()=>{i[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Us(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const i=this._tabHeader;i&&(i.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const i=new Tge;return i.index=t,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[t]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=po(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,i,r){t.disabled||(this.selectedIndex=i.focusIndex=r)}_getTabIndex(t,i){var r;return t.disabled?null:i===(null!==(r=this._lastFocusedTabIndex)&&void 0!==r?r:this.selectedIndex)?0:-1}_tabFocusChanged(t,i){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(Hr),Te(vG,8),Te(No,8))},n.\u0275dir=Gt({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[Cn]}),n})(),Xp=(()=>{class n extends Dge{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(Hr),Te(vG,8),Te(No,8))},n.\u0275cmp=Wn({type:n,selectors:[["mat-tab-group"]],contentQueries:function(t,i,r){if(1&t&&kr(r,ef,5),2&t){let o;Ln(o=Pn())&&(i._allTabs=o)}},viewQuery:function(t,i){if(1&t&&(Pi(sge,5),Pi(age,5)),2&t){let r;Ln(r=Pn())&&(i._tabBodyWrapper=r.first),Ln(r=Pn())&&(i._tabHeader=r.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,i){2&t&&Li("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[yi([{provide:gG,useExisting:n}]),Cn],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(t,i){1&t&&(be(0,"mat-tab-header",0,1),It("indexFocused",function(o){return i._focusChanged(o)})("selectFocusedIndex",function(o){return i.selectedIndex=o}),Ct(2,hge,5,15,"div",2),Se(),be(3,"div",3,4),Ct(5,dge,1,11,"mat-tab-body",5),Se()),2&t&&(Ke("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),Be(2),Ke("ngForOf",i._tabs),Be(1),Li("_mat-animation-noopable","NoopAnimations"===i._animationMode),Be(2),Ke("ngForOf",i._tabs))},dependencies:[u_,_a,ks,Ou,qc,due,yG,mG,Ege],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:2}),n})(),kge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[Vc,qi,Qd,Bp,vb,gI,qi]}),n})();function Lge(n,e){}class GI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let CG=(()=>{class n extends FI{constructor(t,i,r,o,s,a,c,b){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=b,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=L=>{this._portalOutlet.hasAttached();const H=this._portalOutlet.attachDomPortal(L);return this._contentAttached(),H},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=oI(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=oI();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=oI())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(p2),Te(Oi,8),Te(GI),Te(fI),Te(Ei),Te(Tb),Te(Ql))},n.\u0275cmp=Wn({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&Pi(Ou,7),2&t){let r;Ln(r=Pn())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&Zi("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[Cn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&Ct(0,Lge,0,0,"ng-template",0)},dependencies:[Ou],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class q2{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new F,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Jc(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=(null==t?void 0:t.focusOrigin)||"program",this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const wG=new rn("DialogScrollStrategy"),Pge=new rn("DialogData"),Oge=new rn("DefaultDialogConfig"),Nge={provide:wG,deps:[ic],useFactory:function Fge(n){return()=>n.scrollStrategies.block()}};let $ge=0,AG=(()=>{class n{constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new F,this._afterOpenedAtThisLevel=new F,this._ariaHiddenElements=new Map,this.afterAllClosed=p_(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Us(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,i){const r=this._defaultOptions||new GI;(i=Object.assign(Object.assign({},r),i)).id=i.id||"cdk-dialog-"+$ge++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new q2(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(t,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){Q2(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){Q2(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),Q2(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new NI({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){var o;const s=r.injector||(null===(o=r.viewContainerRef)||void 0===o?void 0:o.injector),a=[{provide:GI,useValue:r},{provide:q2,useValue:i},{provide:Tb,useValue:t}];let c;r.container?"function"==typeof r.container?c=r.container:(c=r.container.type,a.push(...r.container.providers(r))):c=CG;const b=new Bv(c,r.viewContainerRef,vo.create({parent:s||this._injector,providers:a}),r.componentFactoryResolver);return t.attach(b).instance}_attachDialogContent(t,i,r,o){if(t instanceof uo){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a=Object.assign(Object.assign({},a),"function"==typeof o.templateContext?o.templateContext():o.templateContext)),r.attachTemplatePortal(new Gp(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new Bv(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentInstance=a.instance}}_createInjector(t,i,r,o){var s;const a=t.injector||(null===(s=t.viewContainerRef)||void 0===s?void 0:s.injector),c=[{provide:Pge,useValue:t.data},{provide:q2,useValue:i}];return t.providers&&("function"==typeof t.providers?c.push(...t.providers(i,t,r)):c.push(...t.providers)),t.direction&&(!a||!a.get(za,null,Ci.Optional))&&c.push({provide:za,useValue:{value:t.direction,change:ai()}}),vo.create({parent:a||o,providers:c})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(At(ic),At(vo),At(Oge,8),At(n,12),At($I),At(wG))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();function Q2(n,e){let t=n.length;for(;t--;)e(n[t])}let Bge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({providers:[AG,Nge],imports:[Rb,Qd,gI,Qd]}),n})();function Hge(n,e){}const Uv={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},Vge={dialogContainer:Qc("dialogContainer",[Ho("void, exit",$r({opacity:0,transform:"scale(0.7)"})),Ho("enter",$r({transform:"none"})),ra("* => enter",MU([Ia("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",$r({transform:"none",opacity:1})),U2("@*",W2(),{optional:!0})]),Uv),ra("* => void, * => exit",MU([Ia("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",$r({opacity:0})),U2("@*",W2(),{optional:!0})]),Uv)])};class El{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Uv.params.enterAnimationDuration,this.exitAnimationDuration=Uv.params.exitAnimationDuration}}let Wge=(()=>{class n extends CG{constructor(t,i,r,o,s,a,c,b){super(t,i,r,o,s,a,c,b),this._animationStateChanged=new ni}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(p2),Te(Oi,8),Te(El),Te(fI),Te(Ei),Te(Tb),Te(Ql))},n.\u0275cmp=Wn({type:n,selectors:[["ng-component"]],features:[Cn],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),Uge=(()=>{class n extends Wge{constructor(t,i,r,o,s,a,c,b,L){super(t,i,r,o,s,a,c,L),this._changeDetectorRef=b,this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?this._openAnimationDone(i):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Uv.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Uv.params.exitAnimationDuration}}}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(p2),Te(Oi,8),Te(El),Te(fI),Te(Ei),Te(Tb),Te(Hr),Te(Ql))},n.\u0275cmp=Wn({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,i){1&t&&h1("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&t&&(Nc("id",i._config.id),Zi("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),p1("@dialogContainer",i._getAnimationState()))},features:[Cn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&Ct(0,Hge,0,0,"ng-template",0)},dependencies:[Ou],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[Vge.dialogContainer]}}),n})();class SG{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new F,this._beforeClosed=new F,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(_o(r=>"opened"===r.state),Eo(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(_o(r=>"closed"===r.state),Eo(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),po(this.backdropClick(),this.keydownEvents().pipe(_o(r=>27===r.keyCode&&!this.disableClose&&!Jc(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),IG(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(_o(t=>"closing"===t.state),Eo(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function IG(n,e,t){return n._closeInteractionType=e,n.close(t)}const Gv=new rn("MatDialogData"),Gge=new rn("mat-dialog-default-options"),xG=new rn("mat-dialog-scroll-strategy"),jge={provide:xG,deps:[ic],useFactory:function zge(n){return()=>n.scrollStrategies.block()}};let Zge=0,Kge=(()=>{class n{constructor(t,i,r,o,s,a,c,b,L,H){this._overlay=t,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=c,this._dialogContainerType=b,this._dialogDataToken=L,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new F,this._afterOpenedAtThisLevel=new F,this._idPrefix="mat-dialog-",this.afterAllClosed=p_(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Us(void 0))),this._scrollStrategy=a,this._dialog=i.get(AG)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){let r;(i=Object.assign(Object.assign({},this._defaultOptions||new El),i)).id=i.id||`${this._idPrefix}${Zge++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,Object.assign(Object.assign({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:El,useValue:i},{provide:GI,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,i,c),r.updatePosition(null==i?void 0:i.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){Lc()},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})(),eu=(()=>{class n extends Kge{constructor(t,i,r,o,s,a,c,b){super(t,i,o,a,c,s,SG,Uge,Gv,b)}}return n.\u0275fac=function(t){return new(t||n)(At(ic),At(vo),At(a_,8),At(Gge,8),At(xG),At(n,12),At($I),At(No,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})(),Yp=(()=>{class n{constructor(t,i,r){this.dialogRef=t,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function Xge(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){IG(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(Te(SG,8),Te(ci),Te(eu))},n.\u0275dir=Gt({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,i){1&t&&It("click",function(o){return i._onButtonClick(o)}),2&t&&Zi("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[lo]}),n})(),Jp=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Gt({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(t,i){2&t&&Li("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})(),Yge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({providers:[eu,jge],imports:[Bge,Rb,Qd,qi,qi]}),n})();var Jge=Ve(623);const qge=["jsonEditorContainer"];class tf{constructor(){this.enableSort=!0,this.enableTransform=!0,this.escapeUnicode=!1,this.expandAll=!1,this.sortObjectKeys=!1,this.history=!0,this.mode="tree",this.search=!0,this.indentation=2}}let Lb=(()=>{class n{constructor(){this.id="angjsoneditor"+Math.floor(1e6*Math.random()),this.disabled=!1,this.isFocused=!1,this.optionsChanged=!1,this._data={},this.options=new tf,this.debug=!1,this.change=new ni,this.jsonChange=new ni,this.onTouched=()=>{},this.onChangeModel=t=>{}}set data(t){this._data=t,this.editor&&(this.editor.destroy(),this.ngOnInit())}ngOnInit(){let t=this.options;!this.optionsChanged&&this.editor&&(t=this.editor.options),!this.options.onChangeJSON&&this.jsonChange&&(this.options.onChangeJSON=this.onChangeJSON.bind(this)),!this.options.onChange&&this.change&&(this.options.onChange=this.onChange.bind(this));const i=Object.assign({},t);delete i.expandAll,this.debug&&console.log(i,this._data),this.jsonEditorContainer.nativeElement||console.error("Can't find the ElementRef reference for jsoneditor)"),("text"===i.mode||"code"===i.mode)&&(i.onChangeJSON=null),this.editor=new Jge(this.jsonEditorContainer.nativeElement,i,this._data),this.options.expandAll&&this.editor.expandAll()}ngOnDestroy(){this.destroy()}writeValue(t){this.data=t}registerOnChange(t){this.onChangeModel=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}onChange(t){if(this.editor)try{const i=this.editor.get();this.onChangeModel(i),this.change.emit(i)}catch(i){this.debug&&console.log(i)}}onChangeJSON(t){if(this.editor)try{this.jsonChange.emit(this.editor.get())}catch(i){this.debug&&console.log(i)}}collapseAll(){this.editor.collapseAll()}expandAll(){this.editor.expandAll()}focus(){this.editor.focus()}get(){return this.editor.get()}getMode(){return this.editor.getMode()}getName(){return this.editor.getName()}getText(){return this.editor.getText()}set(t){this.editor.set(t)}setMode(t){this.editor.setMode(t)}setName(t){this.editor.setName(t)}setSelection(t,i){this.editor.setSelection(t,i)}getSelection(){return this.editor.getSelection()}getValidateSchema(){return this.editor.validateSchema}setSchema(t,i){this.editor.setSchema(t,i)}search(t){this.editor.search(t)}setOptions(t){this.editor&&this.editor.destroy(),this.optionsChanged=!0,this.options=t,this.ngOnInit()}update(t){this.editor.update(t)}destroy(){var t;null===(t=this.editor)||void 0===t||t.destroy()}getEditor(){return this.editor}isValidJson(){try{return JSON.parse(this.getText()),!0}catch(t){return!1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Wn({type:n,selectors:[["json-editor"]],viewQuery:function(t,i){if(1&t&&Pi(qge,7),2&t){let r;Ln(r=Pn())&&(i.jsonEditorContainer=r.first)}},inputs:{options:"options",data:"data",debug:"debug"},outputs:{change:"change",jsonChange:"jsonChange"},features:[yi([{provide:cl,useExisting:zi(()=>n),multi:!0}])],decls:2,vars:1,consts:[[3,"id"],["jsonEditorContainer",""]],template:function(t,i){1&t&&kn(0,"div",0,1),2&t&&Ke("id",i.id)},encapsulation:2,changeDetection:0}),n})(),Qge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({}),n})();var zv=Ve(5682);function eme(n,e){if(1&n){const t=wr();be(0,"div",2)(1,"button",3),It("click",function(){return Tn(t),Rn(kt().action())}),He(2),Se()()}if(2&n){const t=kt();Be(2),Jr(t.data.action)}}function tme(n,e){}const EG=new rn("MatSnackBarData");class zI{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const nme=Math.pow(2,31)-1;class eL{constructor(e,t){this._overlayRef=t,this._afterDismissed=new F,this._afterOpened=new F,this._onAction=new F,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,nme))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let ime=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(Te(eL),Te(EG))},n.\u0275cmp=Wn({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,i){1&t&&(be(0,"span",0),He(1),Se(),Ct(2,eme,3,1,"div",1)),2&t&&(Be(1),Jr(i.data.message),Be(1),Ke("ngIf",i.hasAction))},dependencies:[ks,ss],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const rme={snackBarState:Qc("state",[Ho("void, hidden",$r({transform:"scale(0.8)",opacity:0})),Ho("visible",$r({transform:"scale(1)",opacity:1})),ra("* => visible",Ia("150ms cubic-bezier(0, 0, 0.2, 1)")),ra("* => void, * => hidden",Ia("75ms cubic-bezier(0.4, 0.0, 1, 1)",$r({opacity:0})))])};let ome=(()=>{class n extends FI{constructor(t,i,r,o,s){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new F,this._onExit=new F,this._onEnter=new F,this._animationState="void",this.attachDomPortal=a=>{this._assertNotAttached();const c=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),c},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Eo(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),null==r||r.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(Te(Ei),Te(ci),Te(Hr),Te(Xo),Te(zI))},n.\u0275dir=Gt({type:n,viewQuery:function(t,i){if(1&t&&Pi(Ou,7),2&t){let r;Ln(r=Pn())&&(i._portalOutlet=r.first)}},features:[Cn]}),n})(),sme=(()=>{class n extends ome{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275cmp=Wn({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,i){1&t&&h1("@state.done",function(o){return i.onAnimationEnd(o)}),2&t&&p1("@state",i._animationState)},features:[Cn],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(be(0,"div",0),Ct(1,tme,0,0,"ng-template",1),Se(),kn(2,"div")),2&t&&(Be(2),Zi("aria-live",i._live)("role",i._role))},dependencies:[Ou],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[rme.snackBarState]}}),n})(),ame=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[Rb,Qd,Vc,b2,qi,qi]}),n})();const MG=new rn("mat-snack-bar-default-options",{providedIn:"root",factory:function lme(){return new zI}});let cme=(()=>{class n{constructor(t,i,r,o,s,a){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const o=Object.assign(Object.assign({},this._defaultConfig),r);return o.data={message:t,action:i},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const o=vo.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:zI,useValue:i}]}),s=new Bv(this.snackBarContainerComponent,i.viewContainerRef,o),a=t.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(t,i){const r=Object.assign(Object.assign(Object.assign({},new zI),this._defaultConfig),i),o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new eL(s,o);if(t instanceof uo){const c=new Gp(t,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{const c=this._createInjector(r,a),b=new Bv(t,void 0,c),L=s.attachComponentPortal(b);a.instance=L.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(br(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new NI;i.direction=t.direction;let r=this._overlay.position().global();const o="rtl"===t.direction,s="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!o||"end"===t.horizontalPosition&&o,a=!s&&"center"!==t.horizontalPosition;return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return vo.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:eL,useValue:i},{provide:EG,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(At(ic),At(g2),At(vo),At(uI),At(n,12),At(MG))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})(),tu=(()=>{class n extends cme{constructor(t,i,r,o,s,a){super(t,i,r,o,s,a),this.simpleSnackBarComponent=ime,this.snackBarContainerComponent=sme,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(At(ic),At(g2),At(vo),At(uI),At(n,12),At(MG))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:ame}),n})();const TG=Tv({passive:!0});let ume=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return An;const i=Wh(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new F,s="cdk-text-field-autofilled",a=c=>{"cdk-text-field-autofill-start"!==c.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===c.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,TG),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,TG)}}),o}stopMonitoring(t){const i=Wh(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(At(Xo),At(Ei))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({}),n})();const hme=new rn("MAT_INPUT_VALUE_ACCESSOR"),dme=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let fme=0;const pme=q4(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new F}});let qp=(()=>{class n extends pme{constructor(t,i,r,o,s,a,c,b,L,H){super(a,o,s,r),this._elementRef=t,this._platform=i,this._autofillMonitor=b,this._formField=H,this._uid="mat-input-"+fme++,this.focused=!1,this.stateChanges=new F,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(J=>T4().has(J)),this._iOSKeyupListener=J=>{const ce=J.target;!ce.value&&0===ce.selectionStart&&0===ce.selectionEnd&&(ce.setSelectionRange(1,1),ce.setSelectionRange(0,0))};const G=this._elementRef.nativeElement,j=G.nodeName.toLowerCase();this._inputValueAccessor=c||G,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&L.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===j,this._isTextarea="textarea"===j,this._isInFormField=!!H,this._isNativeSelect&&(this.controlType=G.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Gi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,o;return null!==(o=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(Fv.required))&&void 0!==o&&o}set required(t){this._required=Gi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&T4().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Gi(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t;const i=this._formField,r=!i||"legacy"!==i.appearance||null!==(t=i._hasLabel)&&void 0!==t&&t.call(i)?this.placeholder:null;if(r!==this._previousPlaceholder){const o=this._elementRef.nativeElement;this._previousPlaceholder=r,r?o.setAttribute("placeholder",r):o.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){dme.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(Te(ci),Te(Xo),Te(Lu,10),Te(Ib,8),Te($v,8),Te(Ov),Te(hme,10),Te(ume),Te(Ei),Te(z2,8))},n.\u0275dir=Gt({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&It("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(Nc("disabled",i.disabled)("required",i.required),Zi("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),Li("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[yi([{provide:TI,useExisting:n}]),Cn,lo]}),n})(),gme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({providers:[Ov],imports:[RG,RI,qi,RG,RI]}),n})();const mme=["editor"];function vme(n,e){if(1&n&&(be(0,"mat-option",21),He(1),Se()),2&n){const t=e.$implicit;ph("value",t.label),Be(1),Ar("",t.label," ")}}function yme(n,e){if(1&n){const t=wr();Rr(0),be(1,"mat-expansion-panel",9)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),He(4," General Settings "),Se()(),be(5,"div",10)(6,"mat-form-field")(7,"mat-label"),He(8,"API Path"),Se(),be(9,"input",11),It("ngModelChange",function(r){return Tn(t),Rn(kt().webserviceConfiguration.configuration.webservice=r)})("ngModelChange",function(){return Tn(t),Rn(kt().onValueChange())}),Se()(),be(10,"mat-form-field")(11,"mat-label"),He(12,"Database"),Se(),be(13,"mat-select",12),It("ngModelChange",function(r){return Tn(t),Rn(kt().webserviceConfiguration.configuration.db=r)})("ngModelChange",function(){return Tn(t),Rn(kt().onValueChange())}),be(14,"mat-option",13),He(15,"None"),Se(),Ct(16,vme,2,2,"mat-option",14),Se()(),be(17,"mat-form-field")(18,"mat-label"),He(19,"Latency"),Se(),be(20,"input",11),It("ngModelChange",function(r){return Tn(t),Rn(kt().webserviceConfiguration.configuration.latency=r)})("ngModelChange",function(){return Tn(t),Rn(kt().onValueChange())}),Se()(),be(21,"mat-form-field")(22,"mat-label"),He(23,"Max. Requests per Minute"),Se(),be(24,"input",11),It("ngModelChange",function(r){return Tn(t),Rn(kt().webserviceConfiguration.configuration.maxRequestsPerMinute=r)})("ngModelChange",function(){return Tn(t),Rn(kt().onValueChange())}),Se()(),be(25,"mat-form-field")(26,"mat-label"),He(27,"Max. Requests per Day"),Se(),be(28,"input",11),It("ngModelChange",function(r){return Tn(t),Rn(kt().webserviceConfiguration.configuration.maxRequests=r)})("ngModelChange",function(){return Tn(t),Rn(kt().onValueChange())}),Se()(),be(29,"mat-form-field")(30,"mat-label"),He(31,"Input"),Se(),be(32,"input",11),It("ngModelChange",function(r){return Tn(t),Rn(kt().webserviceConfiguration.configuration.inputs=r)})("ngModelChange",function(){return Tn(t),Rn(kt().onValueChange())}),Se()(),be(33,"mat-form-field")(34,"mat-label"),He(35,"SPARQL WHERE Query"),Se(),be(36,"textarea",11),It("ngModelChange",function(r){return Tn(t),Rn(kt().whereString=r)}),Se()()()(),be(37,"mat-expansion-panel")(38,"mat-expansion-panel-header")(39,"mat-panel-title"),He(40," Advanced Settings "),Se()(),be(41,"div",10)(42,"mat-form-field")(43,"mat-label"),He(44,"Error Type"),Se(),be(45,"mat-select",12),It("ngModelChange",function(r){return Tn(t),Rn(kt().webserviceConfiguration.configuration.errorType=r)})("ngModelChange",function(){return Tn(t),Rn(kt().onValueChange())}),be(46,"mat-option",15),He(47,"HTTP Status Codes"),Se(),be(48,"mat-option",16),He(49,"JSON with HTTP Status Code"),Se(),be(50,"mat-option",17),He(51,"JSON without HTTP Status Code"),Se()()(),be(52,"mat-form-field")(53,"mat-label"),He(54,"Search Type"),Se(),be(55,"mat-select",12),It("ngModelChange",function(r){return Tn(t),Rn(kt().webserviceConfiguration.configuration.type=r)})("ngModelChange",function(){return Tn(t),Rn(kt().onValueChange())}),be(56,"mat-option",18),He(57,"Precise Search (Key Values)"),Se(),be(58,"mat-option",19),He(59,"Fuzzy Search (Similarity Measurement)"),Se()()(),be(60,"mat-form-field")(61,"mat-label"),He(62,"Return Template"),Se(),be(63,"input",20),It("ngModelChange",function(r){return Tn(t),Rn(kt().webserviceConfiguration.configuration.returnTemplate=r)})("ngModelChange",function(){return Tn(t),Rn(kt().onValueChange())}),Se()()()(),Dr()}if(2&n){const t=kt();Be(1),Ke("expanded",!0),Be(8),Ke("ngModel",t.webserviceConfiguration.configuration.webservice),Be(4),Ke("ngModel",t.webserviceConfiguration.configuration.db),Be(3),Ke("ngForOf",t.databases),Be(4),Ke("ngModel",t.webserviceConfiguration.configuration.latency),Be(4),Ke("ngModel",t.webserviceConfiguration.configuration.maxRequestsPerMinute),Be(4),Ke("ngModel",t.webserviceConfiguration.configuration.maxRequests),Be(4),Ke("ngModel",t.webserviceConfiguration.configuration.inputs),Be(4),Ke("ngModel",t.whereString),Be(9),Ke("ngModel",t.webserviceConfiguration.configuration.errorType),Be(10),Ke("ngModel",t.webserviceConfiguration.configuration.type),Be(8),Ke("ngModel",t.webserviceConfiguration.configuration.returnTemplate)}}let _me=(()=>{class n{constructor(t,i,r){this.connection=t,this._snackBar=i,this.data=r,this.viewAsString=!1,this.connection.getDatabases().then(o=>{this.databases=o.databases})}ngOnInit(){this.webserviceLabel=this.data,this.editorOptionsConfig=new tf,this.editorOptionsConfig.mode="code",this.editorOptionsConfig.modes=["code"],this.editorOptionsReturnTemplate=new tf,this.editorOptionsReturnTemplate.mode="text",this.editorOptionsReturnTemplate.modes=["text"],this.connection.getWebserviceConfiguration(this.data).then(t=>{this.webserviceConfiguration=t,this.whereString="",t.configuration.where.forEach(i=>{i.forEach(r=>{this.whereString+=r+" "}),this.whereString+="\n"}),zv.config.set("fontSize","14px"),zv.config.set("basePath","https://unpkg.com/ace-builds@1.4.13/src-noconflict"),this.aceEditor=zv.edit(this.editor.nativeElement),this.aceEditor.session.setMode("ace/mode/ftl"),this.aceEditor.session.setValue(this.webserviceConfiguration.returnTemplate)})}onValueChange(){}onJSONChange(){}openSnackBar(t){this._snackBar.open(t,"",{duration:2e3})}save(){const t=[];Array.isArray(this.webserviceConfiguration.configuration.inputs)||(t.push(this.webserviceConfiguration.configuration.inputs),this.webserviceConfiguration.configuration.inputs=t);const i=[];this.whereString.split("\n").forEach(o=>{let s=o.trim().split(" ");3==s.length&&i.push(s)}),this.webserviceConfiguration.configuration.where=i;const r=this.aceEditor.session.getValue();this.connection.updateWebservice(this.webserviceLabel,this.webserviceConfiguration.configuration,r).toPromise().then(()=>{this.openSnackBar("Saved")},o=>{this.openSnackBar("Unable to save changes")})}delete(){this.connection.deleteWebservice(this.webserviceLabel).toPromise().then(()=>{this.openSnackBar("Deleted settings")},t=>{this.openSnackBar("Unable to delete settings")})}}return n.\u0275fac=function(t){return new(t||n)(Te(ll),Te(tu),Te(Gv))},n.\u0275cmp=Wn({type:n,selectors:[["app-webservice-information"]],viewQuery:function(t,i){if(1&t&&(Pi(mme,5),Pi(Lb,5)),2&t){let r;Ln(r=Pn())&&(i.editor=r.first),Ln(r=Pn())&&(i.configEditor=r.first)}},decls:17,vars:3,consts:[[1,"group-container",3,"selectedIndexChange"],["label","Configuration Form"],[4,"ngIf"],["label","Return Template"],[2,"width","70vw","height","70vh"],["editor",""],["mat-raised-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close","click"],["mat-raised-button","","color","warn",3,"mat-dialog-close","click"],["hideToggle","",3,"expanded"],[1,"form-container"],["matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","None"],[3,"value",4,"ngFor","ngForOf"],["value","server"],["value","jsonWithStatus"],["value","jsonWithoutStatus"],["value","precise"],["value","fuzzy"],["matInput","","disabled","",3,"ngModel","ngModelChange"],[3,"value"]],template:function(t,i){1&t&&(be(0,"p")(1,"b"),He(2,"Webservice:"),Se(),He(3),Se(),be(4,"mat-tab-group",0),It("selectedIndexChange",function(){return i.onJSONChange()}),be(5,"mat-tab",1),Ct(6,yme,64,12,"ng-container",2),Se(),be(7,"mat-tab",3),kn(8,"div",4,5),Se()(),be(10,"mat-dialog-actions")(11,"button",6),He(12,"Close"),Se(),be(13,"button",7),It("click",function(){return i.save()}),He(14,"Save"),Se(),be(15,"button",8),It("click",function(){return i.delete()}),He(16,"Delete"),Se()()),2&t&&(Be(3),Ar(" ",i.data,"\n"),Be(3),Ke("ngIf",i.webserviceConfiguration),Be(5),Ke("mat-dialog-close",null))},dependencies:[_a,ks,ku,ul,Pu,nc,Vv,Hp,jp,Zp,Wv,ss,tc,Yp,Jp,qp,Xp,ef]}),n})();const bme=JSON.parse('{"webservice":"/{ws-name}/{pathname}","db":"None","returnTemplate":"{ws-name}/{ws-name}.json.ftl","errorType":"jsonWithStatus","inputs":["q"],"latency":"1000","maxRequests":"2000","where":[["?subject","predicate","$q"]],"type":"precise","maxRequestsPerMinute":"60"}'),Cme=["editor"];function wme(n,e){if(1&n&&(be(0,"mat-option",19),He(1),Se()),2&n){const t=e.$implicit;ph("value",t.label),Be(1),Ar("",t.label," ")}}let Ame=(()=>{class n{constructor(t,i){this.connection=t,this._snackBar=i,this.returnTemplate="",this.connection.getDatabases().then(r=>{this.databases=r.databases})}ngOnInit(){this.editorOptionsConfig=new tf,this.editorOptionsConfig.mode="code",this.editorOptionsConfig.modes=["code"],this.editorOptionsReturnTemplate=new tf,this.editorOptionsReturnTemplate.mode="text",this.editorOptionsReturnTemplate.modes=["text"],this.webserviceTemplate=bme,this.webserviceLabel="",this.whereString="",this.webserviceConfiguration={name:this.webserviceLabel,configuration:this.webserviceTemplate,returnTemplate:"{}"}}ngAfterViewInit(){zv.config.set("fontSize","14px"),zv.config.set("basePath","https://unpkg.com/ace-builds@1.4.13/src-noconflict"),this.aceEditor=zv.edit(this.editor.nativeElement),this.aceEditor.session.setMode("ace/mode/ftl"),this.aceEditor.session.setValue("{}"),this.aceEditor.on("change",()=>{this.onReturnTemplateChange()})}onReturnTemplateChange(){this.returnTemplate=this.aceEditor.session.getValue()}onWebserviceNameChange(){this.webserviceTemplate.webservice="/"+this.webserviceLabel+"/{pathname}",this.webserviceTemplate.returnTemplate="/"+this.webserviceLabel+"/"+this.webserviceLabel+".json.ftl"}onJSONChange(){}onValueChange(){}save(){const t=[];Array.isArray(this.webserviceConfiguration.configuration.inputs)||(t.push(this.webserviceConfiguration.configuration.inputs),this.webserviceConfiguration.configuration.inputs=t);const i=[];this.whereString.split("\n").forEach(r=>{let o=r.trim().split(" ");3==o.length&&i.push(o)}),this.webserviceConfiguration.configuration.where=i,this.webserviceConfiguration.returnTemplate=this.returnTemplate,this.connection.addNewWebservice(this.webserviceLabel,this.webserviceConfiguration.configuration,this.webserviceConfiguration.returnTemplate).toPromise().then(()=>{this.openSnackBar("Saved")},r=>{this.openSnackBar("Unable to add new service")})}openSnackBar(t){this._snackBar.open(t,"",{duration:2e3})}}return n.\u0275fac=function(t){return new(t||n)(Te(ll),Te(tu))},n.\u0275cmp=Wn({type:n,selectors:[["app-webservice-create-form"]],viewQuery:function(t,i){if(1&t&&(Pi(Cme,5),Pi(Lb,5)),2&t){let r;Ln(r=Pn())&&(i.editor=r.first),Ln(r=Pn())&&(i.configEditor=r.first)}},decls:80,vars:15,consts:[[1,"group-container",3,"selectedIndexChange"],["label","Configuration Form"],["hideToggle","",3,"expanded"],[1,"form-container"],["matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","None"],[3,"value",4,"ngFor","ngForOf"],["value","server"],["value","jsonWithStatus"],["value","jsonWithoutStatus"],["value","precise"],["value","fuzzy"],["matInput","","disabled","",3,"ngModel","ngModelChange"],["label","Return Template"],[2,"width","70vw","height","70vh"],["editor",""],["mat-raised-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close","disabled","click"],[3,"value"]],template:function(t,i){1&t&&(be(0,"p")(1,"b"),He(2,"Create a new custom webservice"),Se()(),be(3,"mat-tab-group",0),It("selectedIndexChange",function(){return i.onJSONChange()}),be(4,"mat-tab",1)(5,"mat-expansion-panel",2)(6,"mat-expansion-panel-header")(7,"mat-panel-title"),He(8," General Settings "),Se()(),be(9,"div",3)(10,"mat-form-field")(11,"mat-label"),He(12,"API Label"),Se(),be(13,"input",4),It("ngModelChange",function(o){return i.webserviceLabel=o})("ngModelChange",function(){return i.onWebserviceNameChange()}),Se()(),be(14,"mat-form-field")(15,"mat-label"),He(16,"API Path"),Se(),be(17,"input",4),It("ngModelChange",function(o){return i.webserviceTemplate.webservice=o})("ngModelChange",function(){return i.onValueChange()}),Se()(),be(18,"mat-form-field")(19,"mat-label"),He(20,"Database"),Se(),be(21,"mat-select",5),It("ngModelChange",function(o){return i.webserviceTemplate.db=o})("ngModelChange",function(){return i.onValueChange()}),be(22,"mat-option",6),He(23,"None"),Se(),Ct(24,wme,2,2,"mat-option",7),Se()(),be(25,"mat-form-field")(26,"mat-label"),He(27,"Latency"),Se(),be(28,"input",4),It("ngModelChange",function(o){return i.webserviceTemplate.latency=o})("ngModelChange",function(){return i.onValueChange()}),Se()(),be(29,"mat-form-field")(30,"mat-label"),He(31,"Max. Requests per Minute"),Se(),be(32,"input",4),It("ngModelChange",function(o){return i.webserviceTemplate.maxRequestsPerMinute=o})("ngModelChange",function(){return i.onValueChange()}),Se()(),be(33,"mat-form-field")(34,"mat-label"),He(35,"Max. Requests per Day"),Se(),be(36,"input",4),It("ngModelChange",function(o){return i.webserviceTemplate.maxRequests=o})("ngModelChange",function(){return i.onValueChange()}),Se()(),be(37,"mat-form-field")(38,"mat-label"),He(39,"Input"),Se(),be(40,"input",4),It("ngModelChange",function(o){return i.webserviceTemplate.inputs=o})("ngModelChange",function(){return i.onValueChange()}),Se()(),be(41,"mat-form-field")(42,"mat-label"),He(43,"SPARQL WHERE Query"),Se(),be(44,"textarea",4),It("ngModelChange",function(o){return i.whereString=o}),Se()(),be(45,"mat-expansion-panel")(46,"mat-expansion-panel-header")(47,"mat-panel-title"),He(48," Advanced Settings "),Se()(),be(49,"div",3)(50,"mat-form-field")(51,"mat-label"),He(52,"Error Type"),Se(),be(53,"mat-select",5),It("ngModelChange",function(o){return i.webserviceTemplate.errorType=o})("ngModelChange",function(){return i.onValueChange()}),be(54,"mat-option",8),He(55,"HTTP Status Codes"),Se(),be(56,"mat-option",9),He(57,"JSON with HTTP Status Code"),Se(),be(58,"mat-option",10),He(59,"JSON without HTTP Status Code"),Se()()(),be(60,"mat-form-field")(61,"mat-label"),He(62,"Search Type"),Se(),be(63,"mat-select",5),It("ngModelChange",function(o){return i.webserviceTemplate.type=o})("ngModelChange",function(){return i.onValueChange()}),be(64,"mat-option",11),He(65,"Precise Search (Key Values)"),Se(),be(66,"mat-option",12),He(67,"Fuzzy Search (Similarity Measurement)"),Se()()(),be(68,"mat-form-field")(69,"mat-label"),He(70,"Return Template"),Se(),be(71,"input",13),It("ngModelChange",function(o){return i.webserviceTemplate.returnTemplate=o})("ngModelChange",function(){return i.onValueChange()}),Se()()()()()()(),be(72,"mat-tab",14),kn(73,"div",15,16),Se()(),be(75,"mat-dialog-actions")(76,"button",17),He(77,"Close"),Se(),be(78,"button",18),It("click",function(){return i.save()}),He(79,"Create "),Se()()),2&t&&(Be(5),Ke("expanded",!0),Be(8),Ke("ngModel",i.webserviceLabel),Be(4),Ke("ngModel",i.webserviceTemplate.webservice),Be(4),Ke("ngModel",i.webserviceTemplate.db),Be(3),Ke("ngForOf",i.databases),Be(4),Ke("ngModel",i.webserviceTemplate.latency),Be(4),Ke("ngModel",i.webserviceTemplate.maxRequestsPerMinute),Be(4),Ke("ngModel",i.webserviceTemplate.maxRequests),Be(4),Ke("ngModel",i.webserviceTemplate.inputs),Be(4),Ke("ngModel",i.whereString),Be(9),Ke("ngModel",i.webserviceTemplate.errorType),Be(10),Ke("ngModel",i.webserviceTemplate.type),Be(8),Ke("ngModel",i.webserviceTemplate.returnTemplate),Be(5),Ke("mat-dialog-close",null),Be(2),Ke("disabled",!i.webserviceConfiguration))},dependencies:[_a,ku,ul,Pu,nc,Vv,Hp,jp,Zp,Wv,ss,tc,Yp,Jp,qp,Xp,ef]}),n})();const Ime=[[["caption"]],[["colgroup"],["col"]]],xme=["caption","colgroup, col"];function tL(n){return class extends n{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=Gi(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const jv=new rn("CDK_TABLE");let Zv=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(Te(uo))},n.\u0275dir=Gt({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Kv=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(Te(uo))},n.\u0275dir=Gt({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),jI=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(Te(uo))},n.\u0275dir=Gt({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Rme{}const Dme=tL(Rme);let Gh=(()=>{class n extends Dme{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=Gi(t),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(Te(jv,8))},n.\u0275dir=Gt({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(kr(r,Zv,5),kr(r,Kv,5),kr(r,jI,5)),2&t){let o;Ln(o=Pn())&&(i.cell=o.first),Ln(o=Pn())&&(i.headerCell=o.first),Ln(o=Pn())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[yi([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Cn]}),n})();class nL{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let iL=(()=>{class n extends nL{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(Te(Gh),Te(ci))},n.\u0275dir=Gt({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Cn]}),n})(),rL=(()=>{class n extends nL{constructor(t,i){var r;if(super(t,i),1===(null===(r=t._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const o=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===o||"treegrid"===o?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(Te(Gh),Te(ci))},n.\u0275dir=Gt({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Cn]}),n})();class kG{constructor(){this.tasks=[],this.endTasks=[]}}const oL=new rn("_COALESCED_STYLE_SCHEDULER");let LG=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new F}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new kG,this._getScheduleObservable().pipe(br(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new kG;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?fr(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Eo(1))}}return n.\u0275fac=function(t){return new(t||n)(At(Ei))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})(),sL=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Pb?t.headerCell.template:this instanceof Ob?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(Te(uo),Te(mh))},n.\u0275dir=Gt({type:n,features:[lo]}),n})();class kme extends sL{}const Lme=tL(kme);let Pb=(()=>{class n extends Lme{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(Te(uo),Te(mh),Te(jv,8))},n.\u0275dir=Gt({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[Cn,lo]}),n})();class Pme extends sL{}const Ome=tL(Pme);let Ob=(()=>{class n extends Ome{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(Te(uo),Te(mh),Te(jv,8))},n.\u0275dir=Gt({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[Cn,lo]}),n})(),ZI=(()=>{class n extends sL{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(Te(uo),Te(mh),Te(jv,8))},n.\u0275dir=Gt({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[Cn]}),n})(),zh=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(Te(Fo))},n.\u0275dir=Gt({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),aL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Wn({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&ya(0,0)},dependencies:[zh],encapsulation:2}),n})(),cL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Wn({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&ya(0,0)},dependencies:[zh],encapsulation:2}),n})(),KI=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(Te(uo))},n.\u0275dir=Gt({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const PG=["top","bottom","left","right"];class Fme{constructor(e,t,i,r,o=!0,s=!0,a){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=s,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(G=>G)&&!i.some(G=>G))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=e[0],s=o.children.length,a=this._getCellWidths(o,r),c=this._getStickyStartColumnPositions(a,t),b=this._getStickyEndColumnPositions(a,i),L=t.lastIndexOf(!0),H=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const G="rtl"===this.direction,j=G?"right":"left",J=G?"left":"right";for(const ce of e)for(let se=0;se<s;se++){const te=ce.children[se];t[se]&&this._addStickyStyle(te,j,c[se],se===L),i[se]&&this._addStickyStyle(te,J,b[se],se===H)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===L?[]:a.slice(0,L+1).map((ce,se)=>t[se]?ce:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===H?[]:a.slice(H).map((ce,se)=>i[se+H]?ce:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,o="bottom"===i?t.slice().reverse():t,s=[],a=[],c=[];for(let L=0,H=0;L<r.length;L++){if(!o[L])continue;s[L]=H;const G=r[L];c[L]=this._isNativeHtmlTable?Array.from(G.children):[G];const j=G.getBoundingClientRect().height;H+=j,a[L]=j}const b=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var L,H;for(let G=0;G<r.length;G++){if(!o[G])continue;const j=s[G],J=G===b;for(const ce of c[G])this._addStickyStyle(ce,i,j,J)}"top"===i?null===(L=this._positionListener)||void 0===L||L.stickyHeaderRowsUpdated({sizes:a,offsets:s,elements:c}):null===(H=this._positionListener)||void 0===H||H.stickyFooterRowsUpdated({sizes:a,offsets:s,elements:c})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);PG.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of PG)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let o=0;o<e.length;o++)t[o]&&(i[o]=r,r+=e[o]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let o=e.length;o>0;o--)t[o]&&(i[o]=r,r+=e[o]);return i}}const uL=new rn("CDK_SPL");let XI=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(Te(Fo),Te(ci))},n.\u0275dir=Gt({type:n,selectors:[["","rowOutlet",""]]}),n})(),YI=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(Te(Fo),Te(ci))},n.\u0275dir=Gt({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),JI=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(Te(Fo),Te(ci))},n.\u0275dir=Gt({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),qI=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(Te(Fo),Te(ci))},n.\u0275dir=Gt({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),QI=(()=>{class n{constructor(t,i,r,o,s,a,c,b,L,H,G,j){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=s,this._platform=c,this._viewRepeater=b,this._coalescedStyleScheduler=L,this._viewportRuler=H,this._stickyPositioningListener=G,this._ngZone=j,this._onDestroy=new F,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new ni,this.viewChange=new rl({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Gi(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=Gi(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(br(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),B2(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,o,s)=>this._getEmbeddedViewArgs(r.item,s),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&Ei.isInAngularZone()?this._ngZone.onStable.pipe(Eo(1),br(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const o=this._headerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,o,"top"),this._headerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const o=this._footerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{const s=[];for(let a=0;a<i.length;a++)this._renderRows[a].rowDef===o&&s.push(i[a]);this._addStickyColumnStyles(s,o)}),r.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const s=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let a=0;a<s.length;a++){let c=s[a];const b=this._cachedRenderRowsMap.get(c.data);b.has(c.rowDef)?b.get(c.rowDef).push(c):b.set(c.rowDef,[c]),t.push(c)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(s=>{const a=r&&r.has(s)?r.get(s):[];if(a.length){const c=a.shift();return c.dataIndex=i,c}return{data:t,rowDef:s,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ex(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=ex(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ex(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ex(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(s,a)=>s||!!a.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(t,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(t){this._data=[],B2(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;B2(this.dataSource)?t=this.dataSource.connect(this):function Sme(n){return!!n&&(n instanceof K||ae(n.lift)&&ae(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=ai(this.dataSource)),this._renderChangeSubscription=t.pipe(br(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(a=>this._columnDefsByName.get(a)),o=r.map(a=>a.sticky),s=r.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(t,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const o=t.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,t));else{let o=this._rowDefs.find(s=>s.when&&s.when(i,t))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,o={}){const s=t.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),s}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))zh.mostRecentCellOutlet&&zh.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const s=t.get(i).context;s.count=r,s.first=0===i,s.last=i===r-1,s.even=i%2==0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[i].dataIndex,s.renderIndex=i):s.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const s of r.outlets)o.appendChild(s.elementRef.nativeElement);t.appendChild(o)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Fme(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:ai()).pipe(br(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(t.templateRef),s=o.rootNodes[0];1===o.rootNodes.length&&(null==s?void 0:s.nodeType)===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(t){return new(t||n)(Te(mh),Te(Hr),Te(ci),la("role"),Te(za,8),Te(Oi),Te(Xo),Te(xb),Te(oL),Te(qd),Te(uL,12),Te(Ei,8))},n.\u0275cmp=Wn({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(kr(r,KI,5),kr(r,Gh,5),kr(r,ZI,5),kr(r,Pb,5),kr(r,Ob,5)),2&t){let o;Ln(o=Pn())&&(i._noDataRow=o.first),Ln(o=Pn())&&(i._contentColumnDefs=o),Ln(o=Pn())&&(i._contentRowDefs=o),Ln(o=Pn())&&(i._contentHeaderRowDefs=o),Ln(o=Pn())&&(i._contentFooterRowDefs=o)}},viewQuery:function(t,i){if(1&t&&(Pi(XI,7),Pi(YI,7),Pi(JI,7),Pi(qI,7)),2&t){let r;Ln(r=Pn())&&(i._rowOutlet=r.first),Ln(r=Pn())&&(i._headerRowOutlet=r.first),Ln(r=Pn())&&(i._footerRowOutlet=r.first),Ln(r=Pn())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&Li("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[yi([{provide:jv,useExisting:n},{provide:xb,useClass:gU},{provide:oL,useClass:LG},{provide:uL,useValue:null}])],ngContentSelectors:xme,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(Ts(Ime),Ur(0),Ur(1,1),ya(2,0)(3,1)(4,2)(5,3))},dependencies:[XI,YI,JI,qI],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function ex(n,e){return n.concat(Array.from(e))}let $me=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[OI]}),n})();const Bme=[[["caption"]],[["colgroup"],["col"]]],Hme=["caption","colgroup, col"];let tx=(()=>{class n extends QI{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275cmp=Wn({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,i){2&t&&Li("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[yi([{provide:xb,useClass:gU},{provide:QI,useExisting:n},{provide:jv,useExisting:n},{provide:oL,useClass:LG},{provide:uL,useValue:null}]),Cn],ngContentSelectors:Hme,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(Ts(Bme),Ur(0),Ur(1,1),ya(2,0)(3,1)(4,2)(5,3))},dependencies:[XI,YI,JI,qI],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),Fb=(()=>{class n extends Zv{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275dir=Gt({type:n,selectors:[["","matCellDef",""]],features:[yi([{provide:Zv,useExisting:n}]),Cn]}),n})(),Nb=(()=>{class n extends Kv{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275dir=Gt({type:n,selectors:[["","matHeaderCellDef",""]],features:[yi([{provide:Kv,useExisting:n}]),Cn]}),n})(),$b=(()=>{class n extends Gh{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275dir=Gt({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[yi([{provide:Gh,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Cn]}),n})(),Bb=(()=>{class n extends iL{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275dir=Gt({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[Cn]}),n})(),Hb=(()=>{class n extends rL{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275dir=Gt({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[Cn]}),n})(),nx=(()=>{class n extends Pb{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275dir=Gt({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[yi([{provide:Pb,useExisting:n}]),Cn]}),n})(),ix=(()=>{class n extends ZI{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275dir=Gt({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[yi([{provide:ZI,useExisting:n}]),Cn]}),n})(),rx=(()=>{class n extends aL{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275cmp=Wn({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[yi([{provide:aL,useExisting:n}]),Cn],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&ya(0,0)},dependencies:[zh],encapsulation:2}),n})(),ox=(()=>{class n extends cL{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275cmp=Wn({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[yi([{provide:cL,useExisting:n}]),Cn],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&ya(0,0)},dependencies:[zh],encapsulation:2}),n})(),Yme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[$me,qi,qi]}),n})();const qme=["tooltip"],FG="tooltip-panel",NG=Tv({passive:!0}),$G=new rn("mat-tooltip-scroll-strategy"),nve={provide:$G,deps:[ic],useFactory:function tve(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},ive=new rn("mat-tooltip-default-options",{providedIn:"root",factory:function rve(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let ove=(()=>{class n{constructor(t,i,r,o,s,a,c,b,L,H,G,j){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=c,this._focusMonitor=b,this._dir=H,this._defaultOptions=G,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new F,this._scrollStrategy=L,this._document=j,G&&(G.position&&(this.position=G.position),G.touchGestures&&(this.touchGestures=G.touchGestures)),H.change.pipe(br(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(t){var i;t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=Gi(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=xl(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=xl(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(br(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,NG)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){var i;if(this.disabled||!this.message||this._isTooltipVisible())return void(null===(i=this._tooltipInstance)||void 0===i||i._cancelPendingAnimations());const r=this._createOverlay();this._detach(),this._portal=this._portal||new Bv(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(br(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var t;if(this._overlayRef)return this._overlayRef;const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(br(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${FG}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(br(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(br(this._destroyed)).subscribe(()=>{var o;return null===(o=this._tooltipInstance)||void 0===o?void 0:o._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe(br(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Jc(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),!(null===(t=this._defaultOptions)||void 0===t)&&t.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},r.main),o.main)),this._addOffset(Object.assign(Object.assign({},r.fallback),o.fallback))])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Eo(1),br(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:o}=t;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const c=`${this._cssClassPrefix}-${FG}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{var r;const o=i.relatedTarget;(!o||null===(r=this._overlayRef)||void 0===r||!r.overlayElement.contains(o))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,NG)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){Lc()},n.\u0275dir=Gt({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),hL=(()=>{class n extends ove{constructor(t,i,r,o,s,a,c,b,L,H,G,j){super(t,i,r,o,s,a,c,b,L,H,G,j),this._tooltipComponent=ave}}return n.\u0275fac=function(t){return new(t||n)(Te(ic),Te(ci),Te($U),Te(Fo),Te(Ei),Te(Xo),Te(jce),Te(Ql),Te($G),Te(za,8),Te(ive,8),Te(Oi))},n.\u0275dir=Gt({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[Cn]}),n})(),sve=(()=>{class n{constructor(t,i){this._changeDetectorRef=t,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new F,this._animationsDisabled="NoopAnimations"===i}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(t?o:r),i.classList.add(t?r:o),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(Te(Hr),Te(No,8))},n.\u0275dir=Gt({type:n}),n})(),ave=(()=>{class n extends sve{constructor(t,i,r){super(t,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(t){return new(t||n)(Te(Hr),Te(uI),Te(No,8))},n.\u0275cmp=Wn({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,i){if(1&t&&Pi(qme,7),2&t){let r;Ln(r=Pn())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,i){1&t&&It("mouseleave",function(o){return i._handleMouseLeave(o)}),2&t&&nl("zoom",i.isVisible()?1:null)},features:[Cn],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(t,i){if(1&t&&(be(0,"div",0,1),It("animationend",function(o){return i._handleAnimationEnd(o)}),fm(2,"async"),He(3),Se()),2&t){let r;Li("mat-tooltip-handset",null==(r=function NF(n,e,t){const i=n+22,r=nn(),o=ou(r,i);return i_(r,i)?kF(r,qs(),e,o.transform,t,o):o.transform(t)}(2,4,i._isHandset))?null:r.matches),Ke("ngClass",i.tooltipClass),Be(3),Jr(i.message)}},dependencies:[u_,s$],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),lve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({providers:[nve],imports:[gI,Vc,Rb,qi,qi,PI]}),n})();function cve(n,e){1&n&&(be(0,"th",13),He(1,"No."),Se())}function uve(n,e){if(1&n&&(be(0,"td",14),He(1),Se()),2&n){const t=e.$implicit,i=kt();Be(1),Jr(i.webservices.indexOf(t))}}function hve(n,e){1&n&&(be(0,"th",13),He(1,"Label"),Se())}function dve(n,e){if(1&n&&(be(0,"td",14),He(1),Se()),2&n){const t=e.$implicit;Be(1),Ar(" ",t.name," ")}}function fve(n,e){1&n&&(be(0,"th",13),He(1,"Path"),Se())}function pve(n,e){if(1&n&&(be(0,"td",14),He(1),Se()),2&n){const t=e.$implicit;Be(1),Ar(" ",t.path," ")}}function gve(n,e){1&n&&(be(0,"th",13),He(1,"Status"),Se())}function mve(n,e){1&n&&(be(0,"mat-icon",17),He(1,"cloud_off"),Se())}function vve(n,e){1&n&&(be(0,"mat-icon",18),He(1,"cloud_queue"),Se())}function yve(n,e){if(1&n&&(be(0,"td",14),Ct(1,mve,2,0,"mat-icon",15),Ct(2,vve,2,0,"mat-icon",16),Se()),2&n){const t=e.$implicit;Be(1),Ke("ngIf","offline"==t.status),Be(1),Ke("ngIf","online"==t.status)}}function _ve(n,e){1&n&&(be(0,"th",13),He(1,"Actions"),Se())}function bve(n,e){if(1&n){const t=wr();be(0,"td",14)(1,"button",1),It("click",function(){const o=Tn(t).$implicit;return Rn(kt().openWebserviceInformation(o.name))}),be(2,"mat-icon",19),He(3,"edit"),Se()(),be(4,"button",1),It("click",function(){const o=Tn(t).$implicit;return Rn(kt().copy(o.name))}),be(5,"mat-icon",20),He(6,"file_copy"),Se()(),be(7,"button",1),It("click",function(){const o=Tn(t).$implicit;return Rn(kt().delete(o.name))}),be(8,"mat-icon",21),He(9,"delete"),Se()()()}}function Cve(n,e){1&n&&kn(0,"tr",22)}function wve(n,e){1&n&&kn(0,"tr",23)}let BG=(()=>{class n{constructor(t,i,r,o){this._connection=t,this._dialog=i,this._snackBar=r,this.router=o,this.displayedColumns=["index","name","path","status","actions"]}ngOnInit(){this.reloadData()}openWebserviceInformation(t){const i=new El;i.data=t,i.disableClose=!0,i.autoFocus=!0,i.maxHeight="100vh",i.maxWidth="90vw",this._dialog.open(_me,i).afterClosed().toPromise().then(()=>this.reloadData())}copy(t){this._connection.getWebserviceConfiguration(t).then(i=>{i.name=i.name+"_copy",i.configuration.webservice=i.configuration.webservice.replace(t,i.name),i.configuration.returnTemplate=i.configuration.returnTemplate.replaceAll(t,i.name),this._connection.addNewWebservice(i.name,i.configuration,i.returnTemplate).toPromise().then(()=>{this.openSnackBar("Settings copied"),this.reloadData()},r=>{this.openSnackBar("Unable to copy settings")})})}delete(t){this._connection.deleteWebservice(t).toPromise().then(()=>{this.openSnackBar("Deleted settings"),this.reloadData()},i=>{this.openSnackBar("Unable to delete settings")})}openCreateWebservice(){const t=new El;t.disableClose=!0,t.autoFocus=!0,t.maxHeight="100vh",t.maxWidth="90vw",this._dialog.open(Ame,t).afterClosed().toPromise().then(()=>this.reloadData())}reloadData(){this._connection.getWebservices().subscribe(t=>{this.webservices=t.webservices,this.webservices.sort((i,r)=>i.name>r.name?1:i.name<r.name?-1:0)})}restartWebServices(){this._connection.restartWebServices().subscribe(t=>{}),this.reloadData(),this.openSnackBar("Restarted simulated APIs")}openSnackBar(t){this._snackBar.open(t,"",{duration:2e3})}}return n.\u0275fac=function(t){return new(t||n)(Te(ll),Te(eu),Te(tu),Te(Gs))},n.\u0275cmp=Wn({type:n,selectors:[["app-webservices-overview"]],decls:28,vars:3,consts:[[1,"main"],["mat-raised-button","","color","primary",3,"click"],["aria-hidden","false"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","path"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["color","warn","aria-label","true","matTooltip","Offline",4,"ngIf"],["color","primary","aria-label","true","matTooltip","Online",4,"ngIf"],["color","warn","aria-label","true","matTooltip","Offline"],["color","primary","aria-label","true","matTooltip","Online"],["aria-hidden","false","matTooltip","Edit settings","aria-label","Edit settings"],["aria-hidden","false","matTooltip","Copy settings","aria-label","Copy settings"],["aria-hidden","false","matTooltip","Delete settings","aria-label","Delete settings"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(be(0,"div",0)(1,"div")(2,"button",1),It("click",function(){return i.openCreateWebservice()}),be(3,"mat-icon",2),He(4,"note_add"),Se(),He(5," Create API Configuration "),Se(),be(6,"button",1),It("click",function(){return i.restartWebServices()}),be(7,"mat-icon",2),He(8,"restore_page"),Se(),He(9," Restart Simulated APIs "),Se()(),be(10,"table",3),Rr(11,4),Ct(12,cve,2,0,"th",5),Ct(13,uve,2,1,"td",6),Dr(),Rr(14,7),Ct(15,hve,2,0,"th",5),Ct(16,dve,2,1,"td",6),Dr(),Rr(17,8),Ct(18,fve,2,0,"th",5),Ct(19,pve,2,1,"td",6),Dr(),Rr(20,9),Ct(21,gve,2,0,"th",5),Ct(22,yve,3,2,"td",6),Dr(),Rr(23,10),Ct(24,_ve,2,0,"th",5),Ct(25,bve,10,0,"td",6),Dr(),Ct(26,Cve,1,0,"tr",11),Ct(27,wve,1,0,"tr",12),Se()()),2&t&&(Be(10),Ke("dataSource",i.webservices),Be(16),Ke("matHeaderRowDef",i.displayedColumns),Be(1),Ke("matRowDefColumns",i.displayedColumns))},dependencies:[ks,rc,ss,tx,Nb,nx,$b,Fb,ix,Bb,Hb,rx,ox,hL],styles:["td[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{cursor:default}button[_ngcontent-%COMP%]{margin-right:10px}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{background-color:#fff5a2}"]}),n})();function Ave(n,e){if(1&n){const t=wr();Rr(0),be(1,"mat-tab",5)(2,"div",6)(3,"mat-form-field")(4,"mat-label"),He(5,"path"),Se(),be(6,"input",7),It("ngModelChange",function(r){return Tn(t),Rn(kt().dbConfiguration.path=r)}),Se()(),be(7,"mat-form-field")(8,"mat-label"),He(9,"source"),Se(),be(10,"input",7),It("ngModelChange",function(r){return Tn(t),Rn(kt().dbConfiguration.source=r)}),Se()(),be(11,"mat-form-field")(12,"mat-label"),He(13,"identifierMap"),Se(),be(14,"input",8),It("ngModelChange",function(r){return Tn(t),Rn(kt().dbConfiguration.identifierMap=r)}),Se()()()(),be(15,"mat-tab",9),kn(16,"json-editor",10),Se(),Dr()}if(2&n){const t=kt();Be(6),Ke("ngModel",t.dbConfiguration.path),Be(4),Ke("ngModel",t.dbConfiguration.source),Be(4),Ke("ngModel",t.dbConfiguration.identifierMap),Be(2),Ke("options",t.editorOptionsConfig)("data",t.dbConfiguration.identifierMapContent)}}let Sve=(()=>{class n{constructor(t,i,r){this.connection=t,this._snackBar=i,this.data=r}ngOnInit(){this.editorOptionsConfig=new tf,this.editorOptionsConfig.mode="code",this.editorOptionsConfig.modes=["code"],this.connection.getLocalDatabaseData(this.data).then(t=>{this.dbConfiguration=t})}openSnackBar(t){this._snackBar.open(t,"",{duration:2e3})}save(){this.connection.updateDatabase(this.dbConfiguration,this.dbConfiguration).toPromise().then(()=>{this.openSnackBar("Saved")},i=>{this.openSnackBar("Unable to save changes")})}delete(){this.connection.deleteDatabase(this.dbConfiguration.label).toPromise().then(()=>{this.openSnackBar("Saved")},t=>{this.openSnackBar("Unable to delete")})}}return n.\u0275fac=function(t){return new(t||n)(Te(ll),Te(tu),Te(Gv))},n.\u0275cmp=Wn({type:n,selectors:[["app-db-information"]],decls:13,vars:3,consts:[[1,"group-container"],[4,"ngIf"],["mat-raised-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close","click"],["mat-raised-button","","color","warn",3,"mat-dialog-close","click"],["label","Configuration Form"],[1,"form-container"],["matInput","",3,"ngModel","ngModelChange"],["matInput","","disabled","",3,"ngModel","ngModelChange"],["label","Identifier Map"],[3,"options","data"]],template:function(t,i){1&t&&(be(0,"p")(1,"b"),He(2,"Database:"),Se(),He(3),Se(),be(4,"mat-tab-group",0),Ct(5,Ave,17,5,"ng-container",1),Se(),be(6,"mat-dialog-actions")(7,"button",2),He(8,"Close"),Se(),be(9,"button",3),It("click",function(){return i.save()}),He(10,"Save"),Se(),be(11,"button",4),It("click",function(){return i.delete()}),He(12,"Delete"),Se()()),2&t&&(Be(3),Ar(" ",i.data,"\n"),Be(2),Ke("ngIf",i.dbConfiguration),Be(2),Ke("mat-dialog-close",null))},dependencies:[ks,ku,ul,Pu,nc,ss,tc,Yp,Jp,qp,Xp,ef,Lb],styles:[".group-container[_ngcontent-%COMP%]{min-width:50vw;min-height:50vh;max-height:95vh}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;min-width:50vw;min-height:50vh}"]}),n})();const Ive=JSON.parse('{"path":"{pathToDB}","identifierMap":"configs\\\\identifierMaps\\\\{db_label}.json","source":"{path_to_source}","label":"{db_label}"}');let xve=(()=>{class n{constructor(t,i){this.connection=t,this._snackBar=i}ngOnInit(){this.editorOptionsConfig=new tf,this.editorOptionsConfig.mode="code",this.editorOptionsConfig.modes=["code"],this.dbTemplate=Ive}onDBNameChange(){this.dbTemplate.label=this.dbTemplate.label,this.dbTemplate.identifierMap="configs\\identifierMaps\\"+this.dbTemplate.label+".json"}save(){this.connection.addNewDatabase(this.dbTemplate).toPromise().then(()=>{this.openSnackBar("Saved")},i=>{this.openSnackBar("Unable to add new service")})}onJSONChange(){this.dbTemplate=this.configEditor.get()}openSnackBar(t){this._snackBar.open(t,"",{duration:2e3})}}return n.\u0275fac=function(t){return new(t||n)(Te(ll),Te(tu))},n.\u0275cmp=Wn({type:n,selectors:[["app-db-create-form"]],viewQuery:function(t,i){if(1&t&&Pi(Lb,5),2&t){let r;Ln(r=Pn())&&(i.configEditor=r.first)}},decls:31,vars:7,consts:[[1,"group-container"],["label","Configuration Form"],["hideToggle","",3,"expanded"],[1,"form-container"],["matInput","",3,"ngModel","ngModelChange"],["matInput","","disabled","",3,"ngModel","ngModelChange"],["mat-raised-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close","disabled","click"]],template:function(t,i){1&t&&(be(0,"p")(1,"b"),He(2,"Create a new database configuration"),Se()(),be(3,"mat-tab-group",0)(4,"mat-tab",1)(5,"mat-expansion-panel",2)(6,"mat-expansion-panel-header")(7,"mat-panel-title"),He(8," General Settings "),Se()(),be(9,"div",3)(10,"mat-form-field")(11,"mat-label"),He(12,"label"),Se(),be(13,"input",4),It("ngModelChange",function(o){return i.dbTemplate.label=o})("ngModelChange",function(){return i.onDBNameChange()}),Se()(),be(14,"mat-form-field")(15,"mat-label"),He(16,"source"),Se(),be(17,"input",4),It("ngModelChange",function(o){return i.dbTemplate.source=o}),Se()(),be(18,"mat-form-field")(19,"mat-label"),He(20,"path"),Se(),be(21,"input",4),It("ngModelChange",function(o){return i.dbTemplate.path=o}),Se()(),be(22,"mat-form-field")(23,"mat-label"),He(24,"identifier"),Se(),be(25,"input",5),It("ngModelChange",function(o){return i.dbTemplate.identifierMap=o}),Se()()()()()(),be(26,"mat-dialog-actions")(27,"button",6),He(28,"Close"),Se(),be(29,"button",7),It("click",function(){return i.save()}),He(30,"Create"),Se()()),2&t&&(Be(5),Ke("expanded",!0),Be(8),Ke("ngModel",i.dbTemplate.label),Be(4),Ke("ngModel",i.dbTemplate.source),Be(4),Ke("ngModel",i.dbTemplate.path),Be(4),Ke("ngModel",i.dbTemplate.identifierMap),Be(2),Ke("mat-dialog-close",null),Be(2),Ke("disabled",!i.dbTemplate.label))},dependencies:[ku,ul,Pu,nc,jp,Zp,Wv,ss,tc,Yp,Jp,qp,Xp,ef]}),n})();function Eve(n,e){1&n&&(be(0,"th",13),He(1," No."),Se())}function Mve(n,e){if(1&n&&(be(0,"td",14),He(1),Se()),2&n){const t=e.$implicit,i=kt();Be(1),Jr(i.databases.indexOf(t))}}function Tve(n,e){1&n&&(be(0,"th",13),He(1,"Label"),Se())}function Rve(n,e){if(1&n&&(be(0,"td",14),He(1),Se()),2&n){const t=e.$implicit;Be(1),Ar(" ",t.label," ")}}function Dve(n,e){1&n&&(be(0,"th",13),He(1,"Path"),Se())}function kve(n,e){if(1&n&&(be(0,"td",14),He(1),Se()),2&n){const t=e.$implicit;Be(1),Ar(" ",t.path," ")}}function Lve(n,e){1&n&&(be(0,"th",13),He(1,"Identifier Map"),Se())}function Pve(n,e){if(1&n&&(be(0,"td",14),He(1),Se()),2&n){const t=e.$implicit;Be(1),Ar(" ",t.identifierMap," ")}}function Ove(n,e){1&n&&(be(0,"th",13),He(1,"Actions"),Se())}function Fve(n,e){if(1&n){const t=wr();be(0,"td",14)(1,"button",1),It("click",function(){const o=Tn(t).$implicit;return Rn(kt().openDbInformation(o.label))}),be(2,"mat-icon",15),He(3,"edit"),Se()(),be(4,"button",1),It("click",function(){const o=Tn(t).$implicit;return Rn(kt().delete(o.label))}),be(5,"mat-icon",16),He(6,"delete"),Se()()()}}function Nve(n,e){1&n&&kn(0,"tr",17)}function $ve(n,e){1&n&&kn(0,"tr",18),2&n&&Ke("id",e.index)}let Bve=(()=>{class n{constructor(t,i,r){this.connection=t,this._dialog=i,this._snackbar=r,this.displayedColumns=["index","label","path","identifierMap","actions"],this.loadDBs()}ngOnInit(){}loadDBs(){this.connection.getDatabases().then(t=>{this.databases=t.databases})}openDbInformation(t){const i=new El;i.data=t,i.disableClose=!0,i.autoFocus=!0,i.maxHeight="100vh",i.maxWidth="90vw",this._dialog.open(Sve,i).afterClosed().toPromise().then(()=>this.loadDBs())}openCreateDB(){const t=new El;t.disableClose=!0,t.autoFocus=!0,t.maxHeight="100vh",t.maxWidth="90vw",this._dialog.open(xve,t).afterClosed().toPromise().then(()=>this.loadDBs())}delete(t){this.connection.getLocalDatabaseData(t).then(i=>{this.connection.deleteDatabase(i.label).toPromise().then(()=>{this.openSnackBar("Deleted"),this.loadDBs()},r=>{this.openSnackBar("Unable to delete")})})}openSnackBar(t){this._snackbar.open(t,"",{duration:2e3})}}return n.\u0275fac=function(t){return new(t||n)(Te(ll),Te(eu),Te(tu))},n.\u0275cmp=Wn({type:n,selectors:[["app-databases-overview"]],decls:23,vars:3,consts:[[1,"main"],["mat-raised-button","","color","primary",3,"click"],["aria-hidden","false"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","label"],["matColumnDef","path"],["matColumnDef","identifierMap"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"id",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["aria-hidden","false","matTooltip","Edit settings","aria-label","Edit settings"],["aria-hidden","false","matTooltip","Delete settings","aria-label","Delete settings"],["mat-header-row",""],["mat-row","",3,"id"]],template:function(t,i){1&t&&(be(0,"div",0)(1,"button",1),It("click",function(){return i.openCreateDB()}),be(2,"mat-icon",2),He(3,"note_add"),Se(),He(4," Add Database "),Se(),be(5,"table",3),Rr(6,4),Ct(7,Eve,2,0,"th",5),Ct(8,Mve,2,1,"td",6),Dr(),Rr(9,7),Ct(10,Tve,2,0,"th",5),Ct(11,Rve,2,1,"td",6),Dr(),Rr(12,8),Ct(13,Dve,2,0,"th",5),Ct(14,kve,2,1,"td",6),Dr(),Rr(15,9),Ct(16,Lve,2,0,"th",5),Ct(17,Pve,2,1,"td",6),Dr(),Rr(18,10),Ct(19,Ove,2,0,"th",5),Ct(20,Fve,7,0,"td",6),Dr(),Ct(21,Nve,1,0,"tr",11),Ct(22,$ve,1,1,"tr",12),Se()()),2&t&&(Be(5),Ke("dataSource",i.databases),Be(16),Ke("matHeaderRowDef",i.displayedColumns),Be(1),Ke("matRowDefColumns",i.displayedColumns))},dependencies:[rc,ss,tx,Nb,nx,$b,Fb,ix,Bb,Hb,rx,ox,hL],styles:["button[_ngcontent-%COMP%]{margin-right:10px}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{background-color:#fff5a2}"]}),n})();function Hve(n,e){if(1&n){const t=wr();Rr(0),be(1,"mat-form-field")(2,"mat-label"),He(3,"name"),Se(),be(4,"input",4),It("ngModelChange",function(r){return Rn(Tn(t).$implicit.name=r)}),Se()(),be(5,"mat-form-field")(6,"mat-label"),He(7,"input type"),Se(),be(8,"input",4),It("ngModelChange",function(r){return Rn(Tn(t).$implicit.type=r)}),Se()(),be(9,"mat-form-field")(10,"mat-label"),He(11,"input relation"),Se(),be(12,"input",4),It("ngModelChange",function(r){return Rn(Tn(t).$implicit.filter=r)}),Se()(),Dr()}if(2&n){const t=e.$implicit;Be(4),Ke("ngModel",t.name),Be(4),Ke("ngModel",t.type),Be(4),Ke("ngModel",t.filter)}}let Vve=(()=>{class n{constructor(t,i,r){this.connection=t,this._snackBar=i,this.data=r,this.apiConfiguration=r,this.apiLabel=r.label}openSnackBar(t){this._snackBar.open(t,"",{duration:2e3})}ngOnInit(){}save(){this.connection.updateApi(this.apiLabel,this.apiConfiguration).toPromise().then(()=>{this.openSnackBar("Saved")},t=>{this.openSnackBar("Unable to save changes")})}delete(){this.connection.deleteApi(this.apiConfiguration.label).toPromise().then(()=>{this.openSnackBar("Saved")},t=>{this.openSnackBar("Unable to delete")})}}return n.\u0275fac=function(t){return new(t||n)(Te(ll),Te(tu),Te(Gv))},n.\u0275cmp=Wn({type:n,selectors:[["app-api-information"]],decls:40,vars:8,consts:[[1,"group-container"],["label","Configuration Form"],["hideToggle","",3,"expanded"],[1,"form-container"],["matInput","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["mat-raised-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close","click"],["mat-raised-button","","color","warn",3,"mat-dialog-close","click"]],template:function(t,i){1&t&&(be(0,"p")(1,"b"),He(2,"Api:"),Se(),He(3),Se(),be(4,"mat-tab-group",0)(5,"mat-tab",1)(6,"mat-expansion-panel",2)(7,"mat-expansion-panel-header")(8,"mat-panel-title"),He(9," General Settings "),Se()(),be(10,"div",3)(11,"mat-form-field")(12,"mat-label"),He(13,"label"),Se(),be(14,"input",4),It("ngModelChange",function(o){return i.apiConfiguration.label=o}),Se()(),be(15,"mat-form-field")(16,"mat-label"),He(17,"name"),Se(),be(18,"input",4),It("ngModelChange",function(o){return i.apiConfiguration.name=o}),Se()(),be(19,"mat-form-field")(20,"mat-label"),He(21,"url"),Se(),be(22,"input",4),It("ngModelChange",function(o){return i.apiConfiguration.url=o}),Se()(),be(23,"mat-form-field")(24,"mat-label"),He(25,"format"),Se(),be(26,"input",4),It("ngModelChange",function(o){return i.apiConfiguration.format=o}),Se()()()(),be(27,"mat-expansion-panel")(28,"mat-expansion-panel-header")(29,"mat-panel-title"),He(30," Parameters "),Se()(),be(31,"div",3),Ct(32,Hve,13,3,"ng-container",5),Se()()()(),be(33,"mat-dialog-actions")(34,"button",6),He(35,"Close"),Se(),be(36,"button",7),It("click",function(){return i.save()}),He(37,"Save"),Se(),be(38,"button",8),It("click",function(){return i.delete()}),He(39,"Delete"),Se()()),2&t&&(Be(3),Ar(" ",i.apiConfiguration.label,"\n"),Be(3),Ke("expanded",!0),Be(8),Ke("ngModel",i.apiConfiguration.label),Be(4),Ke("ngModel",i.apiConfiguration.name),Be(4),Ke("ngModel",i.apiConfiguration.url),Be(4),Ke("ngModel",i.apiConfiguration.format),Be(6),Ke("ngForOf",i.apiConfiguration.parameters),Be(2),Ke("mat-dialog-close",null))},dependencies:[_a,ku,ul,Pu,nc,jp,Zp,Wv,ss,tc,Yp,Jp,qp,Xp,ef],styles:[".group-container[_ngcontent-%COMP%]{min-width:50vw;min-height:50vh;max-height:95vh}"]}),n})();const Wve=JSON.parse('{"name":"{api_long_name}","format":"json","label":"{api_short_name}","parameters":[{"filter":["{relation}"],"name":"q","type":"{type}","status":"required"}],"url":"http://localhost:8080/webservices/{path}?parameter={q}"}');function Uve(n,e){if(1&n){const t=wr();Rr(0),be(1,"mat-form-field")(2,"mat-label"),He(3,"name"),Se(),be(4,"input",4),It("ngModelChange",function(r){return Rn(Tn(t).$implicit.name=r)}),Se()(),be(5,"mat-form-field")(6,"mat-label"),He(7,"input type"),Se(),be(8,"input",4),It("ngModelChange",function(r){return Rn(Tn(t).$implicit.type=r)}),Se()(),be(9,"mat-form-field")(10,"mat-label"),He(11,"input relation"),Se(),be(12,"input",4),It("ngModelChange",function(r){return Rn(Tn(t).$implicit.filter=r)}),Se()(),Dr()}if(2&n){const t=e.$implicit;Be(4),Ke("ngModel",t.name),Be(4),Ke("ngModel",t.type),Be(4),Ke("ngModel",t.filter)}}let Gve=(()=>{class n{constructor(t,i){this.connection=t,this._snackBar=i}ngOnInit(){this.apiLabel="",this.apiTemplate=Wve}save(){this.connection.addNewApi(this.apiTemplate).toPromise().then(()=>{this.openSnackBar("Saved")},i=>{this.openSnackBar("Unable to add new service")})}openSnackBar(t){this._snackBar.open(t,"",{duration:2e3})}}return n.\u0275fac=function(t){return new(t||n)(Te(ll),Te(tu))},n.\u0275cmp=Wn({type:n,selectors:[["app-api-create-form"]],decls:37,vars:9,consts:[[1,"group-container"],["label","Configuration Form"],["hideToggle","",3,"expanded"],[1,"form-container"],["matInput","",3,"ngModel","ngModelChange"],[3,"expanded"],[4,"ngFor","ngForOf"],["mat-raised-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close","disabled","click"]],template:function(t,i){1&t&&(be(0,"p")(1,"b"),He(2,"Create a new custom api configuration"),Se()(),be(3,"mat-tab-group",0)(4,"mat-tab",1)(5,"mat-expansion-panel",2)(6,"mat-expansion-panel-header")(7,"mat-panel-title"),He(8," General Settings "),Se()(),be(9,"div",3)(10,"mat-form-field")(11,"mat-label"),He(12,"label"),Se(),be(13,"input",4),It("ngModelChange",function(o){return i.apiTemplate.label=o}),Se()(),be(14,"mat-form-field")(15,"mat-label"),He(16,"name"),Se(),be(17,"input",4),It("ngModelChange",function(o){return i.apiTemplate.name=o}),Se()(),be(18,"mat-form-field")(19,"mat-label"),He(20,"url"),Se(),be(21,"input",4),It("ngModelChange",function(o){return i.apiTemplate.url=o}),Se()(),be(22,"mat-form-field")(23,"mat-label"),He(24,"format"),Se(),be(25,"input",4),It("ngModelChange",function(o){return i.apiTemplate.format=o}),Se()()()(),be(26,"mat-expansion-panel",5)(27,"mat-expansion-panel-header")(28,"mat-panel-title"),He(29," Parameters "),Se()(),be(30,"div",3),Ct(31,Uve,13,3,"ng-container",6),Se()()()(),be(32,"mat-dialog-actions")(33,"button",7),He(34,"Close"),Se(),be(35,"button",8),It("click",function(){return i.save()}),He(36,"Create"),Se()()),2&t&&(Be(5),Ke("expanded",!0),Be(8),Ke("ngModel",i.apiTemplate.label),Be(4),Ke("ngModel",i.apiTemplate.name),Be(4),Ke("ngModel",i.apiTemplate.url),Be(4),Ke("ngModel",i.apiTemplate.format),Be(1),Ke("expanded",!0),Be(5),Ke("ngForOf",i.apiTemplate.parameters),Be(2),Ke("mat-dialog-close",null),Be(2),Ke("disabled",!i.apiTemplate))},dependencies:[_a,ku,ul,Pu,nc,jp,Zp,Wv,ss,tc,Yp,Jp,qp,Xp,ef],styles:["mat-form-field[_ngcontent-%COMP%]{min-width:150px;max-width:500px}.group-container[_ngcontent-%COMP%]{min-width:50vw;min-height:50vh;max-height:95vh}"]}),n})();function zve(n,e){1&n&&(be(0,"th",13),He(1," No."),Se())}function jve(n,e){if(1&n&&(be(0,"td",14),He(1),Se()),2&n){const t=e.$implicit,i=kt();Be(1),Jr(i.apis.indexOf(t))}}function Zve(n,e){1&n&&(be(0,"th",13),He(1,"Label"),Se())}function Kve(n,e){if(1&n&&(be(0,"td",14),He(1),Se()),2&n){const t=e.$implicit;Be(1),Ar(" ",t.label," ")}}function Xve(n,e){1&n&&(be(0,"th",13),He(1,"Name"),Se())}function Yve(n,e){if(1&n&&(be(0,"td",14),He(1),Se()),2&n){const t=e.$implicit;Be(1),Ar(" ",t.name," ")}}function Jve(n,e){1&n&&(be(0,"th",13),He(1,"Format"),Se())}function qve(n,e){if(1&n&&(be(0,"td",14),He(1),Se()),2&n){const t=e.$implicit;Be(1),Ar(" ",t.format," ")}}function Qve(n,e){1&n&&(be(0,"th",13),He(1,"Actions"),Se())}function eye(n,e){if(1&n){const t=wr();be(0,"td",14)(1,"button",1),It("click",function(){const o=Tn(t).$implicit;return Rn(kt().openApiInformation(o))}),be(2,"mat-icon",15),He(3,"edit"),Se()(),be(4,"button",1),It("click",function(){const o=Tn(t).$implicit;return Rn(kt().copy(o))}),be(5,"mat-icon",16),He(6,"file_copy"),Se()(),be(7,"button",1),It("click",function(){const o=Tn(t).$implicit;return Rn(kt().delete(o))}),be(8,"mat-icon",17),He(9,"delete"),Se()()()}}function tye(n,e){1&n&&kn(0,"tr",18)}function nye(n,e){1&n&&kn(0,"tr",19)}let iye=(()=>{class n{constructor(t,i,r){this.connection=t,this._dialog=i,this._snackbar=r,this.displayedColumns=["index","label","name","format","actions"]}ngOnInit(){this.loadApis()}loadApis(){this.connection.getApis().then(t=>{this.apis=t.apis})}openApiInformation(t){const i=new El;i.data=t,i.disableClose=!0,i.autoFocus=!0,i.maxHeight="100vh",i.maxWidth="90vw",this._dialog.open(Vve,i).afterClosed().toPromise().then(()=>this.loadApis())}copy(t){t.label=t.label+"_copy",this.connection.addNewApi(t).toPromise().then(()=>{this.openSnackBar("Settings copied"),this.loadApis()},i=>{this.openSnackBar("Unable to copy settings")})}delete(t){this.connection.deleteApi(t.label).toPromise().then(()=>{this.openSnackBar("Settings deleted"),this.loadApis()},i=>{this.openSnackBar("Unable to delete settings")})}openCreateApi(){const t=new El;t.disableClose=!0,t.autoFocus=!0,t.maxHeight="100vh",t.maxWidth="90vw",this._dialog.open(Gve,t).afterClosed().toPromise().then(()=>this.loadApis())}openSnackBar(t){this._snackbar.open(t,"",{duration:2e3})}}return n.\u0275fac=function(t){return new(t||n)(Te(ll),Te(eu),Te(tu))},n.\u0275cmp=Wn({type:n,selectors:[["app-api-overview"]],decls:23,vars:3,consts:[[1,"main"],["mat-raised-button","","color","primary",3,"click"],["aria-hidden","false"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","label"],["matColumnDef","name"],["matColumnDef","format"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["aria-hidden","false","matTooltip","Edit settings","aria-label","Edit settings"],["aria-hidden","false","matTooltip","Copy settings","aria-label","Copy settings"],["aria-hidden","false","matTooltip","Delete settings","aria-label","Delete settings"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(be(0,"div",0)(1,"button",1),It("click",function(){return i.openCreateApi()}),be(2,"mat-icon",2),He(3,"note_add"),Se(),He(4," Add API Endpoint "),Se(),be(5,"table",3),Rr(6,4),Ct(7,zve,2,0,"th",5),Ct(8,jve,2,1,"td",6),Dr(),Rr(9,7),Ct(10,Zve,2,0,"th",5),Ct(11,Kve,2,1,"td",6),Dr(),Rr(12,8),Ct(13,Xve,2,0,"th",5),Ct(14,Yve,2,1,"td",6),Dr(),Rr(15,9),Ct(16,Jve,2,0,"th",5),Ct(17,qve,2,1,"td",6),Dr(),Rr(18,10),Ct(19,Qve,2,0,"th",5),Ct(20,eye,10,0,"td",6),Dr(),Ct(21,tye,1,0,"tr",11),Ct(22,nye,1,0,"tr",12),Se()()),2&t&&(Be(5),Ke("dataSource",i.apis),Be(16),Ke("matHeaderRowDef",i.displayedColumns),Be(1),Ke("matRowDefColumns",i.displayedColumns))},dependencies:[rc,ss,tx,Nb,nx,$b,Fb,ix,Bb,Hb,rx,ox,hL],styles:["button[_ngcontent-%COMP%]{margin-right:10px}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{background-color:#fff5a2}"]}),n})(),rye=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Wn({type:n,selectors:[["app-setting-page"]],decls:7,vars:0,consts:[["mat-align-tabs","center"],["label","Simulated APIs"],["label","External APIs"],["label","Databases"]],template:function(t,i){1&t&&(be(0,"mat-tab-group",0)(1,"mat-tab",1),kn(2,"app-webservices-overview"),Se(),be(3,"mat-tab",2),kn(4,"app-api-overview"),Se(),be(5,"mat-tab",3),kn(6,"app-databases-overview"),Se()())},dependencies:[Xp,ef,BG,Bve,iye]}),n})(),oye=(()=>{class n{constructor(){}ngOnInit(){this.code='\n            {\n              "$schema": "http://json-schema.org/draft-07/schema#",\n              "$id": "https://example.com/alignment.schema.json",\n              "type": "object",\n              "properties": {\n                "name": {\n                  "type": "string"\n                },\n                "system":{\n                  "type": "string"\n                },\n                "description": {\n                  "type": "string"\n                },\n                "alignments": {\n                  "type": "array",\n                  "items": {\n                    "$ref": "#/definitions/mapping"\n                  }\n                }\n              },\n              "required": [\n                "name",\n                "alignments"\n              ],\n\n\n              "definitions": {\n                "mapping": {\n                  "type": "object",\n                  "properties": {\n                    "api_path": {\n                      "type": "array",\n                      "items": {\n                        "type": "string"\n                      }\n                    },\n                    "relation_path": {\n                      "type": "array",\n                      "items": {\n                        "$ref": "#/definitions/relationPath"\n                      }\n                    },\n                    "metrics": {\n                      "type": "object",\n                      "patternProperties": {\n                        "": {\n                          "type": "number"\n                        }\n                      }\n                    }\n                  },\n                  "required": [\n                    "api_path",\n                    "relation_path",\n                    "metrics"\n                  ]\n                },\n                "relationPath": {\n                  "type": "object",\n                  "properties": {\n                    "path": {\n                      "type": "array",\n                      "items": {\n                        "type": "string"\n                      }\n                    }\n                  }\n                }\n              }\n            }'}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Wn({type:n,selectors:[["app-schema"]],decls:6,vars:0,consts:[["mat-raised-button","","href","../../../assets/jsonSchema/alignment.schema.json"]],template:function(t,i){1&t&&(be(0,"a",0),He(1,"Download here"),Se(),be(2,"pre"),He(3,"    "),kn(4,"code"),He(5,"\n"),Se())},dependencies:[Hue]}),n})();class Yo{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(e,t=!1){return this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e,t=!1){return this.onePassHasher.start().appendAsciiStr(e).end(t)}static _hex(e){const t=Yo.hexChars,i=Yo.hexOut;let r,o,s,a;for(a=0;a<4;a+=1)for(o=8*a,r=e[a],s=0;s<8;s+=2)i[o+1+s]=t.charAt(15&r),r>>>=4,i[o+0+s]=t.charAt(15&r),r>>>=4;return i.join("")}static _md5cycle(e,t){let i=e[0],r=e[1],o=e[2],s=e[3];i+=(r&o|~r&s)+t[0]-680876936|0,i=(i<<7|i>>>25)+r|0,s+=(i&r|~i&o)+t[1]-389564586|0,s=(s<<12|s>>>20)+i|0,o+=(s&i|~s&r)+t[2]+606105819|0,o=(o<<17|o>>>15)+s|0,r+=(o&s|~o&i)+t[3]-1044525330|0,r=(r<<22|r>>>10)+o|0,i+=(r&o|~r&s)+t[4]-176418897|0,i=(i<<7|i>>>25)+r|0,s+=(i&r|~i&o)+t[5]+1200080426|0,s=(s<<12|s>>>20)+i|0,o+=(s&i|~s&r)+t[6]-1473231341|0,o=(o<<17|o>>>15)+s|0,r+=(o&s|~o&i)+t[7]-45705983|0,r=(r<<22|r>>>10)+o|0,i+=(r&o|~r&s)+t[8]+1770035416|0,i=(i<<7|i>>>25)+r|0,s+=(i&r|~i&o)+t[9]-1958414417|0,s=(s<<12|s>>>20)+i|0,o+=(s&i|~s&r)+t[10]-42063|0,o=(o<<17|o>>>15)+s|0,r+=(o&s|~o&i)+t[11]-1990404162|0,r=(r<<22|r>>>10)+o|0,i+=(r&o|~r&s)+t[12]+1804603682|0,i=(i<<7|i>>>25)+r|0,s+=(i&r|~i&o)+t[13]-40341101|0,s=(s<<12|s>>>20)+i|0,o+=(s&i|~s&r)+t[14]-1502002290|0,o=(o<<17|o>>>15)+s|0,r+=(o&s|~o&i)+t[15]+1236535329|0,r=(r<<22|r>>>10)+o|0,i+=(r&s|o&~s)+t[1]-165796510|0,i=(i<<5|i>>>27)+r|0,s+=(i&o|r&~o)+t[6]-1069501632|0,s=(s<<9|s>>>23)+i|0,o+=(s&r|i&~r)+t[11]+643717713|0,o=(o<<14|o>>>18)+s|0,r+=(o&i|s&~i)+t[0]-373897302|0,r=(r<<20|r>>>12)+o|0,i+=(r&s|o&~s)+t[5]-701558691|0,i=(i<<5|i>>>27)+r|0,s+=(i&o|r&~o)+t[10]+38016083|0,s=(s<<9|s>>>23)+i|0,o+=(s&r|i&~r)+t[15]-660478335|0,o=(o<<14|o>>>18)+s|0,r+=(o&i|s&~i)+t[4]-405537848|0,r=(r<<20|r>>>12)+o|0,i+=(r&s|o&~s)+t[9]+568446438|0,i=(i<<5|i>>>27)+r|0,s+=(i&o|r&~o)+t[14]-1019803690|0,s=(s<<9|s>>>23)+i|0,o+=(s&r|i&~r)+t[3]-187363961|0,o=(o<<14|o>>>18)+s|0,r+=(o&i|s&~i)+t[8]+1163531501|0,r=(r<<20|r>>>12)+o|0,i+=(r&s|o&~s)+t[13]-1444681467|0,i=(i<<5|i>>>27)+r|0,s+=(i&o|r&~o)+t[2]-51403784|0,s=(s<<9|s>>>23)+i|0,o+=(s&r|i&~r)+t[7]+1735328473|0,o=(o<<14|o>>>18)+s|0,r+=(o&i|s&~i)+t[12]-1926607734|0,r=(r<<20|r>>>12)+o|0,i+=(r^o^s)+t[5]-378558|0,i=(i<<4|i>>>28)+r|0,s+=(i^r^o)+t[8]-2022574463|0,s=(s<<11|s>>>21)+i|0,o+=(s^i^r)+t[11]+1839030562|0,o=(o<<16|o>>>16)+s|0,r+=(o^s^i)+t[14]-35309556|0,r=(r<<23|r>>>9)+o|0,i+=(r^o^s)+t[1]-1530992060|0,i=(i<<4|i>>>28)+r|0,s+=(i^r^o)+t[4]+1272893353|0,s=(s<<11|s>>>21)+i|0,o+=(s^i^r)+t[7]-155497632|0,o=(o<<16|o>>>16)+s|0,r+=(o^s^i)+t[10]-1094730640|0,r=(r<<23|r>>>9)+o|0,i+=(r^o^s)+t[13]+681279174|0,i=(i<<4|i>>>28)+r|0,s+=(i^r^o)+t[0]-358537222|0,s=(s<<11|s>>>21)+i|0,o+=(s^i^r)+t[3]-722521979|0,o=(o<<16|o>>>16)+s|0,r+=(o^s^i)+t[6]+76029189|0,r=(r<<23|r>>>9)+o|0,i+=(r^o^s)+t[9]-640364487|0,i=(i<<4|i>>>28)+r|0,s+=(i^r^o)+t[12]-421815835|0,s=(s<<11|s>>>21)+i|0,o+=(s^i^r)+t[15]+530742520|0,o=(o<<16|o>>>16)+s|0,r+=(o^s^i)+t[2]-995338651|0,r=(r<<23|r>>>9)+o|0,i+=(o^(r|~s))+t[0]-198630844|0,i=(i<<6|i>>>26)+r|0,s+=(r^(i|~o))+t[7]+1126891415|0,s=(s<<10|s>>>22)+i|0,o+=(i^(s|~r))+t[14]-1416354905|0,o=(o<<15|o>>>17)+s|0,r+=(s^(o|~i))+t[5]-57434055|0,r=(r<<21|r>>>11)+o|0,i+=(o^(r|~s))+t[12]+1700485571|0,i=(i<<6|i>>>26)+r|0,s+=(r^(i|~o))+t[3]-1894986606|0,s=(s<<10|s>>>22)+i|0,o+=(i^(s|~r))+t[10]-1051523|0,o=(o<<15|o>>>17)+s|0,r+=(s^(o|~i))+t[1]-2054922799|0,r=(r<<21|r>>>11)+o|0,i+=(o^(r|~s))+t[8]+1873313359|0,i=(i<<6|i>>>26)+r|0,s+=(r^(i|~o))+t[15]-30611744|0,s=(s<<10|s>>>22)+i|0,o+=(i^(s|~r))+t[6]-1560198380|0,o=(o<<15|o>>>17)+s|0,r+=(s^(o|~i))+t[13]+1309151649|0,r=(r<<21|r>>>11)+o|0,i+=(o^(r|~s))+t[4]-145523070|0,i=(i<<6|i>>>26)+r|0,s+=(r^(i|~o))+t[11]-1120210379|0,s=(s<<10|s>>>22)+i|0,o+=(i^(s|~r))+t[2]+718787259|0,o=(o<<15|o>>>17)+s|0,r+=(s^(o|~i))+t[9]-343485551|0,r=(r<<21|r>>>11)+o|0,e[0]=i+e[0]|0,e[1]=r+e[1]|0,e[2]=o+e[2]|0,e[3]=s+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(Yo.stateIdentity),this}appendStr(e){const t=this._buffer8,i=this._buffer32;let o,s,r=this._bufferLength;for(s=0;s<e.length;s+=1){if(o=e.charCodeAt(s),o<128)t[r++]=o;else if(o<2048)t[r++]=192+(o>>>6),t[r++]=63&o|128;else if(o<55296||o>56319)t[r++]=224+(o>>>12),t[r++]=o>>>6&63|128,t[r++]=63&o|128;else{if(o=1024*(o-55296)+(e.charCodeAt(++s)-56320)+65536,o>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");t[r++]=240+(o>>>18),t[r++]=o>>>12&63|128,t[r++]=o>>>6&63|128,t[r++]=63&o|128}r>=64&&(this._dataLength+=64,Yo._md5cycle(this._state,i),r-=64,i[0]=i[16])}return this._bufferLength=r,this}appendAsciiStr(e){const t=this._buffer8,i=this._buffer32;let o,r=this._bufferLength,s=0;for(;;){for(o=Math.min(e.length-s,64-r);o--;)t[r++]=e.charCodeAt(s++);if(r<64)break;this._dataLength+=64,Yo._md5cycle(this._state,i),r=0}return this._bufferLength=r,this}appendByteArray(e){const t=this._buffer8,i=this._buffer32;let o,r=this._bufferLength,s=0;for(;;){for(o=Math.min(e.length-s,64-r);o--;)t[r++]=e[s++];if(r<64)break;this._dataLength+=64,Yo._md5cycle(this._state,i),r=0}return this._bufferLength=r,this}getState(){const e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){const t=e.buffer,i=e.state,r=this._state;let o;for(this._dataLength=e.length,this._bufferLength=e.buflen,r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],o=0;o<t.length;o+=1)this._buffer8[o]=t.charCodeAt(o)}end(e=!1){const t=this._bufferLength,i=this._buffer8,r=this._buffer32,o=1+(t>>2);this._dataLength+=t;const s=8*this._dataLength;if(i[t]=128,i[t+1]=i[t+2]=i[t+3]=0,r.set(Yo.buffer32Identity.subarray(o),o),t>55&&(Yo._md5cycle(this._state,r),r.set(Yo.buffer32Identity)),s<=4294967295)r[14]=s;else{const a=s.toString(16).match(/(.*?)(.{0,8})$/);if(null===a)return;const c=parseInt(a[2],16),b=parseInt(a[1],16)||0;r[14]=c,r[15]=b}return Yo._md5cycle(this._state,r),e?this._state:Yo._hex(this._state)}}if(Yo.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),Yo.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Yo.hexChars="0123456789abcdef",Yo.hexOut=[],Yo.onePassHasher=new Yo,"5d41402abc4b2a76b9719d911017c592"!==Yo.hashStr("hello"))throw new Error("Md5 self test failed.");class oc{static delay(e){return new Promise(t=>setTimeout(t,e))}getMd5Hash(e){return Yo.hashStr(e)}addHashToLocalEntity(e){for(const t of e.valueList[0].fullKnowledge)t.hash=Yo.hashStr(t.path+t.value).toString()}addHashToWebEntity(e){console.log(e);for(const t of e.dictionary)t.hash=Yo.hashStr(t.path+t.value).toString()}formatApiPath(e){const t=e.match(ql_regexApiSearch);for(let i=0;i<t.length;i++)t[i]=t[i].replace(ql_regexApiReplace,"");for(let i=0;i<t.length;i++)t[i]=t[i].replace(ql_regexApiReplaceWildcard,"");return t.join()}formatLocalPathShort(e){const t=e.match(ql_regexRelSearch);for(let i=0;i<t.length;i++)t[i]=t[i].replace(ql_regexRelReplace,"");return t.join()}formatLocalPath(e){const t=e.split(", "),i=[];for(const r of t)i.push(this.formatLocalPathShort(r));return i.join(" \u{1f862} ")}joinRelPaths(e){return e.join("\u{1f862}")}}const sye=JSON.parse('{"dictionary":[{"path":"references[20].authors[0].authorId","value":"2064762548"},{"path":"references[32].isInfluential","value":"true"},{"path":"references[9].intent[0]","value":"background"},{"path":"citations[9].authors[1].name","value":"Jinshan Pan"},{"path":"year","value":"2019"},{"path":"is_open_access","value":"false"},{"path":"references[1].authors[1].name","value":"T. Kanade"},{"path":"references[26].paperId","value":"c397408e784004240e866d0f31cea7b9e44fdd0c"},{"path":"citations[7].authors[4].name","value":"Guangcheng Wang"},{"path":"references[31].arxivId","value":"1511.02228"},{"path":"citations[3].authors[5].authorId","value":"46347050"},{"path":"references[28].doi","value":"10.1109/TCSVT.2015.2400772"},{"path":"references[30].authors[2].name","value":"Kaiming He"},{"path":"references[31].year","value":"2015"},{"path":"references[26].authors[4].authorId","value":"1713887"},{"path":"references[23].authors[2].authorId","value":"144725609"},{"path":"citations[0].authors[3].authorId","value":""},{"path":"references[19].title","value":"Fast Facial Image Super-Resolution via Local Linear Transformations for Resource-Limited Applications"},{"path":"citations[2].authors[3].authorId","value":"1519062623"},{"path":"references[9].year","value":"2005"},{"path":"references[23].year","value":"2013"},{"path":"references[11].title","value":"Face hallucination VIA sparse coding"},{"path":"references[12].doi","value":"10.1093/comjnl/bxm075"},{"path":"references[3].title","value":"Think Globally, Fit Locally: Unsupervised Learning of Low Dimensional Manifold"},{"path":"references[24].intent[1]","value":"methodology"},{"path":"references[22].title","value":"A Comprehensive Survey to Face Hallucination"},{"path":"references[21].url","value":"https://www.semanticscholar.org/paper/170102b7809b43691b06618cdbbc90c8dbc2dd27"},{"path":"references[23].authors[0].name","value":"Liang Chen"},{"path":"references[36].authors[3].name","value":"Ming Li"},{"path":"references[25].authors[2].name","value":"Zhongyuan Wang"},{"path":"citations[6].arxivId","value":"2111.10634"},{"path":"references[21].authors[2].authorId","value":"144855557"},{"path":"citations[0].authors[0].name","value":"Surendra Nagar"},{"path":"authors[2].authorId","value":"2117896344"},{"path":"references[36].arxivId","value":"1704.08063"},{"path":"citations[1].title","value":"Deep Learning-based Face Super-resolution: A Survey"},{"path":"citations[0].year","value":"2021"},{"path":"references[15].arxivId","value":""},{"path":"citations[5].authors[2].name","value":"Zhenbing Liu"},{"path":"references[21].paperId","value":"170102b7809b43691b06618cdbbc90c8dbc2dd27"},{"path":"citations[3].authors[5].name","value":"C. Busch"},{"path":"references[24].authors[0].authorId","value":"2118187952"},{"path":"references[5].authors[0].name","value":"Hong Chang"},{"path":"references[21].doi","value":"10.1109/TCSVT.2013.2244798"},{"path":"references[36].year","value":"2017"},{"path":"references[10].authors[2].name","value":"S. Shan"},{"path":"citations[4].authors[3].authorId","value":"47111778"},{"path":"citations[5].year","value":"2020"},{"path":"references[37].doi","value":"10.1109/CVPR.2017.19"},{"path":"references[15].year","value":"2010"},{"path":"references[35].authors[4].name","value":"Kyoung Mu Lee"},{"path":"topics[1].topicId","value":"10302"},{"path":"citations[1].arxivId","value":"2101.03749"},{"path":"references[37].authors[2].authorId","value":"3108066"},{"path":"references[13].authors[2].name","value":"C. Qi"},{"path":"references[24].authors[3].name","value":"Zhen Han"},{"path":"references[27].authors[4].name","value":"Zhen Han"},{"path":"references[33].paperId","value":"ddfc978b3a149015c9e517fbfe1b8563df5e7356"},{"path":"references[22].authors[4].authorId","value":"2149869567"},{"path":"references[23].intent","value":"[]"},{"path":"references[37].intent","value":"[]"},{"path":"references[27].authors[2].authorId","value":"143869248"},{"path":"citations[3].authors[0].name","value":"Vishal M. Chudasama"},{"path":"references[34].isInfluential","value":"false"},{"path":"references[5].authors[2].authorId","value":"2112719095"},{"path":"citations[4].doi","value":"10.1016/j.patcog.2020.107539"},{"path":"references[26].authors[0].authorId","value":"1708439"},{"path":"references[17].authors[1].name","value":"John Wright"},{"path":"references[18].authors[1].authorId","value":"144328091"},{"path":"references[13].url","value":"https://www.semanticscholar.org/paper/d035c8bef0e0619fd68ab2cc1c9e71dfd730aefe"},{"path":"references[28].url","value":"https://www.semanticscholar.org/paper/91b1a59b9e0e7f4db0828bf36654b84ba53b0557"},{"path":"references[11].authors[2].authorId","value":"50032052"},{"path":"citations[5].url","value":"https://www.semanticscholar.org/paper/cd66f122b75fdd4ed743fa92c3783a2458a6b223"},{"path":"citations[4].authors[7].authorId","value":"123275544"},{"path":"references[11].authors[0].name","value":"Jianchao Yang"},{"path":"references[22].authors[1].name","value":"D. Tao"},{"path":"references[14].authors[1].name","value":"Hui He"},{"path":"references[28].authors[0].authorId","value":"1783889"},{"path":"references[24].arxivId","value":""},{"path":"references[37].url","value":"https://www.semanticscholar.org/paper/df0c54fe61f0ffb9f0e36a17c2038d9a1964cba3"},{"path":"references[4].paperId","value":"6254833a3e48df65a535678959aa2b670f54d465"},{"path":"references[27].arxivId","value":""},{"path":"citations[8].intent[0]","value":"background"},{"path":"references[14].intent[0]","value":"methodology"},{"path":"references[27].isInfluential","value":"false"},{"path":"references[25].authors[2].authorId","value":"38655501"},{"path":"references[37].authors[6].name","value":"J. Totz"},{"path":"references[6].doi","value":"10.1109/TIP.2003.819861"},{"path":"references[34].intent[0]","value":"methodology"},{"path":"citations[4].url","value":"https://www.semanticscholar.org/paper/aceb3d7f3cbe9f6035b84444436d7fb5cd46916b"},{"path":"references[10].authors[4].authorId","value":"2104086"},{"path":"references[19].doi","value":"10.1109/TCSVT.2011.2163461"},{"path":"citations[5].authors[5].authorId","value":"144361019"},{"path":"references[16].authors[1].authorId","value":"1688283"},{"path":"citations[6].authors[1].name","value":"M. Rahmati"},{"path":"citations[6].isInfluential","value":"false"},{"path":"references[6].url","value":"https://www.semanticscholar.org/paper/eae2e0fa72e898c289365c0af16daf57a7a6cf40"},{"path":"references[12].url","value":"https://www.semanticscholar.org/paper/b189282ec4c65f4229105e1b62e0012f7ab551cb"},{"path":"citations[5].intent","value":"[]"},{"path":"references[13].doi","value":"10.1109/ICME.2009.5202492"},{"path":"references[24].authors[4].authorId","value":"2146032451"},{"path":"references[7].authors[2].authorId","value":"2055029893"},{"path":"citations[5].doi","value":"10.1109/TCYB.2020.2970104"},{"path":"references[14].paperId","value":"09ad57265a1f0dfd60b3360daa499f5e93059c22"},{"path":"citations[0].paperId","value":"f425c983257ace8b18604286b2f1b602db213046"},{"path":"references[5].url","value":"https://www.semanticscholar.org/paper/b4018623293585e06e5ec159d11a9178f9f99380"},{"path":"citations[4].isInfluential","value":"false"},{"path":"references[8].authors[1].authorId","value":"50295995"},{"path":"references[29].doi","value":"10.1109/TMM.2015.2434216"},{"path":"citations[4].authors[3].name","value":"Yi Yu"},{"path":"references[13].authors[2].authorId","value":"145175070"},{"path":"references[22].arxivId","value":""},{"path":"references[22].authors[2].name","value":"Xinbo Gao"},{"path":"references[19].year","value":"2011"},{"path":"references[30].authors[0].authorId","value":"30459277"},{"path":"references[10].intent[0]","value":"methodology"},{"path":"references[31].authors[1].authorId","value":"2173683"},{"path":"references[31].authors[0].name","value":"R. Timofte"},{"path":"references[31].authors[2].authorId","value":"1681236"},{"path":"references[36].authors[4].authorId","value":"1681921"},{"path":"references[14].venue","value":"Pattern Recognit."},{"path":"references[8].authors[0].authorId","value":"31843833"},{"path":"references[25].venue","value":"IEEE Transactions on Multimedia"},{"path":"references[19].url","value":"https://www.semanticscholar.org/paper/510257c8cedc079aae88ccbf3dd10a84051c8fdc"},{"path":"citations[6].authors[0].authorId","value":"2142114752"},{"path":"references[0].venue","value":"IEEE Trans. Pattern Anal. Mach. Intell."},{"path":"references[15].authors[0].name","value":"Jinjun Wang"},{"path":"references[37].authors[2].name","value":"Ferenc Husz\ufffdr"},{"path":"references[4].authors[0].authorId","value":"33383055"},{"path":"citations[8].paperId","value":"80746a36bd92dc2fe3338d5fc3a589e05d3278a5"},{"path":"citations[6].authors[0].name","value":"Ali Abbasi"},{"path":"citations[3].arxivId","value":""},{"path":"references[17].intent[0]","value":"background"},{"path":"references[36].url","value":"https://www.semanticscholar.org/paper/bd8f77b7d3b9d272f7a68defc1412f73e5ac3135"},{"path":"references[14].authors[1].authorId","value":"2111891265"},{"path":"references[11].doi","value":"10.1109/ICIP.2008.4711992"},{"path":"references[17].authors[3].authorId","value":"50032052"},{"path":"references[35].authors[2].authorId","value":"48206011"},{"path":"references[29].url","value":"https://www.semanticscholar.org/paper/9c0cda8cb2337fb0cf78051bd0fc6b086d7efbfc"},{"path":"citations[6].title","value":"Identity-Preserving Pose-Robust Face Hallucination Through Face Subspace Prior"},{"path":"citations[7].authors[1].authorId","value":"144808832"},{"path":"references[18].isInfluential","value":"false"},{"path":"citations[6].url","value":"https://www.semanticscholar.org/paper/dc2ea22eca985c9456bb3d6f9820a348d02885b4"},{"path":"references[11].authors[3].authorId","value":"153652752"},{"path":"references[17].intent[1]","value":"methodology"},{"path":"citations[6].venue","value":"ArXiv"},{"path":"references[12].arxivId","value":""},{"path":"citations[7].authors[0].name","value":"Baojin Huang"},{"path":"references[10].authors[0].authorId","value":"48385803"},{"path":"references[0].title","value":"Neural Network-Based Face Detection"},{"path":"references[15].authors[5].name","value":"Yihong Gong"},{"path":"references[17].arxivId","value":""},{"path":"references[5].doi","value":"10.1109/CVPR.2004.1315043"},{"path":"references[0].arxivId","value":""},{"path":"references[11].isInfluential","value":"false"},{"path":"references[30].title","value":"Image Super-Resolution Using Deep Convolutional Networks"},{"path":"influentialCitationCount","value":"0"},{"path":"references[35].year","value":"2017"},{"path":"citations[3].authors[1].authorId","value":"2059027389"},{"path":"topics[0].url","value":"https://www.semanticscholar.org/topic/57450"},{"path":"references[29].paperId","value":"9c0cda8cb2337fb0cf78051bd0fc6b086d7efbfc"},{"path":"references[37].authors[1].name","value":"Lucas Theis"},{"path":"references[32].year","value":"2015"},{"path":"references[34].authors[0].name","value":"Yibing Song"},{"path":"references[34].authors[0].authorId","value":"2255687"},{"path":"references[36].doi","value":"10.1109/CVPR.2017.713"},{"path":"topics[3].topic","value":"algorithm"},{"path":"references[0].authors[0].authorId","value":"39682833"},{"path":"references[36].venue","value":"2017 IEEE Conference on Computer Vision and Pattern Recognition (CVPR)"},{"path":"citations[3].authors[2].authorId","value":"3004725"},{"path":"references[15].authors[4].name","value":"Thomas S. Huang"},{"path":"citations[1].venue","value":"ACM Computing Surveys"},{"path":"references[30].venue","value":"IEEE Transactions on Pattern Analysis and Machine Intelligence"},{"path":"references[18].authors[0].name","value":"Chengdong Lan"},{"path":"citations[7].intent[0]","value":"background"},{"path":"citations[1].authors[3].name","value":"Jiayi Ma"},{"path":"references[17].authors[2].authorId","value":"153652752"},{"path":"citations[7].authors[2].authorId","value":"38655501"},{"path":"citations[9].arxivId","value":""},{"path":"references[6].venue","value":"IEEE Transactions on Image Processing"},{"path":"references[24].authors[1].authorId","value":"144328091"},{"path":"references[6].title","value":"Image quality assessment: from error visibility to structural similarity"},{"path":"references[34].authors[2].name","value":"Shengfeng He"},{"path":"references[27].year","value":"2015"},{"path":"references[31].authors[1].name","value":"R. Rothe"},{"path":"references[4].authors[1].name","value":"H. Shum"},{"path":"references[7].authors[2].name","value":"Q. Xue"},{"path":"references[10].authors[1].authorId","value":"48437987"},{"path":"citations[4].authors[4].authorId","value":"144307145"},{"path":"citations[7].authors[3].name","value":"Kui Jiang"},{"path":"references[4].authors[1].authorId","value":"93596028"},{"path":"references[2].paperId","value":"7c850f4c56f184891f3ccfe2de6213881dc0e08c"},{"path":"references[36].title","value":"SphereFace: Deep Hypersphere Embedding for Face Recognition"},{"path":"references[19].venue","value":"IEEE Transactions on Circuits and Systems for Video Technology"},{"path":"citations[5].paperId","value":"cd66f122b75fdd4ed743fa92c3783a2458a6b223"},{"path":"references[7].authors[1].name","value":"Q. Tian"},{"path":"references[31].intent[0]","value":"methodology"},{"path":"references[19].paperId","value":"510257c8cedc079aae88ccbf3dd10a84051c8fdc"},{"path":"references[25].isInfluential","value":"true"},{"path":"references[28].year","value":"2015"},{"path":"citations[4].authors[4].name","value":"J. Xie"},{"path":"references[14].title","value":"Super-resolution of human face image using canonical correlation analysis"},{"path":"references[34].authors[1].name","value":"Jiawei Zhang"},{"path":"references[5].isInfluential","value":"true"},{"path":"references[25].title","value":"Noise Robust Face Hallucination via Locality-Constrained Representation"},{"path":"references[13].arxivId","value":""},{"path":"references[6].isInfluential","value":"true"},{"path":"references[17].authors[0].name","value":"Jianchao Yang"},{"path":"references[6].paperId","value":"eae2e0fa72e898c289365c0af16daf57a7a6cf40"},{"path":"references[24].authors[3].authorId","value":"144725609"},{"path":"references[26].authors[4].name","value":"Chunjie Zhang"},{"path":"references[37].authors[5].name","value":"Alykhan Tejani"},{"path":"citations[2].authors[4].authorId","value":"144725609"},{"path":"references[21].authors[1].authorId","value":""},{"path":"references[22].authors[1].authorId","value":"143719920"},{"path":"references[29].year","value":"2015"},{"path":"references[25].authors[3].name","value":"Zhen Han"},{"path":"references[36].authors[4].name","value":"B. Raj"},{"path":"references[14].isInfluential","value":"false"},{"path":"references[3].year","value":"2003"},{"path":"citations[4].authors[0].name","value":"Guangwei Gao"},{"path":"citations[4].authors[6].authorId","value":"2111076685"},{"path":"citations[4].arxivId","value":""},{"path":"references[14].doi","value":"10.1016/j.patcog.2010.02.007"},{"path":"references[23].authors[3].authorId","value":"2111131284"},{"path":"citations[2].paperId","value":"1bc897f87e5e0c61c496cdccdd168577a62ed501"},{"path":"references[11].year","value":"2008"},{"path":"citations[6].year","value":"2021"},{"path":"citations[0].authors[1].name","value":"Ankush Jain"},{"path":"citations[0].authors[2].authorId","value":"2149921717"},{"path":"citations[5].authors[1].name","value":"Long Sun"},{"path":"references[20].isInfluential","value":"true"},{"path":"references[20].title","value":"An efficient local-structure-based face-hallucination method"},{"path":"references[1].title","value":"Limits on super-resolution and how to break them"},{"path":"references[13].title","value":"Position-based face hallucination method"},{"path":"references[24].title","value":"Noise Face Image Hallucination via Data-Driven Local Eigentransformation"},{"path":"references[5].title","value":"Super-resolution through neighbor embedding"},{"path":"references[7].authors[3].name","value":"N. Sebe"},{"path":"citations[2].authors[2].authorId","value":"1708439"},{"path":"references[14].url","value":"https://www.semanticscholar.org/paper/09ad57265a1f0dfd60b3360daa499f5e93059c22"},{"path":"references[10].authors[3].name","value":"Xilin Chen"},{"path":"references[5].venue","value":"CVPR 2004"},{"path":"references[15].isInfluential","value":"false"},{"path":"references[3].arxivId","value":""},{"path":"references[8].year","value":"2005"},{"path":"references[5].authors[1].name","value":"D. Yeung"},{"path":"references[10].authors[5].authorId","value":"2108584873"},{"path":"references[8].intent[0]","value":"methodology"},{"path":"references[23].url","value":"https://www.semanticscholar.org/paper/baf38dbaaf81bfd250376ce7fc38d76c3821b309"},{"path":"citations[1].authors[2].authorId","value":"2108681776"},{"path":"references[13].isInfluential","value":"false"},{"path":"references[27].authors[0].name","value":"Liang Chen"},{"path":"references[28].intent[0]","value":"background"},{"path":"references[35].venue","value":"2017 IEEE Conference on Computer Vision and Pattern Recognition Workshops (CVPRW)"},{"path":"references[6].authors[2].name","value":"H. Sheikh"},{"path":"references[25].intent[2]","value":"result"},{"path":"references[13].venue","value":"2009 IEEE International Conference on Multimedia and Expo"},{"path":"references[30].authors[3].name","value":"Xiaoou Tang"},{"path":"citations[1].year","value":"2021"},{"path":"references[31].venue","value":"2016 IEEE Conference on Computer Vision and Pattern Recognition (CVPR)"},{"path":"references[20].venue","value":"2012 IEEE International Conference on Acoustics, Speech and Signal Processing (ICASSP)"},{"path":"references[24].venue","value":"PCM"},{"path":"references[1].venue","value":"Proceedings IEEE Conference on Computer Vision and Pattern Recognition. CVPR 2000 (Cat. No.PR00662)"},{"path":"references[1].authors[1].authorId","value":"1733113"},{"path":"references[30].year","value":"2014"},{"path":"references[23].doi","value":"10.1109/ICIP.2013.6738201"},{"path":"references[16].authors[0].authorId","value":"2363813"},{"path":"references[21].authors[2].name","value":"Pingkun Yan"},{"path":"references[35].authors[1].name","value":"Sanghyun Son"},{"path":"references[25].intent[1]","value":"methodology"},{"path":"references[6].authors[0].name","value":"Zhou Wang"},{"path":"citations[6].doi","value":"10.36227/techrxiv.17055734"},{"path":"references[29].authors[3].authorId","value":"1685088"},{"path":"citations[8].title","value":"MSFSR: A Multi-Stage Face Super-Resolution with Accurate Facial Representation via Enhanced Facial Boundaries"},{"path":"references[10].authors[3].authorId","value":"46772547"},{"path":"references[0].authors[1].name","value":"S. Baluja"},{"path":"arxivId","value":""},{"path":"topics[0].topic","value":"Anatomy, Regional"},{"path":"citations[3].venue","value":"IEEE Transactions on Biometrics, Behavior, and Identity Science"},{"path":"references[35].title","value":"Enhanced Deep Residual Networks for Single Image Super-Resolution"},{"path":"references[25].authors[1].name","value":"R. Hu"},{"path":"references[27].url","value":"https://www.semanticscholar.org/paper/1b1eb9b758676f9b249ef17bb473cfd38c11e62d"},{"path":"references[35].authors[1].authorId","value":"2055453482"},{"path":"topics[2].topicId","value":"199704"},{"path":"references[25].intent[0]","value":"background"},{"path":"references[28].authors[1].authorId","value":"144847940"},{"path":"references[24].authors[5].authorId","value":"144398790"},{"path":"citations[2].authors[0].authorId","value":"2146032451"},{"path":"references[16].isInfluential","value":"true"},{"path":"references[3].authors[1].authorId","value":"9330607"},{"path":"references[18].year","value":"2010"},{"path":"references[30].authors[1].name","value":"Chen Change Loy"},{"path":"references[11].authors[2].name","value":"Yi Ma"},{"path":"references[20].arxivId","value":""},{"path":"citations[0].arxivId","value":""},{"path":"references[36].authors[3].authorId","value":"2150655769"},{"path":"references[10].authors[6].name","value":"Debin Zhao"},{"path":"citations[0].authors[3].name","value":"Ajay Kumar"},{"path":"numCiting","value":"38"},{"path":"references[33].arxivId","value":""},{"path":"citations[3].year","value":"2021"},{"path":"references[7].isInfluential","value":"false"},{"path":"citations[0].title","value":"Adaptive optimal multi-features learning based representation for face hallucination"},{"path":"citations[3].title","value":"E-ComSupResNet: Enhanced Face Super-Resolution Through Compact Network"},{"path":"references[22].authors[3].authorId","value":"67180560"},{"path":"references[16].year","value":"2010"},{"path":"references[4].arxivId","value":""},{"path":"citations[0].venue","value":"Expert Syst. Appl."},{"path":"citations[8].venue","value":"2020 IEEE/CVF Conference on Computer Vision and Pattern Recognition Workshops (CVPRW)"},{"path":"citations[0].authors[0].authorId","value":"20921873"},{"path":"references[37].authors[7].name","value":"Zehan Wang"},{"path":"references[10].authors[5].name","value":"Xiaohua Zhang"},{"path":"citations[3].authors[4].authorId","value":"151434651"},{"path":"references[12].isInfluential","value":"false"},{"path":"references[14].authors[0].authorId","value":"39925162"},{"path":"references[27].authors[3].name","value":"Qing Li"},{"path":"references[23].authors[1].authorId","value":"144328091"},{"path":"authors[1].authorId","value":"9416881"},{"path":"references[29].title","value":"Learning-Based Joint Super-Resolution and Deblocking for a Highly Compressed Image"},{"path":"references[37].authors[1].authorId","value":"2073063"},{"path":"citations[4].year","value":"2021"},{"path":"references[35].authors[3].name","value":"Seungjun Nah"},{"path":"references[19].arxivId","value":""},{"path":"references[15].authors[3].authorId","value":"39157653"},{"path":"references[36].authors[1].name","value":"Yandong Wen"},{"path":"citations[8].authors[1].authorId","value":"2108053052"},{"path":"citations[2].url","value":"https://www.semanticscholar.org/paper/1bc897f87e5e0c61c496cdccdd168577a62ed501"},{"path":"references[23].isInfluential","value":"false"},{"path":"numCitedBy","value":"10"},{"path":"references[17].url","value":"https://www.semanticscholar.org/paper/f99d0bd1f1288fe35d46f719125844bfbaf544e3"},{"path":"references[20].url","value":"https://www.semanticscholar.org/paper/e604febddc6294574cb6ca32d9f3e9af690e3200"},{"path":"references[11].authors[1].name","value":"Hao Tang"},{"path":"authors[2].url","value":"https://www.semanticscholar.org/author/2117896344"},{"path":"references[37].authors[5].authorId","value":"41203992"},{"path":"references[37].authors[8].name","value":"W. Shi"},{"path":"references[20].intent[0]","value":"background"},{"path":"references[6].year","value":"2004"},{"path":"citations[9].authors[1].authorId","value":"9416881"},{"path":"references[30].doi","value":"10.1109/TPAMI.2015.2439281"},{"path":"references[7].arxivId","value":""},{"path":"references[9].isInfluential","value":"true"},{"path":"citations[5].authors[4].name","value":"Cheng Pang"},{"path":"references[16].venue","value":"Image Vis. Comput."},{"path":"references[12].paperId","value":"b189282ec4c65f4229105e1b62e0012f7ab551cb"},{"path":"references[35].paperId","value":"7ba5d3808e117e7a68dc40331ce1d483ceeedcb2"},{"path":"references[27].venue","value":"Multimedia Tools and Applications"},{"path":"references[29].authors[0].authorId","value":"1943622"},{"path":"citations[9].year","value":"2020"},{"path":"citations[3].paperId","value":"684dca76b28358a9cabf60283ab6dcc68ba17385"},{"path":"references[0].paperId","value":"3d76ef8e61395a6e9c32627f1f108772d084e2e9"},{"path":"references[0].authors[2].name","value":"T. Kanade"},{"path":"references[37].authors[6].authorId","value":"1853456"},{"path":"references[10].authors[0].name","value":"W. Gao"},{"path":"references[8].title","value":"Hallucinating face by eigentransformation"},{"path":"references[1].year","value":"2000"},{"path":"references[20].authors[0].name","value":"Hui Zhuo"},{"path":"references[8].venue","value":"IEEE Trans. Syst. Man Cybern. Part C"},{"path":"references[17].authors[2].name","value":"Thomas S. Huang"},{"path":"fieldsOfStudy[0]","value":"Computer Science"},{"path":"authors[1].name","value":"Jinshan Pan"},{"path":"references[30].url","value":"https://www.semanticscholar.org/paper/66e9dc728b5041271bff0cd6ac0d7eadcd88442f"},{"path":"citations[9].doi","value":"10.1109/TIP.2020.3023580"},{"path":"citations[2].intent[0]","value":"background"},{"path":"references[5].intent[0]","value":"background"},{"path":"references[15].paperId","value":"2f7713dcc35e7c05becf3be5522f36c9546b0364"},{"path":"references[30].authors[2].authorId","value":"39353098"},{"path":"references[17].doi","value":"10.1109/TIP.2010.2050625"},{"path":"citations[8].authors[2].authorId","value":"2146032451"},{"path":"references[14].year","value":"2010"},{"path":"references[22].isInfluential","value":"false"},{"path":"citations[2].intent[1]","value":"methodology"},{"path":"references[7].year","value":"2005"},{"path":"references[27].title","value":"A novel face super resolution approach for noisy images using contour feature and standard deviation prior"},{"path":"references[9].authors[1].authorId","value":"1756114"},{"path":"references[36].authors[2].name","value":"Zhiding Yu"},{"path":"references[16].title","value":"A new ranking method for principal components analysis and its application to face image analysis"},{"path":"citations[3].intent","value":"[]"},{"path":"references[17].authors[3].name","value":"Yi Ma"},{"path":"references[30].isInfluential","value":"true"},{"path":"references[15].authors[2].authorId","value":"144782042"},{"path":"references[35].authors[0].name","value":"Bee Lim"},{"path":"references[0].year","value":"1998"},{"path":"references[16].authors[1].name","value":"G. Giraldi"},{"path":"citations[6].paperId","value":"dc2ea22eca985c9456bb3d6f9820a348d02885b4"},{"path":"citations[9].authors[2].authorId","value":"1708439"},{"path":"authors[0].name","value":"Liang Chen"},{"path":"references[32].paperId","value":"b5f3e5d2912bedbcd9458952d664b08db6aed962"},{"path":"references[5].intent[1]","value":"methodology"},{"path":"references[13].year","value":"2009"},{"path":"citations[5].authors[3].name","value":"Huimin Lu"},{"path":"references[27].doi","value":"10.1007/s11042-015-3145-9"},{"path":"citations[9].url","value":"https://www.semanticscholar.org/paper/9f2442c12c1dfde6dcd1986b6b12dc92f14aeb92"},{"path":"references[29].authors[2].authorId","value":"2644084"},{"path":"references[36].authors[2].authorId","value":"1751019"},{"path":"references[6].authors[3].name","value":"Eero P. Simoncelli"},{"path":"references[16].arxivId","value":""},{"path":"references[10].arxivId","value":""},{"path":"references[16].authors[0].name","value":"C. Thomaz"},{"path":"references[36].authors[1].authorId","value":"145357606"},{"path":"references[9].paperId","value":"cec734d7097ab6b1e60d95228ffd64248eb89d66"},{"path":"references[10].authors[1].name","value":"B. Cao"},{"path":"references[12].year","value":"2009"},{"path":"citations[5].authors[0].name","value":"Rushi Lan"},{"path":"citations[1].authors[0].authorId","value":"1708439"},{"path":"citations[8].year","value":"2020"},{"path":"references[26].authors[0].name","value":"Junjun Jiang"},{"path":"references[2].authors[1].authorId","value":"2149269035"},{"path":"references[8].isInfluential","value":"false"},{"path":"references[15].authors[0].authorId","value":"71563118"},{"path":"references[9].doi","value":"10.1109/CVPR.2005.177"},{"path":"isOpenAccess","value":"false"},{"path":"topics[1].url","value":"https://www.semanticscholar.org/topic/10302"},{"path":"references[20].authors[1].name","value":"K. Lam"},{"path":"references[30].authors[3].authorId","value":"50295995"},{"path":"references[26].authors[3].name","value":"Zhen Han"},{"path":"references[36].authors[0].authorId","value":"36326884"},{"path":"authors[2].name","value":"Qing Li"},{"path":"references[26].arxivId","value":""},{"path":"references[21].isInfluential","value":"false"},{"path":"citations[9].authors[4].authorId","value":"2108053052"},{"path":"citations[1].authors[1].authorId","value":"2109501904"},{"path":"references[37].authors[3].authorId","value":"145372820"},{"path":"references[5].year","value":"2004"},{"path":"references[33].title","value":"Face super resolution based on parent patch prior for VLQ scenarios"},{"path":"references[10].url","value":"https://www.semanticscholar.org/paper/2485c98aa44131d1a2f7d1355b1e372f2bb148ad"},{"path":"references[28].paperId","value":"91b1a59b9e0e7f4db0828bf36654b84ba53b0557"},{"path":"references[2].year","value":"2003"},{"path":"references[20].doi","value":"10.1109/ICASSP.2012.6288119"},{"path":"references[29].authors[1].authorId","value":"3192517"},{"path":"references[10].year","value":"2008"},{"path":"references[23].authors[4].authorId","value":"1708439"},{"path":"references[2].intent[0]","value":"methodology"},{"path":"references[9].authors[0].authorId","value":"48950628"},{"path":"references[3].venue","value":"J. Mach. Learn. Res."},{"path":"references[25].paperId","value":"51ebd2067aa0e66d0d66e2b018b95f5e85993206"},{"path":"references[22].paperId","value":"5a0d82e4efb74b1d74baea9ec794c1c66e637571"},{"path":"isPublisherLicensed","value":"true"},{"path":"references[22].authors[0].authorId","value":"144050305"},{"path":"references[4].year","value":"2004"},{"path":"references[15].authors[1].authorId","value":"1706007"},{"path":"references[37].authors[4].authorId","value":"49931957"},{"path":"citations[8].isInfluential","value":"false"},{"path":"citations[9].authors[3].authorId","value":"1519062623"},{"path":"references[11].venue","value":"2008 15th IEEE International Conference on Image Processing"},{"path":"references[26].authors[2].name","value":"Chao Liang"},{"path":"references[33].venue","value":"Multimedia Tools and Applications"},{"path":"citations[8].authors[0].authorId","value":"2140010411"},{"path":"references[29].arxivId","value":""},{"path":"references[9].url","value":"https://www.semanticscholar.org/paper/cec734d7097ab6b1e60d95228ffd64248eb89d66"},{"path":"references[22].venue","value":"International Journal of Computer Vision"},{"path":"references[11].intent[0]","value":"background"},{"path":"references[10].doi","value":"10.1109/TSMCA.2007.909557"},{"path":"references[26].authors[1].name","value":"R. Hu"},{"path":"references[2].authors[0].authorId","value":"2115277167"},{"path":"citations[2].doi","value":"10.1109/TIP.2021.3086595"},{"path":"references[20].intent[1]","value":"methodology"},{"path":"references[36].authors[5].name","value":"Le Song"},{"path":"references[33].authors[0].name","value":"Liang Chen"},{"path":"citations[4].authors[6].name","value":"Meng Yang"},{"path":"citations[6].intent[0]","value":"background"},{"path":"references[33].url","value":"https://www.semanticscholar.org/paper/ddfc978b3a149015c9e517fbfe1b8563df5e7356"},{"path":"authors[0].authorId","value":"2146032451"},{"path":"citations[9].paperId","value":"9f2442c12c1dfde6dcd1986b6b12dc92f14aeb92"},{"path":"references[2].authors[2].name","value":"M. Kang"},{"path":"citations[1].url","value":"https://www.semanticscholar.org/paper/0aff8d059bccd20014f250b8e87cf205dfc04f5b"},{"path":"citations[8].authors[0].name","value":"Yunchen Zhang"},{"path":"citations[1].doi","value":"10.1145/3485132"},{"path":"references[24].authors[2].authorId","value":"1708439"},{"path":"references[0].isInfluential","value":"true"},{"path":"references[10].authors[6].authorId","value":"1725937"},{"path":"references[16].url","value":"https://www.semanticscholar.org/paper/8b56e33f33e582f3e473dba573a16b598ed9bcdc"},{"path":"references[15].title","value":"Locality-constrained Linear Coding for image classification"},{"path":"citations[4].authors[5].authorId","value":"51460259"},{"path":"references[13].intent","value":"[]"},{"path":"references[6].authors[1].name","value":"A. Bovik"},{"path":"references[26].title","value":"Face image super-resolution through locality-induced support regression"},{"path":"references[37].authors[0].authorId","value":"1779917"},{"path":"references[2].url","value":"https://www.semanticscholar.org/paper/7c850f4c56f184891f3ccfe2de6213881dc0e08c"},{"path":"citations[4].authors[1].name","value":"Guangwei Gao"},{"path":"citations[2].authors[4].name","value":"Zhen Han"},{"path":"references[34].paperId","value":"006a6e6efc6582b57fbbf6c689e29b69a0be1ce2"},{"path":"references[22].authors[4].name","value":"Jie Li"},{"path":"citations[3].authors[3].authorId","value":"34711412"},{"path":"references[23].authors[0].authorId","value":"2146032451"},{"path":"references[19].authors[1].authorId","value":"2068345080"},{"path":"citations[0].authors[1].authorId","value":"49148100"},{"path":"references[13].authors[0].name","value":"Xiang-Wang Ma"},{"path":"references[13].paperId","value":"d035c8bef0e0619fd68ab2cc1c9e71dfd730aefe"},{"path":"references[24].authors[1].name","value":"R. Hu"},{"path":"references[11].authors[3].name","value":"Thomas S. Huang"},{"path":"references[33].doi","value":"10.1007/s11042-016-3611-z"},{"path":"references[29].authors[3].name","value":"Chia-Wen Lin"},{"path":"references[18].paperId","value":"fed5e5a9be8947aa553ea4f526405b672a2ac36c"},{"path":"citations[4].paperId","value":"aceb3d7f3cbe9f6035b84444436d7fb5cd46916b"},{"path":"references[37].authors[4].name","value":"Andrew P. Aitken"},{"path":"references[27].authors[4].authorId","value":"144725609"},{"path":"references[26].isInfluential","value":"false"},{"path":"references[23].arxivId","value":""},{"path":"references[7].authors[4].name","value":"J. Ma"},{"path":"references[24].doi","value":"10.1007/978-3-319-13168-9_19"},{"path":"citations[2].authors[5].authorId","value":"2780029"},{"path":"citations[1].authors[1].name","value":"Chenyang Wang"},{"path":"references[19].intent[0]","value":"methodology"},{"path":"references[2].doi","value":"10.1109/MSP.2003.1203207"},{"path":"references[29].intent[0]","value":"methodology"},{"path":"references[14].authors[3].name","value":"Junping Zhang"},{"path":"citations[7].year","value":"2020"},{"path":"references[22].authors[2].authorId","value":"10699750"},{"path":"references[28].arxivId","value":""},{"path":"references[8].paperId","value":"791d46aa9cdd40bc9d82067a2e9b71785c62838b"},{"path":"citations[7].isInfluential","value":"false"},{"path":"references[1].authors[0].authorId","value":"145347688"},{"path":"references[3].paperId","value":"8db95dbd08e4ee64fb258e5380e78cfa507ed94d"},{"path":"references[27].authors[1].name","value":"R. Hu"},{"path":"references[35].authors[0].authorId","value":"144717485"},{"path":"references[32].intent[1]","value":"methodology"},{"path":"references[9].authors[1].name","value":"B. Triggs"},{"path":"citations[0].authors[2].name","value":"Pramod Kumar Singh"},{"path":"citations[7].arxivId","value":""},{"path":"citations[4].authors[1].authorId","value":"3306402"},{"path":"references[10].authors[4].name","value":"Delong Zhou"},{"path":"citations[3].authors[3].name","value":"K. Raja"},{"path":"citations[2].authors[1].authorId","value":"9416881"},{"path":"citations[9].isInfluential","value":"true"},{"path":"references[19].authors[1].name","value":"Ning Wu"},{"path":"topics[2].topic","value":"Flexed Sidebent Rotated"},{"path":"references[34].venue","value":"IJCAI"},{"path":"citations[5].title","value":"MADNet: A Fast and Lightweight Network for Single-Image Super Resolution"},{"path":"citations[5].venue","value":"IEEE Transactions on Cybernetics"},{"path":"references[37].title","value":"Photo-Realistic Single Image Super-Resolution Using a Generative Adversarial Network"},{"path":"references[33].authors[0].authorId","value":"2146032451"},{"path":"fieldsOfStudy[1]","value":"Medicine"},{"path":"references[28].authors[0].name","value":"Muwei Jian"},{"path":"citations[2].year","value":"2021"},{"path":"references[29].authors[4].authorId","value":"1692617"},{"path":"references[5].authors[2].name","value":"Yimin Xiong"},{"path":"references[36].authors[0].name","value":"Weiyang Liu"},{"path":"references[2].authors[2].authorId","value":"1839581"},{"path":"references[20].year","value":"2012"},{"path":"authors[0].url","value":"https://www.semanticscholar.org/author/2146032451"},{"path":"references[7].venue","value":"2005 IEEE International Conference on Multimedia and Expo"},{"path":"venue","value":"IEEE Transactions on Image Processing"},{"path":"references[7].title","value":"Neighborhood issue in single-frame image super-resolution"},{"path":"citations[9].authors[0].authorId","value":"2146032451"},{"path":"topics[3].url","value":"https://www.semanticscholar.org/topic/291901"},{"path":"references[3].authors[0].name","value":"L. Saul"},{"path":"references[17].year","value":"2010"},{"path":"citations[5].authors[5].name","value":"Xiaonan Luo"},{"path":"title","value":"Robust Face Image Super-Resolution via Joint Learning of Subdivided Contextual Model"},{"path":"references[10].venue","value":"IEEE Transactions on Systems, Man, and Cybernetics - Part A: Systems and Humans"},{"path":"references[35].authors[2].name","value":"Heewon Kim"},{"path":"references[31].isInfluential","value":"false"},{"path":"references[30].arxivId","value":"1501.00092"},{"path":"references[3].authors[0].authorId","value":"1796044"},{"path":"references[37].authors[7].authorId","value":"34627233"},{"path":"references[0].authors[0].name","value":"H. Rowley"},{"path":"references[1].arxivId","value":""},{"path":"references[15].venue","value":"2010 IEEE Computer Society Conference on Computer Vision and Pattern Recognition"},{"path":"references[18].title","value":"Face hallucination with shape parameters projection constraint"},{"path":"references[30].authors[0].name","value":"Chao Dong"},{"path":"references[21].authors[0].authorId","value":"7828998"},{"path":"references[21].year","value":"2013"},{"path":"references[37].venue","value":"2017 IEEE Conference on Computer Vision and Pattern Recognition (CVPR)"},{"path":"references[26].venue","value":"Signal Process."},{"path":"references[19].isInfluential","value":"false"},{"path":"references[32].intent[0]","value":"background"},{"path":"references[12].intent[0]","value":"methodology"},{"path":"references[32].doi","value":"10.1109/CVPR.2016.182"},{"path":"references[10].title","value":"The CAS-PEAL Large-Scale Chinese Face Database and Baseline Evaluations"},{"path":"references[0].authors[2].authorId","value":"1733113"},{"path":"citations[1].authors[3].authorId","value":"8555475"},{"path":"references[11].arxivId","value":""},{"path":"references[30].authors[1].authorId","value":"1717179"},{"path":"references[20].paperId","value":"e604febddc6294574cb6ca32d9f3e9af690e3200"},{"path":"references[7].authors[0].name","value":"Xu Su"},{"path":"references[35].authors[4].authorId","value":"2135837"},{"path":"references[34].authors[4].name","value":"Qingxiong Yang"},{"path":"references[0].intent[1]","value":"methodology"},{"path":"references[32].authors[2].authorId","value":"2135837"},{"path":"references[36].authors[5].authorId","value":"1779453"},{"path":"references[14].authors[2].authorId","value":"144309189"},{"path":"citations[7].authors[0].authorId","value":"1581795258"},{"path":"references[7].authors[0].authorId","value":"2106352399"},{"path":"references[7].authors[1].authorId","value":"144876831"},{"path":"citations[7].authors[1].name","value":"Zheng He"},{"path":"references[25].authors[0].name","value":"Junjun Jiang"},{"path":"references[34].url","value":"https://www.semanticscholar.org/paper/006a6e6efc6582b57fbbf6c689e29b69a0be1ce2"},{"path":"references[3].doi","value":"10.1162/153244304322972667"},{"path":"references[15].authors[4].authorId","value":"153652752"},{"path":"references[32].url","value":"https://www.semanticscholar.org/paper/b5f3e5d2912bedbcd9458952d664b08db6aed962"},{"path":"references[18].venue","value":"ACM Multimedia"},{"path":"references[27].paperId","value":"1b1eb9b758676f9b249ef17bb473cfd38c11e62d"},{"path":"references[5].paperId","value":"b4018623293585e06e5ec159d11a9178f9f99380"},{"path":"references[1].doi","value":"10.1109/CVPR.2000.854852"},{"path":"references[32].arxivId","value":"1511.04587"},{"path":"citations[0].intent","value":"[]"},{"path":"references[27].authors[2].name","value":"Chao Liang"},{"path":"references[26].year","value":"2014"},{"path":"references[29].venue","value":"IEEE Transactions on Multimedia"},{"path":"references[34].authors[2].authorId","value":"2548483"},{"path":"references[26].intent[0]","value":"methodology"},{"path":"references[7].intent","value":"[]"},{"path":"references[16].intent[0]","value":"methodology"},{"path":"references[14].arxivId","value":""},{"path":"doi","value":"10.1109/TIP.2019.2920510"},{"path":"citations[1].authors[0].name","value":"Junjun Jiang"},{"path":"references[15].authors[5].authorId","value":"144768792"},{"path":"citations[6].authors[1].authorId","value":"143707367"},{"path":"references[34].doi","value":"10.24963/ijcai.2017/633"},{"path":"references[21].authors[0].name","value":"Xiaoqiang Lu"},{"path":"references[34].authors[1].authorId","value":"1519062623"},{"path":"references[10].paperId","value":"2485c98aa44131d1a2f7d1355b1e372f2bb148ad"},{"path":"citations[2].title","value":"Multi-Stage Degradation Homogenization for Super-Resolution of Face Images With Extreme Degradations"},{"path":"citations[5].isInfluential","value":"false"},{"path":"references[37].authors[3].name","value":"Jose Caballero"},{"path":"references[37].authors[8].authorId","value":"152554375"},{"path":"references[1].url","value":"https://www.semanticscholar.org/paper/66d890912381e2536d2dbc117a0ce59158c3be90"},{"path":"citations[2].venue","value":"IEEE Transactions on Image Processing"},{"path":"topics[2].url","value":"https://www.semanticscholar.org/topic/199704"},{"path":"references[4].isInfluential","value":"false"},{"path":"url","value":"https://www.semanticscholar.org/paper/d8c1ed5070958836eef2d2c239ac12963996f756"},{"path":"references[18].authors[3].authorId","value":"144725609"},{"path":"references[22].authors[3].name","value":"Xuelong Li"},{"path":"references[27].authors[1].authorId","value":"144328091"},{"path":"references[13].authors[1].authorId","value":"47539666"},{"path":"references[31].authors[0].authorId","value":"1732855"},{"path":"references[21].authors[1].name","value":"Yuan Yuan"},{"path":"references[24].isInfluential","value":"true"},{"path":"references[37].paperId","value":"df0c54fe61f0ffb9f0e36a17c2038d9a1964cba3"},{"path":"references[17].authors[1].authorId","value":"143607492"},{"path":"references[25].year","value":"2014"},{"path":"references[25].arxivId","value":""},{"path":"references[35].intent[1]","value":"methodology"},{"path":"citations[8].url","value":"https://www.semanticscholar.org/paper/80746a36bd92dc2fe3338d5fc3a589e05d3278a5"},{"path":"references[24].authors[0].name","value":"Xiaohui Dong"},{"path":"citations[7].authors[3].authorId","value":"51360637"},{"path":"citations[7].title","value":"Lightweight Progressive Residual Clique Network for Image Super-Resolution"},{"path":"references[26].url","value":"https://www.semanticscholar.org/paper/c397408e784004240e866d0f31cea7b9e44fdd0c"},{"path":"citations[3].authors[0].authorId","value":"38824959"},{"path":"citations[4].authors[2].name","value":"Guangwei Gao"},{"path":"references[4].intent[0]","value":"methodology"},{"path":"references[35].intent[0]","value":"background"},{"path":"citations[7].venue","value":"2020 IEEE 32nd International Conference on Tools with Artificial Intelligence (ICTAI)"},{"path":"references[34].authors[3].name","value":"Linchao Bao"},{"path":"references[33].isInfluential","value":"false"},{"path":"references[4].authors[0].name","value":"Zhouchen Lin"},{"path":"references[24].url","value":"https://www.semanticscholar.org/paper/3e649f31eb2916213d5b064dd4f3225ff689651e"},{"path":"references[10].authors[2].authorId","value":"145455919"},{"path":"references[31].title","value":"Seven Ways to Improve Example-Based Single Image Super Resolution"},{"path":"references[18].authors[3].name","value":"Zhen Han"},{"path":"citations[7].authors[2].name","value":"Zhongyuan Wang"},{"path":"topics[0].topicId","value":"57450"},{"path":"topics[3].topicId","value":"291901"},{"path":"references[6].arxivId","value":""},{"path":"references[10].isInfluential","value":"true"},{"path":"citationVelocity","value":"0"},{"path":"references[26].doi","value":"10.1016/j.sigpro.2014.02.014"},{"path":"references[31].paperId","value":"af0892ab043b1a37f3e8f81b148c66369d64d391"},{"path":"references[37].authors[0].name","value":"C. Ledig"},{"path":"references[27].authors[0].authorId","value":"2146032451"},{"path":"citations[4].authors[5].name","value":"Jian Yang"},{"path":"references[17].isInfluential","value":"false"},{"path":"references[9].arxivId","value":""},{"path":"references[18].authors[2].name","value":"Kebin Huang"},{"path":"references[15].authors[1].name","value":"Jianchao Yang"},{"path":"references[13].authors[0].authorId","value":"3138386"},{"path":"references[34].year","value":"2017"},{"path":"references[16].doi","value":"10.1016/j.imavis.2009.11.005"},{"path":"citations[1].intent","value":"[]"},{"path":"references[15].authors[2].name","value":"Kai Yu"},{"path":"references[31].authors[2].name","value":"L. Gool"},{"path":"references[0].intent[0]","value":"background"},{"path":"references[3].url","value":"https://www.semanticscholar.org/paper/8db95dbd08e4ee64fb258e5380e78cfa507ed94d"},{"path":"references[35].arxivId","value":"1707.02921"},{"path":"references[14].authors[3].authorId","value":"47539666"},{"path":"references[33].year","value":"2017"},{"path":"citations[8].doi","value":"10.1109/CVPRW50498.2020.00260"},{"path":"references[22].intent[0]","value":"background"},{"path":"references[35].authors[3].authorId","value":"40648435"},{"path":"references[15].authors[3].name","value":"Fengjun Lv"},{"path":"references[11].paperId","value":"2e38ff75a80ec92111261bf368781c7eef89eb14"},{"path":"references[33].intent[0]","value":"methodology"},{"path":"references[31].doi","value":"10.1109/CVPR.2016.206"},{"path":"references[18].authors[1].name","value":"R. Hu"},{"path":"citations[1].isInfluential","value":"false"},{"path":"references[4].url","value":"https://www.semanticscholar.org/paper/6254833a3e48df65a535678959aa2b670f54d465"},{"path":"references[36].paperId","value":"bd8f77b7d3b9d272f7a68defc1412f73e5ac3135"},{"path":"citations[1].authors[2].name","value":"Xianming Liu"},{"path":"references[18].url","value":"https://www.semanticscholar.org/paper/fed5e5a9be8947aa553ea4f526405b672a2ac36c"},{"path":"references[28].authors[1].name","value":"K. Lam"},{"path":"references[17].title","value":"Image Super-Resolution Via Sparse Representation"},{"path":"references[35].url","value":"https://www.semanticscholar.org/paper/7ba5d3808e117e7a68dc40331ce1d483ceeedcb2"},{"path":"citations[4].intent","value":"[]"},{"path":"references[9].authors[0].name","value":"N. Dalal"},{"path":"references[14].authors[2].name","value":"Xin Fan"},{"path":"references[4].doi","value":"10.1109/TPAMI.2004.1261081"},{"path":"references[26].authors[3].authorId","value":"144725609"},{"path":"references[16].paperId","value":"8b56e33f33e582f3e473dba573a16b598ed9bcdc"},{"path":"references[29].authors[2].name","value":"Boqi Zhuang"},{"path":"references[3].intent[0]","value":"methodology"},{"path":"references[8].arxivId","value":""},{"path":"references[24].authors[2].name","value":"Junjun Jiang"},{"path":"references[19].authors[0].authorId","value":"39925162"},{"path":"references[28].title","value":"Simultaneous Hallucination and Recognition of Low-Resolution Faces Based on Singular Value Decomposition"},{"path":"references[8].url","value":"https://www.semanticscholar.org/paper/791d46aa9cdd40bc9d82067a2e9b71785c62838b"},{"path":"references[9].title","value":"Histograms of oriented gradients for human detection"},{"path":"references[9].venue","value":"2005 IEEE Computer Society Conference on Computer Vision and Pattern Recognition (CVPR\'05)"},{"path":"references[18].authors[0].authorId","value":"3216340"},{"path":"citations[0].isInfluential","value":"false"},{"path":"citations[3].authors[4].name","value":"Raghavendra Ramachandra"},{"path":"references[0].authors[1].authorId","value":"1767244"},{"path":"references[18].doi","value":"10.1145/1873951.1874103"},{"path":"references[21].arxivId","value":""},{"path":"references[1].paperId","value":"66d890912381e2536d2dbc117a0ce59158c3be90"},{"path":"references[37].year","value":"2016"},{"path":"references[1].authors[0].name","value":"S. Baker"},{"path":"references[12].authors[0].name","value":"H. Greenspan"},{"path":"citations[3].doi","value":"10.1109/TBIOM.2021.3059196"},{"path":"references[24].year","value":"2014"},{"path":"references[17].venue","value":"IEEE Transactions on Image Processing"},{"path":"citations[2].authors[3].name","value":"Jiawei Zhang"},{"path":"references[17].authors[0].authorId","value":"1706007"},{"path":"references[20].authors[1].authorId","value":"144847940"},{"path":"citations[3].url","value":"https://www.semanticscholar.org/paper/684dca76b28358a9cabf60283ab6dcc68ba17385"},{"path":"citations[4].authors[7].name","value":"Jian Zhang"},{"path":"references[25].authors[3].authorId","value":"144725609"},{"path":"references[28].venue","value":"IEEE Transactions on Circuits and Systems for Video Technology"},{"path":"references[13].authors[1].name","value":"Junping Zhang"},{"path":"references[8].doi","value":"10.1109/TSMCC.2005.848171"},{"path":"references[32].authors[0].name","value":"Jiwon Kim"},{"path":"citations[7].authors[4].authorId","value":"2042656075"},{"path":"references[37].isInfluential","value":"false"},{"path":"references[2].authors[1].name","value":"Min Kyu Park"},{"path":"references[11].url","value":"https://www.semanticscholar.org/paper/2e38ff75a80ec92111261bf368781c7eef89eb14"},{"path":"citations[4].authors[2].authorId","value":"3306402"},{"path":"references[22].year","value":"2013"},{"path":"references[18].authors[2].authorId","value":"2111005"},{"path":"references[1].intent[0]","value":"background"},{"path":"references[0].url","value":"https://www.semanticscholar.org/paper/3d76ef8e61395a6e9c32627f1f108772d084e2e9"},{"path":"references[18].intent[0]","value":"methodology"},{"path":"references[22].doi","value":"10.1007/s11263-013-0645-9"},{"path":"citations[9].authors[2].name","value":"Junjun Jiang"},{"path":"references[24].paperId","value":"3e649f31eb2916213d5b064dd4f3225ff689651e"},{"path":"citations[2].isInfluential","value":"true"},{"path":"references[32].venue","value":"2016 IEEE Conference on Computer Vision and Pattern Recognition (CVPR)"},{"path":"citations[9].authors[0].name","value":"Liang Chen"},{"path":"references[33].authors[1].name","value":"R. Hu"},{"path":"references[7].doi","value":"10.1109/ICME.2005.1521623"},{"path":"citations[3].isInfluential","value":"false"},{"path":"references[23].paperId","value":"baf38dbaaf81bfd250376ce7fc38d76c3821b309"},{"path":"citations[5].authors[4].authorId","value":"2054086734"},{"path":"references[25].authors[1].authorId","value":"144328091"},{"path":"citations[2].authors[5].name","value":"Linchao Bao"},{"path":"references[24].authors[5].name","value":"Ge Gao"},{"path":"citations[7].paperId","value":"1535eebff109eb753b695003599764991691bb62"},{"path":"references[0].doi","value":"10.1109/34.655647"},{"path":"references[27].authors[3].authorId","value":"1930238"},{"path":"citations[3].authors[1].name","value":"Kartik Nighania"},{"path":"references[2].venue","value":"IEEE Signal Process. Mag."},{"path":"references[5].authors[1].authorId","value":"1739816"},{"path":"references[22].url","value":"https://www.semanticscholar.org/paper/5a0d82e4efb74b1d74baea9ec794c1c66e637571"},{"path":"references[31].url","value":"https://www.semanticscholar.org/paper/af0892ab043b1a37f3e8f81b148c66369d64d391"},{"path":"authors[1].url","value":"https://www.semanticscholar.org/author/9416881"},{"path":"references[7].paperId","value":"6555c0e5764eacfcd09106450b6e3152daa8e449"},{"path":"references[18].arxivId","value":""},{"path":"references[14].authors[0].name","value":"Hua Huang"},{"path":"references[24].authors[4].name","value":"Liang Chen"},{"path":"references[21].intent[0]","value":"methodology"},{"path":"references[22].authors[0].name","value":"N. Wang"},{"path":"citations[3].authors[2].name","value":"K. Upla"},{"path":"references[2].title","value":"Super-resolution image reconstruction: a technical overview"},{"path":"references[32].title","value":"Accurate Image Super-Resolution Using Very Deep Convolutional Networks"},{"path":"references[30].intent[1]","value":"methodology"},{"path":"references[21].title","value":"Image Super-Resolution Via Double Sparsity Regularized Manifold Learning"},{"path":"citations[9].intent[0]","value":"background"},{"path":"references[17].paperId","value":"f99d0bd1f1288fe35d46f719125844bfbaf544e3"},{"path":"references[36].intent[0]","value":"methodology"},{"path":"references[6].authors[0].authorId","value":"41210105"},{"path":"references[15].doi","value":"10.1109/CVPR.2010.5540018"},{"path":"references[23].authors[3].name","value":"Yang Xia"},{"path":"references[3].isInfluential","value":"false"},{"path":"references[11].authors[0].authorId","value":"1706007"},{"path":"citations[0].doi","value":"10.1016/j.eswa.2021.116141"},{"path":"references[35].isInfluential","value":"true"},{"path":"references[8].authors[1].name","value":"Xiaoou Tang"},{"path":"references[34].authors[3].authorId","value":"2780029"},{"path":"references[30].intent[0]","value":"background"},{"path":"references[33].authors[3].name","value":"Qing Li"},{"path":"references[12].authors[0].authorId","value":"143942875"},{"path":"references[30].paperId","value":"66e9dc728b5041271bff0cd6ac0d7eadcd88442f"},{"path":"references[32].authors[1].authorId","value":"2119170990"},{"path":"references[21].venue","value":"IEEE Transactions on Circuits and Systems for Video Technology"},{"path":"references[23].venue","value":"2013 IEEE International Conference on Image Processing"},{"path":"references[3].authors[1].name","value":"S. Roweis"},{"path":"references[6].authors[1].authorId","value":"1747569"},{"path":"references[2].arxivId","value":""},{"path":"citations[5].arxivId","value":""},{"path":"references[32].authors[2].name","value":"Kyoung Mu Lee"},{"path":"references[33].authors[3].authorId","value":"1930238"},{"path":"references[11].authors[1].authorId","value":"2109238630"},{"path":"references[37].arxivId","value":"1609.04802"},{"path":"references[32].authors[0].authorId","value":"3968500"},{"path":"citations[1].paperId","value":"0aff8d059bccd20014f250b8e87cf205dfc04f5b"},{"path":"references[4].venue","value":""},{"path":"citations[9].authors[3].name","value":"Jiawei Zhang"},{"path":"references[2].authors[0].name","value":"Sung Cheol Park"},{"path":"references[29].isInfluential","value":"false"},{"path":"references[33].authors[1].authorId","value":"144328091"},{"path":"references[2].isInfluential","value":"false"},{"path":"citations[5].authors[0].authorId","value":"36034272"},{"path":"references[12].venue","value":"Comput. J."},{"path":"references[23].authors[4].name","value":"Junjun Jiang"},{"path":"references[7].url","value":"https://www.semanticscholar.org/paper/6555c0e5764eacfcd09106450b6e3152daa8e449"},{"path":"references[33].authors[4].authorId","value":"2115884025"},{"path":"paperId","value":"d8c1ed5070958836eef2d2c239ac12963996f756"},{"path":"references[32].authors[1].name","value":"Jung Kwon Lee"},{"path":"references[7].authors[3].authorId","value":"1703601"},{"path":"references[5].authors[0].authorId","value":"120076009"},{"path":"references[34].title","value":"Learning to Hallucinate Face Images via Component Generation and Enhancement"},{"path":"references[19].authors[0].name","value":"Hua Huang"},{"path":"citations[0].url","value":"https://www.semanticscholar.org/paper/f425c983257ace8b18604286b2f1b602db213046"},{"path":"abstract","value":"In this paper, we focus on restoring high-resolution facial images under noisy low-resolution scenarios. This problem is a challenging problem as the most important structures and details of captured facial images are missing. To address this problem, we propose a novel local patch-based face super-resolution (FSR) method via the joint learning of the contextual model. The contextual model is based on the topology consisting of contextual sub-patches, which provide more useful structural information than the commonly used local contextual structures due to the finer patch size. In this way, the contextual models are able to recover the missing local structures in target patches. In order to further strengthen the structural compensation function of contextual topology, we introduce the recognition feature as additional regularity. Based on the contextual model, we formulate the super-resolved procedure as a contextual joint representation with respect to the target patch and its adjacent patches. The high-resolution image is obtained by weighting contextual estimations. Both quantitative and qualitative validations show that the proposed method performs favorably against state-of-the-art algorithms."},{"path":"citations[8].authors[2].name","value":"Liang Chen"},{"path":"citations[9].authors[4].name","value":"Yi Wu"},{"path":"references[5].arxivId","value":""},{"path":"references[6].authors[3].authorId","value":"1689350"},{"path":"references[33].authors[2].name","value":"Zhen Han"},{"path":"references[12].title","value":"Super-Resolution in Medical Imaging"},{"path":"references[34].arxivId","value":"1708.00223"},{"path":"references[6].intent[0]","value":"background"},{"path":"references[23].title","value":"A joint learning based face hallucination approach for low quality face image"},{"path":"references[8].authors[0].name","value":"Xiaogang Wang"},{"path":"references[4].title","value":"Fundamental limits of reconstruction-based superresolution algorithms under local translation"},{"path":"citations[4].authors[0].authorId","value":"3306402"},{"path":"references[29].authors[4].name","value":"C. Yeh"},{"path":"references[34].authors[4].authorId","value":"1777434"},{"path":"citations[8].arxivId","value":""},{"path":"references[7].authors[4].authorId","value":"3179335"},{"path":"references[25].authors[0].authorId","value":"1708439"},{"path":"citations[2].authors[2].name","value":"Junjun Jiang"},{"path":"citations[8].authors[1].name","value":"Yi Wu"},{"path":"citations[5].authors[2].authorId","value":"1904697"},{"path":"references[25].url","value":"https://www.semanticscholar.org/paper/51ebd2067aa0e66d0d66e2b018b95f5e85993206"},{"path":"citations[7].url","value":"https://www.semanticscholar.org/paper/1535eebff109eb753b695003599764991691bb62"},{"path":"citations[5].authors[3].authorId","value":"143663452"},{"path":"references[26].authors[1].authorId","value":"144328091"},{"path":"citations[9].title","value":"Robust Face Super-Resolution via Position Relation Model Based on Global Face Context"},{"path":"topics[1].topic","value":"Face"},{"path":"citations[7].doi","value":"10.1109/ICTAI50040.2020.00122"},{"path":"is_publisher_licensed","value":"true"},{"path":"citations[9].venue","value":"IEEE Transactions on Image Processing"},{"path":"references[15].intent[0]","value":"background"},{"path":"citations[5].authors[1].authorId","value":"1476719517"},{"path":"references[33].authors[4].name","value":"Zheng Lu"},{"path":"references[28].isInfluential","value":"false"},{"path":"references[27].intent","value":"[]"},{"path":"references[1].isInfluential","value":"false"},{"path":"references[23].authors[1].name","value":"R. Hu"},{"path":"references[36].isInfluential","value":"false"},{"path":"references[6].authors[2].authorId","value":"2387140"},{"path":"corpusId","value":"184485848"},{"path":"references[25].doi","value":"10.1109/TMM.2014.2311320"},{"path":"references[15].url","value":"https://www.semanticscholar.org/paper/2f7713dcc35e7c05becf3be5522f36c9546b0364"},{"path":"citations[2].authors[1].name","value":"Jinshan Pan"},{"path":"references[29].authors[0].name","value":"Li-Wei Kang"},{"path":"citations[4].title","value":"Constructing multilayer locality-constrained matrix regression framework for noise robust face super-resolution"},{"path":"references[24].intent[0]","value":"background"},{"path":"references[23].authors[2].name","value":"Zhen Han"},{"path":"citations[9].intent[1]","value":"methodology"},{"path":"citations[4].venue","value":"Pattern Recognit."},{"path":"citations[2].arxivId","value":""},{"path":"references[33].authors[2].authorId","value":"144725609"},{"path":"references[26].authors[2].authorId","value":"143869248"},{"path":"citations[2].authors[0].name","value":"Liang Chen"},{"path":"references[29].authors[1].name","value":"Chih-Chung Hsu"},{"path":"references[35].doi","value":"10.1109/CVPRW.2017.151"}],"originalResponse":{"is_publisher_licensed":true,"venue":"IEEE Transactions on Image Processing","references":[{"venue":"IEEE Trans. Pattern Anal. Mach. Intell.","isInfluential":true,"year":1998,"title":"Neural Network-Based Face Detection","intent":["background","methodology"],"arxivId":null,"paperId":"3d76ef8e61395a6e9c32627f1f108772d084e2e9","url":"https://www.semanticscholar.org/paper/3d76ef8e61395a6e9c32627f1f108772d084e2e9","authors":[{"name":"H. Rowley","authorId":"39682833"},{"name":"S. Baluja","authorId":"1767244"},{"name":"T. Kanade","authorId":"1733113"}],"doi":"10.1109/34.655647"},{"venue":"Proceedings IEEE Conference on Computer Vision and Pattern Recognition. CVPR 2000 (Cat. No.PR00662)","isInfluential":false,"year":2000,"title":"Limits on super-resolution and how to break them","intent":["background"],"arxivId":null,"paperId":"66d890912381e2536d2dbc117a0ce59158c3be90","url":"https://www.semanticscholar.org/paper/66d890912381e2536d2dbc117a0ce59158c3be90","authors":[{"name":"S. Baker","authorId":"145347688"},{"name":"T. Kanade","authorId":"1733113"}],"doi":"10.1109/CVPR.2000.854852"},{"venue":"IEEE Signal Process. Mag.","isInfluential":false,"year":2003,"title":"Super-resolution image reconstruction: a technical overview","intent":["methodology"],"arxivId":null,"paperId":"7c850f4c56f184891f3ccfe2de6213881dc0e08c","url":"https://www.semanticscholar.org/paper/7c850f4c56f184891f3ccfe2de6213881dc0e08c","authors":[{"name":"Sung Cheol Park","authorId":"2115277167"},{"name":"Min Kyu Park","authorId":"2149269035"},{"name":"M. Kang","authorId":"1839581"}],"doi":"10.1109/MSP.2003.1203207"},{"venue":"J. Mach. Learn. Res.","isInfluential":false,"year":2003,"title":"Think Globally, Fit Locally: Unsupervised Learning of Low Dimensional Manifold","intent":["methodology"],"arxivId":null,"paperId":"8db95dbd08e4ee64fb258e5380e78cfa507ed94d","url":"https://www.semanticscholar.org/paper/8db95dbd08e4ee64fb258e5380e78cfa507ed94d","authors":[{"name":"L. Saul","authorId":"1796044"},{"name":"S. Roweis","authorId":"9330607"}],"doi":"10.1162/153244304322972667"},{"venue":"","isInfluential":false,"year":2004,"title":"Fundamental limits of reconstruction-based superresolution algorithms under local translation","intent":["methodology"],"arxivId":null,"paperId":"6254833a3e48df65a535678959aa2b670f54d465","url":"https://www.semanticscholar.org/paper/6254833a3e48df65a535678959aa2b670f54d465","authors":[{"name":"Zhouchen Lin","authorId":"33383055"},{"name":"H. Shum","authorId":"93596028"}],"doi":"10.1109/TPAMI.2004.1261081"},{"venue":"CVPR 2004","isInfluential":true,"year":2004,"title":"Super-resolution through neighbor embedding","intent":["background","methodology"],"arxivId":null,"paperId":"b4018623293585e06e5ec159d11a9178f9f99380","url":"https://www.semanticscholar.org/paper/b4018623293585e06e5ec159d11a9178f9f99380","authors":[{"name":"Hong Chang","authorId":"120076009"},{"name":"D. Yeung","authorId":"1739816"},{"name":"Yimin Xiong","authorId":"2112719095"}],"doi":"10.1109/CVPR.2004.1315043"},{"venue":"IEEE Transactions on Image Processing","isInfluential":true,"year":2004,"title":"Image quality assessment: from error visibility to structural similarity","intent":["background"],"arxivId":null,"paperId":"eae2e0fa72e898c289365c0af16daf57a7a6cf40","url":"https://www.semanticscholar.org/paper/eae2e0fa72e898c289365c0af16daf57a7a6cf40","authors":[{"name":"Zhou Wang","authorId":"41210105"},{"name":"A. Bovik","authorId":"1747569"},{"name":"H. Sheikh","authorId":"2387140"},{"name":"Eero P. Simoncelli","authorId":"1689350"}],"doi":"10.1109/TIP.2003.819861"},{"venue":"2005 IEEE International Conference on Multimedia and Expo","isInfluential":false,"year":2005,"title":"Neighborhood issue in single-frame image super-resolution","intent":[],"arxivId":null,"paperId":"6555c0e5764eacfcd09106450b6e3152daa8e449","url":"https://www.semanticscholar.org/paper/6555c0e5764eacfcd09106450b6e3152daa8e449","authors":[{"name":"Xu Su","authorId":"2106352399"},{"name":"Q. Tian","authorId":"144876831"},{"name":"Q. Xue","authorId":"2055029893"},{"name":"N. Sebe","authorId":"1703601"},{"name":"J. Ma","authorId":"3179335"}],"doi":"10.1109/ICME.2005.1521623"},{"venue":"IEEE Trans. Syst. Man Cybern. Part C","isInfluential":false,"year":2005,"title":"Hallucinating face by eigentransformation","intent":["methodology"],"arxivId":null,"paperId":"791d46aa9cdd40bc9d82067a2e9b71785c62838b","url":"https://www.semanticscholar.org/paper/791d46aa9cdd40bc9d82067a2e9b71785c62838b","authors":[{"name":"Xiaogang Wang","authorId":"31843833"},{"name":"Xiaoou Tang","authorId":"50295995"}],"doi":"10.1109/TSMCC.2005.848171"},{"venue":"2005 IEEE Computer Society Conference on Computer Vision and Pattern Recognition (CVPR\'05)","isInfluential":true,"year":2005,"title":"Histograms of oriented gradients for human detection","intent":["background"],"arxivId":null,"paperId":"cec734d7097ab6b1e60d95228ffd64248eb89d66","url":"https://www.semanticscholar.org/paper/cec734d7097ab6b1e60d95228ffd64248eb89d66","authors":[{"name":"N. Dalal","authorId":"48950628"},{"name":"B. Triggs","authorId":"1756114"}],"doi":"10.1109/CVPR.2005.177"},{"venue":"IEEE Transactions on Systems, Man, and Cybernetics - Part A: Systems and Humans","isInfluential":true,"year":2008,"title":"The CAS-PEAL Large-Scale Chinese Face Database and Baseline Evaluations","intent":["methodology"],"arxivId":null,"paperId":"2485c98aa44131d1a2f7d1355b1e372f2bb148ad","url":"https://www.semanticscholar.org/paper/2485c98aa44131d1a2f7d1355b1e372f2bb148ad","authors":[{"name":"W. Gao","authorId":"48385803"},{"name":"B. Cao","authorId":"48437987"},{"name":"S. Shan","authorId":"145455919"},{"name":"Xilin Chen","authorId":"46772547"},{"name":"Delong Zhou","authorId":"2104086"},{"name":"Xiaohua Zhang","authorId":"2108584873"},{"name":"Debin Zhao","authorId":"1725937"}],"doi":"10.1109/TSMCA.2007.909557"},{"venue":"2008 15th IEEE International Conference on Image Processing","isInfluential":false,"year":2008,"title":"Face hallucination VIA sparse coding","intent":["background"],"arxivId":null,"paperId":"2e38ff75a80ec92111261bf368781c7eef89eb14","url":"https://www.semanticscholar.org/paper/2e38ff75a80ec92111261bf368781c7eef89eb14","authors":[{"name":"Jianchao Yang","authorId":"1706007"},{"name":"Hao Tang","authorId":"2109238630"},{"name":"Yi Ma","authorId":"50032052"},{"name":"Thomas S. Huang","authorId":"153652752"}],"doi":"10.1109/ICIP.2008.4711992"},{"venue":"Comput. J.","isInfluential":false,"year":2009,"title":"Super-Resolution in Medical Imaging","intent":["methodology"],"arxivId":null,"paperId":"b189282ec4c65f4229105e1b62e0012f7ab551cb","url":"https://www.semanticscholar.org/paper/b189282ec4c65f4229105e1b62e0012f7ab551cb","authors":[{"name":"H. Greenspan","authorId":"143942875"}],"doi":"10.1093/comjnl/bxm075"},{"venue":"2009 IEEE International Conference on Multimedia and Expo","isInfluential":false,"year":2009,"title":"Position-based face hallucination method","intent":[],"arxivId":null,"paperId":"d035c8bef0e0619fd68ab2cc1c9e71dfd730aefe","url":"https://www.semanticscholar.org/paper/d035c8bef0e0619fd68ab2cc1c9e71dfd730aefe","authors":[{"name":"Xiang-Wang Ma","authorId":"3138386"},{"name":"Junping Zhang","authorId":"47539666"},{"name":"C. Qi","authorId":"145175070"}],"doi":"10.1109/ICME.2009.5202492"},{"venue":"Pattern Recognit.","isInfluential":false,"year":2010,"title":"Super-resolution of human face image using canonical correlation analysis","intent":["methodology"],"arxivId":null,"paperId":"09ad57265a1f0dfd60b3360daa499f5e93059c22","url":"https://www.semanticscholar.org/paper/09ad57265a1f0dfd60b3360daa499f5e93059c22","authors":[{"name":"Hua Huang","authorId":"39925162"},{"name":"Hui He","authorId":"2111891265"},{"name":"Xin Fan","authorId":"144309189"},{"name":"Junping Zhang","authorId":"47539666"}],"doi":"10.1016/j.patcog.2010.02.007"},{"venue":"2010 IEEE Computer Society Conference on Computer Vision and Pattern Recognition","isInfluential":false,"year":2010,"title":"Locality-constrained Linear Coding for image classification","intent":["background"],"arxivId":null,"paperId":"2f7713dcc35e7c05becf3be5522f36c9546b0364","url":"https://www.semanticscholar.org/paper/2f7713dcc35e7c05becf3be5522f36c9546b0364","authors":[{"name":"Jinjun Wang","authorId":"71563118"},{"name":"Jianchao Yang","authorId":"1706007"},{"name":"Kai Yu","authorId":"144782042"},{"name":"Fengjun Lv","authorId":"39157653"},{"name":"Thomas S. Huang","authorId":"153652752"},{"name":"Yihong Gong","authorId":"144768792"}],"doi":"10.1109/CVPR.2010.5540018"},{"venue":"Image Vis. Comput.","isInfluential":true,"year":2010,"title":"A new ranking method for principal components analysis and its application to face image analysis","intent":["methodology"],"arxivId":null,"paperId":"8b56e33f33e582f3e473dba573a16b598ed9bcdc","url":"https://www.semanticscholar.org/paper/8b56e33f33e582f3e473dba573a16b598ed9bcdc","authors":[{"name":"C. Thomaz","authorId":"2363813"},{"name":"G. Giraldi","authorId":"1688283"}],"doi":"10.1016/j.imavis.2009.11.005"},{"venue":"IEEE Transactions on Image Processing","isInfluential":false,"year":2010,"title":"Image Super-Resolution Via Sparse Representation","intent":["background","methodology"],"arxivId":null,"paperId":"f99d0bd1f1288fe35d46f719125844bfbaf544e3","url":"https://www.semanticscholar.org/paper/f99d0bd1f1288fe35d46f719125844bfbaf544e3","authors":[{"name":"Jianchao Yang","authorId":"1706007"},{"name":"John Wright","authorId":"143607492"},{"name":"Thomas S. Huang","authorId":"153652752"},{"name":"Yi Ma","authorId":"50032052"}],"doi":"10.1109/TIP.2010.2050625"},{"venue":"ACM Multimedia","isInfluential":false,"year":2010,"title":"Face hallucination with shape parameters projection constraint","intent":["methodology"],"arxivId":null,"paperId":"fed5e5a9be8947aa553ea4f526405b672a2ac36c","url":"https://www.semanticscholar.org/paper/fed5e5a9be8947aa553ea4f526405b672a2ac36c","authors":[{"name":"Chengdong Lan","authorId":"3216340"},{"name":"R. Hu","authorId":"144328091"},{"name":"Kebin Huang","authorId":"2111005"},{"name":"Zhen Han","authorId":"144725609"}],"doi":"10.1145/1873951.1874103"},{"venue":"IEEE Transactions on Circuits and Systems for Video Technology","isInfluential":false,"year":2011,"title":"Fast Facial Image Super-Resolution via Local Linear Transformations for Resource-Limited Applications","intent":["methodology"],"arxivId":null,"paperId":"510257c8cedc079aae88ccbf3dd10a84051c8fdc","url":"https://www.semanticscholar.org/paper/510257c8cedc079aae88ccbf3dd10a84051c8fdc","authors":[{"name":"Hua Huang","authorId":"39925162"},{"name":"Ning Wu","authorId":"2068345080"}],"doi":"10.1109/TCSVT.2011.2163461"},{"venue":"2012 IEEE International Conference on Acoustics, Speech and Signal Processing (ICASSP)","isInfluential":true,"year":2012,"title":"An efficient local-structure-based face-hallucination method","intent":["background","methodology"],"arxivId":null,"paperId":"e604febddc6294574cb6ca32d9f3e9af690e3200","url":"https://www.semanticscholar.org/paper/e604febddc6294574cb6ca32d9f3e9af690e3200","authors":[{"name":"Hui Zhuo","authorId":"2064762548"},{"name":"K. Lam","authorId":"144847940"}],"doi":"10.1109/ICASSP.2012.6288119"},{"venue":"IEEE Transactions on Circuits and Systems for Video Technology","isInfluential":false,"year":2013,"title":"Image Super-Resolution Via Double Sparsity Regularized Manifold Learning","intent":["methodology"],"arxivId":null,"paperId":"170102b7809b43691b06618cdbbc90c8dbc2dd27","url":"https://www.semanticscholar.org/paper/170102b7809b43691b06618cdbbc90c8dbc2dd27","authors":[{"name":"Xiaoqiang Lu","authorId":"7828998"},{"name":"Yuan Yuan","authorId":null},{"name":"Pingkun Yan","authorId":"144855557"}],"doi":"10.1109/TCSVT.2013.2244798"},{"venue":"International Journal of Computer Vision","isInfluential":false,"year":2013,"title":"A Comprehensive Survey to Face Hallucination","intent":["background"],"arxivId":null,"paperId":"5a0d82e4efb74b1d74baea9ec794c1c66e637571","url":"https://www.semanticscholar.org/paper/5a0d82e4efb74b1d74baea9ec794c1c66e637571","authors":[{"name":"N. Wang","authorId":"144050305"},{"name":"D. Tao","authorId":"143719920"},{"name":"Xinbo Gao","authorId":"10699750"},{"name":"Xuelong Li","authorId":"67180560"},{"name":"Jie Li","authorId":"2149869567"}],"doi":"10.1007/s11263-013-0645-9"},{"venue":"2013 IEEE International Conference on Image Processing","isInfluential":false,"year":2013,"title":"A joint learning based face hallucination approach for low quality face image","intent":[],"arxivId":null,"paperId":"baf38dbaaf81bfd250376ce7fc38d76c3821b309","url":"https://www.semanticscholar.org/paper/baf38dbaaf81bfd250376ce7fc38d76c3821b309","authors":[{"name":"Liang Chen","authorId":"2146032451"},{"name":"R. Hu","authorId":"144328091"},{"name":"Zhen Han","authorId":"144725609"},{"name":"Yang Xia","authorId":"2111131284"},{"name":"Junjun Jiang","authorId":"1708439"}],"doi":"10.1109/ICIP.2013.6738201"},{"venue":"PCM","isInfluential":true,"year":2014,"title":"Noise Face Image Hallucination via Data-Driven Local Eigentransformation","intent":["background","methodology"],"arxivId":null,"paperId":"3e649f31eb2916213d5b064dd4f3225ff689651e","url":"https://www.semanticscholar.org/paper/3e649f31eb2916213d5b064dd4f3225ff689651e","authors":[{"name":"Xiaohui Dong","authorId":"2118187952"},{"name":"R. Hu","authorId":"144328091"},{"name":"Junjun Jiang","authorId":"1708439"},{"name":"Zhen Han","authorId":"144725609"},{"name":"Liang Chen","authorId":"2146032451"},{"name":"Ge Gao","authorId":"144398790"}],"doi":"10.1007/978-3-319-13168-9_19"},{"venue":"IEEE Transactions on Multimedia","isInfluential":true,"year":2014,"title":"Noise Robust Face Hallucination via Locality-Constrained Representation","intent":["background","methodology","result"],"arxivId":null,"paperId":"51ebd2067aa0e66d0d66e2b018b95f5e85993206","url":"https://www.semanticscholar.org/paper/51ebd2067aa0e66d0d66e2b018b95f5e85993206","authors":[{"name":"Junjun Jiang","authorId":"1708439"},{"name":"R. Hu","authorId":"144328091"},{"name":"Zhongyuan Wang","authorId":"38655501"},{"name":"Zhen Han","authorId":"144725609"}],"doi":"10.1109/TMM.2014.2311320"},{"venue":"Signal Process.","isInfluential":false,"year":2014,"title":"Face image super-resolution through locality-induced support regression","intent":["methodology"],"arxivId":null,"paperId":"c397408e784004240e866d0f31cea7b9e44fdd0c","url":"https://www.semanticscholar.org/paper/c397408e784004240e866d0f31cea7b9e44fdd0c","authors":[{"name":"Junjun Jiang","authorId":"1708439"},{"name":"R. Hu","authorId":"144328091"},{"name":"Chao Liang","authorId":"143869248"},{"name":"Zhen Han","authorId":"144725609"},{"name":"Chunjie Zhang","authorId":"1713887"}],"doi":"10.1016/j.sigpro.2014.02.014"},{"venue":"Multimedia Tools and Applications","isInfluential":false,"year":2015,"title":"A novel face super resolution approach for noisy images using contour feature and standard deviation prior","intent":[],"arxivId":null,"paperId":"1b1eb9b758676f9b249ef17bb473cfd38c11e62d","url":"https://www.semanticscholar.org/paper/1b1eb9b758676f9b249ef17bb473cfd38c11e62d","authors":[{"name":"Liang Chen","authorId":"2146032451"},{"name":"R. Hu","authorId":"144328091"},{"name":"Chao Liang","authorId":"143869248"},{"name":"Qing Li","authorId":"1930238"},{"name":"Zhen Han","authorId":"144725609"}],"doi":"10.1007/s11042-015-3145-9"},{"venue":"IEEE Transactions on Circuits and Systems for Video Technology","isInfluential":false,"year":2015,"title":"Simultaneous Hallucination and Recognition of Low-Resolution Faces Based on Singular Value Decomposition","intent":["background"],"arxivId":null,"paperId":"91b1a59b9e0e7f4db0828bf36654b84ba53b0557","url":"https://www.semanticscholar.org/paper/91b1a59b9e0e7f4db0828bf36654b84ba53b0557","authors":[{"name":"Muwei Jian","authorId":"1783889"},{"name":"K. Lam","authorId":"144847940"}],"doi":"10.1109/TCSVT.2015.2400772"},{"venue":"IEEE Transactions on Multimedia","isInfluential":false,"year":2015,"title":"Learning-Based Joint Super-Resolution and Deblocking for a Highly Compressed Image","intent":["methodology"],"arxivId":null,"paperId":"9c0cda8cb2337fb0cf78051bd0fc6b086d7efbfc","url":"https://www.semanticscholar.org/paper/9c0cda8cb2337fb0cf78051bd0fc6b086d7efbfc","authors":[{"name":"Li-Wei Kang","authorId":"1943622"},{"name":"Chih-Chung Hsu","authorId":"3192517"},{"name":"Boqi Zhuang","authorId":"2644084"},{"name":"Chia-Wen Lin","authorId":"1685088"},{"name":"C. Yeh","authorId":"1692617"}],"doi":"10.1109/TMM.2015.2434216"},{"venue":"IEEE Transactions on Pattern Analysis and Machine Intelligence","isInfluential":true,"year":2014,"title":"Image Super-Resolution Using Deep Convolutional Networks","intent":["background","methodology"],"arxivId":"1501.00092","paperId":"66e9dc728b5041271bff0cd6ac0d7eadcd88442f","url":"https://www.semanticscholar.org/paper/66e9dc728b5041271bff0cd6ac0d7eadcd88442f","authors":[{"name":"Chao Dong","authorId":"30459277"},{"name":"Chen Change Loy","authorId":"1717179"},{"name":"Kaiming He","authorId":"39353098"},{"name":"Xiaoou Tang","authorId":"50295995"}],"doi":"10.1109/TPAMI.2015.2439281"},{"venue":"2016 IEEE Conference on Computer Vision and Pattern Recognition (CVPR)","isInfluential":false,"year":2015,"title":"Seven Ways to Improve Example-Based Single Image Super Resolution","intent":["methodology"],"arxivId":"1511.02228","paperId":"af0892ab043b1a37f3e8f81b148c66369d64d391","url":"https://www.semanticscholar.org/paper/af0892ab043b1a37f3e8f81b148c66369d64d391","authors":[{"name":"R. Timofte","authorId":"1732855"},{"name":"R. Rothe","authorId":"2173683"},{"name":"L. Gool","authorId":"1681236"}],"doi":"10.1109/CVPR.2016.206"},{"venue":"2016 IEEE Conference on Computer Vision and Pattern Recognition (CVPR)","isInfluential":true,"year":2015,"title":"Accurate Image Super-Resolution Using Very Deep Convolutional Networks","intent":["background","methodology"],"arxivId":"1511.04587","paperId":"b5f3e5d2912bedbcd9458952d664b08db6aed962","url":"https://www.semanticscholar.org/paper/b5f3e5d2912bedbcd9458952d664b08db6aed962","authors":[{"name":"Jiwon Kim","authorId":"3968500"},{"name":"Jung Kwon Lee","authorId":"2119170990"},{"name":"Kyoung Mu Lee","authorId":"2135837"}],"doi":"10.1109/CVPR.2016.182"},{"venue":"Multimedia Tools and Applications","isInfluential":false,"year":2017,"title":"Face super resolution based on parent patch prior for VLQ scenarios","intent":["methodology"],"arxivId":null,"paperId":"ddfc978b3a149015c9e517fbfe1b8563df5e7356","url":"https://www.semanticscholar.org/paper/ddfc978b3a149015c9e517fbfe1b8563df5e7356","authors":[{"name":"Liang Chen","authorId":"2146032451"},{"name":"R. Hu","authorId":"144328091"},{"name":"Zhen Han","authorId":"144725609"},{"name":"Qing Li","authorId":"1930238"},{"name":"Zheng Lu","authorId":"2115884025"}],"doi":"10.1007/s11042-016-3611-z"},{"venue":"IJCAI","isInfluential":false,"year":2017,"title":"Learning to Hallucinate Face Images via Component Generation and Enhancement","intent":["methodology"],"arxivId":"1708.00223","paperId":"006a6e6efc6582b57fbbf6c689e29b69a0be1ce2","url":"https://www.semanticscholar.org/paper/006a6e6efc6582b57fbbf6c689e29b69a0be1ce2","authors":[{"name":"Yibing Song","authorId":"2255687"},{"name":"Jiawei Zhang","authorId":"1519062623"},{"name":"Shengfeng He","authorId":"2548483"},{"name":"Linchao Bao","authorId":"2780029"},{"name":"Qingxiong Yang","authorId":"1777434"}],"doi":"10.24963/ijcai.2017/633"},{"venue":"2017 IEEE Conference on Computer Vision and Pattern Recognition Workshops (CVPRW)","isInfluential":true,"year":2017,"title":"Enhanced Deep Residual Networks for Single Image Super-Resolution","intent":["background","methodology"],"arxivId":"1707.02921","paperId":"7ba5d3808e117e7a68dc40331ce1d483ceeedcb2","url":"https://www.semanticscholar.org/paper/7ba5d3808e117e7a68dc40331ce1d483ceeedcb2","authors":[{"name":"Bee Lim","authorId":"144717485"},{"name":"Sanghyun Son","authorId":"2055453482"},{"name":"Heewon Kim","authorId":"48206011"},{"name":"Seungjun Nah","authorId":"40648435"},{"name":"Kyoung Mu Lee","authorId":"2135837"}],"doi":"10.1109/CVPRW.2017.151"},{"venue":"2017 IEEE Conference on Computer Vision and Pattern Recognition (CVPR)","isInfluential":false,"year":2017,"title":"SphereFace: Deep Hypersphere Embedding for Face Recognition","intent":["methodology"],"arxivId":"1704.08063","paperId":"bd8f77b7d3b9d272f7a68defc1412f73e5ac3135","url":"https://www.semanticscholar.org/paper/bd8f77b7d3b9d272f7a68defc1412f73e5ac3135","authors":[{"name":"Weiyang Liu","authorId":"36326884"},{"name":"Yandong Wen","authorId":"145357606"},{"name":"Zhiding Yu","authorId":"1751019"},{"name":"Ming Li","authorId":"2150655769"},{"name":"B. Raj","authorId":"1681921"},{"name":"Le Song","authorId":"1779453"}],"doi":"10.1109/CVPR.2017.713"},{"venue":"2017 IEEE Conference on Computer Vision and Pattern Recognition (CVPR)","isInfluential":false,"year":2016,"title":"Photo-Realistic Single Image Super-Resolution Using a Generative Adversarial Network","intent":[],"arxivId":"1609.04802","paperId":"df0c54fe61f0ffb9f0e36a17c2038d9a1964cba3","url":"https://www.semanticscholar.org/paper/df0c54fe61f0ffb9f0e36a17c2038d9a1964cba3","authors":[{"name":"C. Ledig","authorId":"1779917"},{"name":"Lucas Theis","authorId":"2073063"},{"name":"Ferenc Husz\ufffdr","authorId":"3108066"},{"name":"Jose Caballero","authorId":"145372820"},{"name":"Andrew P. Aitken","authorId":"49931957"},{"name":"Alykhan Tejani","authorId":"41203992"},{"name":"J. Totz","authorId":"1853456"},{"name":"Zehan Wang","authorId":"34627233"},{"name":"W. Shi","authorId":"152554375"}],"doi":"10.1109/CVPR.2017.19"}],"year":2019,"topics":[{"topicId":"57450","topic":"Anatomy, Regional","url":"https://www.semanticscholar.org/topic/57450"},{"topicId":"10302","topic":"Face","url":"https://www.semanticscholar.org/topic/10302"},{"topicId":"199704","topic":"Flexed Sidebent Rotated","url":"https://www.semanticscholar.org/topic/199704"},{"topicId":"291901","topic":"algorithm","url":"https://www.semanticscholar.org/topic/291901"}],"is_open_access":false,"abstract":"In this paper, we focus on restoring high-resolution facial images under noisy low-resolution scenarios. This problem is a challenging problem as the most important structures and details of captured facial images are missing. To address this problem, we propose a novel local patch-based face super-resolution (FSR) method via the joint learning of the contextual model. The contextual model is based on the topology consisting of contextual sub-patches, which provide more useful structural information than the commonly used local contextual structures due to the finer patch size. In this way, the contextual models are able to recover the missing local structures in target patches. In order to further strengthen the structural compensation function of contextual topology, we introduce the recognition feature as additional regularity. Based on the contextual model, we formulate the super-resolved procedure as a contextual joint representation with respect to the target patch and its adjacent patches. The high-resolution image is obtained by weighting contextual estimations. Both quantitative and qualitative validations show that the proposed method performs favorably against state-of-the-art algorithms.","numCitedBy":10,"citationVelocity":0,"title":"Robust Face Image Super-Resolution via Joint Learning of Subdivided Contextual Model","isPublisherLicensed":true,"url":"https://www.semanticscholar.org/paper/d8c1ed5070958836eef2d2c239ac12963996f756","numCiting":38,"corpusId":184485848,"citations":[{"venue":"Expert Syst. Appl.","isInfluential":false,"year":2021,"title":"Adaptive optimal multi-features learning based representation for face hallucination","intent":[],"arxivId":null,"paperId":"f425c983257ace8b18604286b2f1b602db213046","url":"https://www.semanticscholar.org/paper/f425c983257ace8b18604286b2f1b602db213046","authors":[{"name":"Surendra Nagar","authorId":"20921873"},{"name":"Ankush Jain","authorId":"49148100"},{"name":"Pramod Kumar Singh","authorId":"2149921717"},{"name":"Ajay Kumar","authorId":null}],"doi":"10.1016/j.eswa.2021.116141"},{"venue":"ACM Computing Surveys","isInfluential":false,"year":2021,"title":"Deep Learning-based Face Super-resolution: A Survey","intent":[],"arxivId":"2101.03749","paperId":"0aff8d059bccd20014f250b8e87cf205dfc04f5b","url":"https://www.semanticscholar.org/paper/0aff8d059bccd20014f250b8e87cf205dfc04f5b","authors":[{"name":"Junjun Jiang","authorId":"1708439"},{"name":"Chenyang Wang","authorId":"2109501904"},{"name":"Xianming Liu","authorId":"2108681776"},{"name":"Jiayi Ma","authorId":"8555475"}],"doi":"10.1145/3485132"},{"venue":"IEEE Transactions on Image Processing","isInfluential":true,"year":2021,"title":"Multi-Stage Degradation Homogenization for Super-Resolution of Face Images With Extreme Degradations","intent":["background","methodology"],"arxivId":null,"paperId":"1bc897f87e5e0c61c496cdccdd168577a62ed501","url":"https://www.semanticscholar.org/paper/1bc897f87e5e0c61c496cdccdd168577a62ed501","authors":[{"name":"Liang Chen","authorId":"2146032451"},{"name":"Jinshan Pan","authorId":"9416881"},{"name":"Junjun Jiang","authorId":"1708439"},{"name":"Jiawei Zhang","authorId":"1519062623"},{"name":"Zhen Han","authorId":"144725609"},{"name":"Linchao Bao","authorId":"2780029"}],"doi":"10.1109/TIP.2021.3086595"},{"venue":"IEEE Transactions on Biometrics, Behavior, and Identity Science","isInfluential":false,"year":2021,"title":"E-ComSupResNet: Enhanced Face Super-Resolution Through Compact Network","intent":[],"arxivId":null,"paperId":"684dca76b28358a9cabf60283ab6dcc68ba17385","url":"https://www.semanticscholar.org/paper/684dca76b28358a9cabf60283ab6dcc68ba17385","authors":[{"name":"Vishal M. Chudasama","authorId":"38824959"},{"name":"Kartik Nighania","authorId":"2059027389"},{"name":"K. Upla","authorId":"3004725"},{"name":"K. Raja","authorId":"34711412"},{"name":"Raghavendra Ramachandra","authorId":"151434651"},{"name":"C. Busch","authorId":"46347050"}],"doi":"10.1109/TBIOM.2021.3059196"},{"venue":"Pattern Recognit.","isInfluential":false,"year":2021,"title":"Constructing multilayer locality-constrained matrix regression framework for noise robust face super-resolution","intent":[],"arxivId":null,"paperId":"aceb3d7f3cbe9f6035b84444436d7fb5cd46916b","url":"https://www.semanticscholar.org/paper/aceb3d7f3cbe9f6035b84444436d7fb5cd46916b","authors":[{"name":"Guangwei Gao","authorId":"3306402"},{"name":"Guangwei Gao","authorId":"3306402"},{"name":"Guangwei Gao","authorId":"3306402"},{"name":"Yi Yu","authorId":"47111778"},{"name":"J. Xie","authorId":"144307145"},{"name":"Jian Yang","authorId":"51460259"},{"name":"Meng Yang","authorId":"2111076685"},{"name":"Jian Zhang","authorId":"123275544"}],"doi":"10.1016/j.patcog.2020.107539"},{"venue":"IEEE Transactions on Cybernetics","isInfluential":false,"year":2020,"title":"MADNet: A Fast and Lightweight Network for Single-Image Super Resolution","intent":[],"arxivId":null,"paperId":"cd66f122b75fdd4ed743fa92c3783a2458a6b223","url":"https://www.semanticscholar.org/paper/cd66f122b75fdd4ed743fa92c3783a2458a6b223","authors":[{"name":"Rushi Lan","authorId":"36034272"},{"name":"Long Sun","authorId":"1476719517"},{"name":"Zhenbing Liu","authorId":"1904697"},{"name":"Huimin Lu","authorId":"143663452"},{"name":"Cheng Pang","authorId":"2054086734"},{"name":"Xiaonan Luo","authorId":"144361019"}],"doi":"10.1109/TCYB.2020.2970104"},{"venue":"ArXiv","isInfluential":false,"year":2021,"title":"Identity-Preserving Pose-Robust Face Hallucination Through Face Subspace Prior","intent":["background"],"arxivId":"2111.10634","paperId":"dc2ea22eca985c9456bb3d6f9820a348d02885b4","url":"https://www.semanticscholar.org/paper/dc2ea22eca985c9456bb3d6f9820a348d02885b4","authors":[{"name":"Ali Abbasi","authorId":"2142114752"},{"name":"M. Rahmati","authorId":"143707367"}],"doi":"10.36227/techrxiv.17055734"},{"venue":"2020 IEEE 32nd International Conference on Tools with Artificial Intelligence (ICTAI)","isInfluential":false,"year":2020,"title":"Lightweight Progressive Residual Clique Network for Image Super-Resolution","intent":["background"],"arxivId":null,"paperId":"1535eebff109eb753b695003599764991691bb62","url":"https://www.semanticscholar.org/paper/1535eebff109eb753b695003599764991691bb62","authors":[{"name":"Baojin Huang","authorId":"1581795258"},{"name":"Zheng He","authorId":"144808832"},{"name":"Zhongyuan Wang","authorId":"38655501"},{"name":"Kui Jiang","authorId":"51360637"},{"name":"Guangcheng Wang","authorId":"2042656075"}],"doi":"10.1109/ICTAI50040.2020.00122"},{"venue":"2020 IEEE/CVF Conference on Computer Vision and Pattern Recognition Workshops (CVPRW)","isInfluential":false,"year":2020,"title":"MSFSR: A Multi-Stage Face Super-Resolution with Accurate Facial Representation via Enhanced Facial Boundaries","intent":["background"],"arxivId":null,"paperId":"80746a36bd92dc2fe3338d5fc3a589e05d3278a5","url":"https://www.semanticscholar.org/paper/80746a36bd92dc2fe3338d5fc3a589e05d3278a5","authors":[{"name":"Yunchen Zhang","authorId":"2140010411"},{"name":"Yi Wu","authorId":"2108053052"},{"name":"Liang Chen","authorId":"2146032451"}],"doi":"10.1109/CVPRW50498.2020.00260"},{"venue":"IEEE Transactions on Image Processing","isInfluential":true,"year":2020,"title":"Robust Face Super-Resolution via Position Relation Model Based on Global Face Context","intent":["background","methodology"],"arxivId":null,"paperId":"9f2442c12c1dfde6dcd1986b6b12dc92f14aeb92","url":"https://www.semanticscholar.org/paper/9f2442c12c1dfde6dcd1986b6b12dc92f14aeb92","authors":[{"name":"Liang Chen","authorId":"2146032451"},{"name":"Jinshan Pan","authorId":"9416881"},{"name":"Junjun Jiang","authorId":"1708439"},{"name":"Jiawei Zhang","authorId":"1519062623"},{"name":"Yi Wu","authorId":"2108053052"}],"doi":"10.1109/TIP.2020.3023580"}],"fieldsOfStudy":["Computer Science","Medicine"],"isOpenAccess":false,"arxivId":null,"paperId":"d8c1ed5070958836eef2d2c239ac12963996f756","authors":[{"name":"Liang Chen","authorId":"2146032451","url":"https://www.semanticscholar.org/author/2146032451"},{"name":"Jinshan Pan","authorId":"9416881","url":"https://www.semanticscholar.org/author/9416881"},{"name":"Qing Li","authorId":"2117896344","url":"https://www.semanticscholar.org/author/2117896344"}],"doi":"10.1109/TIP.2019.2920510","influentialCitationCount":0}}'),aye=JSON.parse('{"predicate":"http://example/com/crossref/doi","valueList":[{"fullKnowledge":[{"path":"http://example/com/crossref/issue","value":"12","hash":"733ae4bdfcffaa21f9e28908633cdafe"},{"path":"http://example/com/crossref/indexedTimeStamp","value":"1616687130897","hash":"620374e3c04d61814b8733ac25a74731"},{"path":"http://example/com/crossref/createdDatePartsMonth","value":"6","hash":"cae76c8ba528c4641ca33042605b7ecf"},{"path":"http://example/com/crossref/indexedDatePartsYear","value":"2021","hash":"3cb73d74603576bf9bee0e5cfb75855d"},{"path":"http://example/com/crossref/depositedDatePartMonth","value":"9","hash":"824bc2ab82cf18cb623272e61d0ab039"},{"path":"http://example/com/crossref/indexedDateTime","value":"2021-03-25T15:45:30Z","hash":"5255d2d84edda1eb8d352b7fd77394e8"},{"path":"http://example/com/crossref/link","value":"http://xplorestaging.ieee.org/ielx7/83/8821493/08733990.pdf?arnumber=8733990","hash":"5612278074d68f6c061426b1371735f7"},{"path":"http://example/com/crossref/publishedPrintDatePartsMonth","value":"6","hash":"082a1f22a375924aa006fe7d6d6c89de"},{"path":"http://example/com/crossref/publisher","value":"Institute of Electrical and Electronics Engineers (IEEE)","hash":"362ae5484ef6f44c20ad1f94ca04f075"},{"path":"http://example/com/crossref/depositedTimeStamp","value":"1568990310000","hash":"0b8ebc2c233cf9755ac9abb81d9ae328"},{"path":"http://example/com/crossref/onlineDatePartsDate","value":"0","hash":"ebf0d26fea8687bcf2f0efd34ea4c2b0"},{"path":"http://example/com/crossref/issuedDatePartsMonth","value":"12","hash":"0340fade8b4344d9c2884eb56a3cb169"},{"path":"http://example/com/crossref/subject","value":"Computer Graphics and Computer-Aided Design","hash":"19af601f181d1a2de5510efb748b6839"},{"path":"http://example/com/crossref/score","value":"1","hash":"67eb4ea9c174c6647fe5ad4fe184422c"},{"path":"http://example/com/crossref/printIssn","value":"1057-7149","hash":"7ee6a4c94523d25014389559dd9bf9bb"},{"path":"http://example/com/crossref/doiPrefix","value":"10.1109","hash":"14afb628565a53b5faae48429710aa5d"},{"path":"http://example/com/crossref/indexedDatePartsDate","value":"25","hash":"6eaaf137e2060cc7a6ea906c2f83856f"},{"path":"http://example/com/crossref/volume","value":"28","hash":"7d898705ad33cbf19651fdf30a87b5c0"},{"path":"http://example/com/crossref/referenceCount","value":"39","hash":"f6ca0fb47be5c0539533576ed406c4b3"},{"path":"http://example/com/crossref/doi","value":"10.1109/tip.2019.2920510","hash":"58438e44566c797323069dcfe08df6f7"},{"path":"http://example/com/crossref/page","value":"5897-5909","hash":"50bb91390a163ac166537af69c5a7e74"},{"path":"http://example/com/crossref/issn","value":"1941-0042","hash":"7e1550be6c658b3c686fb7115d0f1c6d"},{"path":"http://example/com/crossref/createdDatePartsYear","value":"2019","hash":"19bfc04c05e51f6c6f308932f1a60308"},{"path":"http://example/com/crossref/publishedPrintTimeStamp","value":"1560195095000","hash":"39106c33983e8c668940996aa01e02be"},{"path":"http://example/com/crossref/issn","value":"1057-7149","hash":"a32a1cc11b9290ef7df4f67a337622e8"},{"path":"http://example/com/crossref/shortContainerTitle","value":"IEEE Trans. on Image Process.","hash":"e137bf555ae33ad8bcdf58e1db2b23e5"},{"path":"http://example/com/crossref/containerTitle","value":"IEEE Transactions on Image Processing","hash":"f5ee49e2b8b0fba91ba298a340f195a2"},{"path":"http://example/com/crossref/publishedPrintDateTime","value":"2019-06-10T19:31:35Z","hash":"972985beb253533a2143d2f813077098"},{"path":"http://example/com/crossref/indexedDatePartsMonth","value":"3","hash":"212bf1d3811c3a1072e024c63e54a36a"},{"path":"http://example/com/crossref/createdTimeStamp","value":"1560195095000","hash":"443ac6b31169715489412889606c2592"},{"path":"http://example/com/crossref/electronicIssn","value":"1941-0042","hash":"47572f1143c0b6de4d3e2237a25280d4"},{"path":"http://example/com/crossref/depositedDateTime","value":"2019-09-20T14:38:30Z","hash":"73c179bcb4115655bf5c4f0a6e9733d6"},{"path":"http://example/com/crossref/citationCount","value":"6","hash":"3301a9ecfb98e885c90b7f25eef72d4d"},{"path":"http://example/com/crossref/title","value":"Robust Face Image Super-Resolution via Joint Learning of Subdivided Contextual Model","hash":"3e5646bea6a8938ed356e588a25dcb6e"},{"path":"http://example/com/crossref/onlineDatePartsYear","value":"0","hash":"1cf829f6f8f719cbd24922e5bae7f8c4"},{"path":"http://example/com/crossref/url","value":"http://dx.doi.org/10.1109/tip.2019.2920510","hash":"9b5a7b5ed3ff52361146702972e69fc4"},{"path":"http://example/com/crossref/type","value":"journal-article","hash":"9dcb35dba0480073f062473cac0c82a5"},{"path":"http://example/com/crossref/issuedDatePartsYear","value":"2019","hash":"1347361693a0471c8be23812e44a92f3"},{"path":"http://example/com/crossref/depositedDatePartYear","value":"2019","hash":"9876a04676bec9490988e50565038b94"},{"path":"http://example/com/crossref/createdDatePartsDate","value":"10","hash":"de12cd240fc004f541dec363e8a118e0"},{"path":"http://example/com/crossref/createdDateTime","value":"2019-06-10T19:31:35Z","hash":"00efbe68e440a460b91a05280e6d2024"},{"path":"http://example/com/crossref/subject","value":"Software","hash":"4cf875f8c3e5991bbc5f0fb07c7139db"},{"path":"http://example/com/crossref/depositedDatePartDay","value":"20","hash":"861a51932a29f5529329c84743bd9c3a"},{"path":"http://example/com/crossref/onlineDatePartsMonth","value":"0","hash":"93e8195151c7f8127a8975eedbf082ef"},{"path":"http://example/com/crossref/publishedPrintDatePartsYear","value":"2019","hash":"b6321d8fb1dde3cd97f40afb7825c226"},{"path":"http://example/com/crossref/member","value":"263","hash":"43a73d4274fbd9d98942f5da78e250d7"},{"path":"http://example/com/crossref/publishedPrintDatePartsDay","value":"10","hash":"86cbc43919f0d94eaa3aa49091000e5e"}],"subject":"10.1109/tip.2019.2920510","value":"http://example/com/crossref/paper1930"}]}'),lye=JSON.parse('{"path":"C:\\\\Users\\\\mauri\\\\Documents\\\\Workspace\\\\DBs\\\\crossref\\\\tdb","identifierMapContent":{"indexedDateTime":"<http://example/com/crossref/indexedDateTime>","issuedTimeStamp":"<http://example/com/crossref/issuedTimeStamp>","subject":"<http://example/com/crossref/subject>","createdDateTime":"<http://example/com/crossref/createdDateTime>","shortTitle":"<http://example/com/crossref/shortTitle>","type":"<http://example/com/crossref/type>","printIssn":"<http://example/com/crossref/printIssn>","shortContainerTitle":"<http://example/com/crossref/shortContainerTitle>","issuedDatePartsMonth":"<http://example/com/crossref/issuedDatePartsMonth>","score":"<http://example/com/crossref/score>","affiliation":"<http://example/com/crossref/affiliation>","printIsbn":"<http://example/com/crossref/printIsbn>","indexedTimeStamp":"<http://example/com/crossref/indexedTimeStamp>","indexedDatePartsDay":"<http://example/com/crossref/indexedDatePartsDay>","citationCount":"<http://example/com/crossref/citationCount>","given":"<http://example/com/crossref/given>","issue":"<http://example/com/crossref/issue>","author":"<http://example/com/crossref/author>","indexedDatePartsMonth":"<http://example/com/crossref/indexedDatePartsMonth>","publishedPrintDatePartsYear":"<http://example/com/crossref/publishedPrintDatePartsYear>","volume":"<http://example/com/crossref/volume>","indexedDatePartsYear":"<http://example/com/crossref/indexedDatePartsYear>","issn":"<http://example/com/crossref/issn>","createdDatePartsMonth":"<http://example/com/crossref/createdDatePartsMonth>","doiPrefix":"<http://example/com/crossref/doiPrefix>","containerTitle":"<http://example/com/crossref/containerTitle>","createdDatePartsYear":"<http://example/com/crossref/createdDatePartsYear>","referenceCount":"<http://example/com/crossref/referenceCount>","otherOriginalTitle":"<http://example/com/crossref/otherOriginalTitle>","publisher":"<http://example/com/crossref/publisher>","page":"<http://example/com/crossref/page>","doi":"<http://example/com/crossref/doi>","otherShortTitle":"<http://example/com/crossref/otherShortTitle>","issuedDatePartsYear":"<http://example/com/crossref/issuedDatePartsYear>","publishedPrintDatePartsMonth":"<http://example/com/crossref/publishedPrintDatePartsMonth>","electronicIssn":"<http://example/com/crossref/electronicIssn>","isbn":"<http://example/com/crossref/isbn>","createdTimeStamp":"<http://example/com/crossref/createdTimeStamp>","link":"<http://example/com/crossref/link>","title":"<http://example/com/crossref/title>","issuedDatePartsDay":"<http://example/com/crossref/issuedDatePartsDay>","otherShortContainerTitle":"<http://example/com/crossref/otherShortContainerTitle>","publishedPrintDatePartsDay":"<http://example/com/crossref/publishedPrintDatePartsDay>","member":"<http://example/com/crossref/member>","otherContainerTitle":"<http://example/com/crossref/otherContainerTitle>","createdDatePartsDay":"<http://example/com/crossref/createdDatePartsDay>","url":"<http://example/com/crossref/url>","originalTitle":"<http://example/com/crossref/originalTitle>","issuedDateTime":"<http://example/com/crossref/issuedDateTime>","family":"<http://example/com/crossref/family>"},"identifierMap":"configs\\\\identifierMaps\\\\crossref.json","source":"C:\\\\Users\\\\mauri\\\\Documents\\\\Workspace\\\\DBs\\\\crossref\\\\sample_crossref.nt","label":"crossref"}'),cye=JSON.parse('{"name":"Semantic Scholar","format":"json","label":"s2","parameters":[{"filter":["http://www.wikidata.org/prop/direct/P356"],"name":"q","type":"https://dblp.org/rdf/schema-2020-07-01#Publication","status":"required"}],"url":"https://api.semanticscholar.org/v1/paper/{q}"}'),uye=JSON.parse('{"suggestions":[{"general":{"counter":1,"type":0,"webEntries":["year"],"selected":true,"localEntries":["http://example/com/crossref/issuedDatePartsYear"]},"suggestions":[{"template":{"type":0,"webEntries":["year"],"localEntries":["http://example/com/crossref/issuedDatePartsYear"]},"mappings":[{"type":0,"webEntries":[{"value":"2018","key":"year"}],"localEntries":[{"path":"http://example/com/crossref/issuedDatePartsYear","value":"2018"}]}],"counter":1,"selected":false}]},{"general":{"counter":1,"type":0,"webEntries":["year"],"selected":true,"localEntries":["http://example/com/crossref/createdDatePartsYear"]},"suggestions":[{"template":{"type":0,"webEntries":["year"],"localEntries":["http://example/com/crossref/createdDatePartsYear"]},"mappings":[{"type":0,"webEntries":[{"value":"2018","key":"year"}],"localEntries":[{"path":"http://example/com/crossref/createdDatePartsYear","value":"2018"}]}],"counter":1,"selected":false}]},{"general":{"counter":1,"type":0,"webEntries":["year"],"selected":true,"localEntries":["http://example/com/crossref/publishedPrintDatePartsYear"]},"suggestions":[{"template":{"type":0,"webEntries":["year"],"localEntries":["http://example/com/crossref/publishedPrintDatePartsYear"]},"mappings":[{"type":0,"webEntries":[{"value":"2018","key":"year"}],"localEntries":[{"path":"http://example/com/crossref/publishedPrintDatePartsYear","value":"2018"}]}],"counter":1,"selected":false}]},{"general":{"counter":4,"type":0,"webEntries":["authors[*].name"],"selected":true,"localEntries":["http://example/com/crossref/author, http://example/com/crossref/family"]},"suggestions":[{"template":{"type":0,"webEntries":["authors[1].name"],"localEntries":["http://example/com/crossref/author, http://example/com/crossref/family"]},"mappings":[{"type":0,"webEntries":[{"value":"E. Kodra","key":"authors[1].name"}],"localEntries":[{"path":"http://example/com/crossref/author, http://example/com/crossref/family","value":"Kodra"}]}],"counter":1,"selected":false},{"template":{"type":0,"webEntries":["authors[0].name"],"localEntries":["http://example/com/crossref/author, http://example/com/crossref/family"]},"mappings":[{"type":0,"webEntries":[{"value":"T. Vandal","key":"authors[0].name"}],"localEntries":[{"path":"http://example/com/crossref/author, http://example/com/crossref/family","value":"Vandal"}]},{"type":0,"webEntries":[{"value":"T. Vandal","key":"authors[0].name"}],"localEntries":[{"path":"http://example/com/crossref/author, http://example/com/crossref/family","value":"Vandal"}]},{"type":0,"webEntries":[{"value":"T. Vandal","key":"authors[0].name"}],"localEntries":[{"path":"http://example/com/crossref/author, http://example/com/crossref/family","value":"Vandal"}]},{"type":0,"webEntries":[{"value":"T. Vandal","key":"authors[0].name"}],"localEntries":[{"path":"http://example/com/crossref/author, http://example/com/crossref/family","value":"Vandal"}]},{"type":0,"webEntries":[{"value":"T. Vandal","key":"authors[0].name"}],"localEntries":[{"path":"http://example/com/crossref/author, http://example/com/crossref/family","value":"Vandal"}]},{"type":0,"webEntries":[{"value":"T. Vandal","key":"authors[0].name"}],"localEntries":[{"path":"http://example/com/crossref/author, http://example/com/crossref/family","value":"Vandal"}]},{"type":0,"webEntries":[{"value":"T. Vandal","key":"authors[0].name"}],"localEntries":[{"path":"http://example/com/crossref/author, http://example/com/crossref/family","value":"Vandal"}]},{"type":0,"webEntries":[{"value":"T. Vandal","key":"authors[0].name"}],"localEntries":[{"path":"http://example/com/crossref/author, http://example/com/crossref/family","value":"Vandal"}]},{"type":0,"webEntries":[{"value":"T. Vandal","key":"authors[0].name"}],"localEntries":[{"path":"http://example/com/crossref/author, http://example/com/crossref/family","value":"Vandal"}]},{"type":0,"webEntries":[{"value":"T. Vandal","key":"authors[0].name"}],"localEntries":[{"path":"http://example/com/crossref/author, http://example/com/crossref/family","value":"Vandal"}]},{"type":0,"webEntries":[{"value":"T. Vandal","key":"authors[0].name"}],"localEntries":[{"path":"http://example/com/crossref/author, http://example/com/crossref/family","value":"Vandal"}]},{"type":0,"webEntries":[{"value":"A. Sharma","key":"authors[0].name"}],"localEntries":[{"path":"http://example/com/crossref/author, http://example/com/crossref/family","value":"Sharma"}]}],"counter":2,"selected":false},{"template":{"type":0,"webEntries":["authors[3].name"],"localEntries":["http://example/com/crossref/author, http://example/com/crossref/family"]},"mappings":[{"type":0,"webEntries":[{"value":"J. Dittrich","key":"authors[3].name"}],"localEntries":[{"path":"http://example/com/crossref/author, http://example/com/crossref/family","value":"Dittrich"}]}],"counter":1,"selected":false}]}]}');let nf=(()=>{class n{constructor(t){this.connection=t,this._entityAlignments=[],this._regexApiStore=[],this.utils=new oc,this.showFullLocalPath=!1,this.loadingTries=1,this.maxLoadingTries=50,this.finishedLoadingLocalEntity=!1,this.finishedLoadingWebEntity=!1,this.finishedNewEntity=!1,this.suggestionsLoaded=!1,this.finishedFinalAlignment=!1,this.loadingNextEntityFailed=!1}startNewAlignment(t,i,r,o){this._entityAlignments=[],this._localDatabase=t,this._webDatabase=i,this._selectedLocalIdentifier=r,this._selectedInputType=o,this._localKnownPathStore=new Set,this._webKnownPathStore=new Set,this.nextEntity().then(s=>this.saveLocalKnownPaths())}removeMapping(t){const i=this.currentMappings.indexOf(t);this.currentMappings.splice(i,1)}addMapping(t){this.currentMappings.push(t)}changeCurrentAlignment(t){t<0&&t>=this.entityAlignments.length||(this._currentAlignment=this.entityAlignments[t],this._currentLocalEntity=this._currentAlignment.localEntity,this._currentWebEntity=this._currentAlignment.webEntity,this._currentIndex=t)}nextEntity(){return we(this,void 0,void 0,function*(){this.saveLocalKnownPaths(),this.finishedNewEntity=!1,this.finishedLoadingLocalEntity=!1,this.finishedLoadingWebEntity=!1,this.loadingNextEntityFailed=!1,this.loadingTries=1;const t=[];for(;this.loadingTries<=this.maxLoadingTries&&!this.finishedLoadingWebEntity;)yield this.loadLocalEntity(),t.push(this._currentLocalEntity.valueList[0].subject),yield this.loadWebEntity(this._currentLocalEntity.valueList[0].subject),this.loadingTries++;if(this.loadingTries>this.maxLoadingTries)return this.loadingNextEntityFailed=!0,void console.log([...new Set(t)]);this._currentAlignment={mappings:[],localEntity:this.currentLocalEntity,webEntity:this.currentWebEntity},this._entityAlignments.push(this._currentAlignment),this._currentIndex=this._entityAlignments.length-1,this.finishedNewEntity=!0})}loadLocalEntity(){return we(this,void 0,void 0,function*(){const t=this._selectedLocalIdentifier,i=this._selectedInputType;this._currentLocalEntity=yield this.connection.getLocalEntity(this.localDatabase.label,t,i,1).toPromise(),this.utils.addHashToLocalEntity(this._currentLocalEntity),this.finishedLoadingLocalEntity=!0})}loadWebEntity(t){return we(this,void 0,void 0,function*(){yield this.connection.getWebEntity(this.webDatabase.label,t,this._regexApiStore).toPromise().then(i=>{this._currentWebEntity=i,this.utils.addHashToWebEntity(this._currentWebEntity),this.finishedLoadingWebEntity=!0},i=>{console.log(i)})})}debugMode(){this._currentWebEntity=sye,this._currentLocalEntity=aye,this._localDatabase=lye,this._webDatabase=cye,this.utils.addHashToWebEntity(this._currentWebEntity),this._currentAlignment={mappings:[],localEntity:this.currentLocalEntity,webEntity:this.currentWebEntity},this.entityAlignments.push(this._currentAlignment),this._suggestionContainer=uye,this.suggestionsLoaded=!0,this.finishedLoadingLocalEntity=!0,this.finishedLoadingWebEntity=!0,this.finishedNewEntity=!0}changeWebReducedResponse(t){return we(this,void 0,void 0,function*(){this._currentWebEntity.reducedResponse=t,this.connection.postToFlatJson(t).toPromise().then(r=>{this._currentWebEntity.dictionary=r.dictionary,this.utils.addHashToWebEntity(this._currentWebEntity)}),this.connection.postJsonDiff(this._currentWebEntity.originalResponse,t).toPromise().then(r=>{this._regexApiStore=[...new Set(r.regex)]})})}generateSuggestions(){this.suggestionsLoaded=!1;const t=[];for(const i of this._entityAlignments)for(const r of i.mappings)t.push(r);this.connection.postSuggestions(t).toPromise().then(i=>{this._suggestionContainer=i,this.suggestionsLoaded=!0})}generateFinalAlignment(){this.finishedFinalAlignment=!1;const t=[];for(const i of this._suggestionContainer.suggestions){const r=i.general;r.selected&&t.push({localEntries:r.localEntries,webEntries:r.webEntries,type:r.type});for(const o of i.suggestions){const s=o.template;s.selected&&t.push({localEntries:s.localEntries,webEntries:s.webEntries,type:s.type})}}this._finalAlignment={mappings:t,localLabel:this._localDatabase.label,webLabel:this._webDatabase.label},this.finishedFinalAlignment=!0}saveFinalAlignment(){return this.connection.postFinalAlignment(this.finalAlignment).toPromise()}saveLocalKnownPaths(){if(void 0!==this._currentLocalEntity&&void 0!==this._currentWebEntity){console.log(this._currentLocalEntity),console.log(this._currentWebEntity);for(const t of this._currentLocalEntity.valueList[0].fullKnowledge)this._localKnownPathStore.has(t.path)||this._localKnownPathStore.add(t.path);for(const t of this._currentWebEntity.dictionary)this._webKnownPathStore.has(t.path)||this._webKnownPathStore.add(t.path)}}get currentAlignment(){return this._currentAlignment}get currentMappings(){return this._currentAlignment.mappings}get currentWebEntity(){return this._currentWebEntity}get currentLocalEntity(){return this._currentLocalEntity}get localDatabase(){return this._localDatabase}get webDatabase(){return this._webDatabase}get finishedLoading(){return this.finishedLoadingLocalEntity&&this.finishedLoadingWebEntity&&this.finishedNewEntity}get entityAlignments(){return this._entityAlignments}get currentIndex(){return this._currentIndex}get finalAlignment(){return this._finalAlignment}get suggestionContainer(){return this._suggestionContainer}get localKnownPathStore(){return this._localKnownPathStore}get webKnownPathStore(){return this._webKnownPathStore}}return n.\u0275fac=function(t){return new(t||n)(At(ll))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Qp=Ve(7489);function hye(n,e){if(1&n&&(be(0,"div",12),kn(1,"p",13),Se()),2&n){const t=e.$implicit,i=kt(3);Be(1),Ke("innerHtml",i.gsbService.showFullLocalPath?t.path:i.utils.formatLocalPath(t.path),ha)}}function dye(n,e){1&n&&(be(0,"mat-icon"),He(1,"east"),Se())}function fye(n,e){1&n&&(be(0,"mat-icon"),He(1,"west"),Se())}function pye(n,e){1&n&&(be(0,"mat-icon"),He(1,"sync_alt"),Se())}function gye(n,e){if(1&n&&(be(0,"div",12)(1,"p"),He(2),Se()()),2&n){const t=e.$implicit;Be(2),Jr(t.path)}}function mye(n,e){if(1&n){const t=wr();be(0,"div",4)(1,"div",5),Ct(2,hye,2,1,"div",6),Se(),be(3,"div",7)(4,"div",8),Ct(5,dye,2,0,"mat-icon",9),Ct(6,fye,2,0,"mat-icon",9),Ct(7,pye,2,0,"mat-icon",9),Se(),be(8,"div",10)(9,"button",11),It("click",function(){const o=Tn(t).$implicit;return Rn(kt(2).gsbService.removeMapping(o))}),be(10,"mat-icon"),He(11,"delete"),Se()()()(),be(12,"div",5),Ct(13,gye,3,1,"div",6),Se()()}if(2&n){const t=e.$implicit;Be(2),Ke("ngForOf",t.localEntries),Be(3),Ke("ngIf",0===t.type),Be(1),Ke("ngIf",1===t.type),Be(1),Ke("ngIf",2===t.type),Be(6),Ke("ngForOf",t.webEntries)}}function vye(n,e){if(1&n&&(be(0,"div",2),Ct(1,mye,14,5,"div",3),Se()),2&n){const t=kt();Be(1),Ke("ngForOf",t.gsbService.currentMappings)}}let yye=(()=>{class n{constructor(t,i){this.gsbService=t,this.cdr=i,this.showFullPathLocal=!1,this.utils=new oc}log(){console.log(this.gsbService.currentMappings)}}return n.\u0275fac=function(t){return new(t||n)(Te(nf),Te(Hr))},n.\u0275cmp=Wn({type:n,selectors:[["app-mapping-table"]],decls:3,vars:2,consts:[["color","primary",3,"ngModel","ngModelChange"],["class","mapping-wrapper",4,"ngIf"],[1,"mapping-wrapper"],["class","mapping",4,"ngFor","ngForOf"],[1,"mapping"],[1,"relation-container"],["class","entry",4,"ngFor","ngForOf"],[1,"divider"],[1,"relationType"],[4,"ngIf"],[1,"action"],["mat-icon-button","","aria-label","Clear",3,"click"],[1,"entry"],[3,"innerHtml"]],template:function(t,i){1&t&&(be(0,"mat-slide-toggle",0),It("ngModelChange",function(o){return i.gsbService.showFullLocalPath=o}),He(1," show full path\n"),Se(),Ct(2,vye,2,1,"div",1)),2&t&&(Ke("ngModel",i.gsbService.showFullLocalPath),Be(2),Ke("ngIf",i.gsbService.currentMappings))},dependencies:[_a,ks,ul,rc,ss,tc,HI],styles:[".mapping-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mapping-wrapper[_ngcontent-%COMP%]   .mapping[_ngcontent-%COMP%]{display:flex;border:2px black solid;margin:.5rem}.mapping-wrapper[_ngcontent-%COMP%]   .mapping[_ngcontent-%COMP%]   .relation-container[_ngcontent-%COMP%]{width:45%;display:flex;flex-direction:column;justify-content:space-around;align-items:center}.mapping-wrapper[_ngcontent-%COMP%]   .mapping[_ngcontent-%COMP%]   .relation-container[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]{width:100%;border-top:1px solid gray;padding:.75rem}.mapping-wrapper[_ngcontent-%COMP%]   .mapping[_ngcontent-%COMP%]   .relation-container[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]:first-child{border-top:none}.mapping-wrapper[_ngcontent-%COMP%]   .mapping[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-around;align-items:center;border-left:2px black solid;border-right:2px black solid}p[_ngcontent-%COMP%]{margin:0}"]}),n})();var Xv=(()=>{return(n=Xv||(Xv={}))[n.LocalToWeb=0]="LocalToWeb",n[n.WebToLocal=1]="WebToLocal",n[n.Bidirectional=2]="Bidirectional",Xv;var n})();class Vb{constructor(e,t=new Map,i=new Map){this._localElems=t,this._webElems=i,this._lines=new Set,this._type=e}static build(e){const t=new Map,i=new Map;for(const o of e.localEntries){const s=document.getElementById(o.hash);t.set(o.hash,s)}for(const o of e.webEntries){const s=document.getElementById(o.hash);i.set(o.hash,s)}return new Vb(e.type,t,i)}setRenderer(e){this.renderer=e}addLocalElem(e,t){this._localElems.set(e,t)}addWebElem(e,t){this._webElems.set(e,t)}drawLines(){this.deleteLines();for(const e of this._localElems.values())for(const t of this._webElems.values()){const i=new LeaderLine(e,t);switch(i.setOptions({startSocket:"right",endSocket:"left",color:"gray"}),this._type){case Xv.LocalToWeb:i.setOptions({startPlug:"behind",endPlug:"arrow1"});break;case Xv.WebToLocal:i.setOptions({startPlug:"arrow1",endPlug:"behind"});break;case Xv.Bidirectional:i.setOptions({startPlug:"arrow1",endPlug:"arrow1"})}this._lines.add(i),e.classList.add("used"),t.classList.add("used"),i.position()}}deleteLines(){for(const e of this._lines)e.remove();this._lines.clear()}updateLines(){return we(this,void 0,void 0,function*(){yield oc.delay(10);for(const e of this._lines)e.start.classList.contains("hide")||e.end.classList.contains("hide")?e.hide("none"):e.show(),e.position()})}setLineColor(e){for(const t of this._lines)t.setOptions({color:e})}setMappingType(e){this._type=e,this.drawLines()}get localElems(){return this._localElems}get webElems(){return this._webElems}get type(){return this._type}get lines(){return this._lines}}class Wb{constructor(e){this._mappings=new Set,this.renderer=e}get mappings(){return this._mappings}static build(e,t){const i=new Wb(t);for(const r of e.mappings){const o=new Map,s=new Map;for(const c of r.localEntries){const b=document.getElementById(c.hash);o.set(c.hash,b)}for(const c of r.webEntries){const b=document.getElementById(c.hash);s.set(c.hash,b)}const a=new Vb(r.type,o,s);i.addMapping(a,!1)}return i}addMapping(e,t=!1){this._mappings.add(e),e.setRenderer(this.renderer),t&&e.drawLines()}addGSBMapping(e){const t=Vb.build(e);this.addMapping(t)}deleteMapping(){}drawLines(){for(const e of this._mappings)e.drawLines()}updateLines(){for(const e of this._mappings)e.updateLines()}hideLines(){for(const e of this._mappings)for(const t of e.lines)t.hide("none"),t.position()}showLines(){this.updateLines()}deleteLines(){for(const e of this._mappings)e.deleteLines()}removeMapping(e){this.mappings.delete(e),this.deleteLines(),this.drawLines(),oc.delay(50),this.updateLines()}}function _ye(n,e){if(1&n&&(od(),kn(0,"circle",4)),2&n){const t=kt(),i=bl(1);nl("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),Zi("r",t._getCircleRadius())}}function bye(n,e){if(1&n&&(od(),kn(0,"circle",4)),2&n){const t=kt(),i=bl(1);nl("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),Zi("r",t._getCircleRadius())}}const wye=Xd(class{constructor(n){this._elementRef=n}},"primary"),Aye=new rn("mat-progress-spinner-default-options",{providedIn:"root",factory:function Sye(){return{diameter:100}}});class Fu extends wye{constructor(e,t,i,r,o,s,a,c){super(e),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=ee.EMPTY,this.mode="determinate";const b=Fu._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),b.has(i.head)||b.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),t.isBrowser&&t.SAFARI&&a&&s&&c&&(this._resizeSubscription=a.change(150).subscribe(()=>{"indeterminate"===this.mode&&c.run(()=>s.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=xl(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=xl(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,xl(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=R4(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){var t;const i=50*(null!==(t=e.currentScale)&&void 0!==t?t:1);return`${i}% ${i}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,i=Fu._diameters;let r=i.get(e);if(!r||!r.has(t)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),e.appendChild(o),r||(r=new Set,i.set(e,r)),r.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Fu._diameters=new WeakMap,Fu.\u0275fac=function(e){return new(e||Fu)(Te(ci),Te(Xo),Te(Oi,8),Te(No,8),Te(Aye),Te(Hr),Te(qd),Te(Ei))},Fu.\u0275cmp=Wn({type:Fu,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(Zi("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),nl("width",t.diameter,"px")("height",t.diameter,"px"),Li("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[Cn],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(od(),be(0,"svg",0,1),Ct(2,_ye,1,11,"circle",2),Ct(3,bye,1,9,"circle",3),Se()),2&e&&(nl("width",t.diameter,"px")("height",t.diameter,"px"),Ke("ngSwitch","indeterminate"===t.mode),Zi("viewBox",t._getViewBox()),Be(2),Ke("ngSwitchCase",!0),Be(1),Ke("ngSwitchCase",!1))},dependencies:[kd,_m],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let xye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[qi,Vc,qi]}),n})(),Eye=(()=>{class n{transform(t,i){if(!i)return t;const r=new RegExp(i,"gi");return t.replace(r,"<mark>$&</mark>")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=Fs({name:"highlight",type:n,pure:!0}),n})();function Mye(n,e){if(1&n){const t=wr();be(0,"button",25),It("click",function(r){return Tn(t),Rn(kt().changeLocalPathSearchValue("",r))}),be(1,"mat-icon"),He(2,"close"),Se()()}}function Tye(n,e){if(1&n){const t=wr();be(0,"button",25),It("click",function(r){return Tn(t),Rn(kt().changeLocalValueSearchValue("",r))}),be(1,"mat-icon"),He(2,"close"),Se()()}}function Rye(n,e){if(1&n&&(be(0,"mat-option",26),He(1),Se()),2&n){const t=e.$implicit;Ke("value",e.index),Be(1),Ar(" ",t.localEntity.valueList[0].subject," ")}}function Dye(n,e){if(1&n){const t=wr();be(0,"button",25),It("click",function(){Tn(t);const r=kt();return r.webPathSearchValue="",Rn(r.updateLines())}),be(1,"mat-icon"),He(2,"close"),Se()()}}function kye(n,e){if(1&n){const t=wr();be(0,"button",25),It("click",function(){Tn(t);const r=kt();return r.webValueSearchValue="",Rn(r.updateLines())}),be(1,"mat-icon"),He(2,"close"),Se()()}}function Lye(n,e){1&n&&(be(0,"div"),kn(1,"mat-spinner"),He(2," ... loading "),Se())}const HG=function(n,e){return{hide:n,unknown:e}};function Pye(n,e){if(1&n){const t=wr();be(0,"div")(1,"div",28),It("click",function(){const o=Tn(t).$implicit;return Rn(kt(2).clickLocalMappingEntry(o))}),be(2,"div",29)(3,"button",30),It("click",function(r){const s=Tn(t).$implicit,a=kt(2);return Rn(a.changeWebPathSearchValue(a.utils.formatLocalPath(s.path),r))}),be(4,"mat-icon"),He(5,"search"),Se()(),kn(6,"p",31),fm(7,"highlight"),Se(),be(8,"div",32),kn(9,"p",31),fm(10,"highlight"),be(11,"button",30),It("click",function(r){const s=Tn(t).$implicit;return Rn(kt(2).changeWebValueSearchValue(s.value,r))}),be(12,"mat-icon"),He(13,"search"),Se()()()()()}if(2&n){const t=e.$implicit,i=kt(2);Be(1),Ke("id",t.hash)("ngClass",Dd(10,HG,!i.searchMethod(t.path,i.localPathSearchValue)||!i.searchMethod(t.value,i.localValueSearchValue),!i.gsbService.localKnownPathStore.has(t.path))),Be(5),Ke("innerHtml",n_(7,4,i.gsbService.showFullLocalPath?t.path:i.utils.formatLocalPath(t.path),i.localPathSearchValue),ha),Be(3),Ke("innerHtml",n_(10,7,t.value,i.localValueSearchValue),ha)}}function Oye(n,e){if(1&n&&(be(0,"div"),Ct(1,Pye,14,13,"div",27),Se()),2&n){const t=kt();Be(1),Ke("ngForOf",t.localEntityFiltered.valueList[0].fullKnowledge)}}function Fye(n,e){1&n&&(be(0,"div"),kn(1,"mat-spinner"),He(2," ... loading "),Se())}function Nye(n,e){if(1&n){const t=wr();be(0,"div")(1,"div",28),It("click",function(){const o=Tn(t).$implicit;return Rn(kt(2).clickWebMappingEntry(o))}),be(2,"div",29)(3,"button",30),It("click",function(r){const s=Tn(t).$implicit;return Rn(kt(2).changeLocalPathSearchValue(s.path,r))}),be(4,"mat-icon"),He(5,"search"),Se()(),kn(6,"p",31),fm(7,"highlight"),Se(),be(8,"div",32),kn(9,"p",31),fm(10,"highlight"),be(11,"button",30),It("click",function(r){const s=Tn(t).$implicit;return Rn(kt(2).changeLocalValueSearchValue(s.value,r))}),be(12,"mat-icon"),He(13,"search"),Se()()()()()}if(2&n){const t=e.$implicit,i=kt(2);Be(1),Ke("id",t.hash)("ngClass",Dd(10,HG,!i.searchMethod(t.path,i.webPathSearchValue)||!i.searchMethod(t.value,i.webValueSearchValue),!i.gsbService.webKnownPathStore.has(t.path))),Be(5),Ke("innerHtml",n_(7,4,t.path,i.webPathSearchValue),ha),Be(3),Ke("innerHtml",n_(10,7,t.value,i.webValueSearchValue),ha)}}function $ye(n,e){if(1&n&&(be(0,"div"),Ct(1,Nye,14,13,"div",27),Se()),2&n){const t=kt();Be(1),Ke("ngForOf",t.weblEntityFiltered.dictionary)}}let VG=(()=>{class n{constructor(t,i,r,o,s,a,c){this.connection=t,this.dialog=i,this._fb=r,this.cdr=o,this._dialog=s,this.gsbService=a,this.renderer=c,this.utils=new oc,this.showFullPathLocal=!0,this.showFullPathWeb=!1,this.localSortByPathMethod="",this.localSortByValueMethod="",this.localEntityLoaded=!1,this.localPathSearchValue="",this.localValueSearchValue="",this.webSortByPathMethod="",this.webSortByValueMethod="",this.weblEntityLoaded=!1,this.webPathSearchValue="",this.webValueSearchValue="",this.localHashIds=new Set,this.localMappingEntries=new Set,this.webHashIds=new Set,this.webMappingEntries=new Set}ngOnInit(){this.init(),this._currentLeaderLineAlignment=Wb.build(this.gsbService.currentAlignment,this.renderer)}clickLocalMappingEntry(t){const r=document.getElementById(t.hash);this.localMappingEntries.has(t)?(this.localMappingEntries.delete(t),this.renderer.removeClass(r,"clicked")):(this.localMappingEntries.add(t),this.renderer.addClass(r,"clicked"))}clickWebMappingEntry(t){const r=document.getElementById(t.hash);this.webMappingEntries.has(t)?(this.webMappingEntries.delete(t),this.renderer.removeClass(r,"clicked")):(this.webMappingEntries.add(t),this.renderer.addClass(r,"clicked"))}addMapping(t){Qp.defer(()=>{if(0!==this.localMappingEntries.size&&0!==this.webMappingEntries.size){for(const o of this.localMappingEntries){const s=document.getElementById(o.hash);this.renderer.addClass(s,"used"),this.renderer.removeClass(s,"clicked")}for(const o of this.webMappingEntries){const s=document.getElementById(o.hash);this.renderer.addClass(s,"used"),this.renderer.removeClass(s,"clicked")}const i={type:t,localEntries:Array.from(this.localMappingEntries),webEntries:Array.from(this.webMappingEntries)};this.gsbService.addMapping(i);const r=Vb.build(i);this._currentLeaderLineAlignment.addMapping(r,!0),this.localMappingEntries.clear(),this.webMappingEntries.clear()}})}updateLines(){this._currentLeaderLineAlignment.updateLines()}sortByPathWeb(){switch(this.webSortByPathMethod){case"alphaAsc":this.sortByPathWebAsc();break;case"alphaDesc":this.sortByPathWebDesc();break;default:this.weblEntityFiltered.dictionary=Qp.cloneDeep(this.gsbService.currentWebEntity.dictionary)}this.updateLines()}sortByPathWebAsc(){this.weblEntityFiltered.dictionary.sort((t,i)=>t.path.localeCompare(i.path))}sortByPathWebDesc(){this.weblEntityFiltered.dictionary.sort((t,i)=>i.path.localeCompare(t.path))}sortByValueWeb(){switch(this.webSortByValueMethod){case"alphaAsc":this.sortByValueWebAsc();break;case"alphaDesc":this.sortByValueWebDesc();break;default:this.localEntityFiltered.valueList[0].fullKnowledge=Qp.cloneDeep(this.gsbService.currentLocalEntity.valueList[0].fullKnowledge)}this.updateLines()}sortByValueWebAsc(){this.weblEntityFiltered.dictionary.sort((t,i)=>t.value.localeCompare(i.value))}sortByValueWebDesc(){this.weblEntityFiltered.dictionary.sort((t,i)=>i.value.localeCompare(t.value))}sortByPathLocal(){switch(this.localSortByPathMethod){case"alphaAsc":this.sortByPathLocalAsc();break;case"alphaDesc":this.sortByPathLocalDesc();break;default:this.localEntityFiltered.valueList[0].fullKnowledge=Qp.cloneDeep(this.gsbService.currentLocalEntity.valueList[0].fullKnowledge)}this.updateLines()}sortByPathLocalAsc(){this.localEntityFiltered.valueList[0].fullKnowledge.sort((t,i)=>{const r=this.utils.formatLocalPath(t.path),o=this.utils.formatLocalPath(i.path);return r.localeCompare(o)})}sortByPathLocalDesc(){this.localEntityFiltered.valueList[0].fullKnowledge.sort((t,i)=>{const r=this.utils.formatLocalPath(t.path);return this.utils.formatLocalPath(i.path).localeCompare(r)})}sortByValueLocal(){switch(this.localSortByValueMethod){case"alphaAsc":this.sortByValueLocalAsc();break;case"alphaDesc":this.sortByValueLocalDesc();break;default:this.localEntityFiltered.valueList[0].fullKnowledge=Qp.cloneDeep(this.gsbService.currentLocalEntity.valueList[0].fullKnowledge)}this.updateLines()}sortByValueLocalAsc(){this.localEntityFiltered.valueList[0].fullKnowledge.sort((t,i)=>i.value.localeCompare(t.value))}sortByValueLocalDesc(){this.localEntityFiltered.valueList[0].fullKnowledge.sort((t,i)=>t.value.localeCompare(i.value))}changeLocalValueSearchValue(t,i){i.stopPropagation(),this.localValueSearchValue=t,this.updateLines()}changeWebValueSearchValue(t,i){this.webValueSearchValue=t,this.updateLines(),i.stopPropagation()}changeLocalPathSearchValue(t,i){this.localPathSearchValue=t,this.updateLines(),i.stopPropagation()}changeWebPathSearchValue(t,i){i.stopPropagation(),this.webPathSearchValue=t,this.updateLines()}searchMethod(t,i){const r=t.toLowerCase(),o=i.toLowerCase();return r.includes(o)||o.includes(r)}init(){this.webEntity=this.gsbService.currentWebEntity,this.localEntity=this.gsbService.currentLocalEntity,this.weblEntityFiltered=Qp.cloneDeep(this.webEntity),this.localEntityFiltered=Qp.cloneDeep(this.localEntity),this.currentLocalDatabase=this.gsbService.localDatabase,this.currentWebDatabase=this.gsbService.webDatabase}markNewPaths(){for(const t of this.localEntity.valueList[0].fullKnowledge)if(!this.gsbService.localKnownPathStore.has(t.path)){const i=document.getElementById(t.hash);this.renderer.addClass(i,"unknown")}for(const t of this.webEntity.dictionary)if(!this.gsbService.webKnownPathStore.has(t.path)){const i=document.getElementById(t.hash);this.renderer.addClass(i,"unknown")}}openMappingTable(){const t=new El;t.autoFocus=!0,t.maxHeight="100vh",t.minHeight="70vh",t.maxWidth="90vw",t.minWidth="70vw",this._dialog.open(yye,t).afterClosed().toPromise().then(()=>{this._currentLeaderLineAlignment.deleteLines(),this._currentLeaderLineAlignment=Wb.build(this.gsbService.currentAlignment,this.renderer),this.clearUsedClass(),this.markUsedElems(),this._currentLeaderLineAlignment.drawLines(),this.updateLines()})}clearUsedClass(){for(const t of this.localEntity.valueList[0].fullKnowledge){const i=document.getElementById(t.hash);this.renderer.removeClass(i,"used")}for(const t of this.webEntity.dictionary){const i=document.getElementById(t.hash);this.renderer.removeClass(i,"used")}}markUsedElems(){for(const t of this.gsbService.currentMappings){for(const i of t.localEntries){const r=document.getElementById(i.hash);this.renderer.addClass(r,"used")}for(const i of t.webEntries){const r=document.getElementById(i.hash);this.renderer.addClass(r,"used")}}}hideLines(){console.log("hide lines"),this._currentLeaderLineAlignment.hideLines()}showLines(){this._currentLeaderLineAlignment.showLines()}selectionChange(t){1===t?oc.delay(1e3).then(()=>{this._currentLeaderLineAlignment.showLines()}):this._currentLeaderLineAlignment.hideLines()}entityChange(t){this.webMappingEntries.clear(),this.localMappingEntries.clear(),this._currentLeaderLineAlignment.deleteLines(),this.gsbService.changeCurrentAlignment(t),this.init(),this.cdr.detectChanges(),oc.delay(1e3).then(()=>{console.log("redraw now"),this._currentLeaderLineAlignment=Wb.build(this.gsbService.currentAlignment,this.renderer),console.log(this._currentLeaderLineAlignment.mappings),this._currentLeaderLineAlignment.drawLines(),this.clearUsedClass(),this.markUsedElems(),this.markNewPaths()}),console.log("change finished")}clearLines(){this._currentLeaderLineAlignment.deleteLines()}}return n.\u0275fac=function(t){return new(t||n)(Te(ll),Te(eu),Te(MI),Te(Hr),Te(eu),Te(nf),Te(Gl))},n.\u0275cmp=Wn({type:n,selectors:[["app-builder"]],decls:116,vars:22,consts:[[1,"builder-container"],[1,"builder-header"],[1,"header-side"],[1,"content-header"],["color","primary",3,"ngModel","ngModelChange"],["appearance","fill",1,"example-form-field","searchbar"],["matInput","","type","text",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","","mat-icon-button",""],["appearance","fill"],[3,"ngModel","selectionChange","ngModelChange"],["value",""],["value","alphaAsc"],["value","alphaDesc"],[1,"filler-div"],["color","primary"],[3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],[1,"controls"],[1,"controls-mapping"],["appearance","fill",1,"center"],[1,"builder-body"],[1,"entries-wrapper"],[4,"ngIf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],[4,"ngFor","ngForOf"],[1,"entry",3,"id","ngClass","click"],[1,"path"],["mat-button","","aria-label","Clear",3,"click"],[3,"innerHtml"],[1,"value"]],template:function(t,i){1&t&&(be(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),He(5),Se(),be(6,"mat-slide-toggle",4),It("ngModelChange",function(o){return i.gsbService.showFullLocalPath=o}),He(7," show full path "),Se()(),be(8,"div",3)(9,"mat-form-field",5)(10,"mat-label"),He(11,"Search Path"),Se(),be(12,"input",6),It("ngModelChange",function(o){return i.localPathSearchValue=o})("ngModelChange",function(){return i.updateLines()}),Se(),Ct(13,Mye,3,0,"button",7),be(14,"button",8)(15,"mat-icon"),He(16,"search"),Se()()(),be(17,"mat-form-field",9)(18,"mat-label"),He(19,"Sort Path"),Se(),be(20,"mat-select",10),It("selectionChange",function(){return i.sortByPathLocal()})("ngModelChange",function(o){return i.localSortByPathMethod=o}),be(21,"mat-option",11),He(22,"No Sort"),Se(),be(23,"mat-option",12),He(24,"Alphabetical (Asc)"),Se(),be(25,"mat-option",13),He(26,"Alphabetical (Desc) "),Se()()()(),be(27,"div",3)(28,"mat-form-field",5)(29,"mat-label"),He(30,"Search Value"),Se(),be(31,"input",6),It("ngModelChange",function(o){return i.localValueSearchValue=o})("ngModelChange",function(){return i.updateLines()}),Se(),Ct(32,Tye,3,0,"button",7),be(33,"button",8)(34,"mat-icon"),He(35,"search"),Se()()(),be(36,"mat-form-field",9)(37,"mat-label"),He(38,"Sort Value"),Se(),be(39,"mat-select",10),It("selectionChange",function(){return i.sortByValueLocal()})("ngModelChange",function(o){return i.localSortByValueMethod=o}),be(40,"mat-option",11),He(41,"No Sort"),Se(),be(42,"mat-option",12),He(43,"Alphabetical (Asc)"),Se(),be(44,"mat-option",13),He(45,"Alphabetical (Desc) "),Se()()()()(),be(46,"div",14)(47,"mat-form-field",15)(48,"mat-label"),He(49,"Entity"),Se(),be(50,"mat-select",16),It("selectionChange",function(o){return i.entityChange(o.value)}),Ct(51,Rye,2,2,"mat-option",17),Se()(),be(52,"button",18),It("click",function(){return i.openMappingTable()}),He(53,"Show Mappings"),Se(),be(54,"div",19)(55,"p"),He(56,"Add new Mapping"),Se(),be(57,"div",20)(58,"button",18),It("click",function(){return i.addMapping(1)}),be(59,"mat-icon"),He(60,"west"),Se()(),be(61,"button",18),It("click",function(){return i.addMapping(2)}),be(62,"mat-icon"),He(63,"sync_alt"),Se()(),be(64,"button",18),It("click",function(){return i.addMapping(0)}),be(65,"mat-icon"),He(66,"east"),Se()()()()(),be(67,"div",2)(68,"div",3)(69,"h2"),He(70),Se()(),be(71,"div",3)(72,"mat-form-field",5)(73,"mat-label"),He(74,"Search Path"),Se(),be(75,"input",6),It("ngModelChange",function(o){return i.webPathSearchValue=o})("ngModelChange",function(){return i.updateLines()}),Se(),Ct(76,Dye,3,0,"button",7),be(77,"button",8)(78,"mat-icon"),He(79,"search"),Se()()(),be(80,"mat-form-field",21)(81,"mat-label"),He(82,"Sort Path"),Se(),be(83,"mat-select",10),It("selectionChange",function(){return i.sortByPathWeb()})("ngModelChange",function(o){return i.webSortByPathMethod=o}),be(84,"mat-option",11),He(85,"No Sort"),Se(),be(86,"mat-option",12),He(87,"Alphabetical (Asc)"),Se(),be(88,"mat-option",13),He(89,"Alphabetical (Desc) "),Se()()()(),be(90,"div",3)(91,"mat-form-field",5)(92,"mat-label"),He(93,"Search Value"),Se(),be(94,"input",6),It("ngModelChange",function(o){return i.webValueSearchValue=o})("ngModelChange",function(){return i.updateLines()}),Se(),Ct(95,kye,3,0,"button",7),be(96,"button",8)(97,"mat-icon"),He(98,"search"),Se()()(),be(99,"mat-form-field",9)(100,"mat-label"),He(101,"Sort Values"),Se(),be(102,"mat-select",10),It("selectionChange",function(){return i.sortByValueWeb()})("ngModelChange",function(o){return i.webSortByValueMethod=o}),be(103,"mat-option",11),He(104,"No Sort"),Se(),be(105,"mat-option",12),He(106,"Alphabetical (Asc)"),Se(),be(107,"mat-option",13),He(108,"Alphabetical (Desc) "),Se()()()()()(),be(109,"div",22)(110,"div",23),Ct(111,Lye,3,0,"div",24),Ct(112,Oye,2,1,"div",24),Se(),be(113,"div",23),Ct(114,Fye,3,0,"div",24),Ct(115,$ye,2,1,"div",24),Se()()()),2&t&&(Be(5),Ar("Local DB: ",i.currentLocalDatabase.label,""),Be(1),Ke("ngModel",i.gsbService.showFullLocalPath),Be(6),Ke("ngModel",i.localPathSearchValue),Be(1),Ke("ngIf",i.localPathSearchValue),Be(7),Ke("ngModel",i.localSortByPathMethod),Be(11),Ke("ngModel",i.localValueSearchValue),Be(1),Ke("ngIf",i.localValueSearchValue),Be(7),Ke("ngModel",i.localSortByValueMethod),Be(11),Ke("value",i.gsbService.currentIndex),Be(1),Ke("ngForOf",i.gsbService.entityAlignments),Be(19),f1("Web DB: ",i.currentWebDatabase.label," (",i.currentWebDatabase.name,")"),Be(5),Ke("ngModel",i.webPathSearchValue),Be(1),Ke("ngIf",i.webPathSearchValue),Be(7),Ke("ngModel",i.webSortByPathMethod),Be(11),Ke("ngModel",i.webValueSearchValue),Be(1),Ke("ngIf",i.webValueSearchValue),Be(7),Ke("ngModel",i.webSortByValueMethod),Be(9),Ke("ngIf",!i.gsbService.finishedLoadingLocalEntity),Be(1),Ke("ngIf",i.localEntity),Be(2),Ke("ngIf",!i.gsbService.finishedLoadingWebEntity),Be(1),Ke("ngIf",i.webEntity))},dependencies:[u_,_a,ks,ku,ul,rc,Pu,nc,Xde,Vv,Hp,ss,tc,HI,qp,Fu,Eye],styles:[".builder-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.builder-container[_ngcontent-%COMP%]   .builder-header[_ngcontent-%COMP%]{display:flex;margin:0 auto;width:100%}.builder-container[_ngcontent-%COMP%]   .builder-header[_ngcontent-%COMP%]   .header-side[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:column;justify-content:space-between;border:2px black solid;border-radius:6px;margin:0 0 .5rem}.builder-container[_ngcontent-%COMP%]   .builder-header[_ngcontent-%COMP%]   .header-side[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-content:baseline;gap:1em;padding:0 .5rem}.builder-container[_ngcontent-%COMP%]   .builder-header[_ngcontent-%COMP%]   .header-side[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .searchbar[_ngcontent-%COMP%]{flex-grow:2}.builder-container[_ngcontent-%COMP%]   .builder-header[_ngcontent-%COMP%]   .filler-div[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-between;align-items:center;margin:0 0 .5rem}.builder-container[_ngcontent-%COMP%]   .builder-header[_ngcontent-%COMP%]   .filler-div[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;padding:0 1rem}.builder-container[_ngcontent-%COMP%]   .builder-header[_ngcontent-%COMP%]   .filler-div[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;border:2px grey solid;border-radius:6px;padding:.5rem}.builder-container[_ngcontent-%COMP%]   .builder-header[_ngcontent-%COMP%]   .filler-div[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .controls-mapping[_ngcontent-%COMP%]{display:flex;gap:.5rem}.builder-container[_ngcontent-%COMP%]   .builder-body[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;margin:0 auto}.builder-container[_ngcontent-%COMP%]   .builder-body[_ngcontent-%COMP%]   .entries-wrapper[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:column;justify-content:space-between;border:2px black solid;border-radius:6px;margin:0 0 .5rem;overflow:auto}.builder-container[_ngcontent-%COMP%]   .builder-body[_ngcontent-%COMP%]   .entries-wrapper[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;align-items:center;border:2px grey solid;border-radius:6px;cursor:pointer;padding:.5rem;margin:.5rem;gap:1em;min-height:40px}.builder-container[_ngcontent-%COMP%]   .builder-body[_ngcontent-%COMP%]   .entries-wrapper[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;min-width:30%;max-width:60%;word-break:break-word}.builder-container[_ngcontent-%COMP%]   .builder-body[_ngcontent-%COMP%]   .entries-wrapper[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;justify-content:flex-end;min-width:30%;max-width:60%;word-break:break-word}.builder-container[_ngcontent-%COMP%]   .builder-body[_ngcontent-%COMP%]   .entries-wrapper[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;font-size:1rem;line-height:0;min-width:2rem;z-index:1}.builder-container[_ngcontent-%COMP%]   .builder-body[_ngcontent-%COMP%]   .entries-wrapper[_ngcontent-%COMP%]   .entry.unknown[_ngcontent-%COMP%]{background-color:#adff2f}.builder-container[_ngcontent-%COMP%]   .builder-body[_ngcontent-%COMP%]   .entries-wrapper[_ngcontent-%COMP%]   .entry.used[_ngcontent-%COMP%]{background:lightgray}.builder-container[_ngcontent-%COMP%]   .builder-body[_ngcontent-%COMP%]   .entries-wrapper[_ngcontent-%COMP%]   .entry.clicked[_ngcontent-%COMP%]{background:rgb(255,215,64)}.builder-container[_ngcontent-%COMP%]   .builder-body[_ngcontent-%COMP%]   .entries-wrapper[_ngcontent-%COMP%]   .entry.hide[_ngcontent-%COMP%]{display:none}.builder-container[_ngcontent-%COMP%]   .builder-body[_ngcontent-%COMP%]   .filler-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}.mat-form-field-wrapper[_ngcontent-%COMP%]{margin-bottom:1rem}h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}"]}),n})();function Bye(n,e){1&n&&Ur(0)}const Hye=["*"];let WG=(()=>{class n{constructor(t){this._elementRef=t}focus(){this._elementRef.nativeElement.focus()}}return n.\u0275fac=function(t){return new(t||n)(Te(ci))},n.\u0275dir=Gt({type:n,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),n})(),UG=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(Te(uo))},n.\u0275dir=Gt({type:n,selectors:[["","cdkStepLabel",""]]}),n})(),Vye=0;const GG=new rn("STEPPER_GLOBAL_OPTIONS");let fL=(()=>{class n{constructor(t,i){this._stepper=t,this.interacted=!1,this.interactedStream=new ni,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=i||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}get editable(){return this._editable}set editable(t){this._editable=Gi(t)}get optional(){return this._optional}set optional(t){this._optional=Gi(t)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(t){this._completedOverride=Gi(t)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(t){this._customError=Gi(t)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){var t;return null!==(t=this._stepperOptions.showError)&&void 0!==t?t:null!=this._customError}}return n.\u0275fac=function(t){return new(t||n)(Te(zi(()=>Ub)),Te(GG,8))},n.\u0275cmp=Wn({type:n,selectors:[["cdk-step"]],contentQueries:function(t,i,r){if(1&t&&kr(r,UG,5),2&t){let o;Ln(o=Pn())&&(i.stepLabel=o.first)}},viewQuery:function(t,i){if(1&t&&Pi(uo,7),2&t){let r;Ln(r=Pn())&&(i.content=r.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[lo],ngContentSelectors:Hye,decls:1,vars:0,template:function(t,i){1&t&&(Ts(),Ct(0,Bye,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),n})(),Ub=(()=>{class n{constructor(t,i,r){this._dir=t,this._changeDetectorRef=i,this._elementRef=r,this._destroyed=new F,this.steps=new vu,this._sortedHeaders=new vu,this._linear=!1,this._selectedIndex=0,this.selectionChange=new ni,this._orientation="horizontal",this._groupId=Vye++}get linear(){return this._linear}set linear(t){this._linear=Gi(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){var i;const r=xl(t);this.steps&&this._steps?(this._isValidIndex(r),null===(i=this.selected)||void 0===i||i._markAsInteracted(),this._selectedIndex!==r&&!this._anyControlsInvalidOrPending(r)&&(r>=this._selectedIndex||this.steps.toArray()[r].editable)&&this._updateSelectedItemIndex(r)):this._selectedIndex=r}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=t&&this.steps?this.steps.toArray().indexOf(t):-1}get orientation(){return this._orientation}set orientation(t){this._orientation=t,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===t)}ngAfterContentInit(){this._steps.changes.pipe(Us(this._steps),br(this._destroyed)).subscribe(t=>{this.steps.reset(t.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(Us(this._stepHeader),br(this._destroyed)).subscribe(t=>{this._sortedHeaders.reset(t.toArray().sort((i,r)=>i._elementRef.nativeElement.compareDocumentPosition(r._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new f2(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:ai()).pipe(Us(this._layoutDirection()),br(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`cdk-step-label-${this._groupId}-${t}`}_getStepContentId(t){return`cdk-step-content-${this._groupId}-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){const i=t-this._selectedIndex;return i<0?"rtl"===this._layoutDirection()?"next":"previous":i>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(t,i="number"){const r=this.steps.toArray()[t],o=this._isCurrentStep(t);return r._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(r,o):this._getGuidelineLogic(r,o,i)}_getDefaultIndicatorLogic(t,i){return t._showError()&&t.hasError&&!i?"error":!t.completed||i?"number":t.editable?"edit":"done"}_getGuidelineLogic(t,i,r="number"){return t._showError()&&t.hasError&&!i?"error":t.completed&&!i?"done":t.completed&&i?r:t.editable&&i?"edit":r}_isCurrentStep(t){return this._selectedIndex===t}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(t){const i=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:i[t],previouslySelectedStep:i[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this._stateChanged()}_onKeydown(t){const i=Jc(t),r=t.keyCode,o=this._keyManager;null==o.activeItemIndex||i||32!==r&&13!==r?o.onKeydown(t):(this.selectedIndex=o.activeItemIndex,t.preventDefault())}_anyControlsInvalidOrPending(t){return!!(this._linear&&t>=0)&&this.steps.toArray().slice(0,t).some(i=>{const r=i.stepControl;return(r?r.invalid||r.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const t=this._elementRef.nativeElement,i=oI();return t===i||t.contains(i)}_isValidIndex(t){return t>-1&&(!this.steps||t<this.steps.length)}}return n.\u0275fac=function(t){return new(t||n)(Te(za,8),Te(Hr),Te(ci))},n.\u0275dir=Gt({type:n,selectors:[["","cdkStepper",""]],contentQueries:function(t,i,r){if(1&t&&(kr(r,fL,5),kr(r,WG,5)),2&t){let o;Ln(o=Pn())&&(i._steps=o),Ln(o=Pn())&&(i._stepHeader=o)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),n})(),Wye=(()=>{class n{constructor(t){this._stepper=t,this.type="submit"}}return n.\u0275fac=function(t){return new(t||n)(Te(Ub))},n.\u0275dir=Gt({type:n,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(t,i){1&t&&It("click",function(){return i._stepper.next()}),2&t&&Nc("type",i.type)},inputs:{type:"type"}}),n})(),Uye=(()=>{class n{constructor(t){this._stepper=t,this.type="button"}}return n.\u0275fac=function(t){return new(t||n)(Te(Ub))},n.\u0275dir=Gt({type:n,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(t,i){1&t&&It("click",function(){return i._stepper.previous()}),2&t&&Nc("type",i.type)},inputs:{type:"type"}}),n})(),Gye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[Ev]}),n})();function zye(n,e){if(1&n&&ya(0,8),2&n){const t=kt();Ke("ngTemplateOutlet",t.iconOverrides[t.state])("ngTemplateOutletContext",t._getIconContext())}}function jye(n,e){if(1&n&&(be(0,"span",13),He(1),Se()),2&n){const t=kt(2);Be(1),Jr(t._getDefaultTextForState(t.state))}}function Zye(n,e){if(1&n&&(be(0,"span",14),He(1),Se()),2&n){const t=kt(2);Be(1),Jr(t._intl.completedLabel)}}function Kye(n,e){if(1&n&&(be(0,"span",14),He(1),Se()),2&n){const t=kt(2);Be(1),Jr(t._intl.editableLabel)}}function Xye(n,e){if(1&n&&(be(0,"mat-icon",13),He(1),Se()),2&n){const t=kt(2);Be(1),Jr(t._getDefaultTextForState(t.state))}}function Yye(n,e){if(1&n&&(Rr(0,9),Ct(1,jye,2,1,"span",10),Ct(2,Zye,2,1,"span",11),Ct(3,Kye,2,1,"span",11),Ct(4,Xye,2,1,"mat-icon",12),Dr()),2&n){const t=kt();Ke("ngSwitch",t.state),Be(1),Ke("ngSwitchCase","number"),Be(1),Ke("ngIf","done"===t.state),Be(1),Ke("ngIf","edit"===t.state)}}function Jye(n,e){if(1&n&&(be(0,"div",15),ya(1,16),Se()),2&n){const t=kt();Be(1),Ke("ngTemplateOutlet",t._templateLabel().template)}}function qye(n,e){if(1&n&&(be(0,"div",15),He(1),Se()),2&n){const t=kt();Be(1),Jr(t.label)}}function Qye(n,e){if(1&n&&(be(0,"div",17),He(1),Se()),2&n){const t=kt();Be(1),Jr(t._intl.optionalLabel)}}function e0e(n,e){if(1&n&&(be(0,"div",18),He(1),Se()),2&n){const t=kt();Be(1),Jr(t.errorMessage)}}function t0e(n,e){}function n0e(n,e){if(1&n&&(Ur(0),Ct(1,t0e,0,0,"ng-template",0)),2&n){const t=kt();Be(1),Ke("cdkPortalOutlet",t._portal)}}const i0e=["*"];function r0e(n,e){1&n&&kn(0,"div",11)}const zG=function(n,e){return{step:n,i:e}};function o0e(n,e){if(1&n&&(Rr(0),ya(1,9),Ct(2,r0e,1,0,"div",10),Dr()),2&n){const t=e.$implicit,i=e.index,r=e.last;kt(2);const o=bl(4);Be(1),Ke("ngTemplateOutlet",o)("ngTemplateOutletContext",Dd(3,zG,t,i)),Be(1),Ke("ngIf",!r)}}const jG=function(n){return{animationDuration:n}},ZG=function(n,e){return{value:n,params:e}};function s0e(n,e){if(1&n){const t=wr();be(0,"div",12),It("@horizontalStepTransition.done",function(r){return Tn(t),Rn(kt(2)._animationDone.next(r))}),ya(1,13),Se()}if(2&n){const t=e.$implicit,i=e.index,r=kt(2);Li("mat-horizontal-stepper-content-inactive",r.selectedIndex!==i),Ke("@horizontalStepTransition",Dd(8,ZG,r._getAnimationDirection(i),Jf(6,jG,r._getAnimationDuration())))("id",r._getStepContentId(i)),Zi("aria-labelledby",r._getStepLabelId(i)),Be(1),Ke("ngTemplateOutlet",t.content)}}function a0e(n,e){if(1&n&&(be(0,"div",4)(1,"div",5),Ct(2,o0e,3,6,"ng-container",6),Se(),be(3,"div",7),Ct(4,s0e,2,11,"div",8),Se()()),2&n){const t=kt();Be(2),Ke("ngForOf",t.steps),Be(2),Ke("ngForOf",t.steps)}}function l0e(n,e){if(1&n){const t=wr();be(0,"div",15),ya(1,9),be(2,"div",16)(3,"div",17),It("@verticalStepTransition.done",function(r){return Tn(t),Rn(kt(2)._animationDone.next(r))}),be(4,"div",18),ya(5,13),Se()()()()}if(2&n){const t=e.$implicit,i=e.index,r=e.last,o=kt(2),s=bl(4);Be(1),Ke("ngTemplateOutlet",s)("ngTemplateOutletContext",Dd(10,zG,t,i)),Be(1),Li("mat-stepper-vertical-line",!r),Be(1),Li("mat-vertical-stepper-content-inactive",o.selectedIndex!==i),Ke("@verticalStepTransition",Dd(15,ZG,o._getAnimationDirection(i),Jf(13,jG,o._getAnimationDuration())))("id",o._getStepContentId(i)),Zi("aria-labelledby",o._getStepLabelId(i)),Be(2),Ke("ngTemplateOutlet",t.content)}}function c0e(n,e){if(1&n&&(Rr(0),Ct(1,l0e,6,18,"div",14),Dr()),2&n){const t=kt();Be(1),Ke("ngForOf",t.steps)}}function u0e(n,e){if(1&n){const t=wr();be(0,"mat-step-header",19),It("click",function(){return Rn(Tn(t).step.select())})("keydown",function(r){return Tn(t),Rn(kt()._onKeydown(r))}),Se()}if(2&n){const t=e.step,i=e.i,r=kt();Li("mat-horizontal-stepper-header","horizontal"===r.orientation)("mat-vertical-stepper-header","vertical"===r.orientation),Ke("tabIndex",r._getFocusIndex()===i?0:-1)("id",r._getStepLabelId(i))("index",i)("state",r._getIndicatorType(i,t.state))("label",t.stepLabel||t.label)("selected",r.selectedIndex===i)("active",r._stepIsNavigable(i,t))("optional",t.optional)("errorMessage",t.errorMessage)("iconOverrides",r._iconOverrides)("disableRipple",r.disableRipple||!r._stepIsNavigable(i,t))("color",t.color||r.color),Zi("aria-posinset",i+1)("aria-setsize",r.steps.length)("aria-controls",r._getStepContentId(i))("aria-selected",r.selectedIndex==i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null)("aria-disabled",!r._stepIsNavigable(i,t)||null)}}let sx=(()=>{class n extends UG{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275dir=Gt({type:n,selectors:[["","matStepLabel",""]],features:[Cn]}),n})(),ax=(()=>{class n{constructor(){this.changes=new F,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const d0e={provide:ax,deps:[[new $l,new ih,ax]],useFactory:function h0e(n){return n||new ax}},f0e=Xd(class extends WG{constructor(e){super(e)}},"primary");let KG=(()=>{class n extends f0e{constructor(t,i,r,o){super(r),this._intl=t,this._focusMonitor=i,this._intlSubscription=t.changes.subscribe(()=>o.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._elementRef,t,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof sx?null:this.label}_templateLabel(){return this.label instanceof sx?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(t){return"number"==t?`${this.index+1}`:"edit"==t?"create":"error"==t?"warning":t}}return n.\u0275fac=function(t){return new(t||n)(Te(ax),Te(Ql),Te(ci),Te(Hr))},n.\u0275cmp=Wn({type:n,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[Cn],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["aria-hidden","true",4,"ngSwitchCase"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true",4,"ngSwitchDefault"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(t,i){1&t&&(kn(0,"div",0),be(1,"div")(2,"div",1),Ct(3,zye,1,2,"ng-container",2),Ct(4,Yye,5,4,"ng-container",3),Se()(),be(5,"div",4),Ct(6,Jye,2,1,"div",5),Ct(7,qye,2,1,"div",5),Ct(8,Qye,2,1,"div",6),Ct(9,e0e,2,1,"div",7),Se()),2&t&&(Ke("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disableRipple),Be(1),dT("mat-step-icon-state-",i.state," mat-step-icon"),Li("mat-step-icon-selected",i.selected),Be(1),Ke("ngSwitch",!(!i.iconOverrides||!i.iconOverrides[i.state])),Be(1),Ke("ngSwitchCase",!0),Be(2),Li("mat-step-label-active",i.active)("mat-step-label-selected",i.selected)("mat-step-label-error","error"==i.state),Be(1),Ke("ngIf",i._templateLabel()),Be(1),Ke("ngIf",i._stringLabel()),Be(1),Ke("ngIf",i.optional&&"error"!=i.state),Be(1),Ke("ngIf","error"==i.state))},dependencies:[ks,oR,kd,_m,rR,rc,qc],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0}),n})();const JG={horizontalStepTransition:Qc("horizontalStepTransition",[Ho("previous",$r({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),Ho("current",$r({transform:"none",visibility:"inherit"})),Ho("next",$r({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),ra("* => *",Ia("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),{params:{animationDuration:"500ms"}})]),verticalStepTransition:Qc("verticalStepTransition",[Ho("previous",$r({height:"0px",visibility:"hidden"})),Ho("next",$r({height:"0px",visibility:"hidden"})),Ho("current",$r({height:"*",visibility:"inherit"})),ra("* <=> current",Ia("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),{params:{animationDuration:"225ms"}})])};let p0e=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(Te(uo))},n.\u0275dir=Gt({type:n,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),n})(),g0e=(()=>{class n{constructor(t){this._template=t}}return n.\u0275fac=function(t){return new(t||n)(Te(uo))},n.\u0275dir=Gt({type:n,selectors:[["ng-template","matStepContent",""]]}),n})(),qG=(()=>{class n extends fL{constructor(t,i,r,o){super(t,o),this._errorStateMatcher=i,this._viewContainerRef=r,this._isSelected=ee.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(ba(()=>this._stepper.selectionChange.pipe(he(t=>t.selectedStep===this),Us(this._stepper.selected===this)))).subscribe(t=>{t&&this._lazyContent&&!this._portal&&(this._portal=new Gp(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(t,i){return this._errorStateMatcher.isErrorState(t,i)||!!(t&&t.invalid&&this.interacted)}}return n.\u0275fac=function(t){return new(t||n)(Te(zi(()=>QG)),Te(Ov,4),Te(Fo),Te(GG,8))},n.\u0275cmp=Wn({type:n,selectors:[["mat-step"]],contentQueries:function(t,i,r){if(1&t&&(kr(r,sx,5),kr(r,g0e,5)),2&t){let o;Ln(o=Pn())&&(i.stepLabel=o.first),Ln(o=Pn())&&(i._lazyContent=o.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[yi([{provide:Ov,useExisting:n},{provide:fL,useExisting:n}]),Cn],ngContentSelectors:i0e,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(Ts(),Ct(0,n0e,2,1,"ng-template"))},dependencies:[Ou],encapsulation:2,changeDetection:0}),n})(),QG=(()=>{class n extends Ub{constructor(t,i,r){super(t,i,r),this.steps=new vu,this.animationDone=new ni,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new F,this._animationDuration="";const o=r.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===o?"vertical":"horizontal"}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:t,templateRef:i})=>this._iconOverrides[t]=i),this.steps.changes.pipe(br(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(mb((t,i)=>t.fromState===i.fromState&&t.toState===i.toState),br(this._destroyed)).subscribe(t=>{"current"===t.toState&&this.animationDone.emit()})}_stepIsNavigable(t,i){return i.completed||this.selectedIndex===t||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:"horizontal"===this.orientation?"500ms":"225ms"}}return n.\u0275fac=function(t){return new(t||n)(Te(za,8),Te(Hr),Te(ci))},n.\u0275cmp=Wn({type:n,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(t,i,r){if(1&t&&(kr(r,qG,5),kr(r,p0e,5)),2&t){let o;Ln(o=Pn())&&(i._steps=o),Ln(o=Pn())&&(i._icons=o)}},viewQuery:function(t,i){if(1&t&&Pi(KG,5),2&t){let r;Ln(r=Pn())&&(i._stepHeader=r)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(t,i){2&t&&(Zi("aria-orientation",i.orientation),Li("mat-stepper-horizontal","horizontal"===i.orientation)("mat-stepper-vertical","vertical"===i.orientation)("mat-stepper-label-position-end","horizontal"===i.orientation&&"end"==i.labelPosition)("mat-stepper-label-position-bottom","horizontal"===i.orientation&&"bottom"==i.labelPosition)("mat-stepper-header-position-bottom","bottom"===i.headerPosition))},inputs:{selectedIndex:"selectedIndex",disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[yi([{provide:Ub,useExisting:n}]),Cn],decls:5,vars:3,consts:[[3,"ngSwitch"],["class","mat-horizontal-stepper-wrapper",4,"ngSwitchCase"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id","mat-horizontal-stepper-content-inactive",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(t,i){1&t&&(Rr(0,0),Ct(1,a0e,5,2,"div",1),Ct(2,c0e,2,1,"ng-container",2),Dr(),Ct(3,u0e,1,23,"ng-template",null,3,MT)),2&t&&(Ke("ngSwitch",i.orientation),Be(1),Ke("ngSwitchCase","horizontal"),Be(1),Ke("ngSwitchCase","vertical"))},dependencies:[_a,ks,oR,kd,_m,KG],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[JG.horizontalStepTransition,JG.verticalStepTransition]},changeDetection:0}),n})(),m0e=(()=>{class n extends Wye{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275dir=Gt({type:n,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(t,i){2&t&&Nc("type",i.type)},inputs:{type:"type"},features:[Cn]}),n})(),v0e=(()=>{class n extends Uye{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ki(n)))(i||n)}}(),n.\u0275dir=Gt({type:n,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(t,i){2&t&&Nc("type",i.type)},inputs:{type:"type"},features:[Cn]}),n})(),y0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({providers:[d0e,Ov],imports:[qi,Vc,Qd,b2,Gye,hG,Bp,qi]}),n})(),_0e=(()=>{class n{constructor(){this.jsonData="",this.jsonChangeEvent=new ni}ngOnInit(){this.editorOptionsConfig=new tf,this.editorOptionsConfig.mode="tree",this.editorOptionsConfig.modes=["code","tree"],this.editorOptionsConfig.enableTransform=!1,this.editorOptionsConfig.onCreateMenu=(t,i)=>t.filter(r=>"Remove"===r.text)}saveChanges(t){this.jsonData=t,this.jsonChangeEvent.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Wn({type:n,selectors:[["app-json-viewer"]],inputs:{jsonData:"jsonData"},outputs:{jsonChangeEvent:"jsonChangeEvent"},decls:1,vars:2,consts:[[3,"options","data","change"]],template:function(t,i){1&t&&(be(0,"json-editor",0),It("change",function(o){return i.saveChanges(o)}),Se()),2&t&&Ke("options",i.editorOptionsConfig)("data",i.jsonData)},dependencies:[Lb]}),n})();function b0e(n,e){if(1&n&&(be(0,"div",9),kn(1,"p",10),Se()),2&n){const t=e.$implicit,i=kt();Be(1),Ke("innerHtml",i.gsbService.showFullLocalPath?t:i.utils.formatLocalPath(t),ha)}}function C0e(n,e){1&n&&(be(0,"mat-icon"),He(1,"east"),Se())}function w0e(n,e){1&n&&(be(0,"mat-icon"),He(1,"west"),Se())}function A0e(n,e){1&n&&(be(0,"mat-icon"),He(1,"sync_alt"),Se())}function S0e(n,e){if(1&n&&(be(0,"div",9)(1,"p"),He(2),Se()()),2&n){const t=e.$implicit;Be(2),Jr(t)}}function I0e(n,e){if(1&n&&(be(0,"div",9),kn(1,"p",10),Se()),2&n){const t=e.$implicit;Be(1),Ke("innerHtml",t.value,ha)}}function x0e(n,e){1&n&&(be(0,"mat-icon"),He(1,"east"),Se())}function E0e(n,e){1&n&&(be(0,"mat-icon"),He(1,"west"),Se())}function M0e(n,e){1&n&&(be(0,"mat-icon"),He(1,"sync_alt"),Se())}function T0e(n,e){if(1&n&&(be(0,"div",9)(1,"p"),He(2),Se()()),2&n){const t=e.$implicit;Be(2),Jr(t.value)}}function R0e(n,e){if(1&n&&(be(0,"div",1)(1,"div",2)(2,"div",3),Ct(3,I0e,2,1,"div",4),Se(),be(4,"div",5)(5,"div",6),Ct(6,x0e,2,0,"mat-icon",7),Ct(7,E0e,2,0,"mat-icon",7),Ct(8,M0e,2,0,"mat-icon",7),Se()(),be(9,"div",3),Ct(10,T0e,3,1,"div",4),Se()()()),2&n){const t=e.$implicit;Be(3),Ke("ngForOf",t.localEntries),Be(3),Ke("ngIf",0===t.type),Be(1),Ke("ngIf",1===t.type),Be(1),Ke("ngIf",2===t.type),Be(2),Ke("ngForOf",t.webEntries)}}let D0e=(()=>{class n{constructor(t,i){this.data=t,this.gsbService=i,this.utils=new oc}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(Te(Gv),Te(nf))},n.\u0275cmp=Wn({type:n,selectors:[["app-mapping-view"]],decls:18,vars:6,consts:[[1,"suggestions-wrapper"],[1,"mapping-wrapper"],[1,"mapping"],[1,"relation-container"],["class","entry",4,"ngFor","ngForOf"],[1,"divider"],[1,"relationType"],[4,"ngIf"],["class","mapping-wrapper",4,"ngFor","ngForOf"],[1,"entry"],[3,"innerHtml"]],template:function(t,i){1&t&&(be(0,"div",0)(1,"h1"),He(2,"Template"),Se(),be(3,"div",1)(4,"div",2)(5,"div",3),Ct(6,b0e,2,1,"div",4),Se(),be(7,"div",5)(8,"div",6),Ct(9,C0e,2,0,"mat-icon",7),Ct(10,w0e,2,0,"mat-icon",7),Ct(11,A0e,2,0,"mat-icon",7),Se()(),be(12,"div",3),Ct(13,S0e,3,1,"div",4),Se()()(),kn(14,"br"),be(15,"h1"),He(16,"Values"),Se(),Ct(17,R0e,11,5,"div",8),Se()),2&t&&(Be(6),Ke("ngForOf",i.data.template.localEntries),Be(3),Ke("ngIf",0===i.data.template.type),Be(1),Ke("ngIf",1===i.data.template.type),Be(1),Ke("ngIf",2===i.data.template.type),Be(2),Ke("ngForOf",i.data.template.webEntries),Be(4),Ke("ngForOf",i.data.mappings))},dependencies:[_a,ks,rc],styles:[".suggestions-wrapper[_ngcontent-%COMP%]{padding:1rem}.mapping[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;width:100%;display:flex;border:2px black solid}.mapping[_ngcontent-%COMP%]   .relation-container[_ngcontent-%COMP%]{width:45%;display:flex;flex-direction:column;justify-content:space-around;align-items:center}.mapping[_ngcontent-%COMP%]   .relation-container[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]{width:100%;border-top:1px solid gray;padding:.75rem}.mapping[_ngcontent-%COMP%]   .relation-container[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]:first-child{border-top:none}.mapping[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-around;align-items:center;border-left:2px black solid;border-right:2px black solid}.mapping[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-around;align-items:center;border-right:2px black solid}p[_ngcontent-%COMP%]{margin:0}"]}),n})();function k0e(n,e){if(1&n&&(be(0,"div",12),kn(1,"p",7),Se()),2&n){const t=e.$implicit,i=kt();Be(1),Ke("innerHtml",i.gsbService.showFullLocalPath?t:i.utils.formatLocalPath(t),ha)}}function L0e(n,e){1&n&&(be(0,"mat-icon"),He(1,"east"),Se())}function P0e(n,e){1&n&&(be(0,"mat-icon"),He(1,"west"),Se())}function O0e(n,e){1&n&&(be(0,"mat-icon"),He(1,"sync_alt"),Se())}function F0e(n,e){if(1&n){const t=wr();Rr(0),be(1,"button",13),It("click",function(){Tn(t);const r=kt();return Rn(r.openMappingTable(r.suggestionMapping.suggestions[0]))}),be(2,"mat-icon"),He(3,"preview"),Se()(),Dr()}}function N0e(n,e){if(1&n&&(be(0,"div",12)(1,"p"),He(2),Se()()),2&n){const t=e.$implicit;Be(2),Jr(t)}}function $0e(n,e){if(1&n&&(be(0,"div",12),kn(1,"p",7),Se()),2&n){const t=e.$implicit,i=kt(3);Be(1),Ke("innerHtml",i.gsbService.showFullLocalPath?t:i.utils.formatLocalPath(t),ha)}}function B0e(n,e){1&n&&(be(0,"mat-icon"),He(1,"east"),Se())}function H0e(n,e){1&n&&(be(0,"mat-icon"),He(1,"west"),Se())}function V0e(n,e){1&n&&(be(0,"mat-icon"),He(1,"sync_alt"),Se())}function W0e(n,e){if(1&n&&(be(0,"div",12)(1,"p"),He(2),Se()()),2&n){const t=e.$implicit;Be(2),Jr(t)}}function U0e(n,e){if(1&n){const t=wr();be(0,"div",15)(1,"div",1)(2,"div",2)(3,"mat-checkbox",3),It("ngModelChange",function(r){return Rn(Tn(t).$implicit.selected=r)}),Se()(),be(4,"div",4),Ct(5,$0e,2,1,"div",5),Se(),be(6,"div",6)(7,"div"),kn(8,"span",7),Se(),be(9,"div",8),Ct(10,B0e,2,0,"mat-icon",9),Ct(11,H0e,2,0,"mat-icon",9),Ct(12,V0e,2,0,"mat-icon",9),Se(),be(13,"div",10)(14,"button",13),It("click",function(){const o=Tn(t).$implicit;return Rn(kt(2).openMappingTable(o))}),be(15,"mat-icon"),He(16,"preview"),Se()()()(),be(17,"div",4),Ct(18,W0e,3,1,"div",5),Se(),kn(19,"div",11),Se()()}if(2&n){const t=e.$implicit;Be(3),Ke("ngModel",t.selected),Be(2),Ke("ngForOf",t.template.localEntries),Be(3),Ke("innerHtml",t.counter,ha),Be(2),Ke("ngIf",0===t.template.type),Be(1),Ke("ngIf",1===t.template.type),Be(1),Ke("ngIf",2===t.template.type),Be(6),Ke("ngForOf",t.template.webEntries)}}function G0e(n,e){if(1&n&&(Rr(0),be(1,"h1"),He(2,"Individual Mappings"),Se(),Ct(3,U0e,20,7,"div",14),Dr()),2&n){const t=kt();Be(3),Ke("ngForOf",t.suggestionMapping.suggestions)}}let z0e=(()=>{class n{constructor(t,i,r){this.gsbService=t,this.cdr=i,this._dialog=r,this.utils=new oc,this.useGeneral=!0,this.useIndividual=!1}ngOnInit(){}toggleUseGeneral(){this.useGeneral=!this.useGeneral,this.useIndividual=!this.useGeneral}toggleUseIndividual(){this.useIndividual=!this.useIndividual,this.useGeneral=!this.useGeneral}openMappingTable(t){const i=new El;i.data=t,i.autoFocus=!0,i.maxHeight="100vh",i.minHeight="70vh",i.maxWidth="90vw",i.minWidth="70vw",this._dialog.open(D0e,i).afterClosed().toPromise().then(()=>{this.cdr.detectChanges()})}}return n.\u0275fac=function(t){return new(t||n)(Te(nf),Te(Hr),Te(eu))},n.\u0275cmp=Wn({type:n,selectors:[["app-mapping-suggestion"]],inputs:{suggestionMapping:"suggestionMapping"},decls:21,vars:9,consts:[[1,"suggestions-wrapper"],[1,"mapping"],[1,"select"],["color","primary",3,"ngModel","ngModelChange"],[1,"relation-container"],["class","entry",4,"ngFor","ngForOf"],[1,"divider"],[3,"innerHtml"],[1,"relationType"],[4,"ngIf"],[1,"action"],[1,"flex-grow-1"],[1,"entry"],["mat-icon-button","","aria-label","Clear",3,"click"],["class","mapping-wrapper",4,"ngFor","ngForOf"],[1,"mapping-wrapper"]],template:function(t,i){1&t&&(be(0,"div",0)(1,"h1"),He(2,"General Mapping"),Se(),be(3,"div",1)(4,"div",2)(5,"mat-checkbox",3),It("ngModelChange",function(o){return i.suggestionMapping.general.selected=o}),Se()(),be(6,"div",4),Ct(7,k0e,2,1,"div",5),Se(),be(8,"div",6),kn(9,"div",7),be(10,"div",8),Ct(11,L0e,2,0,"mat-icon",9),Ct(12,P0e,2,0,"mat-icon",9),Ct(13,O0e,2,0,"mat-icon",9),Se(),be(14,"div",10),Ct(15,F0e,4,0,"ng-container",9),Se()(),be(16,"div",4),Ct(17,N0e,3,1,"div",5),Se(),kn(18,"div",11),Se(),kn(19,"br"),Ct(20,G0e,4,1,"ng-container",9),Se()),2&t&&(Be(5),Ke("ngModel",i.suggestionMapping.general.selected),Be(2),Ke("ngForOf",i.suggestionMapping.general.localEntries),Be(2),Ke("innerHtml",i.suggestionMapping.general.counter,ha),Be(2),Ke("ngIf",0===i.suggestionMapping.general.type),Be(1),Ke("ngIf",1===i.suggestionMapping.general.type),Be(1),Ke("ngIf",2===i.suggestionMapping.general.type),Be(2),Ke("ngIf",1==i.suggestionMapping.suggestions.length),Be(2),Ke("ngForOf",i.suggestionMapping.general.webEntries),Be(3),Ke("ngIf",i.suggestionMapping.suggestions.length>=1))},dependencies:[_a,ks,ul,rc,ss,tc,V2],styles:[".suggestions-wrapper[_ngcontent-%COMP%]{padding:1rem}.mapping[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;width:100%;display:flex;border:2px black solid}.mapping[_ngcontent-%COMP%]   .relation-container[_ngcontent-%COMP%]{width:45%;display:flex;flex-direction:column;justify-content:space-around;align-items:center}.mapping[_ngcontent-%COMP%]   .relation-container[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]{width:100%;border-top:1px solid gray;padding:.75rem}.mapping[_ngcontent-%COMP%]   .relation-container[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]:first-child{border-top:none}.mapping[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-around;align-items:center;border-left:2px black solid;border-right:2px black solid}.mapping[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-around;align-items:center;border-right:2px black solid}p[_ngcontent-%COMP%]{margin:0}"]}),n})(),j0e=(()=>{class n{constructor(t,i){this.data=t,this.gsbService=i}ngOnInit(){}deleteSuggestion(){this.gsbService.suggestionContainer.suggestions.splice(this.data.index,1)}}return n.\u0275fac=function(t){return new(t||n)(Te(Gv),Te(nf))},n.\u0275cmp=Wn({type:n,selectors:[["app-mapping-editor"]],decls:6,vars:1,consts:[[3,"suggestionMapping"],["mat-raised-button","",3,"mat-dialog-close"],["mat-raised-button","","color","warn",3,"mat-dialog-close","click"]],template:function(t,i){1&t&&(kn(0,"app-mapping-suggestion",0),be(1,"mat-dialog-actions")(2,"button",1),He(3,"Close"),Se(),be(4,"button",2),It("click",function(){return i.deleteSuggestion()}),He(5,"Delete"),Se()()),2&t&&Ke("suggestionMapping",i.data.entry)},dependencies:[ss,Yp,Jp,z0e]}),n})();function Z0e(n,e){if(1&n&&(be(0,"div",14),kn(1,"p",15),Se()),2&n){const t=e.$implicit,i=kt(4);Be(1),Ke("innerHtml",i.gsbService.showFullLocalPath?t:i.utils.formatLocalPath(t),ha)}}function K0e(n,e){1&n&&(be(0,"mat-icon"),He(1,"east"),Se())}function X0e(n,e){1&n&&(be(0,"mat-icon"),He(1,"west"),Se())}function Y0e(n,e){1&n&&(be(0,"mat-icon"),He(1,"sync_alt"),Se())}function J0e(n,e){if(1&n&&(be(0,"div",14)(1,"p"),He(2),Se()()),2&n){const t=e.$implicit;Be(2),Jr(t)}}function q0e(n,e){if(1&n){const t=wr();be(0,"div",6)(1,"div",7),Ct(2,Z0e,2,1,"div",8),Se(),be(3,"div",9)(4,"div",10),Ct(5,K0e,2,0,"mat-icon",11),Ct(6,X0e,2,0,"mat-icon",11),Ct(7,Y0e,2,0,"mat-icon",11),Se()(),be(8,"div",7),Ct(9,J0e,3,1,"div",8),Se(),be(10,"div",12)(11,"button",13),It("click",function(){Tn(t);const r=kt(),o=r.$implicit,s=r.index;return Rn(kt(2).openMappingEditor(o,s))}),be(12,"mat-icon"),He(13,"edit"),Se()()()()}if(2&n){const t=kt().$implicit;Be(2),Ke("ngForOf",t.general.localEntries),Be(3),Ke("ngIf",0===t.general.type),Be(1),Ke("ngIf",1===t.general.type),Be(1),Ke("ngIf",2===t.general.type),Be(2),Ke("ngForOf",t.general.webEntries)}}function Q0e(n,e){if(1&n&&(be(0,"div",14),kn(1,"p",15),Se()),2&n){const t=e.$implicit,i=kt(5);Be(1),Ke("innerHtml",i.gsbService.showFullLocalPath?t:i.utils.formatLocalPath(t),ha)}}function e_e(n,e){1&n&&(be(0,"mat-icon"),He(1,"east"),Se())}function t_e(n,e){1&n&&(be(0,"mat-icon"),He(1,"west"),Se())}function n_e(n,e){1&n&&(be(0,"mat-icon"),He(1,"sync_alt"),Se())}function i_e(n,e){if(1&n&&(be(0,"div",14)(1,"p"),He(2),Se()()),2&n){const t=e.$implicit;Be(2),Jr(t)}}function r_e(n,e){if(1&n){const t=wr();be(0,"div",6)(1,"div",7),Ct(2,Q0e,2,1,"div",8),Se(),be(3,"div",9)(4,"div",10),Ct(5,e_e,2,0,"mat-icon",11),Ct(6,t_e,2,0,"mat-icon",11),Ct(7,n_e,2,0,"mat-icon",11),Se()(),be(8,"div",7),Ct(9,i_e,3,1,"div",8),Se(),be(10,"div",12)(11,"button",13),It("click",function(){Tn(t);const r=kt(2),o=r.$implicit,s=r.index;return Rn(kt(2).openMappingEditor(o,s))}),be(12,"mat-icon"),He(13,"edit"),Se()()()()}if(2&n){const t=kt().$implicit;Be(2),Ke("ngForOf",t.template.localEntries),Be(3),Ke("ngIf",0===t.template.type),Be(1),Ke("ngIf",1===t.template.type),Be(1),Ke("ngIf",2===t.template.type),Be(2),Ke("ngForOf",t.template.webEntries)}}function o_e(n,e){if(1&n&&(Rr(0),Ct(1,r_e,14,5,"div",5),Dr()),2&n){const t=e.$implicit;Be(1),Ke("ngIf",t.selected)}}function s_e(n,e){if(1&n&&(Rr(0),Ct(1,q0e,14,5,"div",5),Ct(2,o_e,2,1,"ng-container",4),Dr()),2&n){const t=e.$implicit;Be(1),Ke("ngIf",t.general.selected),Be(1),Ke("ngForOf",t.suggestions)}}function a_e(n,e){if(1&n&&(be(0,"div",3),Ct(1,s_e,3,2,"ng-container",4),Se()),2&n){const t=kt();Be(1),Ke("ngForOf",t.gsbService.suggestionContainer.suggestions)}}let l_e=(()=>{class n{constructor(t,i,r,o){this.gsbService=t,this.cdr=i,this._dialog=r,this._snackBar=o,this.utils=new oc}ngOnInit(){}openMappingEditor(t,i){const r=new El;r.data={entry:t,index:i},r.autoFocus=!0,r.maxHeight="100vh",r.minHeight="70vh",r.maxWidth="90vw",r.minWidth="70vw",this._dialog.open(j0e,r)}saveFinalAlignment(){this.gsbService.generateFinalAlignment(),this.gsbService.saveFinalAlignment().then(t=>{this._snackBar.open("Saved!!!","Close")},t=>{this._snackBar.open("Failed to save!!!","Close")})}}return n.\u0275fac=function(t){return new(t||n)(Te(nf),Te(Hr),Te(eu),Te(tu))},n.\u0275cmp=Wn({type:n,selectors:[["app-final-alignmnet"]],inputs:{finalAlignment:"finalAlignment"},decls:8,vars:1,consts:[["class","mapping-wrapper",4,"ngIf"],[1,"stepper"],["mat-raised-button","","color","primary",3,"click"],[1,"mapping-wrapper"],[4,"ngFor","ngForOf"],["class","mapping",4,"ngIf"],[1,"mapping"],[1,"relation-container"],["class","entry",4,"ngFor","ngForOf"],[1,"divider"],[1,"relationType"],[4,"ngIf"],[1,"edit"],["mat-button","","aria-label","edit",3,"click"],[1,"entry"],[3,"innerHtml"]],template:function(t,i){1&t&&(be(0,"h1"),He(1,"Final Alignment"),Se(),Ct(2,a_e,2,1,"div",0),be(3,"div",1),kn(4,"div"),be(5,"button",2),It("click",function(){return i.saveFinalAlignment()}),He(6,"Save"),Se(),kn(7,"div"),Se()),2&t&&(Be(2),Ke("ngIf",i.gsbService.suggestionContainer))},dependencies:[_a,ks,rc,ss],styles:[".mapping-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mapping-wrapper[_ngcontent-%COMP%]   .mapping[_ngcontent-%COMP%]{display:flex;border:2px black solid;margin:.5rem}.mapping-wrapper[_ngcontent-%COMP%]   .mapping[_ngcontent-%COMP%]   .relation-container[_ngcontent-%COMP%]{width:45%;display:flex;flex-direction:column;justify-content:space-around;align-items:center}.mapping-wrapper[_ngcontent-%COMP%]   .mapping[_ngcontent-%COMP%]   .relation-container[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]{width:100%;border-top:1px solid gray;padding:.75rem}.mapping-wrapper[_ngcontent-%COMP%]   .mapping[_ngcontent-%COMP%]   .relation-container[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]:first-child{border-top:none}.mapping-wrapper[_ngcontent-%COMP%]   .mapping[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-around;align-items:center;border-left:2px black solid;border-right:2px black solid}.mapping-wrapper[_ngcontent-%COMP%]   .mapping[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-around;align-items:center;border-left:2px black solid}.stepper[_ngcontent-%COMP%]{display:flex;justify-content:ce;align-items:center}p[_ngcontent-%COMP%]{margin:0}"]}),n})();const c_e=["stepper"],u_e=["builder"];function h_e(n,e){1&n&&He(0,"Select Databases")}function d_e(n,e){if(1&n&&(be(0,"mat-option",19),He(1),Se()),2&n){const t=e.$implicit;ph("value",t.label),Be(1),Ar("",t.label," ")}}function f_e(n,e){if(1&n&&(be(0,"mat-option",19),He(1),Se()),2&n){const t=e.$implicit;ph("value",t.class),Be(1),Ar("",t.class," ")}}function p_e(n,e){if(1&n&&(Rr(0),Ct(1,f_e,2,2,"mat-option",8),Dr()),2&n){const t=kt();Be(1),Ke("ngForOf",t.currentLocalDatabaseSchema.classes)}}function g_e(n,e){if(1&n&&(Rr(0),be(1,"mat-option",19),He(2),Se(),Dr()),2&n){const t=e.$implicit;Be(1),ph("value",t),Be(1),Ar("",t," ")}}function m_e(n,e){if(1&n&&(be(0,"mat-option",19),He(1),Se()),2&n){const t=e.$implicit;ph("value",t),Be(1),Ar("",t," ")}}function v_e(n,e){if(1&n&&(Rr(0),be(1,"mat-optgroup",20),Ct(2,g_e,3,2,"ng-container",21),Se(),be(3,"mat-optgroup",22),Ct(4,m_e,2,2,"mat-option",8),Se(),Dr()),2&n){const t=kt();Be(2),Ke("ngForOf",t.identifiers),Be(2),Ke("ngForOf",t.predicates)}}function y_e(n,e){if(1&n&&(be(0,"p"),He(1),Se()),2&n){const t=kt();Be(1),Ar("ErrorMsg: ",t.errorMsg.errMsg,"")}}function __e(n,e){if(1&n&&(be(0,"mat-option",19),He(1),Se()),2&n){const t=e.$implicit;ph("value",t.label),Be(1),Ar("",t.name," ")}}function b_e(n,e){1&n&&He(0,"Prepare Api Response")}function C_e(n,e){if(1&n&&(be(0,"div")(1,"div",23),kn(2,"mat-spinner"),be(3,"p"),He(4),Se()()()),2&n){const t=kt();Be(4),f1("Api response loading ... (",t.gsbService.loadingTries," of ",t.gsbService.maxLoadingTries," tries)")}}function w_e(n,e){if(1&n){const t=wr();be(0,"div")(1,"div",23)(2,"div")(3,"mat-icon",24),He(4,"error"),Se()(),be(5,"p"),He(6),Se(),be(7,"p"),He(8,"You can try again another 50 entities or go back and define another identifier."),Se(),be(9,"button",17),It("click",function(){return Tn(t),Rn(kt().gsbService.nextEntity())}),He(10,"Try again"),Se()()()}if(2&n){const t=kt();Be(6),Ar("Unable to retrieve a valid api response. (Tested ",t.gsbService.loadingTries," different entities)")}}function A_e(n,e){if(1&n){const t=wr();be(0,"div"),kn(1,"br"),be(2,"div")(3,"p"),He(4,"Please delete the parts of the response you don't need. Use the icon on the left of the selected part."),Se()(),kn(5,"br"),be(6,"app-json-viewer",25),It("jsonChangeEvent",function(r){return Tn(t),Rn(kt().changeApiResponse(r))}),Se()()}if(2&n){const t=kt();Be(6),Ke("jsonData",t.gsbService.currentWebEntity.reducedResponse)}}function S_e(n,e){1&n&&He(0,"Entity Mapping")}function I_e(n,e){1&n&&(be(0,"div")(1,"div",23)(2,"div"),kn(3,"mat-spinner"),be(4,"p"),He(5,"Next entity loading ..."),Se()()()())}function x_e(n,e){1&n&&kn(0,"app-builder",null,26)}function E_e(n,e){1&n&&He(0,"Final Alignmnet")}let ez=(()=>{class n{constructor(t,i,r,o,s,a){this.connection=t,this.dialog=i,this._fb=r,this.cdr=o,this._dialog=s,this.gsbService=a,this.utils=new oc,this.webDbSelected=!1,this.localDbSelected=!1,this.localSchemaLoaded=!1,this.localSchemaError=!1,this.useIdentifierMap=!0,this.showFullPathLocal=!0,this.showFullPathWeb=!1,this.localSortMethod="",this.localEntityLoaded=!1,this.localPathSearchValue="",this.localValueSearchValue="",this.webSortMethod="",this.weblEntityLoaded=!1,this.webPathSearchValue="",this.webValueSearchValue="",this.localHashIds=new Set,this.localMappingEntries=new Set,this.webHashIds=new Set,this.webMappingEntries=new Set,this.webEntityModFinished=!1,this.dbSelectionForm=r.group({localDatabase:["",Fv.required],webDatabase:["",Fv.required],identifier:[{value:"",disabled:!this.localSchemaLoaded},Fv.required],inputType:[{value:"",disabled:!this.localSchemaLoaded},Fv.required]})}ngOnInit(){this.connection.getDatabases().then(t=>{this.databases=t.databases}),this.connection.getApis().then(t=>{this.apis=t.apis})}changeLocalDatabase(t){this.localDbSelected=!1,this.localSchemaLoaded=!1,this.localSchemaError=!1,this.dbSelectionForm.get("identifier").setValue(""),this.dbSelectionForm.get("identifier").disable(),this.dbSelectionForm.get("inputType").setValue(""),this.dbSelectionForm.get("inputType").disable(),this.loadLocalDatabasesData(t),this.loadLocalDatabasesSchema(t)}changeInputType(t){this.identifiers=this.getIdentifier(t),this.predicates=this.getPredicates(t),this.dbSelectionForm.get("identifier").enable()}loadLocalDatabasesData(t){this.connection.getLocalDatabaseData(t).then(i=>{this.currentLocalDatabase=i,this.localDbSelected=!0,""!==this.currentLocalDatabase.identifierMapContent&&(this.useIdentifierMap=!1)})}loadLocalDatabasesSchema(t){this.connection.getLocalDatabaseSchema(t).subscribe(i=>{this.currentLocalDatabaseSchema=i,this.localSchemaLoaded=!0,this.dbSelectionForm.get("inputType").enable()},i=>{this.errorMsg=i.error,this.localSchemaError=!0})}loadWebDatabasesData(t){this.connection.getWebDatabaseData(t).then(i=>{this.currentWebDatabase=i,this.webDbSelected=!0})}debugMode(){this.selectedIndex=1,this.gsbService.debugMode()}mappingSelectionFinished(){this.gsbService.generateFinalAlignment(),this.stepper.next()}changeApiResponse(t){this.gsbService.changeWebReducedResponse(t)}respChangeFinished(){this.webEntityModFinished=!0,this.builder.init(),this.cdr.detectChanges(),this.builder.showLines(),this.builder.markNewPaths()}selectionChange(t){!this.gsbService.finishedLoading||(1===t?oc.delay(500).then(()=>{this.builder.showLines()}):this.builder.hideLines())}startGSB(){this.stepper.steps.get(0).completed=!0,this.stepper.steps.get(0).editable=!1;const t=this.dbSelectionForm.get("identifier").value,i=this.dbSelectionForm.get("inputType").value;this.gsbService.startNewAlignment(this.currentLocalDatabase,this.currentWebDatabase,t,i)}nextEntity(){this.builder.clearLines(),this.webEntityModFinished=!1,this.gsbService.nextEntity()}getIdentifier(t){const i=[];for(const r of this.currentLocalDatabaseSchema.identifier){const o=r.predicate;this.currentLocalDatabaseSchema.structure.some(a=>a.subject===t&&a.predicate===o)&&i.push(o)}return i}getPredicates(t){const i=[];for(const r of this.currentLocalDatabaseSchema.functionality){const o=r.predicate;this.currentLocalDatabaseSchema.structure.some(a=>a.subject===t&&a.predicate===o)&&i.push(o)}return i}}return n.\u0275fac=function(t){return new(t||n)(Te(ll),Te(eu),Te(MI),Te(Hr),Te(eu),Te(nf))},n.\u0275cmp=Wn({type:n,selectors:[["app-gold-standard-builder"]],viewQuery:function(t,i){if(1&t&&(Pi(c_e,5),Pi(u_e,5)),2&t){let r;Ln(r=Pn())&&(i.stepper=r.first),Ln(r=Pn())&&(i.builder=r.first)}},decls:53,vars:14,consts:[["linear","",3,"selectedIndex","selectionChange"],["stepper",""],["matStepLabel",""],[3,"formGroup"],[1,"container-flex"],[1,"container-flex-item"],["appearance","fill"],["formControlName","localDatabase",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","inputType",3,"selectionChange"],[4,"ngIf"],["formControlName","identifier"],["formControlName","webDatabase",3,"selectionChange"],["mat-raised-button","","color","primary","matStepperNext","",3,"disabled","click"],[1,"stepper"],["mat-raised-button","","matStepperNext","","color","primary",3,"disabled","click"],["mat-raised-button","","color","primary","matStepperNext","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","matStepperPrevious",""],[3,"value"],["label","identifier"],[4,"ngFor","ngForOf"],["label","predicates"],[1,"center"],["aria-hidden","false","aria-label","error","inline","true",2,"font-size","4rem"],[3,"jsonData","jsonChangeEvent"],["builder",""]],template:function(t,i){1&t&&(be(0,"mat-horizontal-stepper",0,1),It("selectionChange",function(o){return i.selectionChange(o.selectedIndex)}),be(2,"mat-step"),Ct(3,h_e,1,0,"ng-template",2),be(4,"form",3)(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),He(9,"Select local database"),Se(),be(10,"mat-select",7),It("selectionChange",function(o){return i.changeLocalDatabase(o.value)}),Ct(11,d_e,2,2,"mat-option",8),Se()(),be(12,"mat-form-field",6)(13,"mat-label"),He(14,"Select class"),Se(),be(15,"mat-select",9),It("selectionChange",function(o){return i.changeInputType(o.value)}),Ct(16,p_e,2,1,"ng-container",10),Se()(),be(17,"mat-form-field",6)(18,"mat-label"),He(19,"Select identifier"),Se(),be(20,"mat-select",11),Ct(21,v_e,5,2,"ng-container",10),Se()(),Ct(22,y_e,2,1,"p",10),Se(),be(23,"div",5)(24,"mat-form-field",6)(25,"mat-label"),He(26,"Select web database"),Se(),be(27,"mat-select",12),It("selectionChange",function(o){return i.loadWebDatabasesData(o.value)}),Ct(28,__e,2,2,"mat-option",8),Se()()()()(),be(29,"button",13),It("click",function(){return i.startGSB()}),He(30,"Start "),Se()(),be(31,"mat-step"),Ct(32,b_e,1,0,"ng-template",2),be(33,"div",14)(34,"button",15),It("click",function(){return i.respChangeFinished()}),He(35,"Save and continue "),Se()(),Ct(36,C_e,5,2,"div",10),Ct(37,w_e,11,1,"div",10),Ct(38,A_e,7,1,"div",10),Se(),be(39,"mat-step"),Ct(40,S_e,1,0,"ng-template",2),be(41,"div",14)(42,"button",16),It("click",function(){return i.gsbService.generateSuggestions()}),He(43,"Generate Final Alignment "),Se(),be(44,"button",17),It("click",function(){return i.nextEntity()}),He(45,"Next Entity"),Se(),be(46,"button",18),He(47,"Edit API Response"),Se()(),Ct(48,I_e,6,0,"div",10),Ct(49,x_e,2,0,"app-builder",10),Se(),be(50,"mat-step"),Ct(51,E_e,1,0,"ng-template",2),kn(52,"app-final-alignmnet"),Se()()),2&t&&(Ke("selectedIndex",i.selectedIndex),Be(4),Ke("formGroup",i.dbSelectionForm),Be(7),Ke("ngForOf",i.databases),Be(5),Ke("ngIf",i.currentLocalDatabaseSchema),Be(5),Ke("ngIf",i.currentLocalDatabaseSchema),Be(1),Ke("ngIf",i.localSchemaError),Be(6),Ke("ngForOf",i.apis),Be(1),Ke("disabled",!i.dbSelectionForm.valid),Be(5),Ke("disabled",!i.gsbService.finishedLoadingWebEntity),Be(2),Ke("ngIf",!i.gsbService.finishedLoadingWebEntity&&!i.gsbService.loadingNextEntityFailed),Be(1),Ke("ngIf",i.gsbService.loadingNextEntityFailed),Be(1),Ke("ngIf",i.gsbService.finishedLoadingWebEntity),Be(10),Ke("ngIf",!i.gsbService.finishedLoading),Be(1),Ke("ngIf",i.gsbService.finishedLoading))},dependencies:[_a,ks,XW,ul,LW,$v,O2,rc,Pu,nc,Vv,Hp,Due,ss,qG,sx,QG,m0e,v0e,Fu,VG,_0e,l_e],styles:[".container-flex[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:row;width:100%;background-color:var(--primary-darker-color);padding:5px 0;border-radius:10px}.container-flex-item[_ngcontent-%COMP%]{display:flex;flex-grow:1;gap:1em}.container-flex-item[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin:0;padding:1% 0}.container-flex-item[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:400px}.container-flex-item[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{height:100%;width:100%;padding-left:3%;justify-self:flex-start;align-self:center;color:#fff}.content-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-content:center;gap:1em;padding:0 .5rem}.content-header[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{flex-basis:100%}.stepper[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:space-between;align-items:center}.center[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}"]}),n})();const M_e=[{path:"",redirectTo:"start",pathMatch:"full"},{path:"start",component:AJ},{path:"dataCube",component:Ype},{path:"settings",component:rye},{path:"currentTest",component:J2},{path:"schema",component:oye},{path:"goldStandardBuilder",component:ez},{path:"gsbPage",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Wn({type:n,selectors:[["app-gsb-page"]],decls:1,vars:0,template:function(t,i){1&t&&kn(0,"app-gold-standard-builder")},dependencies:[ez],styles:["app-gold-standard-builder[_ngcontent-%COMP%]{height:100%}"]}),n})()},{path:"webservicesOverview",component:BG},{path:"test",component:VG},{path:"viewer",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Wn({type:n,selectors:[["app-alignment-viewer-page"]],decls:1,vars:0,template:function(t,i){1&t&&kn(0,"app-data-selector")},dependencies:[J2]}),n})()}];let T_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[K3.forRoot(M_e,{onSameUrlNavigation:"reload"}),K3]}),n})();function tz(n){return new Jt(3e3,!1)}function ube(){return"undefined"!=typeof window&&void 0!==window.document}function pL(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function rf(n){switch(n.length){case 0:return new Eb;case 1:return n[0];default:return new DU(n)}}function nz(n,e,t,i,r=new Map,o=new Map){const s=[],a=[];let c=-1,b=null;if(i.forEach(L=>{const H=L.get("offset"),G=H==c,j=G&&b||new Map;L.forEach((J,ce)=>{let se=ce,te=J;if("offset"!==ce)switch(se=e.normalizePropertyName(se,s),te){case"!":te=r.get(ce);break;case Uh:te=o.get(ce);break;default:te=e.normalizeStyleValue(ce,se,te,s)}j.set(se,te)}),G||a.push(j),b=j,c=H}),s.length)throw function q_e(n){return new Jt(3502,!1)}();return a}function gL(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&mL(t,"start",n)));break;case"done":n.onDone(()=>i(t&&mL(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&mL(t,"destroy",n)))}}function mL(n,e,t){const i=t.totalTime,o=vL(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function vL(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Ml(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function iz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let yL=(n,e)=>!1,rz=(n,e,t)=>[],oz=null;function _L(n){const e=n.parentNode||n.host;return e===oz?null:e}(pL()||"undefined"!=typeof Element)&&(ube()?(oz=(()=>document.documentElement)(),yL=(n,e)=>{for(;e;){if(e===n)return!0;e=_L(e)}return!1}):yL=(n,e)=>n.contains(e),rz=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let eg=null,sz=!1;const az=yL,lz=rz;let cz=(()=>{class n{validateStyleProperty(t){return function dbe(n){eg||(eg=function fbe(){return"undefined"!=typeof document?document.body:null}()||{},sz=!!eg.style&&"WebkitAppearance"in eg.style);let e=!0;return eg.style&&!function hbe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in eg.style,!e&&sz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in eg.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return az(t,i)}getParentElement(t){return _L(t)}query(t,i,r){return lz(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new Eb(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})(),bL=(()=>{class n{}return n.NOOP=new cz,n})();const CL="ng-enter",lx="ng-leave",cx="ng-trigger",ux=".ng-trigger",hz="ng-animating",wL=".ng-animating";function Zh(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:AL(parseFloat(e[1]),e[2])}function AL(n,e){return"s"===e?1e3*n:n}function hx(n,e,t){return n.hasOwnProperty("duration")?n:function mbe(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(tz()),{duration:0,delay:0,easing:""};r=AL(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=AL(parseFloat(c),a[4]));const b=a[5];b&&(s=b)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function R_e(){return new Jt(3100,!1)}()),a=!0),o<0&&(e.push(function D_e(){return new Jt(3101,!1)}()),a=!0),a&&e.splice(c,0,tz())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Gb(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function dz(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function sf(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function pz(n,e,t){return t?e+":"+t+";":""}function gz(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=pz(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=pz(0,bbe(t),n.style[t]));n.setAttribute("style",e)}function Nu(n,e,t){n.style&&(e.forEach((i,r)=>{const o=IL(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i}),pL()&&gz(n))}function tg(n,e){n.style&&(e.forEach((t,i)=>{const r=IL(i);n.style[r]=""}),pL()&&gz(n))}function zb(n){return Array.isArray(n)?1==n.length?n[0]:TU(n):n}const SL=new RegExp("{{\\s*(.+?)\\s*}}","g");function mz(n){let e=[];if("string"==typeof n){let t;for(;t=SL.exec(n);)e.push(t[1]);SL.lastIndex=0}return e}function jb(n,e,t){const i=n.toString(),r=i.replace(SL,(o,s)=>{let a=e[s];return null==a&&(t.push(function L_e(n){return new Jt(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function dx(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const _be=/-+([a-z0-9])/g;function IL(n){return n.replace(_be,(...e)=>e[1].toUpperCase())}function bbe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Tl(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function P_e(n){return new Jt(3004,!1)}()}}function vz(n,e){return window.getComputedStyle(n)[e]}function xbe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Ebe(n,e,t){if(":"==n[0]){const c=function Mbe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function K_e(n){return new Jt(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Z_e(n){return new Jt(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(yz(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&e.push(yz(s,r))}(i,t,e)):t.push(n),t}const mx=new Set(["true","1"]),vx=new Set(["false","0"]);function yz(n,e){const t=mx.has(n)||vx.has(n),i=mx.has(e)||vx.has(e);return(r,o)=>{let s="*"==n||n==r,a="*"==e||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?mx.has(n):vx.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?mx.has(e):vx.has(e)),s&&a}}const Tbe=new RegExp("s*:selfs*,?","g");function xL(n,e,t,i){return new Rbe(n).build(e,t,i)}class Rbe{constructor(e){this._driver=e}build(e,t,i){const r=new Lbe(t);return this._resetContextStyleTimingState(r),Tl(this,zb(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function F_e(){return new Jt(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,b=c.name;b.toString().split(/\s*,\s*/).forEach(L=>{c.name=L,o.push(this.visitState(c,t))}),c.name=b}else if(1==a.type){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function N_e(){return new Jt(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{mz(c).forEach(b=>{s.hasOwnProperty(b)||o.add(b)})})}),o.size&&(dx(o.values()),t.errors.push(function $_e(n,e){return new Jt(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Tl(this,zb(e.animation),t);return{type:1,matchers:xbe(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ng(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Tl(this,i,t)),options:ng(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=Tl(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:ng(e.options)}}visitAnimate(e,t){const i=function Obe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return EL(hx(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=EL(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=hx(t,e);return EL(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:$r({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const b={};i.easing&&(b.easing=i.easing),s=$r(b)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Uh?i.push(a):t.errors.push(new Jt(3002,!1)):i.push(dz(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const b=t.collectedStyles.get(t.currentQuerySelector),L=b.get(c);let H=!0;L&&(o!=r&&o>=L.startTime&&r<=L.endTime&&(t.errors.push(function H_e(n,e,t,i,r){return new Jt(3010,!1)}()),H=!1),o=L.startTime),H&&b.set(c,{startTime:o,endTime:r}),t.options&&function ybe(n,e,t){const i=e.params||{},r=mz(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function k_e(n){return new Jt(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function V_e(){return new Jt(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,b=0;const L=e.steps.map(te=>{const _e=this._makeStyleAst(te,t);let ge=null!=_e.offset?_e.offset:function Pbe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(_e.styles),Me=0;return null!=ge&&(o++,Me=_e.offset=ge),c=c||Me<0||Me>1,a=a||Me<b,b=Me,s.push(Me),_e});c&&t.errors.push(function W_e(){return new Jt(3012,!1)}()),a&&t.errors.push(function U_e(){return new Jt(3200,!1)}());const H=e.steps.length;let G=0;o>0&&o<H?t.errors.push(function G_e(){return new Jt(3202,!1)}()):0==o&&(G=1/(H-1));const j=H-1,J=t.currentTime,ce=t.currentAnimateTimings,se=ce.duration;return L.forEach((te,_e)=>{const ge=G>0?_e==j?1:G*_e:s[_e],Me=ge*se;t.currentTime=J+ce.delay+Me,ce.duration=Me,this._validateStyleAst(te,t),te.offset=ge,i.styles.push(te)}),i}visitReference(e,t){return{type:8,animation:Tl(this,zb(e.animation),t),options:ng(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ng(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ng(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Dbe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Tbe,"")),n=n.replace(/@\*/g,ux).replace(/@\w+/g,t=>ux+"-"+t.slice(1)).replace(/:animating/g,wL),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Ml(t.collectedStyles,t.currentQuerySelector,new Map);const a=Tl(this,zb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ng(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function z_e(){return new Jt(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:hx(e.timings,t.errors,!0);return{type:12,animation:Tl(this,zb(e.animation),t),timings:i,options:null}}}class Lbe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ng(n){return n?(n=Gb(n)).params&&(n.params=function kbe(n){return n?Gb(n):null}(n.params)):n={},n}function EL(n,e,t){return{duration:n,delay:e,easing:t}}function ML(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class yx{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const $be=new RegExp(":enter","g"),Hbe=new RegExp(":leave","g");function TL(n,e,t,i,r,o=new Map,s=new Map,a,c,b=[]){return(new Vbe).buildKeyframes(n,e,t,i,r,o,s,a,c,b)}class Vbe{buildKeyframes(e,t,i,r,o,s,a,c,b,L=[]){b=b||new yx;const H=new RL(e,t,b,r,o,L,[]);H.options=c;const G=c.delay?Zh(c.delay):0;H.currentTimeline.delayNextStep(G),H.currentTimeline.setStyles([s],null,H.errors,c),Tl(this,i,H);const j=H.timelines.filter(J=>J.containsAnimation());if(j.length&&a.size){let J;for(let ce=j.length-1;ce>=0;ce--){const se=j[ce];if(se.element===t){J=se;break}}J&&!J.allowOnlyTimelineStyles()&&J.setStyles([a],null,H.errors,c)}return j.length?j.map(J=>J.buildKeyframes()):[ML(t,[],[],[],0,G,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){var r;for(const o of e){const s=null==o?void 0:o.delay;if(s){const a="number"==typeof s?s:Zh(jb(s,null!==(r=null==o?void 0:o.params)&&void 0!==r?r:{},t.errors));i.delayNextStep(a)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Zh(i.duration):null,a=null!=i.delay?Zh(i.delay):null;return 0!==s&&e.forEach(c=>{const b=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,b.duration+b.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Tl(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=_x);const s=Zh(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Tl(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Zh(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Tl(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return hx(t.params?jb(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Zh(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=_x);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((b,L)=>{t.currentQueryIndex=L;const H=t.createSubContext(e.options,b);o&&H.delayNextStep(o),b===t.element&&(c=H.currentTimeline),Tl(this,e.animation,H),H.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,H.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const L=t.currentTimeline;c&&L.delayNextStep(c);const H=L.currentTime;Tl(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-H+(r.startTime-i.currentTimeline.startTime)}}const _x={};class RL{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_x,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new bx(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Zh(i.duration)),null!=i.delay&&(r.delay=Zh(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=jb(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new RL(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=_x,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},o=new Wbe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace($be,"."+this._enterClassName)).replace(Hbe,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),a.push(...b)}return!o&&0==a.length&&s.push(function j_e(n){return new Jt(3014,!1)}()),a}}class bx{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new bx(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Uh),this._currentKeyframe.set(t,Uh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){var o;t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},a=function Ube(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Uh)}else sf(r,t)}),t}(e,this._globalTimelineStyles);for(let[c,b]of a){const L=jb(b,s,i);this._pendingStyles.set(c,L),this._localTimelineStyles.has(c)||this._backFill.set(c,null!==(o=this._globalTimelineStyles.get(c))&&void 0!==o?o:Uh),this._updateStyle(c,L)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const b=sf(a,new Map,this._backFill);b.forEach((L,H)=>{"!"===L?e.add(H):L===Uh&&t.add(H)}),i||b.set("offset",c/this.duration),r.push(b)});const o=e.size?dx(e.values()):[],s=t.size?dx(t.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return ML(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Wbe extends bx{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=sf(e[0]);c.set("offset",0),o.push(c);const b=sf(e[0]);b.set("offset",Cz(a)),o.push(b);const L=e.length-1;for(let H=1;H<=L;H++){let G=sf(e[H]);const j=G.get("offset");G.set("offset",Cz((t+j*i)/s)),o.push(G)}i=s,t=0,r="",e=o}return ML(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Cz(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class DL{}const Gbe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zbe extends DL{normalizePropertyName(e,t){return IL(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Gbe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function O_e(n,e){return new Jt(3005,!1)}())}return s+o}}function wz(n,e,t,i,r,o,s,a,c,b,L,H,G){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:b,postStyleProps:L,totalTime:H,errors:G}}const kL={};class Az{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function jbe(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(null==e?void 0:e.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,b,L){var H;const G=[],j=this.ast.options&&this.ast.options.params||kL,ce=this.buildStyles(i,a&&a.params||kL,G),se=c&&c.params||kL,te=this.buildStyles(r,se,G),_e=new Set,ge=new Map,Me=new Map,Re="void"===r,$e={params:Zbe(se,j),delay:null===(H=this.ast.options)||void 0===H?void 0:H.delay},Qe=L?[]:TL(e,t,this.ast.animation,o,s,ce,te,$e,b,G);let it=0;if(Qe.forEach(Ze=>{it=Math.max(Ze.duration+Ze.delay,it)}),G.length)return wz(t,this._triggerName,i,r,Re,ce,te,[],[],ge,Me,it,G);Qe.forEach(Ze=>{const vt=Ze.element,Ft=Ml(ge,vt,new Set);Ze.preStyleProps.forEach(ze=>Ft.add(ze));const gt=Ml(Me,vt,new Set);Ze.postStyleProps.forEach(ze=>gt.add(ze)),vt!==t&&_e.add(vt)});const Le=dx(_e.values());return wz(t,this._triggerName,i,r,Re,ce,te,Qe,Le,ge,Me,it)}}function Zbe(n,e){const t=Gb(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Kbe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Gb(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=jb(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(c,s)})}),i}}class Ybe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Kbe(r.style,r.options&&r.options.params||{},i))}),Sz(this.states,"true","1"),Sz(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Az(e,r,this.states))}),this.fallbackTransition=function Jbe(n,e,t){return new Az(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Sz(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const qbe=new yx;class Qbe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=xL(this._driver,t,i,[]);if(i.length)throw function Q_e(n){return new Jt(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=nz(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=TL(this._driver,t,o,CL,lx,new Map,new Map,i,qbe,r),s.forEach(L=>{const H=Ml(a,L.element,new Map);L.postStyleProps.forEach(G=>H.set(G,null))})):(r.push(function ebe(){return new Jt(3300,!1)}()),s=[]),r.length)throw function tbe(n){return new Jt(3504,!1)}();a.forEach((L,H)=>{L.forEach((G,j)=>{L.set(j,this._driver.computeStyle(H,j,Uh))})});const b=rf(s.map(L=>{const H=a.get(L.element);return this._buildPlayer(L,new Map,H)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function nbe(n){return new Jt(3301,!1)}();return t}listen(e,t,i,r){const o=vL(t,"","","");return gL(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Iz="ng-animate-queued",LL="ng-animate-disabled",rCe=[],xz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oCe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},sc="__ng_removed";class PL{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function cCe(n){return null!=n?n:null}(i?e.value:e),i){const o=Gb(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Zb="void",OL=new PL(Zb);class sCe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ac(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function ibe(n,e){return new Jt(3302,!1)}();if(null==i||0==i.length)throw function rbe(n){return new Jt(3303,!1)}();if(!function uCe(n){return"start"==n||"done"==n}(i))throw function obe(n,e){return new Jt(3400,!1)}();const o=Ml(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=Ml(this._engine.statesByElement,e,new Map);return a.has(t)||(ac(e,cx),ac(e,cx+"-"+t),a.set(t,OL)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function sbe(n){return new Jt(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new FL(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(ac(e,cx),ac(e,cx+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const b=new PL(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&b.absorbOptions(c.options),a.set(t,b),c||(c=OL),b.value!==Zb&&c.value===b.value){if(!function fCe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,b.params)){const ce=[],se=o.matchStyles(c.value,c.params,ce),te=o.matchStyles(b.value,b.params,ce);ce.length?this._engine.reportError(ce):this._engine.afterFlush(()=>{tg(e,se),Nu(e,te)})}return}const G=Ml(this._engine.playersByElement,e,[]);G.forEach(ce=>{ce.namespaceId==this.id&&ce.triggerName==t&&ce.queued&&ce.destroy()});let j=o.matchTransition(c.value,b.value,e,b.params),J=!1;if(!j){if(!r)return;j=o.fallbackTransition,J=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:j,fromState:c,toState:b,player:s,isFallbackTransition:J}),J||(ac(e,Iz),s.onStart(()=>{Yv(e,Iz)})),s.onDone(()=>{let ce=this.players.indexOf(s);ce>=0&&this.players.splice(ce,1);const se=this._engine.playersByElement.get(e);if(se){let te=se.indexOf(s);te>=0&&se.splice(te,1)}}),this.players.push(s),G.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,ux,!0);i.forEach(r=>{if(r[sc])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,b)=>{if(s.set(b,c.value),this._triggers.has(b)){const L=this.trigger(e,b,Zb,r);L&&a.push(L)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&rf(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,b=i.get(s)||OL,L=new PL(Zb),H=new FL(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:b,toState:L,player:H,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[sc];(!o||o===xz)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ac(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=vL(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,gL(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class aCe{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new sCe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const b=i.indexOf(c);i.splice(b+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(Cx(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Cx(t))return;const o=t[sc];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ac(e,LL)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Yv(e,LL))}removeNode(e,t,i,r){if(Cx(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[sc]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return Cx(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,ux,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,wL,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return rf(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[sc];if(i&&i.setForRemoval){if(e[sc]=xz,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}!(null===(t=e.classList)||void 0===t)&&t.contains(LL)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ac(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?rf(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function abe(n){return new Jt(3402,!1)}()}_flushAnimations(e,t){const i=new yx,r=[],o=new Map,s=[],a=new Map,c=new Map,b=new Map,L=new Set;this.disabledNodes.forEach(Ye=>{L.add(Ye);const rt=this.driver.query(Ye,".ng-animate-queued",!0);for(let ht=0;ht<rt.length;ht++)L.add(rt[ht])});const H=this.bodyNode,G=Array.from(this.statesByElement.keys()),j=Tz(G,this.collectedEnterElements),J=new Map;let ce=0;j.forEach((Ye,rt)=>{const ht=CL+ce++;J.set(rt,ht),Ye.forEach(mt=>ac(mt,ht))});const se=[],te=new Set,_e=new Set;for(let Ye=0;Ye<this.collectedLeaveElements.length;Ye++){const rt=this.collectedLeaveElements[Ye],ht=rt[sc];ht&&ht.setForRemoval&&(se.push(rt),te.add(rt),ht.hasAnimation?this.driver.query(rt,".ng-star-inserted",!0).forEach(mt=>te.add(mt)):_e.add(rt))}const ge=new Map,Me=Tz(G,Array.from(te));Me.forEach((Ye,rt)=>{const ht=lx+ce++;ge.set(rt,ht),Ye.forEach(mt=>ac(mt,ht))}),e.push(()=>{j.forEach((Ye,rt)=>{const ht=J.get(rt);Ye.forEach(mt=>Yv(mt,ht))}),Me.forEach((Ye,rt)=>{const ht=ge.get(rt);Ye.forEach(mt=>Yv(mt,ht))}),se.forEach(Ye=>{this.processLeaveNode(Ye)})});const Re=[],$e=[];for(let Ye=this._namespaceList.length-1;Ye>=0;Ye--)this._namespaceList[Ye].drainQueuedTransitions(t).forEach(ht=>{const mt=ht.player,Rt=ht.element;if(Re.push(mt),this.collectedEnterElements.length){const st=Rt[sc];if(st&&st.setForMove){if(st.previousTriggersValues&&st.previousTriggersValues.has(ht.triggerName)){const Kn=st.previousTriggersValues.get(ht.triggerName),Qn=this.statesByElement.get(ht.element);if(Qn&&Qn.has(ht.triggerName)){const yn=Qn.get(ht.triggerName);yn.value=Kn,Qn.set(ht.triggerName,yn)}}return void mt.destroy()}}const Xt=!H||!this.driver.containsElement(H,Rt),zt=ge.get(Rt),Ot=J.get(Rt),Pt=this._buildInstruction(ht,i,Ot,zt,Xt);if(Pt.errors&&Pt.errors.length)return void $e.push(Pt);if(Xt)return mt.onStart(()=>tg(Rt,Pt.fromStyles)),mt.onDestroy(()=>Nu(Rt,Pt.toStyles)),void r.push(mt);if(ht.isFallbackTransition)return mt.onStart(()=>tg(Rt,Pt.fromStyles)),mt.onDestroy(()=>Nu(Rt,Pt.toStyles)),void r.push(mt);const mn=[];Pt.timelines.forEach(st=>{st.stretchStartingKeyframe=!0,this.disabledNodes.has(st.element)||mn.push(st)}),Pt.timelines=mn,i.append(Rt,Pt.timelines),s.push({instruction:Pt,player:mt,element:Rt}),Pt.queriedElements.forEach(st=>Ml(a,st,[]).push(mt)),Pt.preStyleProps.forEach((st,Kn)=>{if(st.size){let Qn=c.get(Kn);Qn||c.set(Kn,Qn=new Set),st.forEach((yn,ri)=>Qn.add(ri))}}),Pt.postStyleProps.forEach((st,Kn)=>{let Qn=b.get(Kn);Qn||b.set(Kn,Qn=new Set),st.forEach((yn,ri)=>Qn.add(ri))})});if($e.length){const Ye=[];$e.forEach(rt=>{Ye.push(function lbe(n,e){return new Jt(3505,!1)}())}),Re.forEach(rt=>rt.destroy()),this.reportError(Ye)}const Qe=new Map,it=new Map;s.forEach(Ye=>{const rt=Ye.element;i.has(rt)&&(it.set(rt,rt),this._beforeAnimationBuild(Ye.player.namespaceId,Ye.instruction,Qe))}),r.forEach(Ye=>{const rt=Ye.element;this._getPreviousPlayers(rt,!1,Ye.namespaceId,Ye.triggerName,null).forEach(mt=>{Ml(Qe,rt,[]).push(mt),mt.destroy()})});const Le=se.filter(Ye=>Dz(Ye,c,b)),Ze=new Map;Mz(Ze,this.driver,_e,b,Uh).forEach(Ye=>{Dz(Ye,c,b)&&Le.push(Ye)});const Ft=new Map;j.forEach((Ye,rt)=>{Mz(Ft,this.driver,new Set(Ye),c,"!")}),Le.forEach(Ye=>{var rt,ht;const mt=Ze.get(Ye),Rt=Ft.get(Ye);Ze.set(Ye,new Map([...Array.from(null!==(rt=null==mt?void 0:mt.entries())&&void 0!==rt?rt:[]),...Array.from(null!==(ht=null==Rt?void 0:Rt.entries())&&void 0!==ht?ht:[])]))});const gt=[],ze=[],ft={};s.forEach(Ye=>{const{element:rt,player:ht,instruction:mt}=Ye;if(i.has(rt)){if(L.has(rt))return ht.onDestroy(()=>Nu(rt,mt.toStyles)),ht.disabled=!0,ht.overrideTotalTime(mt.totalTime),void r.push(ht);let Rt=ft;if(it.size>1){let zt=rt;const Ot=[];for(;zt=zt.parentNode;){const Pt=it.get(zt);if(Pt){Rt=Pt;break}Ot.push(zt)}Ot.forEach(Pt=>it.set(Pt,Rt))}const Xt=this._buildAnimation(ht.namespaceId,mt,Qe,o,Ft,Ze);if(ht.setRealPlayer(Xt),Rt===ft)gt.push(ht);else{const zt=this.playersByElement.get(Rt);zt&&zt.length&&(ht.parentPlayer=rf(zt)),r.push(ht)}}else tg(rt,mt.fromStyles),ht.onDestroy(()=>Nu(rt,mt.toStyles)),ze.push(ht),L.has(rt)&&r.push(ht)}),ze.forEach(Ye=>{const rt=o.get(Ye.element);if(rt&&rt.length){const ht=rf(rt);Ye.setRealPlayer(ht)}}),r.forEach(Ye=>{Ye.parentPlayer?Ye.syncPlayerEvents(Ye.parentPlayer):Ye.destroy()});for(let Ye=0;Ye<se.length;Ye++){const rt=se[Ye],ht=rt[sc];if(Yv(rt,lx),ht&&ht.hasAnimation)continue;let mt=[];if(a.size){let Xt=a.get(rt);Xt&&Xt.length&&mt.push(...Xt);let zt=this.driver.query(rt,wL,!0);for(let Ot=0;Ot<zt.length;Ot++){let Pt=a.get(zt[Ot]);Pt&&Pt.length&&mt.push(...Pt)}}const Rt=mt.filter(Xt=>!Xt.destroyed);Rt.length?hCe(this,rt,Rt):this.processLeaveNode(rt)}return se.length=0,gt.forEach(Ye=>{this.players.push(Ye),Ye.onDone(()=>{Ye.destroy();const rt=this.players.indexOf(Ye);this.players.splice(rt,1)}),Ye.play()}),gt}elementContainsData(e,t){let i=!1;const r=t[sc];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==Zb;a.forEach(b=>{b.queued||!c&&b.triggerName!=r||s.push(b)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const b=c.element,L=b!==o,H=Ml(i,b,[]);this._getPreviousPlayers(b,L,s,a,t.toState).forEach(j=>{const J=j.getRealPlayer();J.beforeDestroy&&J.beforeDestroy(),j.destroy(),H.push(j)})}tg(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,b=[],L=new Set,H=new Set,G=t.timelines.map(J=>{const ce=J.element;L.add(ce);const se=ce[sc];if(se&&se.removedBeforeQueried)return new Eb(J.duration,J.delay);const te=ce!==c,_e=function dCe(n){const e=[];return Rz(n,e),e}((i.get(ce)||rCe).map(Qe=>Qe.getRealPlayer())).filter(Qe=>!!Qe.element&&Qe.element===ce),ge=o.get(ce),Me=s.get(ce),Re=nz(0,this._normalizer,0,J.keyframes,ge,Me),$e=this._buildPlayer(J,Re,_e);if(J.subTimeline&&r&&H.add(ce),te){const Qe=new FL(e,a,ce);Qe.setRealPlayer($e),b.push(Qe)}return $e});b.forEach(J=>{Ml(this.playersByQueriedElement,J.element,[]).push(J),J.onDone(()=>function lCe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,J.element,J))}),L.forEach(J=>ac(J,hz));const j=rf(G);return j.onDestroy(()=>{L.forEach(J=>Yv(J,hz)),Nu(c,t.toStyles)}),H.forEach(J=>{Ml(r,J,[]).push(j)}),j}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Eb(e.duration,e.delay)}}class FL{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Eb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>gL(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ml(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Cx(n){return n&&1===n.nodeType}function Ez(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Mz(n,e,t,i,r){const o=[];t.forEach(c=>o.push(Ez(c)));const s=[];i.forEach((c,b)=>{const L=new Map;c.forEach(H=>{const G=e.computeStyle(b,H,r);L.set(H,G),(!G||0==G.length)&&(b[sc]=oCe,s.push(b))}),n.set(b,L)});let a=0;return t.forEach(c=>Ez(c,o[a++])),s}function Tz(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const b=a.parentNode;return c=t.has(b)?b:r.has(b)?1:s(b),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function ac(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Yv(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function hCe(n,e,t){rf(t).onDone(()=>n.processLeaveNode(e))}function Rz(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof DU?Rz(i.players,e):e.push(i)}}function Dz(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class wx{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new aCe(e,t,i),this._timelineEngine=new Qbe(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],L=xL(this._driver,o,c,[]);if(c.length)throw function J_e(n,e){return new Jt(3404,!1)}();a=function Xbe(n,e,t){return new Ybe(n,e,t)}(r,L,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=iz(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=iz(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let gCe=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Nu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nu(this._element,this._initialStyles),this._endStyles&&(Nu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(tg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tg(this._element,this._endStyles),this._endStyles=null),Nu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function NL(n){let e=null;return n.forEach((t,i)=>{(function mCe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class kz{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:vz(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class vCe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return az(e,t)}getParentElement(e){return _L(e)}query(e,t,i){return lz(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const b=new Map,L=s.filter(j=>j instanceof kz);(function Cbe(n,e){return 0===n||0===e})(i,r)&&L.forEach(j=>{j.currentSnapshot.forEach((J,ce)=>b.set(ce,J))});let H=function vbe(n){return n.length?n[0]instanceof Map?n:n.map(e=>dz(e)):[]}(t).map(j=>sf(j));H=function wbe(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,vz(n,a)))}}return e}(e,H,b);const G=function pCe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=NL(e[0]),e.length>1&&(i=NL(e[e.length-1]))):e instanceof Map&&(t=NL(e)),t||i?new gCe(n,t,i):null}(e,H);return new kz(e,H,c,G)}}let yCe=(()=>{class n extends EU{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:go.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?TU(t):t;return Lz(this._renderer,null,i,"register",[r]),new _Ce(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(At(Gf),At(Oi))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();class _Ce extends class xde{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new bCe(this._id,e,t||{},this._renderer)}}class bCe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Lz(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Lz(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Pz="@.disabled";let CCe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=null==s?void 0:s.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let L=this._rendererCache.get(o);return L||(L=new Oz("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,L)),L}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=L=>{Array.isArray(L)?L.forEach(c):this.engine.registerTrigger(s,a,t,L.name,L)};return i.data.animation.forEach(c),new wCe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(At(Gf),At(wx),At(Ei))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();class Oz{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){var e;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(e=this._onDestroy)||void 0===e||e.call(this)}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Pz?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class wCe extends Oz{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Pz?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function ACe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function SCe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}const Fz=[{provide:EU,useClass:yCe},{provide:DL,useFactory:function xCe(){return new zbe}},{provide:wx,useClass:(()=>{class n extends wx{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(At(Oi),At(bL),At(DL),At(ym))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})()},{provide:Gf,useFactory:function ECe(n,e,t){return new CCe(n,e,t)},deps:[z1,wx,Ei]}],$L=[{provide:bL,useFactory:()=>new vCe},{provide:No,useValue:"BrowserAnimations"},...Fz],Nz=[{provide:bL,useClass:cz},{provide:No,useValue:"NoopAnimations"},...Fz];let MCe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Nz:$L}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({providers:$L,imports:[D$]}),n})();const Jv=new rn("HIGHLIGHT_OPTIONS");let LCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({}),n})(),PCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[qi,qi]}),n})(),OCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[qi,qi]}),n})(),$Ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[Q4,qi,Q4,qi]}),n})(),HCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[Vc,qi,qi]}),n})(),VCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Fn({imports:[gI,qi,qi]}),n})(),WCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n,bootstrap:[lJ]}),n.\u0275inj=Fn({providers:[ll,nf,{provide:Jv,useValue:{fullLibraryLoader:()=>Ve.e(376).then(Ve.t.bind(Ve,2376,23))}},tu],imports:[D$,wJ,T_e,dU,MCe,hG,LCe,RI,Zfe,hpe,PCe,b2,Zhe,Ohe,sde,Ape,OCe,Yme,Yge,gme,kge,OI,Qge,$Ce,y0e,xye,HCe,VCe,lve]}),n})();AK().bootstrapModule(WCe,[{defaultEncapsulation:go.None}]).catch(n=>console.log(n))},5682:(hn,Ie,Ve)=>{hn=Ve.nmd(hn),function(){var Z=function(){return this}();!Z&&"undefined"!=typeof window&&(Z=window);var V=function(E,R,x){"string"==typeof E?(2==arguments.length&&(x=R),V.modules[E]||(V.payloads[E]=x,V.modules[E]=null)):V.original?V.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};V.modules={},V.payloads={};var X=function(E,R,x){if("string"==typeof R){var A=k(E,R);if(null!=A)return x&&x(),A}else if("[object Array]"===Object.prototype.toString.call(R)){for(var _=[],m=0,D=R.length;m<D;++m){var I=k(E,R[m]);if(null==I&&ee.original)return;_.push(I)}return x&&x.apply(null,_)||!0}},ee=function(E,R){var x=X("",E,R);return null==x&&ee.original?ee.original.apply(this,arguments):x},$=function(E,R){if(-1!==R.indexOf("!")){var x=R.split("!");return $(E,x[0])+"!"+$(E,x[1])}if("."==R.charAt(0))for(R=E.split("/").slice(0,-1).join("/")+"/"+R;-1!==R.indexOf(".")&&_!=R;){var _=R;R=R.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return R},k=function(E,R){R=$(E,R);var x=V.modules[R];if(!x){if("function"==typeof(x=V.payloads[R])){var A={},_={id:R,uri:"",exports:A,packaged:!0},D=x(function(I,T){return X(R,I,T)},A,_);V.modules[R]=A=D||_.exports,delete V.payloads[R]}x=V.modules[R]=A||x}return x};!function P(E){var R=Z;E&&(Z[E]||(Z[E]={}),R=Z[E]),(!R.define||!R.define.packaged)&&(V.original=R.define,R.define=V,R.define.packaged=!0),(!R.require||!R.require.packaged)&&(ee.original=R.require,R.require=ee,R.require.packaged=!0)}("ace")}(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(ae,Z,V){function X(ee,$,k){Object.defineProperty(ee,$,{value:k,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||X(String.prototype,"startsWith",function(ee,$){return this.lastIndexOf(ee,$=$||0)===$}),String.prototype.endsWith||X(String.prototype,"endsWith",function(ee,$){var k=this;(void 0===$||$>k.length)&&($=k.length);var P=k.indexOf(ee,$-=ee.length);return-1!==P&&P===$}),String.prototype.repeat||X(String.prototype,"repeat",function(ee){for(var $="",k=this;ee>0;)1&ee&&($+=k),(ee>>=1)&&(k+=k);return $}),String.prototype.includes||X(String.prototype,"includes",function(ee,$){return-1!=this.indexOf(ee,$)}),Object.assign||(Object.assign=function(ee){if(null==ee)throw new TypeError("Cannot convert undefined or null to object");for(var $=Object(ee),k=1;k<arguments.length;k++){var P=arguments[k];null!=P&&Object.keys(P).forEach(function(E){$[E]=P[E]})}return $}),Object.values||(Object.values=function(ee){return Object.keys(ee).map(function($){return ee[$]})}),Array.prototype.find||X(Array.prototype,"find",function(ee){for(var $=this.length,k=arguments[1],P=0;P<$;P++){var E=this[P];if(ee.call(k,E,P,this))return E}}),Array.prototype.findIndex||X(Array.prototype,"findIndex",function(ee){for(var $=this.length,k=arguments[1],P=0;P<$;P++){var E=this[P];if(ee.call(k,E,P,this))return P}}),Array.prototype.includes||X(Array.prototype,"includes",function(ee,$){return-1!=this.indexOf(ee,$)}),Array.prototype.fill||X(Array.prototype,"fill",function(ee){for(var $=this,k=$.length>>>0,P=arguments[1],E=P>>0,R=E<0?Math.max(k+E,0):Math.min(E,k),x=arguments[2],A=void 0===x?k:x>>0,_=A<0?Math.max(k+A,0):Math.min(A,k);R<_;)$[R]=ee,R++;return $}),Array.of||X(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(ae,Z,V){"use strict";ae("./es6-shim")}),ace.define("ace/lib/lang",["require","exports","module"],function(ae,Z,V){"use strict";Z.last=function($){return $[$.length-1]},Z.stringReverse=function($){return $.split("").reverse().join("")},Z.stringRepeat=function($,k){for(var P="";k>0;)1&k&&(P+=$),(k>>=1)&&($+=$);return P};var X=/^\s\s*/,ee=/\s\s*$/;Z.stringTrimLeft=function($){return $.replace(X,"")},Z.stringTrimRight=function($){return $.replace(ee,"")},Z.copyObject=function($){var k={};for(var P in $)k[P]=$[P];return k},Z.copyArray=function($){for(var k=[],P=0,E=$.length;P<E;P++)k[P]=$[P]&&"object"==typeof $[P]?this.copyObject($[P]):$[P];return k},Z.deepCopy=function $(k){if("object"!=typeof k||!k)return k;var P;if(Array.isArray(k)){P=[];for(var E=0;E<k.length;E++)P[E]=$(k[E]);return P}if("[object Object]"!==Object.prototype.toString.call(k))return k;for(var E in P={},k)P[E]=$(k[E]);return P},Z.arrayToMap=function($){for(var k={},P=0;P<$.length;P++)k[$[P]]=1;return k},Z.createMap=function($){var k=Object.create(null);for(var P in $)k[P]=$[P];return k},Z.arrayRemove=function($,k){for(var P=0;P<=$.length;P++)k===$[P]&&$.splice(P,1)},Z.escapeRegExp=function($){return $.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},Z.escapeHTML=function($){return(""+$).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},Z.getMatchOffsets=function($,k){var P=[];return $.replace(k,function(E){P.push({offset:arguments[arguments.length-2],length:E.length})}),P},Z.deferredCall=function($){var k=null,P=function(){k=null,$()},E=function(R){return E.cancel(),k=setTimeout(P,R||0),E};return E.schedule=E,E.call=function(){return this.cancel(),$(),E},E.cancel=function(){return clearTimeout(k),k=null,E},E.isPending=function(){return k},E},Z.delayedCall=function($,k){var P=null,E=function(){P=null,$()},R=function(x){null==P&&(P=setTimeout(E,x||k))};return R.delay=function(x){P&&clearTimeout(P),P=setTimeout(E,x||k)},R.schedule=R,R.call=function(){this.cancel(),$()},R.cancel=function(){P&&clearTimeout(P),P=null},R.isPending=function(){return P},R}}),ace.define("ace/lib/useragent",["require","exports","module"],function(ae,Z,V){"use strict";Z.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},Z.getOS=function(){return Z.isMac?Z.OS.MAC:Z.isLinux?Z.OS.LINUX:Z.OS.WINDOWS};var X="object"==typeof navigator?navigator:{},ee=(/mac|win|linux/i.exec(X.platform)||["other"])[0].toLowerCase(),$=X.userAgent||"",k=X.appName||"";Z.isWin="win"==ee,Z.isMac="mac"==ee,Z.isLinux="linux"==ee,Z.isIE="Microsoft Internet Explorer"==k||k.indexOf("MSAppHost")>=0?parseFloat(($.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat(($.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),Z.isOldIE=Z.isIE&&Z.isIE<9,Z.isGecko=Z.isMozilla=$.match(/ Gecko\/\d+/),Z.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),Z.isWebKit=parseFloat($.split("WebKit/")[1])||void 0,Z.isChrome=parseFloat($.split(" Chrome/")[1])||void 0,Z.isEdge=parseFloat($.split(" Edge/")[1])||void 0,Z.isAIR=$.indexOf("AdobeAIR")>=0,Z.isAndroid=$.indexOf("Android")>=0,Z.isChromeOS=$.indexOf(" CrOS ")>=0,Z.isIOS=/iPad|iPhone|iPod/.test($)&&!window.MSStream,Z.isIOS&&(Z.isMac=!0),Z.isMobile=Z.isIOS||Z.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(ae,Z,V){"use strict";var X=ae("./useragent");Z.buildDom=function x(A,_,m){if("string"==typeof A&&A){var D=document.createTextNode(A);return _&&_.appendChild(D),D}if(!Array.isArray(A))return A&&A.appendChild&&_&&_.appendChild(A),A;if("string"!=typeof A[0]||!A[0]){for(var I=[],T=0;T<A.length;T++){var w=x(A[T],_,m);w&&I.push(w)}return I}var p=document.createElement(A[0]),y=A[1],h=1;for(y&&"object"==typeof y&&!Array.isArray(y)&&(h=2),T=h;T<A.length;T++)x(A[T],p,m);return 2==h&&Object.keys(y).forEach(function(u){var l=y[u];"class"===u?p.className=Array.isArray(l)?l.join(" "):l:"function"==typeof l||"value"==u||"$"==u[0]?p[u]=l:"ref"===u?m&&(m[l]=p):"style"===u?"string"==typeof l&&(p.style.cssText=l):null!=l&&p.setAttribute(u,l)}),_&&_.appendChild(p),p},Z.getDocumentHead=function(x){return x||(x=document),x.head||x.getElementsByTagName("head")[0]||x.documentElement},Z.createElement=function(x,A){return document.createElementNS?document.createElementNS(A||"http://www.w3.org/1999/xhtml",x):document.createElement(x)},Z.removeChildren=function(x){x.innerHTML=""},Z.createTextNode=function(x,A){return(A?A.ownerDocument:document).createTextNode(x)},Z.createFragment=function(x){return(x?x.ownerDocument:document).createDocumentFragment()},Z.hasCssClass=function(x,A){return-1!==(x.className+"").split(/\s+/g).indexOf(A)},Z.addCssClass=function(x,A){Z.hasCssClass(x,A)||(x.className+=" "+A)},Z.removeCssClass=function(x,A){for(var _=x.className.split(/\s+/g);;){var m=_.indexOf(A);if(-1==m)break;_.splice(m,1)}x.className=_.join(" ")},Z.toggleCssClass=function(x,A){for(var _=x.className.split(/\s+/g),m=!0;;){var D=_.indexOf(A);if(-1==D)break;m=!1,_.splice(D,1)}return m&&_.push(A),x.className=_.join(" "),m},Z.setCssClass=function(x,A,_){_?Z.addCssClass(x,A):Z.removeCssClass(x,A)},Z.hasCssString=function(x,A){var m,_=0;if(m=(A=A||document).querySelectorAll("style"))for(;_<m.length;)if(m[_++].id===x)return!0},Z.removeElementById=function(x,A){(A=A||document).getElementById(x)&&A.getElementById(x).remove()};var $,k=[];function P(){var x=k;k=null,x&&x.forEach(function(A){E(A[0],A[1])})}function E(x,A,_){if("undefined"!=typeof document){if(k)if(_)P();else if(!1===_)return k.push([x,A]);if(!$){var m=_;_&&_.getRootNode?(!(m=_.getRootNode())||m==_)&&(m=document):m=document;var D=m.ownerDocument||m;if(A&&Z.hasCssString(A,m))return null;A&&(x+="\n/*# sourceURL=ace/css/"+A+" */");var I=Z.createElement("style");I.appendChild(D.createTextNode(x)),A&&(I.id=A),m==D&&(m=Z.getDocumentHead(D)),m.insertBefore(I,m.firstChild)}}}if(Z.useStrictCSP=function(x){$=x,0==x?P():k||(k=[])},Z.importCssString=E,Z.importCssStylsheet=function(x,A){Z.buildDom(["link",{rel:"stylesheet",href:x}],Z.getDocumentHead(A))},Z.scrollbarWidth=function(x){var A=Z.createElement("ace_inner");A.style.width="100%",A.style.minWidth="0px",A.style.height="200px",A.style.display="block";var _=Z.createElement("ace_outer"),m=_.style;m.position="absolute",m.left="-10000px",m.overflow="hidden",m.width="200px",m.minWidth="0px",m.height="150px",m.display="block",_.appendChild(A);var D=x&&x.documentElement||document&&document.documentElement;if(!D)return 0;D.appendChild(_);var I=A.offsetWidth;m.overflow="scroll";var T=A.offsetWidth;return I===T&&(T=_.clientWidth),D.removeChild(_),I-T},Z.computedStyle=function(x,A){return window.getComputedStyle(x,"")||{}},Z.setStyle=function(x,A,_){x[A]!==_&&(x[A]=_)},Z.HAS_CSS_ANIMATION=!1,Z.HAS_CSS_TRANSFORMS=!1,Z.HI_DPI=!X.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,X.isChromeOS&&(Z.HI_DPI=!1),"undefined"!=typeof document){var R=document.createElement("div");Z.HI_DPI&&void 0!==R.style.transform&&(Z.HAS_CSS_TRANSFORMS=!0),!X.isEdge&&void 0!==R.style.animationName&&(Z.HAS_CSS_ANIMATION=!0),R=null}Z.translate=Z.HAS_CSS_TRANSFORMS?function(x,A,_){x.style.transform="translate("+Math.round(A)+"px, "+Math.round(_)+"px)"}:function(x,A,_){x.style.top=Math.round(_)+"px",x.style.left=Math.round(A)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(ae,Z,V){"use strict";var X=ae("./dom");Z.get=function(ee,$){var k=new XMLHttpRequest;k.open("GET",ee,!0),k.onreadystatechange=function(){4===k.readyState&&$(k.responseText)},k.send(null)},Z.loadScript=function(ee,$){var k=X.getDocumentHead(),P=document.createElement("script");P.src=ee,k.appendChild(P),P.onload=P.onreadystatechange=function(E,R){(R||!P.readyState||"loaded"==P.readyState||"complete"==P.readyState)&&(P=P.onload=P.onreadystatechange=null,R||$())}},Z.qualifyURL=function(ee){var $=document.createElement("a");return $.href=ee,$.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(ae,Z,V){"use strict";Z.inherits=function(X,ee){X.super_=ee,X.prototype=Object.create(ee.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}})},Z.mixin=function(X,ee){for(var $ in ee)X[$]=ee[$];return X},Z.implement=function(X,ee){Z.mixin(X,ee)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(ae,Z,V){"use strict";var X={},ee=function(){this.propagationStopped=!0},$=function(){this.defaultPrevented=!0};X._emit=X._dispatchEvent=function(k,P){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var E=this._eventRegistry[k]||[],R=this._defaultHandlers[k];if(E.length||R){("object"!=typeof P||!P)&&(P={}),P.type||(P.type=k),P.stopPropagation||(P.stopPropagation=ee),P.preventDefault||(P.preventDefault=$),E=E.slice();for(var x=0;x<E.length&&(E[x](P,this),!P.propagationStopped);x++);if(R&&!P.defaultPrevented)return R(P,this)}},X._signal=function(k,P){var E=(this._eventRegistry||{})[k];if(E){E=E.slice();for(var R=0;R<E.length;R++)E[R](P,this)}},X.once=function(k,P){var E=this;if(this.on(k,function R(){E.off(k,R),P.apply(null,arguments)}),!P)return new Promise(function(R){P=R})},X.setDefaultHandler=function(k,P){var E=this._defaultHandlers;if(E||(E=this._defaultHandlers={_disabled_:{}}),E[k]){var R=E[k],x=E._disabled_[k];x||(E._disabled_[k]=x=[]),x.push(R);var A=x.indexOf(P);-1!=A&&x.splice(A,1)}E[k]=P},X.removeDefaultHandler=function(k,P){var E=this._defaultHandlers;if(E){var R=E._disabled_[k];if(E[k]==P)R&&this.setDefaultHandler(k,R.pop());else if(R){var x=R.indexOf(P);-1!=x&&R.splice(x,1)}}},X.on=X.addEventListener=function(k,P,E){this._eventRegistry=this._eventRegistry||{};var R=this._eventRegistry[k];return R||(R=this._eventRegistry[k]=[]),-1==R.indexOf(P)&&R[E?"unshift":"push"](P),P},X.off=X.removeListener=X.removeEventListener=function(k,P){this._eventRegistry=this._eventRegistry||{};var E=this._eventRegistry[k];if(E){var R=E.indexOf(P);-1!==R&&E.splice(R,1)}},X.removeAllListeners=function(k){k||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[k]=void 0),this._defaultHandlers&&(this._defaultHandlers[k]=void 0)},Z.EventEmitter=X}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(ae,Z,V){var X=ae("./oop"),ee=ae("./event_emitter").EventEmitter,$={setOptions:function(x){Object.keys(x).forEach(function(A){this.setOption(A,x[A])},this)},getOptions:function(x){var A={};if(x)Array.isArray(x)||(A=x,x=Object.keys(A));else{var _=this.$options;x=Object.keys(_).filter(function(m){return!_[m].hidden})}return x.forEach(function(m){A[m]=this.getOption(m)},this),A},setOption:function(x,A){if(this["$"+x]!==A){var _=this.$options[x];if(!_)return k('misspelled option "'+x+'"');if(_.forwardTo)return this[_.forwardTo]&&this[_.forwardTo].setOption(x,A);_.handlesSet||(this["$"+x]=A),_&&_.set&&_.set.call(this,A)}},getOption:function(x){var A=this.$options[x];return A?A.forwardTo?this[A.forwardTo]&&this[A.forwardTo].getOption(x):A&&A.get?A.get.call(this):this["$"+x]:k('misspelled option "'+x+'"')}};function k(x){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}var E,R=function(){function x(){this.$defaultOptions={}}return x.prototype.defineOptions=function(A,_,m){return A.$options||(this.$defaultOptions[_]=A.$options={}),Object.keys(m).forEach(function(D){var I=m[D];"string"==typeof I&&(I={forwardTo:I}),I.name||(I.name=D),A.$options[I.name]=I,"initialValue"in I&&(A["$"+I.name]=I.initialValue)}),X.implement(A,$),this},x.prototype.resetOptions=function(A){Object.keys(A.$options).forEach(function(_){var m=A.$options[_];"value"in m&&A.setOption(_,m.value)})},x.prototype.setDefaultValue=function(A,_,m){if(!A){for(A in this.$defaultOptions)if(this.$defaultOptions[A][_])break;if(!this.$defaultOptions[A][_])return!1}var D=this.$defaultOptions[A]||(this.$defaultOptions[A]={});D[_]&&(D.forwardTo?this.setDefaultValue(D.forwardTo,_,m):D[_].value=m)},x.prototype.setDefaultValues=function(A,_){Object.keys(_).forEach(function(m){this.setDefaultValue(A,m,_[m])},this)},x.prototype.setMessages=function(A){E=A},x.prototype.nls=function(A,_){var m=E&&E[A]||A;return _&&(m=m.replace(/\$(\$|[\d]+)/g,function(D,I){return"$"==I?"$":_[I]})),m},x}();R.prototype.warn=k,R.prototype.reportError=function P(x,A){var _=new Error(x);_.data=A,"object"==typeof console&&console.error&&console.error(_),setTimeout(function(){throw _})},X.implement(R.prototype,ee),Z.AppConfig=R}),ace.define("ace/theme/textmate.css",["require","exports","module"],function(ae,Z,V){V.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],function(ae,Z,V){"use strict";Z.isDark=!1,Z.cssClass="ace-tm",Z.cssText=ae("./textmate.css"),Z.$id="ace/theme/textmate",ae("../lib/dom").importCssString(Z.cssText,Z.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(ae,Z,V){var X=ae("./lib/lang"),ee=ae("./lib/net"),$=ae("./lib/dom"),k=ae("./lib/app_config").AppConfig;V.exports=Z=new k;var P={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};Z.get=function(x){if(!P.hasOwnProperty(x))throw new Error("Unknown config key: "+x);return P[x]},Z.set=function(x,A){if(P.hasOwnProperty(x))P[x]=A;else if(0==this.setDefaultValue("",x,A))throw new Error("Unknown config key: "+x);"useStrictCSP"==x&&$.useStrictCSP(A)},Z.all=function(){return X.copyObject(P)},Z.$modes={},Z.moduleUrl=function(x,A){if(P.$moduleUrls[x])return P.$moduleUrls[x];var _=x.split("/"),m="snippets"==(A=A||_[_.length-2]||"")?"/":"-",D=_[_.length-1];if("worker"==A&&"-"==m){var I=new RegExp("^"+A+"[\\-_]|[\\-_]"+A+"$","g");D=D.replace(I,"")}(!D||D==A)&&_.length>1&&(D=_[_.length-2]);var T=P[A+"Path"];return null==T?T=P.basePath:"/"==m&&(A=m=""),T&&"/"!=T.slice(-1)&&(T+="/"),T+A+m+D+this.get("suffix")},Z.setModuleUrl=function(x,A){return P.$moduleUrls[x]=A};var E=function(x,A){return"ace/theme/textmate"===x||"./theme/textmate"===x?A(null,ae("./theme/textmate")):console.error("loader is not configured")};Z.setLoader=function(x){E=x},Z.dynamicModules=Object.create(null),Z.$loading={},Z.loadModule=function(x,A){var _,m;Array.isArray(x)&&(m=x[0],x=x[1]);var D=function(I){if(I&&!Z.$loading[x])return A&&A(I);if(Z.$loading[x]||(Z.$loading[x]=[]),Z.$loading[x].push(A),!(Z.$loading[x].length>1)){var T=function(){E(x,function(w,p){Z._emit("load.module",{name:x,module:p});var y=Z.$loading[x];Z.$loading[x]=null,y.forEach(function(h){h&&h(p)})})};if(!Z.get("packaged"))return T();ee.loadScript(Z.moduleUrl(x,m),T),R()}};if(Z.dynamicModules[x])Z.dynamicModules[x]().then(function(I){D(I.default?I.default:I)});else{try{_=ae(x)}catch(I){}D(_)}},Z.setModuleLoader=function(x,A){Z.dynamicModules[x]=A};var R=function(){!P.basePath&&!P.workerPath&&!P.modePath&&!P.themePath&&!Object.keys(P.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),R=function(){})};Z.version="1.22.0"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(ae,Z,V){"use strict";ae("./lib/fixoldbrowsers");var X=ae("./config");X.setLoader(function(P,E){ae([P],function(R){E(null,R)})});var ee=function(){return this||"undefined"!=typeof window&&window}();function $(P){if(ee&&ee.document){X.set("packaged",P||ae.packaged||V.packaged||ee.define&&Ve.amdD.packaged);var E={},R="",x=document.currentScript||document._currentScript,A=x&&x.ownerDocument||document;x&&x.src&&(R=x.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var _=A.getElementsByTagName("script"),m=0;m<_.length;m++){var D=_[m],I=D.src||D.getAttribute("src");if(I){for(var T=D.attributes,w=0,p=T.length;w<p;w++){var y=T[w];0===y.name.indexOf("data-ace-")&&(E[k(y.name.replace(/^data-ace-/,""))]=y.value)}var h=I.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);h&&(R=h[1])}}for(var u in R&&(E.base=E.base||R,E.packaged=!0),E.basePath=E.base,E.workerPath=E.workerPath||E.base,E.modePath=E.modePath||E.base,E.themePath=E.themePath||E.base,delete E.base,E)void 0!==E[u]&&X.set(u,E[u])}}function k(P){return P.replace(/-(.)/g,function(E,R){return R.toUpperCase()})}V.exports=function(P){X.init=$,P.require=ae,P.define=Ve.amdD},$(!0)}),ace.define("ace/range",["require","exports","module"],function(ae,Z,V){"use strict";var ee=function(){function $(k,P,E,R){this.start={row:k,column:P},this.end={row:E,column:R}}return $.prototype.isEqual=function(k){return this.start.row===k.start.row&&this.end.row===k.end.row&&this.start.column===k.start.column&&this.end.column===k.end.column},$.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},$.prototype.contains=function(k,P){return 0==this.compare(k,P)},$.prototype.compareRange=function(k){var P,E=k.end,R=k.start;return 1==(P=this.compare(E.row,E.column))?1==(P=this.compare(R.row,R.column))?2:0==P?1:0:-1==P?-2:-1==(P=this.compare(R.row,R.column))?-1:1==P?42:0},$.prototype.comparePoint=function(k){return this.compare(k.row,k.column)},$.prototype.containsRange=function(k){return 0==this.comparePoint(k.start)&&0==this.comparePoint(k.end)},$.prototype.intersects=function(k){var P=this.compareRange(k);return-1==P||0==P||1==P},$.prototype.isEnd=function(k,P){return this.end.row==k&&this.end.column==P},$.prototype.isStart=function(k,P){return this.start.row==k&&this.start.column==P},$.prototype.setStart=function(k,P){"object"==typeof k?(this.start.column=k.column,this.start.row=k.row):(this.start.row=k,this.start.column=P)},$.prototype.setEnd=function(k,P){"object"==typeof k?(this.end.column=k.column,this.end.row=k.row):(this.end.row=k,this.end.column=P)},$.prototype.inside=function(k,P){return 0==this.compare(k,P)&&!(this.isEnd(k,P)||this.isStart(k,P))},$.prototype.insideStart=function(k,P){return 0==this.compare(k,P)&&!this.isEnd(k,P)},$.prototype.insideEnd=function(k,P){return 0==this.compare(k,P)&&!this.isStart(k,P)},$.prototype.compare=function(k,P){return this.isMultiLine()||k!==this.start.row?k<this.start.row?-1:k>this.end.row?1:this.start.row===k?P>=this.start.column?0:-1:this.end.row===k?P<=this.end.column?0:1:0:P<this.start.column?-1:P>this.end.column?1:0},$.prototype.compareStart=function(k,P){return this.start.row==k&&this.start.column==P?-1:this.compare(k,P)},$.prototype.compareEnd=function(k,P){return this.end.row==k&&this.end.column==P?1:this.compare(k,P)},$.prototype.compareInside=function(k,P){return this.end.row==k&&this.end.column==P?1:this.start.row==k&&this.start.column==P?-1:this.compare(k,P)},$.prototype.clipRows=function(k,P){if(this.end.row>P)var E={row:P+1,column:0};else this.end.row<k&&(E={row:k,column:0});if(this.start.row>P)var R={row:P+1,column:0};else this.start.row<k&&(R={row:k,column:0});return $.fromPoints(R||this.start,E||this.end)},$.prototype.extend=function(k,P){var E=this.compare(k,P);if(0==E)return this;if(-1==E)var R={row:k,column:P};else var x={row:k,column:P};return $.fromPoints(R||this.start,x||this.end)},$.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},$.prototype.isMultiLine=function(){return this.start.row!==this.end.row},$.prototype.clone=function(){return $.fromPoints(this.start,this.end)},$.prototype.collapseRows=function(){return new $(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},$.prototype.toScreenRange=function(k){var P=k.documentToScreenPosition(this.start),E=k.documentToScreenPosition(this.end);return new $(P.row,P.column,E.row,E.column)},$.prototype.moveBy=function(k,P){this.start.row+=k,this.start.column+=P,this.end.row+=k,this.end.column+=P},$}();ee.fromPoints=function($,k){return new ee($.row,$.column,k.row,k.column)},ee.comparePoints=function($,k){return $.row-k.row||$.column-k.column},ee.comparePoints=function($,k){return $.row-k.row||$.column-k.column},Z.Range=ee}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(ae,Z,V){"use strict";var X=ae("./oop"),ee=function(){var k,P,$={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(P in $.PRINTABLE_KEYS[173]="-",$.FUNCTION_KEYS)k=$.FUNCTION_KEYS[P].toLowerCase(),$[k]=parseInt(P,10);for(P in $.PRINTABLE_KEYS)k=$.PRINTABLE_KEYS[P].toLowerCase(),$[k]=parseInt(P,10);return X.mixin($,$.MODIFIER_KEYS),X.mixin($,$.PRINTABLE_KEYS),X.mixin($,$.FUNCTION_KEYS),$.enter=$.return,$.escape=$.esc,$.del=$.delete,function(){for(var E=["cmd","ctrl","alt","shift"],R=Math.pow(2,E.length);R--;)$.KEY_MODS[R]=E.filter(function(x){return R&$.KEY_MODS[x]}).join("-")+"-"}(),$.KEY_MODS[0]="",$.KEY_MODS[-1]="input-",$}();X.mixin(Z,ee),Z.keyCodeToString=function($){var k=ee[$];return"string"!=typeof k&&(k=String.fromCharCode($)),k.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(ae,Z,V){"use strict";var P,X=ae("./keys"),ee=ae("./useragent"),$=null,k=0;function R(){return null==P&&function E(){P=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){P={passive:!1}}})}catch(w){}}(),P}function x(w,p,y){this.elem=w,this.type=p,this.callback=y}x.prototype.destroy=function(){_(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var A=Z.addListener=function(w,p,y,h){w.addEventListener(p,y,R()),h&&h.$toDestroy.push(new x(w,p,y))},_=Z.removeListener=function(w,p,y){w.removeEventListener(p,y,R())};Z.stopEvent=function(w){return Z.stopPropagation(w),Z.preventDefault(w),!1},Z.stopPropagation=function(w){w.stopPropagation&&w.stopPropagation()},Z.preventDefault=function(w){w.preventDefault&&w.preventDefault()},Z.getButton=function(w){return"dblclick"==w.type?0:"contextmenu"==w.type||ee.isMac&&w.ctrlKey&&!w.altKey&&!w.shiftKey?2:w.button},Z.capture=function(w,p,y){var h=w&&w.ownerDocument||document;function u(l){p&&p(l),y&&y(l),_(h,"mousemove",p),_(h,"mouseup",u),_(h,"dragstart",u)}return A(h,"mousemove",p),A(h,"mouseup",u),A(h,"dragstart",u),u},Z.addMouseWheelListener=function(w,p,y){A(w,"wheel",function(h){var l=h.deltaX||0,d=h.deltaY||0;switch(h.deltaMode){case h.DOM_DELTA_PIXEL:h.wheelX=.15*l,h.wheelY=.15*d;break;case h.DOM_DELTA_LINE:h.wheelX=15*l,h.wheelY=15*d;break;case h.DOM_DELTA_PAGE:h.wheelX=150*l,h.wheelY=150*d}p(h)},y)},Z.addMultiMouseDownListener=function(w,p,y,h,u){var d,g,f,l=0,v={2:"dblclick",3:"tripleclick",4:"quadclick"};function C(S){if(0!==Z.getButton(S)?l=0:S.detail>1?++l>4&&(l=1):l=1,ee.isIE){var O=Math.abs(S.clientX-d)>5||Math.abs(S.clientY-g)>5;(!f||O)&&(l=1),f&&clearTimeout(f),f=setTimeout(function(){f=null},p[l-1]||600),1==l&&(d=S.clientX,g=S.clientY)}if(S._clicks=l,y[h]("mousedown",S),l>4)l=0;else if(l>1)return y[h](v[l],S)}Array.isArray(w)||(w=[w]),w.forEach(function(S){A(S,"mousedown",C,u)})};var m=function(w){return 0|(w.ctrlKey?1:0)|(w.altKey?2:0)|(w.shiftKey?4:0)|(w.metaKey?8:0)};function D(w,p,y){var h=m(p);if(!ee.isMac&&$){if(p.getModifierState&&(p.getModifierState("OS")||p.getModifierState("Win"))&&(h|=8),$.altGr){if(3==(3&h))return;$.altGr=0}if(18===y||17===y){var u="location"in p?p.location:p.keyLocation;17===y&&1===u?1==$[y]&&(k=p.timeStamp):18===y&&3===h&&2===u&&p.timeStamp-k<50&&($.altGr=!0)}}if(y in X.MODIFIER_KEYS&&(y=-1),h||13!==y||3!==(u="location"in p?p.location:p.keyLocation)||(w(p,h,-y),!p.defaultPrevented)){if(ee.isChromeOS&&8&h){if(w(p,h,y),p.defaultPrevented)return;h&=-9}return!!(h||y in X.FUNCTION_KEYS||y in X.PRINTABLE_KEYS)&&w(p,h,y)}}function I(){$=Object.create(null)}if(Z.getModifierString=function(w){return X.KEY_MODS[m(w)]},Z.addCommandKeyListener=function(w,p,y){if(ee.isOldGecko||ee.isOpera&&!("KeyboardEvent"in window)){var h=null;A(w,"keydown",function(l){h=l.keyCode},y),A(w,"keypress",function(l){return D(p,l,h)},y)}else{var u=null;A(w,"keydown",function(l){$[l.keyCode]=($[l.keyCode]||0)+1;var d=D(p,l,l.keyCode);return u=l.defaultPrevented,d},y),A(w,"keypress",function(l){u&&(l.ctrlKey||l.altKey||l.shiftKey||l.metaKey)&&(Z.stopEvent(l),u=null)},y),A(w,"keyup",function(l){$[l.keyCode]=null},y),$||(I(),A(window,"focus",I))}},"object"==typeof window&&window.postMessage&&!ee.isOldIE){var T=1;Z.nextTick=function(w,p){p=p||window;var y="zero-timeout-message-"+T++,h=function(u){u.data==y&&(Z.stopPropagation(u),_(p,"message",h),w())};A(p,"message",h),p.postMessage(y,"*")}}Z.$idleBlocked=!1,Z.onIdle=function(w,p){return setTimeout(function y(){Z.$idleBlocked?setTimeout(y,100):w()},p)},Z.$idleBlockId=null,Z.blockIdle=function(w){Z.$idleBlockId&&clearTimeout(Z.$idleBlockId),Z.$idleBlocked=!0,Z.$idleBlockId=setTimeout(function(){Z.$idleBlocked=!1},w||100)},Z.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),Z.nextFrame=Z.nextFrame?Z.nextFrame.bind(window):function(w){setTimeout(w,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(ae,Z,V){"use strict";var X;V.exports={lineMode:!1,pasteCancelled:function(){return!!(X&&X>Date.now()-50)||(X=!1)},cancel:function(){X=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(ae,Z,V){"use strict";var X=ae("../lib/event"),ee=ae("../config").nls,$=ae("../lib/useragent"),k=ae("../lib/dom"),P=ae("../lib/lang"),E=ae("../clipboard"),R=$.isChrome<18,x=$.isIE,A=$.isChrome>63,_=400,m=ae("../lib/keys"),D=m.KEY_MODS,I=$.isIOS,T=I?/\s/:/\n/,w=$.isMobile;Z.TextInput=function(y,h){var u=k.createElement("textarea");u.className="ace_text-input",u.setAttribute("wrap","off"),u.setAttribute("autocorrect","off"),u.setAttribute("autocapitalize","off"),u.setAttribute("spellcheck",!1),u.style.opacity="0",y.insertBefore(u,y.firstChild);var l=!1,d=!1,g=!1,f=!1,v="";w||(u.style.fontSize="1px");var C=!1,S=!1,O="",N=0,z=0,K=0;try{var Q=document.activeElement===u}catch(Ue){}this.setAriaOptions=function(Ue){Ue.activeDescendant?(u.setAttribute("aria-haspopup","true"),u.setAttribute("aria-autocomplete",Ue.inline?"both":"list"),u.setAttribute("aria-activedescendant",Ue.activeDescendant)):(u.setAttribute("aria-haspopup","false"),u.setAttribute("aria-autocomplete","both"),u.removeAttribute("aria-activedescendant")),Ue.role&&u.setAttribute("role",Ue.role)},this.setAriaLabel=function(){if(h.session&&h.renderer.enableKeyboardAccessibility){var Ue=h.session.selection.cursor.row;u.setAttribute("aria-roledescription",ee("editor")),u.setAttribute("aria-label",ee("Cursor at row $0",[Ue+1]))}else u.removeAttribute("aria-roledescription"),u.removeAttribute("aria-label")},this.setAriaOptions({role:"textbox"}),this.setAriaLabel(),X.addListener(u,"blur",function(Ue){S||(h.onBlur(Ue),Q=!1,w&&!I&&document.removeEventListener("selectionchange",F))},h),X.addListener(u,"focus",function(Ue){if(!S){if(Q=!0,$.isEdge)try{if(!document.hasFocus())return}catch(dt){}h.onFocus(Ue),$.isEdge?setTimeout(ue):ue(),w&&!I&&document.addEventListener("selectionchange",F)}},h),this.$focusScroll=!1,this.focus=function(){if(this.setAriaLabel(),v||A||"browser"==this.$focusScroll)return u.focus({preventScroll:!0});var Ue=u.style.top;u.style.position="fixed",u.style.top="0px";try{var dt=0!=u.getBoundingClientRect().top}catch(en){return}var xt=[];if(dt)for(var Zt=u.parentElement;Zt&&1==Zt.nodeType;)xt.push(Zt),Zt.setAttribute("ace_nocontext",!0),Zt=!Zt.parentElement&&Zt.getRootNode?Zt.getRootNode().host:Zt.parentElement;u.focus({preventScroll:!0}),dt&&xt.forEach(function(en){en.removeAttribute("ace_nocontext")}),setTimeout(function(){u.style.position="","0px"==u.style.top&&(u.style.top=Ue)},0)},this.blur=function(){u.blur()},this.isFocused=function(){return Q},h.on("beforeEndOperation",function(){var Ue=h.curOp,dt=Ue&&Ue.command&&Ue.command.name;"insertstring"!=dt&&(g&&dt&&(Ue.docChanged||Ue.selectionChanged)&&(O=u.value="",de()),ue())});var ue=I?function(Ue){if(Q&&(!l||Ue)&&!f){Ue||(Ue="");var dt="\n ab"+Ue+"cde fg\n";dt!=u.value&&(u.value=O=dt);var Zt=4+(Ue.length||(h.selection.isEmpty()?0:1));(4!=N||z!=Zt)&&u.setSelectionRange(4,Zt),N=4,z=Zt}}:function(){if(!g&&!f&&(Q||Y)){g=!0;var Ue=0,dt=0,xt="";if(h.session){var Zt=h.selection,en=Zt.getRange(),tn=Zt.cursor.row;if(Ue=en.start.column,dt=en.end.column,xt=h.session.getLine(tn),en.start.row!=tn){var Kt=h.session.getLine(tn-1);Ue=en.start.row<tn-1?0:Ue,dt+=Kt.length+1,xt=Kt+"\n"+xt}else if(en.end.row!=tn){var On=h.session.getLine(tn+1);dt=en.end.row>tn+1?On.length:dt,dt+=xt.length+1,xt=xt+"\n"+On}else w&&tn>0&&(xt="\n"+xt,dt+=1,Ue+=1);xt.length>_&&(Ue<_&&dt<_?xt=xt.slice(0,_):(xt="\n",Ue==dt?Ue=dt=0:(Ue=0,dt=1)))}var Dn=xt+"\n\n";if(Dn!=O&&(u.value=O=Dn,N=z=Dn.length),Y&&(N=u.selectionStart,z=u.selectionEnd),z!=dt||N!=Ue||u.selectionEnd!=z)try{u.setSelectionRange(Ue,dt),N=Ue,z=dt}catch(un){}g=!1}};function F(Ue){if((!u||!u.parentNode)&&document.removeEventListener("selectionchange",F),!g&&u.selectionStart===u.selectionEnd){var dt=u.selectionStart-N,xt=z-N;dt>0?dt=Math.max(dt-xt,1):0===dt&&xt&&(dt=-1);for(var Zt=Math.abs(dt),en=dt>0?m.right:m.left,tn=0;tn<Zt;tn++)h.onCommandKey({},0,en)}}this.resetSelection=ue,Q&&h.onFocus();var U=null;this.setInputHandler=function(Ue){U=Ue},this.getInputHandler=function(){return U};var Y=!1,W=function(Ue,dt){if(Y&&(Y=!1),d)return ue(),Ue&&h.onPaste(Ue),d=!1,"";for(var xt=u.selectionStart,Zt=u.selectionEnd,en=N,tn=O.length-z,Kt=Ue,On=Ue.length-xt,Dn=Ue.length-Zt,un=0;en>0&&O[un]==Ue[un];)un++,en--;for(Kt=Kt.slice(un),un=1;tn>0&&O.length-un>N-1&&O[O.length-un]==Ue[Ue.length-un];)un++,tn--;On-=un-1,Dn-=un-1;var _t=Kt.length-un+1;if(_t<0&&(en=-_t,_t=0),Kt=Kt.slice(0,_t),!(dt||Kt||On||en||tn||Dn))return"";f=!0;var Yt=!1;return $.isAndroid&&". "==Kt&&(Kt="  ",Yt=!0),Kt&&!en&&!tn&&!On&&!Dn||C?h.onTextInput(Kt):h.onTextInput(Kt,{extendLeft:en,extendRight:tn,restoreStart:On,restoreEnd:Dn}),f=!1,O=Ue,N=xt,z=Zt,K=Dn,Yt?"\n":Kt},ne=function(Ue){if(g)return ie();if(Ue&&Ue.inputType){if("historyUndo"==Ue.inputType)return h.execCommand("undo");if("historyRedo"==Ue.inputType)return h.execCommand("redo")}var dt=u.value,xt=W(dt,!0);(dt.length>500||T.test(xt)||w&&N<1&&N==z)&&ue()},fe=function(Ue,dt,xt){var Zt=Ue.clipboardData||window.clipboardData;if(Zt&&!R){var en=x||xt?"Text":"text/plain";try{return dt?!1!==Zt.setData(en,dt):Zt.getData(en)}catch(tn){if(!xt)return fe(tn,dt,!0)}}},he=function(Ue,dt){var xt=h.getCopyText();if(!xt)return X.preventDefault(Ue);fe(Ue,xt)?(I&&(ue(xt),l=xt,setTimeout(function(){l=!1},10)),dt?h.onCut():h.onCopy(),X.preventDefault(Ue)):(l=!0,u.value=xt,u.select(),setTimeout(function(){l=!1,ue(),dt?h.onCut():h.onCopy()}))},Ae=function(Ue){he(Ue,!0)},ke=function(Ue){he(Ue,!1)},xe=function(Ue){var dt=fe(Ue);E.pasteCancelled()||("string"==typeof dt?(dt&&h.onPaste(dt,Ue),$.isIE&&setTimeout(ue),X.preventDefault(Ue)):(u.value="",d=!0))};X.addCommandKeyListener(u,h.onCommandKey.bind(h),h),X.addListener(u,"select",function(Ue){g||(l?l=!1:function(Ue){return 0===Ue.selectionStart&&Ue.selectionEnd>=O.length&&Ue.value===O&&O&&Ue.selectionEnd!==z}(u)?(h.selectAll(),ue()):w&&u.selectionStart!=N&&ue())},h),X.addListener(u,"input",ne,h),X.addListener(u,"cut",Ae,h),X.addListener(u,"copy",ke,h),X.addListener(u,"paste",xe,h),(!("oncut"in u)||!("oncopy"in u)||!("onpaste"in u))&&X.addListener(y,"keydown",function(Ue){if((!$.isMac||Ue.metaKey)&&Ue.ctrlKey)switch(Ue.keyCode){case 67:ke(Ue);break;case 86:xe(Ue);break;case 88:Ae(Ue)}},h);var ie=function(){if(g&&h.onCompositionUpdate&&!h.$readOnly){if(C)return me();g.useTextareaForIME?h.onCompositionUpdate(u.value):(W(u.value),g.markerRange&&(g.context&&(g.markerRange.start.column=g.selectionStart=g.context.compositionStartOffset),g.markerRange.end.column=g.markerRange.start.column+z-g.selectionStart+K))}},de=function(Ue){!h.onCompositionEnd||h.$readOnly||(g=!1,h.onCompositionEnd(),h.off("mousedown",me),Ue&&ne())};function me(){S=!0,u.blur(),u.focus(),S=!1}var le,Ce=P.delayedCall(ie,50).schedule.bind(null,null);function ve(){clearTimeout(le),le=setTimeout(function(){v&&(u.style.cssText=v,v=""),h.renderer.$isMousePressed=!1,h.renderer.$keepTextAreaAtCursor&&h.renderer.$moveTextAreaToCursor()},0)}X.addListener(u,"compositionstart",function(Ue){if(!g&&h.onCompositionStart&&!h.$readOnly&&(g={},!C)){Ue.data&&(g.useTextareaForIME=!1),setTimeout(ie,0),h._signal("compositionStart"),h.on("mousedown",me);var dt=h.getSelectionRange();dt.end.row=dt.start.row,dt.end.column=dt.start.column,g.markerRange=dt,g.selectionStart=N,h.onCompositionStart(g),g.useTextareaForIME?(O=u.value="",N=0,z=0):(u.msGetInputContext&&(g.context=u.msGetInputContext()),u.getInputContext&&(g.context=u.getInputContext()))}},h),X.addListener(u,"compositionupdate",ie,h),X.addListener(u,"keyup",function re(Ue){27==Ue.keyCode&&u.value.length<u.selectionStart&&(g||(O=u.value),N=z=-1,ue()),Ce()},h),X.addListener(u,"keydown",Ce,h),X.addListener(u,"compositionend",de,h),this.getElement=function(){return u},this.setCommandMode=function(Ue){C=Ue,u.readOnly=!1},this.setReadOnly=function(Ue){C||(u.readOnly=Ue)},this.setCopyWithEmptySelection=function(Ue){},this.onContextMenu=function(Ue){Y=!0,ue(),h._emit("nativecontextmenu",{target:h,domEvent:Ue}),this.moveToMouse(Ue,!0)},this.moveToMouse=function(Ue,dt){v||(v=u.style.cssText),u.style.cssText=(dt?"z-index:100000;":"")+($.isIE?"opacity:0.1;":"")+"text-indent: -"+(N+z)*h.renderer.characterWidth*.5+"px;";var xt=h.container.getBoundingClientRect(),Zt=k.computedStyle(h.container),en=xt.top+(parseInt(Zt.borderTopWidth)||0),tn=xt.left+(parseInt(xt.borderLeftWidth)||0),Kt=xt.bottom-en-u.clientHeight-2,On=function(Dn){k.translate(u,Dn.clientX-tn-2,Math.min(Dn.clientY-en-2,Kt))};On(Ue),"mousedown"==Ue.type&&(h.renderer.$isMousePressed=!0,clearTimeout(le),$.isWin&&X.capture(h.container,On,ve))},this.onContextMenuClose=ve;var we=function(Ue){h.textInput.onContextMenu(Ue),ve()};X.addListener(u,"mouseup",we,h),X.addListener(u,"mousedown",function(Ue){Ue.preventDefault(),ve()},h),X.addListener(h.renderer.scroller,"contextmenu",we,h),X.addListener(u,"contextmenu",we,h),I&&function Pe(Ue,dt,xt){var Zt=null,en=!1;xt.addEventListener("keydown",function(Kt){Zt&&clearTimeout(Zt),en=!0},!0),xt.addEventListener("keyup",function(Kt){Zt=setTimeout(function(){en=!1},100)},!0);var tn=function(Kt){if(document.activeElement===xt&&!(en||g||dt.$mouseHandler.isMousePressed)&&!l){var On=xt.selectionStart,Dn=xt.selectionEnd,un=null,_t=0;if(0==On?un=m.up:1==On?un=m.home:Dn>z&&"\n"==O[Dn]?un=m.end:On<N&&" "==O[On-1]?(un=m.left,_t=D.option):On<N||On==N&&z!=N&&On==Dn?un=m.left:Dn>z&&O.slice(0,Dn).split("\n").length>2?un=m.down:Dn>z&&" "==O[Dn-1]?(un=m.right,_t=D.option):(Dn>z||Dn==z&&z!=N&&On==Dn)&&(un=m.right),On!==Dn&&(_t|=D.shift),un){if(!dt.onCommandKey({},_t,un)&&dt.commands){un=m.keyCodeToString(un);var Nn=dt.commands.findKeyCommand(_t,un);Nn&&dt.execCommand(Nn)}N=On,z=Dn,ue("")}}};document.addEventListener("selectionchange",tn),dt.on("destroy",function(){document.removeEventListener("selectionchange",tn)})}(0,h,u),this.destroy=function(){u.parentElement&&u.parentElement.removeChild(u)}},Z.$setUserAgentForTests=function(y,h){w=y,I=h}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(ae,Z,V){"use strict";var X=ae("../lib/useragent"),k=function(){function R(x){x.$clickSelection=null;var A=x.editor;A.setDefaultHandler("mousedown",this.onMouseDown.bind(x)),A.setDefaultHandler("dblclick",this.onDoubleClick.bind(x)),A.setDefaultHandler("tripleclick",this.onTripleClick.bind(x)),A.setDefaultHandler("quadclick",this.onQuadClick.bind(x)),A.setDefaultHandler("mousewheel",this.onMouseWheel.bind(x)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(m){x[m]=this[m]},this),x.selectByLines=this.extendSelectionBy.bind(x,"getLineRange"),x.selectByWords=this.extendSelectionBy.bind(x,"getWordRange")}return R.prototype.onMouseDown=function(x){var A=x.inSelection(),_=x.getDocumentPosition();this.mousedownEvent=x;var m=this.editor,D=x.getButton();return 0!==D?((m.getSelectionRange().isEmpty()||1==D)&&m.selection.moveToPosition(_),void(2==D&&(m.textInput.onContextMenu(x.domEvent),X.isMozilla||x.preventDefault()))):(this.mousedownEvent.time=Date.now(),!A||m.isFocused()||(m.focus(),!this.$focusTimeout||this.$clickSelection||m.inMultiSelectMode)?(this.captureMouse(x),this.startSelect(_,x.domEvent._clicks>1),x.preventDefault()):(this.setState("focusWait"),void this.captureMouse(x)))},R.prototype.startSelect=function(x,A){x=x||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var _=this.editor;!this.mousedownEvent||(this.mousedownEvent.getShiftKey()?_.selection.selectToPosition(x):A||_.selection.moveToPosition(x),A||this.select(),_.setStyle("ace_selecting"),this.setState("select"))},R.prototype.select=function(){var x,A=this.editor,_=A.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var m=this.$clickSelection.comparePoint(_);if(-1==m)x=this.$clickSelection.end;else if(1==m)x=this.$clickSelection.start;else{var D=E(this.$clickSelection,_);_=D.cursor,x=D.anchor}A.selection.setSelectionAnchor(x.row,x.column)}A.selection.selectToPosition(_),A.renderer.scrollCursorIntoView()},R.prototype.extendSelectionBy=function(x){var A,_=this.editor,m=_.renderer.screenToTextCoordinates(this.x,this.y),D=_.selection[x](m.row,m.column);if(this.$clickSelection){var I=this.$clickSelection.comparePoint(D.start),T=this.$clickSelection.comparePoint(D.end);if(-1==I&&T<=0)A=this.$clickSelection.end,(D.end.row!=m.row||D.end.column!=m.column)&&(m=D.start);else if(1==T&&I>=0)A=this.$clickSelection.start,(D.start.row!=m.row||D.start.column!=m.column)&&(m=D.end);else if(-1==I&&1==T)m=D.end,A=D.start;else{var w=E(this.$clickSelection,m);m=w.cursor,A=w.anchor}_.selection.setSelectionAnchor(A.row,A.column)}_.selection.selectToPosition(m),_.renderer.scrollCursorIntoView()},R.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},R.prototype.focusWait=function(){var x=function P(R,x,A,_){return Math.sqrt(Math.pow(A-R,2)+Math.pow(_-x,2))}(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),A=Date.now();(x>0||A-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},R.prototype.onDoubleClick=function(x){var A=x.getDocumentPosition(),_=this.editor,D=_.session.getBracketRange(A);D?(D.isEmpty()&&(D.start.column--,D.end.column++),this.setState("select")):(D=_.selection.getWordRange(A.row,A.column),this.setState("selectByWords")),this.$clickSelection=D,this.select()},R.prototype.onTripleClick=function(x){var A=x.getDocumentPosition(),_=this.editor;this.setState("selectByLines");var m=_.getSelectionRange();m.isMultiLine()&&m.contains(A.row,A.column)?(this.$clickSelection=_.selection.getLineRange(m.start.row),this.$clickSelection.end=_.selection.getLineRange(m.end.row).end):this.$clickSelection=_.selection.getLineRange(A.row),this.select()},R.prototype.onQuadClick=function(x){var A=this.editor;A.selectAll(),this.$clickSelection=A.getSelectionRange(),this.setState("selectAll")},R.prototype.onMouseWheel=function(x){if(!x.getAccelKey()){x.getShiftKey()&&x.wheelY&&!x.wheelX&&(x.wheelX=x.wheelY,x.wheelY=0);var A=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var _=this.$lastScroll,m=x.domEvent.timeStamp,D=m-_.t,I=D?x.wheelX/D:_.vx,T=D?x.wheelY/D:_.vy;D<550&&(I=(I+_.vx)/2,T=(T+_.vy)/2);var w=Math.abs(I/T),p=!1;if(w>=1&&A.renderer.isScrollableBy(x.wheelX*x.speed,0)&&(p=!0),w<=1&&A.renderer.isScrollableBy(0,x.wheelY*x.speed)&&(p=!0),p?_.allowed=m:m-_.allowed<550&&(Math.abs(I)<=1.5*Math.abs(_.vx)&&Math.abs(T)<=1.5*Math.abs(_.vy)?(p=!0,_.allowed=m):_.allowed=0),_.t=m,_.vx=I,_.vy=T,p)return A.renderer.scrollBy(x.wheelX*x.speed,x.wheelY*x.speed),x.stop()}},R}();function E(R,x){if(R.start.row==R.end.row)var A=2*x.column-R.start.column-R.end.column;else if(R.start.row!=R.end.row-1||R.start.column||R.end.column)A=2*x.row-R.start.row-R.end.row;else A=x.column-4;return A<0?{cursor:R.start,anchor:R.end}:{cursor:R.end,anchor:R.start}}k.prototype.selectEnd=k.prototype.selectByLinesEnd,k.prototype.selectAllEnd=k.prototype.selectByLinesEnd,k.prototype.selectByWordsEnd=k.prototype.selectByLinesEnd,Z.DefaultHandlers=k}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/range"],function(ae,Z,V){"use strict";var _,X=this&&this.__extends||(_=function(m,D){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,T){I.__proto__=T}||function(I,T){for(var w in T)Object.prototype.hasOwnProperty.call(T,w)&&(I[w]=T[w])})(m,D)},function(m,D){if("function"!=typeof D&&null!==D)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function I(){this.constructor=m}_(m,D),m.prototype=null===D?Object.create(D):(I.prototype=D.prototype,new I)}),ee=this&&this.__values||function(_){var m="function"==typeof Symbol&&Symbol.iterator,D=m&&_[m],I=0;if(D)return D.call(_);if(_&&"number"==typeof _.length)return{next:function(){return _&&I>=_.length&&(_=void 0),{value:_&&_[I++],done:!_}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},$=ae("./lib/dom"),k=ae("./range").Range,P="ace_tooltip",E=function(){function _(m){this.isOpen=!1,this.$element=null,this.$parentNode=m}return _.prototype.$init=function(){return this.$element=$.createElement("div"),this.$element.className=P,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},_.prototype.getElement=function(){return this.$element||this.$init()},_.prototype.setText=function(m){this.getElement().textContent=m},_.prototype.setHtml=function(m){this.getElement().innerHTML=m},_.prototype.setPosition=function(m,D){this.getElement().style.left=m+"px",this.getElement().style.top=D+"px"},_.prototype.setClassName=function(m){$.addCssClass(this.getElement(),m)},_.prototype.setTheme=function(m){this.$element.className=P+" "+(m.isDark?"ace_dark ":"")+(m.cssClass||"")},_.prototype.show=function(m,D,I){null!=m&&this.setText(m),null!=D&&null!=I&&this.setPosition(D,I),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},_.prototype.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=P,this.isOpen=!1)},_.prototype.getHeight=function(){return this.getElement().offsetHeight},_.prototype.getWidth=function(){return this.getElement().offsetWidth},_.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},_}(),R=function(){function _(){this.popups=[]}return _.prototype.addPopup=function(m){this.popups.push(m),this.updatePopups()},_.prototype.removePopup=function(m){var D=this.popups.indexOf(m);-1!==D&&(this.popups.splice(D,1),this.updatePopups())},_.prototype.updatePopups=function(){var m,D,I,T;this.popups.sort(function(f,v){return v.priority-f.priority});var w=[];try{for(var p=ee(this.popups),y=p.next();!y.done;y=p.next()){var h=y.value,u=!0;try{for(var l=(I=void 0,ee(w)),d=l.next();!d.done;d=l.next())if(this.doPopupsOverlap(d.value,h)){u=!1;break}}catch(f){I={error:f}}finally{try{d&&!d.done&&(T=l.return)&&T.call(l)}finally{if(I)throw I.error}}u?w.push(h):h.hide()}}catch(f){m={error:f}}finally{try{y&&!y.done&&(D=p.return)&&D.call(p)}finally{if(m)throw m.error}}},_.prototype.doPopupsOverlap=function(m,D){var I=m.getElement().getBoundingClientRect(),T=D.getElement().getBoundingClientRect();return I.left<T.right&&I.right>T.left&&I.top<T.bottom&&I.bottom>T.top},_}(),x=new R;Z.popupManager=x,Z.Tooltip=E;var A=function(_){function m(D){void 0===D&&(D=document.body);var I=_.call(this,D)||this;I.timeout=void 0,I.lastT=0,I.idleTime=350,I.lastEvent=void 0,I.onMouseOut=I.onMouseOut.bind(I),I.onMouseMove=I.onMouseMove.bind(I),I.waitForHover=I.waitForHover.bind(I),I.hide=I.hide.bind(I);var T=I.getElement();return T.style.whiteSpace="pre-wrap",T.style.pointerEvents="auto",T.addEventListener("mouseout",I.onMouseOut),T.tabIndex=-1,T.addEventListener("blur",function(){T.contains(document.activeElement)||this.hide()}.bind(I)),I}return X(m,_),m.prototype.addToEditor=function(D){D.on("mousemove",this.onMouseMove),D.on("mousedown",this.hide),D.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},m.prototype.removeFromEditor=function(D){D.off("mousemove",this.onMouseMove),D.off("mousedown",this.hide),D.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},m.prototype.onMouseMove=function(D,I){this.lastEvent=D,this.lastT=Date.now();var T=I.$mouseHandler.isMousePressed;if(this.isOpen){var w=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(w.row,w.column)||T||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||T||(this.lastEvent=D,this.timeout=setTimeout(this.waitForHover,this.idleTime))},m.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var D=Date.now()-this.lastT;this.idleTime-D>10?this.timeout=setTimeout(this.waitForHover,this.idleTime-D):(this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor))},m.prototype.isOutsideOfText=function(D){var I=D.editor,T=D.getDocumentPosition(),w=I.session.getLine(T.row);if(T.column==w.length){var p=I.renderer.pixelToScreenCoordinates(D.clientX,D.clientY),y=I.session.documentToScreenPosition(T.row,T.column);if(y.column!=p.column||y.row!=p.row)return!0}return!1},m.prototype.setDataProvider=function(D){this.$gatherData=D},m.prototype.showForRange=function(D,I,T,w){if(!(w&&w!=this.lastEvent||this.isOpen&&document.activeElement==this.getElement())){var p=D.renderer;this.isOpen||(x.addPopup(this),this.$registerCloseEvents(),this.setTheme(p.theme)),this.isOpen=!0,this.addMarker(I,D.session),this.range=k.fromPoints(I.start,I.end);var y=this.getElement();y.innerHTML="",y.appendChild(T),y.style.display="block";var h=p.textToScreenCoordinates(I.start.row,I.start.column),u=D.getCursorPosition(),l=y.clientHeight,d=p.scroller.getBoundingClientRect(),g=!0;this.row>u.row?g=!0:this.row<u.row&&(g=!1),h.pageY-l+p.lineHeight<d.top?g=!0:h.pageY+l>d.bottom&&(g=!1),g?h.pageY+=p.lineHeight:h.pageY-=l,y.style.maxWidth=d.width-(h.pageX-d.left)+"px",this.setPosition(h.pageX,h.pageY)}},m.prototype.addMarker=function(D,I){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=I,this.marker=I&&I.addMarker(D,"ace_highlight-marker","text")},m.prototype.hide=function(D){!D&&document.activeElement==this.getElement()||D&&D.target&&("keydown"!=D.type||D.ctrlKey||D.metaKey)&&this.$element.contains(D.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,x.removePopup(this)))},m.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("mousewheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},m.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("mousewheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},m.prototype.onMouseOut=function(D){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!D.relatedTarget||D.relatedTarget==this.getElement()||D&&D.currentTarget.contains(D.relatedTarget)||D.relatedTarget.classList.contains("ace_content")||this.hide())},m}(E);Z.HoverTooltip=A}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(ae,Z,V){"use strict";var A,X=this&&this.__extends||(A=function(_,m){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,I){D.__proto__=I}||function(D,I){for(var T in I)Object.prototype.hasOwnProperty.call(I,T)&&(D[T]=I[T])})(_,m)},function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function D(){this.constructor=_}A(_,m),_.prototype=null===m?Object.create(m):(D.prototype=m.prototype,new D)}),ee=this&&this.__values||function(A){var _="function"==typeof Symbol&&Symbol.iterator,m=_&&A[_],D=0;if(m)return m.call(A);if(A&&"number"==typeof A.length)return{next:function(){return A&&D>=A.length&&(A=void 0),{value:A&&A[D++],done:!A}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")},$=ae("../lib/dom"),k=ae("../lib/event"),P=ae("../tooltip").Tooltip,E=ae("../config").nls;Z.GutterHandler=function R(A){var I,T,_=A.editor,m=_.renderer.$gutterLayer,D=new x(_);function p(){I&&(I=clearTimeout(I)),D.isOpen&&(D.hide(),_._signal("hideGutterTooltip",D),_.off("mousewheel",p))}function y(h){D.setPosition(h.x,h.y)}A.editor.setDefaultHandler("guttermousedown",function(h){if(_.isFocused()&&0==h.getButton()&&"foldWidgets"!=m.getRegion(h)){var l=h.getDocumentPosition().row,d=_.session.selection;if(h.getShiftKey())d.selectTo(l,0);else{if(2==h.domEvent.detail)return _.selectAll(),h.preventDefault();A.$clickSelection=_.selection.getLineRange(l)}return A.setState("selectByLines"),A.captureMouse(h),h.preventDefault()}}),A.editor.setDefaultHandler("guttermousemove",function(h){if($.hasCssClass(h.domEvent.target||h.domEvent.srcElement,"ace_fold-widget"))return p();D.isOpen&&A.$tooltipFollowsMouse&&y(h),T=h,!I&&(I=setTimeout(function(){I=null,T&&!A.isMousePressed?function w(){var h=T.getDocumentPosition().row;if(h==_.session.getLength()){var l=_.renderer.pixelToScreenCoordinates(0,T.y).row,d=T.$pos;if(l>_.session.documentToScreenRow(d.row,d.column))return p()}if(D.showTooltip(h),D.isOpen)if(_.on("mousewheel",p),A.$tooltipFollowsMouse)y(T);else{var f=m.$lines.cells[h].element.querySelector("[class*=ace_icon]").getBoundingClientRect(),v=D.getElement().style;v.left=f.right+"px",v.top=f.bottom+"px"}}():p()},50))}),k.addListener(_.renderer.$gutter,"mouseout",function(h){T=null,D.isOpen&&!I&&(I=setTimeout(function(){I=null,p()},50))},_),_.on("changeSession",p),_.on("input",p)};var x=function(A){function _(m){var D=A.call(this,m.container)||this;return D.editor=m,D}return X(_,A),_.prototype.setPosition=function(m,D){var I=window.innerWidth||document.documentElement.clientWidth,T=window.innerHeight||document.documentElement.clientHeight,w=this.getWidth(),p=this.getHeight();(m+=15)+w>I&&(m-=m+w-I),(D+=15)+p>T&&(D-=20+p),P.prototype.setPosition.call(this,m,D)},Object.defineProperty(_,"annotationLabels",{get:function(){return{error:{singular:E("error"),plural:E("errors")},warning:{singular:E("warning"),plural:E("warnings")},info:{singular:E("information message"),plural:E("information messages")}}},enumerable:!1,configurable:!0}),_.prototype.showTooltip=function(m){var T,D=this.editor.renderer.$gutterLayer,I=D.$annotations[m];T=I?{text:Array.from(I.text),type:Array.from(I.type)}:{text:[],type:[]};var w=D.session.getFoldLine(m);if(w&&D.$showFoldedAnnotations){for(var y,p={error:[],warning:[],info:[]},h=m+1;h<=w.end.row;h++)if(D.$annotations[h])for(var u=0;u<D.$annotations[h].text.length;u++){var l=D.$annotations[h].type[u];p[l].push(D.$annotations[h].text[u]),"error"!==l?"warning"!==l||(y="warning_fold"):y="error_fold"}if("error_fold"===y||"warning_fold"===y){var d="".concat(_.annotationsToSummaryString(p)," in folded code.");T.text.push(d),T.type.push(y)}}if(0===T.text.length)return this.hide();var g={error:[],warning:[],info:[]},f=D.$useSvgGutterIcons?"ace_icon_svg":"ace_icon";for(h=0;h<T.text.length;h++){var v="<span class='ace_".concat(T.type[h]," ").concat(f,"' aria-label='").concat(_.annotationLabels[T.type[h].replace("_fold","")].singular,"' role=img> </span> ").concat(T.text[h]);g[T.type[h].replace("_fold","")].push(v)}var C=[].concat(g.error,g.warning,g.info).join("<br>");this.setHtml(C),this.setClassName("ace_gutter-tooltip"),this.$element.setAttribute("aria-live","polite"),this.isOpen||this.setTheme(this.editor.renderer.theme),this.editor._signal("showGutterTooltip",this),this.show()},_.annotationsToSummaryString=function(m){var D,I,T=[];try{for(var p=ee(["error","warning","info"]),y=p.next();!y.done;y=p.next()){var h=y.value;if(m[h].length){var u=1===m[h].length?_.annotationLabels[h].singular:_.annotationLabels[h].plural;T.push("".concat(m[h].length," ").concat(u))}}}catch(l){D={error:l}}finally{try{y&&!y.done&&(I=p.return)&&I.call(p)}finally{if(D)throw D.error}}return T.join(", ")},_}(P);Z.GutterTooltip=x}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(ae,Z,V){"use strict";var X=ae("../lib/event"),ee=ae("../lib/useragent"),$=function(){function k(P,E){this.domEvent=P,this.editor=E,this.x=this.clientX=P.clientX,this.y=this.clientY=P.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return k.prototype.stopPropagation=function(){X.stopPropagation(this.domEvent),this.propagationStopped=!0},k.prototype.preventDefault=function(){X.preventDefault(this.domEvent),this.defaultPrevented=!0},k.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},k.prototype.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},k.prototype.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var E=this.editor.getSelectionRange();if(E.isEmpty())this.$inSelection=!1;else{var R=this.getDocumentPosition();this.$inSelection=E.contains(R.row,R.column)}return this.$inSelection},k.prototype.getButton=function(){return X.getButton(this.domEvent)},k.prototype.getShiftKey=function(){return this.domEvent.shiftKey},k.prototype.getAccelKey=function(){return ee.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},k}();Z.MouseEvent=$}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(ae,Z,V){"use strict";var X=ae("../lib/dom"),ee=ae("../lib/event"),$=ae("../lib/useragent");function R(A){var _=A.editor,m=X.createElement("div");m.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",m.textContent="\xa0",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(F){A[F]=this[F]},this),_.on("mousedown",this.onMouseDown.bind(A));var T,w,p,y,h,u,d,g,f,v,C,I=_.container,l=0;function N(){var F=u;(function S(F,U){var Y=Date.now();v&&U&&F.row==U.row&&U&&F.column==U.column?x(C.x,C.y,w,p)>5?v=null:Y-v>=200&&(_.renderer.scrollCursorIntoView(),v=null):(_.moveCursorToPosition(F),v=Y,C={x:w,y:p})})(u=_.renderer.screenToTextCoordinates(w,p),F),function O(F,U){var Y=Date.now(),W=_.renderer.layerConfig.lineHeight,ne=_.renderer.layerConfig.characterWidth,fe=_.renderer.scroller.getBoundingClientRect(),he={x:{left:w-fe.left,right:fe.right-w},y:{top:p-fe.top,bottom:fe.bottom-p}},Ae=Math.min(he.x.left,he.x.right),ke=Math.min(he.y.top,he.y.bottom),xe={row:F.row,column:F.column};Ae/ne<=2&&(xe.column+=he.x.left<he.x.right?-3:2),ke/W<=1&&(xe.row+=he.y.top<he.y.bottom?-1:1),F.row!=xe.row||F.column!=xe.column&&U&&F.row==U.row?f?Y-f>=200&&_.renderer.scrollCursorIntoView(xe):f=Y:f=null}(u,F)}function z(){h=_.selection.toOrientedRange(),T=_.session.addMarker(h,"ace_selection",_.getSelectionStyle()),_.clearSelection(),_.isFocused()&&_.renderer.$cursorLayer.setBlinking(!1),clearInterval(y),N(),y=setInterval(N,20),l=0,ee.addListener(document,"mousemove",ue)}function K(){clearInterval(y),_.session.removeMarker(T),T=null,_.selection.fromOrientedRange(h),_.isFocused()&&!g&&_.$resetCursorStyle(),h=null,u=null,l=0,f=null,v=null,ee.removeListener(document,"mousemove",ue)}this.onDragStart=function(F){if(this.cancelDrag||!I.draggable){var U=this;return setTimeout(function(){U.startSelect(),U.captureMouse(F)},0),F.preventDefault()}h=_.getSelectionRange();var Y=F.dataTransfer;Y.effectAllowed=_.getReadOnly()?"copy":"copyMove",_.container.appendChild(m),Y.setDragImage&&Y.setDragImage(m,0,0),setTimeout(function(){_.container.removeChild(m)}),Y.clearData(),Y.setData("Text",_.session.getTextRange()),g=!0,this.setState("drag")},this.onDragEnd=function(F){I.draggable=!1,g=!1,this.setState(null),_.getReadOnly()||(!d&&"move"==F.dataTransfer.dropEffect&&_.session.remove(_.getSelectionRange()),_.$resetCursorStyle()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(F){if(!_.getReadOnly()&&oe(F.dataTransfer))return w=F.clientX,p=F.clientY,T||z(),l++,F.dataTransfer.dropEffect=d=pe(F),ee.preventDefault(F)},this.onDragOver=function(F){if(!_.getReadOnly()&&oe(F.dataTransfer))return w=F.clientX,p=F.clientY,T||(z(),l++),null!==Q&&(Q=null),F.dataTransfer.dropEffect=d=pe(F),ee.preventDefault(F)},this.onDragLeave=function(F){if(--l<=0&&T)return K(),d=null,ee.preventDefault(F)},this.onDrop=function(F){if(u){var U=F.dataTransfer;if(g)switch(d){case"move":h=h.contains(u.row,u.column)?{start:u,end:u}:_.moveText(h,u);break;case"copy":h=_.moveText(h,u,!0)}else{var Y=U.getData("Text");h={start:u,end:_.session.insert(u,Y)},_.focus(),d=null}return K(),ee.preventDefault(F)}},ee.addListener(I,"dragstart",this.onDragStart.bind(A),_),ee.addListener(I,"dragend",this.onDragEnd.bind(A),_),ee.addListener(I,"dragenter",this.onDragEnter.bind(A),_),ee.addListener(I,"dragover",this.onDragOver.bind(A),_),ee.addListener(I,"dragleave",this.onDragLeave.bind(A),_),ee.addListener(I,"drop",this.onDrop.bind(A),_);var Q=null;function ue(){null==Q&&(Q=setTimeout(function(){null!=Q&&T&&K()},20))}function oe(F){var U=F.types;return!U||Array.prototype.some.call(U,function(Y){return"text/plain"==Y||"Text"==Y})}function pe(F){var U=["copy","copymove","all","uninitialized"],W=$.isMac?F.altKey:F.ctrlKey,ne="uninitialized";try{ne=F.dataTransfer.effectAllowed.toLowerCase()}catch(he){}var fe="none";return W&&U.indexOf(ne)>=0?fe="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(ne)>=0?fe="move":U.indexOf(ne)>=0&&(fe="copy"),fe}}function x(A,_,m,D){return Math.sqrt(Math.pow(m-A,2)+Math.pow(D-_,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(A){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var A=this.editor;A.container.draggable=!0,A.renderer.$cursorLayer.setBlinking(!1),A.setStyle("ace_dragging"),A.renderer.setCursorStyle($.isWin?"default":"move"),this.setState("dragReady")},this.onMouseDrag=function(A){var _=this.editor.container;$.isIE&&"dragReady"==this.state&&x(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&_.dragDrop(),"dragWait"===this.state&&x(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(_.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(A){if(this.$dragEnabled){this.mousedownEvent=A;var _=this.editor,m=A.inSelection(),D=A.getButton();if(1===(A.domEvent.detail||1)&&0===D&&m){if(A.editor.inMultiSelectMode&&(A.getAccelKey()||A.getShiftKey()))return;this.mousedownEvent.time=Date.now();var T=A.domEvent.target||A.domEvent.srcElement;"unselectable"in T&&(T.unselectable="on"),_.getDragDelay()?($.isWebKit&&(this.cancelDrag=!0,_.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(A,this.onMouseDrag.bind(this)),A.defaultPrevented=!0}}}}).call(R.prototype),Z.DragdropHandler=R}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(ae,Z,V){"use strict";var X=ae("./mouse_event").MouseEvent,ee=ae("../lib/event"),$=ae("../lib/dom");Z.addTouchListeners=function(k,P){var R,x,A,_,m,D,T,h,u,E="scroll",I=0,w=0,p=0,y=0;function d(){u||function l(){var S=window.navigator&&window.navigator.clipboard,O=!1,z=function(K){var Q=K.target.getAttribute("action");if("more"==Q||!O)return O=!O,function(){var K=P.getCopyText(),Q=P.session.getUndoManager().hasUndo();u.replaceChild($.buildDom(O?["span",!K&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],K&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],K&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],S&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],Q&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),u.firstChild)}();"paste"==Q?S.readText().then(function(ue){P.execCommand(Q,ue)}):Q&&(("cut"==Q||"copy"==Q)&&(S?S.writeText(P.getCopyText()):document.execCommand("copy")),P.execCommand(Q)),u.firstChild.style.display="none",O=!1,"openCommandPallete"!=Q&&P.focus()};u=$.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(K){E="menu",K.stopPropagation(),K.preventDefault(),P.textInput.focus()},ontouchend:function(K){K.stopPropagation(),K.preventDefault(),z(K)},onclick:z},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],P.container)}();var S=P.selection.cursor,O=P.renderer.textToScreenCoordinates(S.row,S.column),N=P.renderer.textToScreenCoordinates(0,0).pageX,z=P.renderer.scrollLeft,K=P.container.getBoundingClientRect();u.style.top=O.pageY-K.top-3+"px",O.pageX-K.left<K.width-70?(u.style.left="",u.style.right="10px"):(u.style.right="",u.style.left=N+z-K.left+"px"),u.style.display="",u.firstChild.style.display="none",P.on("input",g)}function g(S){u&&(u.style.display="none"),P.off("input",g)}function f(){m=null,clearTimeout(m);var S=P.selection.getRange(),O=S.contains(T.row,T.column);(S.isEmpty()||!O)&&(P.selection.moveToPosition(T),P.selection.selectWord()),E="wait",d()}ee.addListener(k,"contextmenu",function(S){h&&P.textInput.getElement().focus()},P),ee.addListener(k,"touchstart",function(S){var O=S.touches;if(m||O.length>1)return clearTimeout(m),m=null,A=-1,void(E="zoom");h=P.$mouseHandler.isMousePressed=!0;var N=P.renderer.layerConfig.lineHeight,z=P.renderer.layerConfig.lineHeight,K=S.timeStamp;_=K;var Q=O[0],ue=Q.clientX,oe=Q.clientY;Math.abs(R-ue)+Math.abs(x-oe)>N&&(A=-1),R=S.clientX=ue,x=S.clientY=oe,p=y=0;var pe=new X(S,P);if(T=pe.getDocumentPosition(),K-A<500&&1==O.length&&!I)w++,S.preventDefault(),S.button=0,function v(){m=null,clearTimeout(m),P.selection.moveToPosition(T);var S=w>=2?P.selection.getLineRange(T.row):P.session.getBracketRange(T);S&&!S.isEmpty()?P.selection.setRange(S):P.selection.selectWord(),E="wait"}();else{w=0;var F=P.selection.cursor,U=P.selection.isEmpty()?F:P.selection.anchor,Y=P.renderer.$cursorLayer.getPixelPosition(F,!0),W=P.renderer.$cursorLayer.getPixelPosition(U,!0),ne=P.renderer.scroller.getBoundingClientRect(),fe=P.renderer.layerConfig.offset,he=P.renderer.scrollLeft,Ae=function(Ee,ie){return(Ee/=z)*Ee+(ie=ie/N-.75)*ie};if(S.clientX<ne.left)return void(E="zoom");var ke=Ae(S.clientX-ne.left-Y.left+he,S.clientY-ne.top-Y.top+fe),xe=Ae(S.clientX-ne.left-W.left+he,S.clientY-ne.top-W.top+fe);ke<3.5&&xe<3.5&&(E=ke>xe?"cursor":"anchor"),E=xe<3.5?"anchor":ke<3.5?"cursor":"scroll",m=setTimeout(f,450)}A=K},P),ee.addListener(k,"touchend",function(S){h=P.$mouseHandler.isMousePressed=!1,D&&clearInterval(D),"zoom"==E?(E="",I=0):m?(P.selection.moveToPosition(T),I=0,d()):"scroll"==E?(function C(){I+=60,D=setInterval(function(){I--<=0&&(clearInterval(D),D=null),Math.abs(p)<.01&&(p=0),Math.abs(y)<.01&&(y=0),I<20&&(p*=.9),I<20&&(y*=.9);var S=P.session.getScrollTop();P.renderer.scrollBy(10*p,10*y),S==P.session.getScrollTop()&&(I=0)},10)}(),g()):d(),clearTimeout(m),m=null},P),ee.addListener(k,"touchmove",function(S){m&&(clearTimeout(m),m=null);var O=S.touches;if(!(O.length>1||"zoom"==E)){var N=O[0],z=R-N.clientX,K=x-N.clientY;if("wait"==E){if(!(z*z+K*K>4))return S.preventDefault();E="cursor"}R=N.clientX,x=N.clientY,S.clientX=N.clientX,S.clientY=N.clientY;var Q=S.timeStamp,ue=Q-_;if(_=Q,"scroll"==E){var oe=new X(S,P);oe.speed=1,oe.wheelX=z,oe.wheelY=K,10*Math.abs(z)<Math.abs(K)&&(z=0),10*Math.abs(K)<Math.abs(z)&&(K=0),0!=ue&&(p=z/ue,y=K/ue),P._emit("mousewheel",oe),oe.propagationStopped||(p=y=0)}else{var F=new X(S,P).getDocumentPosition();"cursor"==E?P.selection.moveCursorToPosition(F):"anchor"==E&&P.selection.setSelectionAnchor(F.row,F.column),P.renderer.scrollCursorIntoView(F),S.preventDefault()}}},P)}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(ae,Z,V){"use strict";var X=ae("../lib/event"),ee=ae("../lib/useragent"),$=ae("./default_handlers").DefaultHandlers,k=ae("./default_gutter_handler").GutterHandler,P=ae("./mouse_event").MouseEvent,E=ae("./dragdrop_handler").DragdropHandler,R=ae("./touch_handler").addTouchListeners,x=ae("../config"),A=function(){function _(m){var D=this;this.editor=m,new $(this),new k(this),new E(this);var I=function(p){(!document.hasFocus||!document.hasFocus()||!m.isFocused()&&document.activeElement==(m.textInput&&m.textInput.getElement()))&&window.focus(),m.focus(),setTimeout(function(){m.isFocused()||m.focus()})},T=m.renderer.getMouseEventTarget();X.addListener(T,"click",this.onMouseEvent.bind(this,"click"),m),X.addListener(T,"mousemove",this.onMouseMove.bind(this,"mousemove"),m),X.addMultiMouseDownListener([T,m.renderer.scrollBarV&&m.renderer.scrollBarV.inner,m.renderer.scrollBarH&&m.renderer.scrollBarH.inner,m.textInput&&m.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",m),X.addMouseWheelListener(m.container,this.onMouseWheel.bind(this,"mousewheel"),m),R(m.container,m);var w=m.renderer.$gutter;X.addListener(w,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),m),X.addListener(w,"click",this.onMouseEvent.bind(this,"gutterclick"),m),X.addListener(w,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),m),X.addListener(w,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),m),X.addListener(T,"mousedown",I,m),X.addListener(w,"mousedown",I,m),ee.isIE&&m.renderer.scrollBarV&&(X.addListener(m.renderer.scrollBarV.element,"mousedown",I,m),X.addListener(m.renderer.scrollBarH.element,"mousedown",I,m)),m.on("mousemove",function(p){if(!D.state&&!D.$dragDelay&&D.$dragEnabled){var y=m.renderer.screenToTextCoordinates(p.x,p.y),h=m.session.selection.getRange(),u=m.renderer;!h.isEmpty()&&h.insideStart(y.row,y.column)?u.setCursorStyle("default"):u.setCursorStyle("")}},m)}return _.prototype.onMouseEvent=function(m,D){!this.editor.session||this.editor._emit(m,new P(D,this.editor))},_.prototype.onMouseMove=function(m,D){var I=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!I||!I.length||this.editor._emit(m,new P(D,this.editor))},_.prototype.onMouseWheel=function(m,D){var I=new P(D,this.editor);I.speed=2*this.$scrollSpeed,I.wheelX=D.wheelX,I.wheelY=D.wheelY,this.editor._emit(m,I)},_.prototype.setState=function(m){this.state=m},_.prototype.captureMouse=function(m,D){this.x=m.x,this.y=m.y,this.isMousePressed=!0;var I=this.editor,T=this.editor.renderer;T.$isMousePressed=!0;var w=this,p=function(d){if(d){if(ee.isWebKit&&!d.which&&w.releaseMouse)return w.releaseMouse();w.x=d.clientX,w.y=d.clientY,D&&D(d),w.mouseEvent=new P(d,w.editor),w.$mouseMoved=!0}},y=function(d){I.off("beforeEndOperation",u),clearInterval(l),I.session&&h(),w[w.state+"End"]&&w[w.state+"End"](d),w.state="",w.isMousePressed=T.$isMousePressed=!1,T.$keepTextAreaAtCursor&&T.$moveTextAreaToCursor(),w.$onCaptureMouseMove=w.releaseMouse=null,d&&w.onMouseEvent("mouseup",d),I.endOperation()},h=function(){w[w.state]&&w[w.state](),w.$mouseMoved=!1};if(ee.isOldIE&&"dblclick"==m.domEvent.type)return setTimeout(function(){y(m)});var u=function(d){!w.releaseMouse||I.curOp.command.name&&I.curOp.selectionChanged&&(w[w.state+"End"]&&w[w.state+"End"](),w.state="",w.releaseMouse())};I.on("beforeEndOperation",u),I.startOperation({command:{name:"mouse"}}),w.$onCaptureMouseMove=p,w.releaseMouse=X.capture(this.editor.container,p,y);var l=setInterval(h,20)},_.prototype.cancelContextMenu=function(){var m=function(D){D&&D.domEvent&&"contextmenu"!=D.domEvent.type||(this.editor.off("nativecontextmenu",m),D&&D.domEvent&&X.stopEvent(D.domEvent))}.bind(this);setTimeout(m,10),this.editor.on("nativecontextmenu",m)},_.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},_}();A.prototype.releaseMouse=null,x.defineOptions(A.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:ee.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),Z.MouseHandler=A}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(ae,Z,V){"use strict";var X=ae("../lib/dom");Z.FoldHandler=function $(k){k.on("click",function(P){var E=P.getDocumentPosition(),R=k.session,x=R.getFoldAt(E.row,E.column,1);x&&(P.getAccelKey()?R.removeFold(x):R.expandFold(x),P.stop());var A=P.domEvent&&P.domEvent.target;A&&X.hasCssClass(A,"ace_inline_button")&&X.hasCssClass(A,"ace_toggle_wrap")&&(R.setOption("wrap",!R.getUseWrapMode()),k.renderer.scrollCursorIntoView())}),k.on("gutterclick",function(P){if("foldWidgets"==k.renderer.$gutterLayer.getRegion(P)){var R=P.getDocumentPosition().row,x=k.session;x.foldWidgets&&x.foldWidgets[R]&&k.session.onFoldWidgetClick(R,P),k.isFocused()||k.focus(),P.stop()}}),k.on("gutterdblclick",function(P){if("foldWidgets"==k.renderer.$gutterLayer.getRegion(P)){var R=P.getDocumentPosition().row,x=k.session,A=x.getParentFoldRangeData(R,!0),_=A.range||A.firstRange;if(_){var m=x.getFoldAt(R=_.start.row,x.getLine(R).length,1);m?x.removeFold(m):(x.addFold("...",_),k.renderer.scrollCursorIntoView({row:_.start.row,column:0}))}P.stop()}})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(ae,Z,V){"use strict";var X=ae("../lib/keys"),ee=ae("../lib/event"),$=function(){function k(P){this.$editor=P,this.$data={editor:P},this.$handlers=[],this.setDefaultHandler(P.commands)}return k.prototype.setDefaultHandler=function(P){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=P,this.addKeyboardHandler(P,0)},k.prototype.setKeyboardHandler=function(P){var E=this.$handlers;if(E[E.length-1]!=P){for(;E[E.length-1]&&E[E.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(E[E.length-1]);this.addKeyboardHandler(P,1)}},k.prototype.addKeyboardHandler=function(P,E){if(P){"function"==typeof P&&!P.handleKeyboard&&(P.handleKeyboard=P);var R=this.$handlers.indexOf(P);-1!=R&&this.$handlers.splice(R,1),null==E?this.$handlers.push(P):this.$handlers.splice(E,0,P),-1==R&&P.attach&&P.attach(this.$editor)}},k.prototype.removeKeyboardHandler=function(P){var E=this.$handlers.indexOf(P);return-1!=E&&(this.$handlers.splice(E,1),P.detach&&P.detach(this.$editor),!0)},k.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},k.prototype.getStatusText=function(){var P=this.$data,E=P.editor;return this.$handlers.map(function(R){return R.getStatusText&&R.getStatusText(E,P)||""}).filter(Boolean).join(" ")},k.prototype.$callKeyboardHandlers=function(P,E,R,x){for(var A,_=!1,m=this.$editor.commands,D=this.$handlers.length;D--&&!((A=this.$handlers[D].handleKeyboard(this.$data,P,E,R,x))&&A.command&&(_="null"==A.command||m.exec(A.command,this.$editor,A.args,x),_&&x&&-1!=P&&1!=A.passEvent&&1!=A.command.passEvent&&ee.stopEvent(x),_)););return!_&&-1==P&&(A={command:"insertstring"},_=m.exec("insertstring",this.$editor,E)),_&&this.$editor._signal&&this.$editor._signal("keyboardActivity",A),_},k.prototype.onCommandKey=function(P,E,R){var x=X.keyCodeToString(R);return this.$callKeyboardHandlers(E,x,R,P)},k.prototype.onTextInput=function(P){return this.$callKeyboardHandlers(-1,P)},k}();Z.KeyBinding=$}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(ae,Z,V){"use strict";var $=0,k=0,P=!1,R=!1,x=!1,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],D=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S=11,pe=[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,5,5,5,6,8,4,4,S,S,S,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,S,S,S,S,4,4,4,4,0,4,4,18,4,4,S,S,2,2,4,0,4,4,4,2,0,4,4,4,4,4],F=[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,S,S,S,S,S,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function Y(he,Ae,ke){if(!(k<he)){if(1==he&&1==$&&!R)return void ke.reverse();for(var ie,de,me,Ce,xe=ke.length,Ee=0;Ee<xe;){if(Ae[Ee]>=he){for(ie=Ee+1;ie<xe&&Ae[ie]>=he;)ie++;for(de=Ee,me=ie-1;de<me;de++,me--)Ce=ke[de],ke[de]=ke[me],ke[me]=Ce;Ee=ie}Ee++}}}function W(he,Ae,ke,xe){var ie,de,me,Ce,Ee=Ae[xe];switch(Ee){case 0:case 1:P=!1;case 4:case 3:return Ee;case 2:return P?3:2;case 7:return P=!0,1;case 8:return 4;case 9:return xe<1||xe+1>=Ae.length||2!=(ie=ke[xe-1])&&3!=ie||2!=(de=Ae[xe+1])&&3!=de?4:(P&&(de=3),de==ie?de:4);case 10:return 2==(ie=xe>0?ke[xe-1]:5)&&xe+1<Ae.length&&2==Ae[xe+1]?2:4;case S:if(xe>0&&2==ke[xe-1])return 2;if(P)return 4;for(Ce=xe+1,me=Ae.length;Ce<me&&Ae[Ce]==S;)Ce++;return Ce<me&&2==Ae[Ce]?2:4;case 12:for(me=Ae.length,Ce=xe+1;Ce<me&&12==Ae[Ce];)Ce++;if(Ce<me){var re=he[xe];if(ie=Ae[Ce],(re>=1425&&re<=2303||64286==re)&&(1==ie||7==ie))return 1}return xe<1||5==(ie=Ae[xe-1])?4:ke[xe-1];case 5:return P=!1,R=!0,$;case 6:return x=!0,4;case 13:case 14:case 16:case 17:case 15:P=!1;case 18:return 4}}function ne(he){var Ae=he.charCodeAt(0),ke=Ae>>8;return 0==ke?Ae>191?0:pe[Ae]:5==ke?/[\u0591-\u05f4]/.test(he)?1:0:6==ke?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(he)?12:/[\u0660-\u0669\u066b-\u066c]/.test(he)?3:1642==Ae?S:/[\u06f0-\u06f9]/.test(he)?2:7:32==ke&&Ae<=8287?F[255&Ae]:254==ke&&Ae>=65136?7:4}Z.L=0,Z.R=1,Z.EN=2,Z.ON_R=3,Z.AN=4,Z.R_H=5,Z.B=6,Z.RLE=7,Z.DOT="\xb7",Z.doBidiReorder=function(he,Ae,ke){if(he.length<2)return{};var xe=he.split(""),Ee=new Array(xe.length),ie=new Array(xe.length),de=[];$=ke?1:0,function U(he,Ae,ke,xe){var Ee=$?D:m,ie=null,de=null,me=null,Ce=0,re=null,ve=-1,we=null,Pe=null,Ue=[];if(!xe)for(we=0,xe=[];we<ke;we++)xe[we]=ne(he[we]);for(k=$,P=!1,R=!1,x=!1,Pe=0;Pe<ke;Pe++){if(ie=Ce,Ue[Pe]=de=W(he,xe,Ue,Pe),re=240&(Ce=Ee[ie][de]),Ae[Pe]=me=Ee[Ce&=15][5],re>0)if(16==re){for(we=ve;we<Pe;we++)Ae[we]=1;ve=-1}else ve=-1;if(Ee[Ce][6])-1==ve&&(ve=Pe);else if(ve>-1){for(we=ve;we<Pe;we++)Ae[we]=me;ve=-1}5==xe[Pe]&&(Ae[Pe]=0),k|=me}if(x)for(we=0;we<ke;we++)if(6==xe[we]){Ae[we]=$;for(var dt=we-1;dt>=0&&8==xe[dt];dt--)Ae[dt]=$}}(xe,de,xe.length,Ae);for(var me=0;me<Ee.length;Ee[me]=me,me++);for(Y(2,de,Ee),Y(1,de,Ee),me=0;me<Ee.length-1;me++)3===Ae[me]?de[me]=Z.AN:1===de[me]&&(Ae[me]>7&&Ae[me]<13||4===Ae[me]||18===Ae[me])?de[me]=Z.ON_R:me>0&&"\u0644"===xe[me-1]&&/\u0622|\u0623|\u0625|\u0627/.test(xe[me])&&(de[me-1]=de[me]=Z.R_H,me++);for(xe[xe.length-1]===Z.DOT&&(de[xe.length-1]=Z.B),"\u202b"===xe[0]&&(de[0]=Z.RLE),me=0;me<Ee.length;me++)ie[me]=de[Ee[me]];return{logicalFromVisual:Ee,bidiLevels:ie}},Z.hasBidiCharacters=function(he,Ae){for(var ke=!1,xe=0;xe<he.length;xe++)Ae[xe]=ne(he.charAt(xe)),!ke&&(1==Ae[xe]||7==Ae[xe]||3==Ae[xe])&&(ke=!0);return ke},Z.getVisualFromLogicalIdx=function(he,Ae){for(var ke=0;ke<Ae.logicalFromVisual.length;ke++)if(Ae.logicalFromVisual[ke]==he)return ke;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(ae,Z,V){"use strict";var X=ae("./lib/bidiutil"),ee=ae("./lib/lang"),$=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,k=function(){function P(E){this.session=E,this.bidiMap={},this.currentRow=null,this.bidiUtil=X,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=$.test(E.getValue())}return P.prototype.isBidiRow=function(E,R,x){return!!this.seenBidi&&(E!==this.currentRow&&(this.currentRow=E,this.updateRowLine(R,x),this.updateBidiMap()),this.bidiMap.bidiLevels)},P.prototype.onChange=function(E){this.seenBidi?this.currentRow=null:"insert"==E.action&&$.test(E.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},P.prototype.getDocumentRow=function(){var E=0,R=this.session.$screenRowCache;if(R.length){var x=this.session.$getRowCacheIndex(R,this.currentRow);x>=0&&(E=this.session.$docRowCache[x])}return E},P.prototype.getSplitIndex=function(){var E=0,R=this.session.$screenRowCache;if(R.length)for(var x,A=this.session.$getRowCacheIndex(R,this.currentRow);this.currentRow-E>0&&(x=this.session.$getRowCacheIndex(R,this.currentRow-E-1))===A;)A=x,E++;else E=this.currentRow;return E},P.prototype.updateRowLine=function(E,R){void 0===E&&(E=this.getDocumentRow());var A=E===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(E),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var _=this.session.$wrapData[E];_&&(void 0===R&&(R=this.getSplitIndex()),R>0&&_.length?(this.wrapIndent=_.indent,this.wrapOffset=this.wrapIndent*this.charWidths[X.L],this.line=R<_.length?this.line.substring(_[R-1],_[R]):this.line.substring(_[_.length-1])):this.line=this.line.substring(0,_[R]),R==_.length&&(this.line+=this.showInvisibles?A:X.DOT))}else this.line+=this.showInvisibles?A:X.DOT;var I,m=this.session,D=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(T,w){return"\t"===T||m.isFullWidth(T.charCodeAt(0))?(I="\t"===T?m.getScreenTabSize(w+D):2,D+=I-1,ee.stringRepeat(X.DOT,I)):T}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==X.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},P.prototype.updateBidiMap=function(){var E=[];this.bidiMap=X.hasBidiCharacters(this.line,E)||this.isRtlDir?X.doBidiReorder(this.line,E,this.isRtlDir):{}},P.prototype.markAsDirty=function(){this.currentRow=null},P.prototype.updateCharacterWidths=function(E){if(this.characterWidth!==E.$characterSize.width){this.fontMetrics=E;var R=this.characterWidth=E.$characterSize.width,x=E.$measureCharWidth("\u05d4");this.charWidths[X.L]=this.charWidths[X.EN]=this.charWidths[X.ON_R]=R,this.charWidths[X.R]=this.charWidths[X.AN]=x,this.charWidths[X.R_H]=.45*x,this.charWidths[X.B]=this.charWidths[X.RLE]=0,this.currentRow=null}},P.prototype.setShowInvisibles=function(E){this.showInvisibles=E,this.currentRow=null},P.prototype.setEolChar=function(E){this.EOL=E},P.prototype.setContentWidth=function(E){this.contentWidth=E},P.prototype.isRtlLine=function(E){return!!this.$isRtl||(null!=E?this.session.getLine(E).charAt(0)==this.RLE:this.isRtlDir)},P.prototype.setRtlDirection=function(E,R){for(var x=E.getCursorPosition(),A=E.selection.getSelectionAnchor().row;A<=x.row;A++)R||E.session.getLine(A).charAt(0)!==E.session.$bidiHandler.RLE?R&&E.session.getLine(A).charAt(0)!==E.session.$bidiHandler.RLE&&E.session.doc.insert({column:0,row:A},E.session.$bidiHandler.RLE):E.session.doc.removeInLine(A,0,1)},P.prototype.getPosLeft=function(E){E-=this.wrapIndent;var R=this.line.charAt(0)===this.RLE?1:0,x=E>R?this.session.getOverwrite()?E:E-1:R,A=X.getVisualFromLogicalIdx(x,this.bidiMap),_=this.bidiMap.bidiLevels,m=0;!this.session.getOverwrite()&&E<=R&&_[A]%2!=0&&A++;for(var D=0;D<A;D++)m+=this.charWidths[_[D]];return!this.session.getOverwrite()&&E>R&&_[A]%2==0&&(m+=this.charWidths[_[A]]),this.wrapIndent&&(m+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(m+=this.rtlLineOffset),m},P.prototype.getSelections=function(E,R){var _,x=this.bidiMap,A=x.bidiLevels,m=[],D=0,I=Math.min(E,R)-this.wrapIndent,T=Math.max(E,R)-this.wrapIndent,w=!1,p=!1,y=0;this.wrapIndent&&(D+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var h,u=0;u<A.length;u++)_=A[u],(w=(h=x.logicalFromVisual[u])>=I&&h<T)&&!p?y=D:!w&&p&&m.push({left:y,width:D-y}),D+=this.charWidths[_],p=w;if(w&&u===A.length&&m.push({left:y,width:D-y}),this.isRtlDir)for(var l=0;l<m.length;l++)m[l].left+=this.rtlLineOffset;return m},P.prototype.offsetToCol=function(x){this.isRtlDir&&(x-=this.rtlLineOffset);var R=0,A=(x=Math.max(x,0),0),_=0,m=this.bidiMap.bidiLevels,D=this.charWidths[m[_]];for(this.wrapIndent&&(x-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);x>A+D/2;){if(A+=D,_===m.length-1){D=0;break}D=this.charWidths[m[++_]]}return _>0&&m[_-1]%2!=0&&m[_]%2==0?(x<A&&_--,R=this.bidiMap.logicalFromVisual[_]):_>0&&m[_-1]%2==0&&m[_]%2!=0?R=1+(x>A?this.bidiMap.logicalFromVisual[_]:this.bidiMap.logicalFromVisual[_-1]):this.isRtlDir&&_===m.length-1&&0===D&&m[_-1]%2==0||!this.isRtlDir&&0===_&&m[_]%2!=0?R=1+this.bidiMap.logicalFromVisual[_]:(_>0&&m[_-1]%2!=0&&0!==D&&_--,R=this.bidiMap.logicalFromVisual[_]),0===R&&this.isRtlDir&&R++,R+this.wrapIndent},P}();Z.BidiHandler=k}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(ae,Z,V){"use strict";var X=ae("./lib/oop"),ee=ae("./lib/lang"),$=ae("./lib/event_emitter").EventEmitter,k=ae("./range").Range,P=function(E){this.session=E,this.doc=E.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var R=this;this.cursor.on("change",function(x){R.$cursorChanged=!0,R.$silent||R._emit("changeCursor"),!R.$isEmpty&&!R.$silent&&R._emit("changeSelection"),!R.$keepDesiredColumnOnChange&&x.old.column!=x.value.column&&(R.$desiredColumn=null)}),this.anchor.on("change",function(){R.$anchorChanged=!0,!R.$isEmpty&&!R.$silent&&R._emit("changeSelection")})};(function(){X.implement(this,$),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setAnchor=function(E,R){this.$isEmpty=!1,this.anchor.setPosition(E,R)},this.setSelectionAnchor=this.setAnchor,this.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionAnchor=this.getAnchor,this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var E=this.anchor,R=this.lead;return E.row>R.row||E.row==R.row&&E.column>R.column},this.getRange=function(){var E=this.anchor,R=this.lead;return this.$isEmpty?k.fromPoints(R,R):this.isBackwards()?k.fromPoints(R,E):k.fromPoints(E,R)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(E,R){var x=R?E.end:E.start,A=R?E.start:E.end;this.$setSelection(x.row,x.column,A.row,A.column)},this.$setSelection=function(E,R,x,A){if(!this.$silent){var _=this.$isEmpty,m=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(E,R),this.cursor.setPosition(x,A),this.$isEmpty=!k.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||_!=this.$isEmpty||m)&&this._emit("changeSelection")}},this.$moveSelection=function(E){var R=this.lead;this.$isEmpty&&this.setSelectionAnchor(R.row,R.column),E.call(this)},this.selectTo=function(E,R){this.$moveSelection(function(){this.moveCursorTo(E,R)})},this.selectToPosition=function(E){this.$moveSelection(function(){this.moveCursorToPosition(E)})},this.moveTo=function(E,R){this.clearSelection(),this.moveCursorTo(E,R)},this.moveToPosition=function(E){this.clearSelection(),this.moveCursorToPosition(E)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(E,R){if(void 0===R){var x=E||this.lead;E=x.row,R=x.column}return this.session.getWordRange(E,R)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var E=this.getCursor(),R=this.session.getAWordRange(E.row,E.column);this.setSelectionRange(R)},this.getLineRange=function(E,R){var A,x="number"==typeof E?E:this.lead.row,_=this.session.getFoldLine(x);return _?(x=_.start.row,A=_.end.row):A=x,!0===R?new k(x,0,A,this.session.getLine(A).length):new k(x,0,A+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(E,R,x){var A=E.column,_=E.column+R;return x<0&&(A=E.column-R,_=E.column),this.session.isTabStop(E)&&this.doc.getLine(E.row).slice(A,_).split(" ").length-1==R},this.moveCursorLeft=function(){var R,E=this.lead.getPosition();if(R=this.session.getFoldAt(E.row,E.column,-1))this.moveCursorTo(R.start.row,R.start.column);else if(0===E.column)E.row>0&&this.moveCursorTo(E.row-1,this.doc.getLine(E.row-1).length);else{var x=this.session.getTabSize();this.wouldMoveIntoSoftTab(E,x,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-x):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var R,E=this.lead.getPosition();if(R=this.session.getFoldAt(E.row,E.column,1))this.moveCursorTo(R.end.row,R.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var x=this.session.getTabSize();this.wouldMoveIntoSoftTab(E=this.lead,x,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,x):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var E=this.lead.row,R=this.lead.column,x=this.session.documentToScreenRow(E,R),A=this.session.screenToDocumentPosition(x,0),m=this.session.getDisplayLine(E,null,A.row,A.column).match(/^\s*/);m[0].length!=R&&!this.session.$useEmacsStyleLineStart&&(A.column+=m[0].length),this.moveCursorToPosition(A)},this.moveCursorLineEnd=function(){var E=this.lead,R=this.session.getDocumentLastRowColumnPosition(E.row,E.column);if(this.lead.column==R.column){var x=this.session.getLine(R.row);if(R.column==x.length){var A=x.search(/\s+$/);A>0&&(R.column=A)}}this.moveCursorTo(R.row,R.column)},this.moveCursorFileEnd=function(){var E=this.doc.getLength()-1,R=this.doc.getLine(E).length;this.moveCursorTo(E,R)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var E=this.lead.row,R=this.lead.column,x=this.doc.getLine(E),A=x.substring(R);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var _=this.session.getFoldAt(E,R,1);if(!_)return this.session.nonTokenRe.exec(A)&&(R+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,A=x.substring(R)),R>=x.length?(this.moveCursorTo(E,x.length),this.moveCursorRight(),void(E<this.doc.getLength()-1&&this.moveCursorWordRight())):(this.session.tokenRe.exec(A)&&(R+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(E,R));this.moveCursorTo(_.end.row,_.end.column)},this.moveCursorLongWordLeft=function(){var x,E=this.lead.row,R=this.lead.column;if(x=this.session.getFoldAt(E,R,-1))this.moveCursorTo(x.start.row,x.start.column);else{var A=this.session.getFoldStringAt(E,R,-1);null==A&&(A=this.doc.getLine(E).substring(0,R));var _=ee.stringReverse(A);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(_)&&(R-=this.session.nonTokenRe.lastIndex,_=_.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),R<=0)return this.moveCursorTo(E,0),this.moveCursorLeft(),void(E>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(_)&&(R-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(E,R)}},this.$shortWordEndIndex=function(E){var x,R=0,A=/\s/,_=this.session.tokenRe;if(_.lastIndex=0,this.session.tokenRe.exec(E))R=this.session.tokenRe.lastIndex;else{for(;(x=E[R])&&A.test(x);)R++;if(R<1)for(_.lastIndex=0;(x=E[R])&&!_.test(x);)if(_.lastIndex=0,R++,A.test(x)){if(R>2){R--;break}for(;(x=E[R])&&A.test(x);)R++;if(R>2)break}}return _.lastIndex=0,R},this.moveCursorShortWordRight=function(){var E=this.lead.row,R=this.lead.column,x=this.doc.getLine(E),A=x.substring(R),_=this.session.getFoldAt(E,R,1);if(_)return this.moveCursorTo(_.end.row,_.end.column);if(R==x.length){var m=this.doc.getLength();do{E++,A=this.doc.getLine(E)}while(E<m&&/^\s*$/.test(A));/^\s+/.test(A)||(A=""),R=0}var D=this.$shortWordEndIndex(A);this.moveCursorTo(E,R+D)},this.moveCursorShortWordLeft=function(){var x,E=this.lead.row,R=this.lead.column;if(x=this.session.getFoldAt(E,R,-1))return this.moveCursorTo(x.start.row,x.start.column);var A=this.session.getLine(E).substring(0,R);if(0===R){do{E--,A=this.doc.getLine(E)}while(E>0&&/^\s*$/.test(A));R=A.length,/\s+$/.test(A)||(A="")}var _=ee.stringReverse(A),m=this.$shortWordEndIndex(_);return this.moveCursorTo(E,R-m)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(E,R){var A,x=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===R&&(0!==E&&(this.session.$bidiHandler.isBidiRow(x.row,this.lead.row)?(A=this.session.$bidiHandler.getPosLeft(x.column),x.column=Math.round(A/this.session.$bidiHandler.charWidths[0])):A=x.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?x.column=this.$desiredColumn:this.$desiredColumn=x.column),0!=E&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var _=this.session.lineWidgets[this.lead.row];E<0?E-=_.rowsAbove||0:E>0&&(E+=_.rowCount-(_.rowsAbove||0))}var m=this.session.screenToDocumentPosition(x.row+E,x.column,A);this.moveCursorTo(m.row,m.column+R,0===R)},this.moveCursorToPosition=function(E){this.moveCursorTo(E.row,E.column)},this.moveCursorTo=function(E,R,x){var A=this.session.getFoldAt(E,R,1);A&&(E=A.start.row,R=A.start.column),this.$keepDesiredColumnOnChange=!0;var _=this.session.getLine(E);/[\uDC00-\uDFFF]/.test(_.charAt(R))&&_.charAt(R-1)&&(this.lead.row==E&&this.lead.column==R+1?R-=1:R+=1),this.lead.setPosition(E,R),this.$keepDesiredColumnOnChange=!1,x||(this.$desiredColumn=null)},this.moveCursorToScreen=function(E,R,x){var A=this.session.screenToDocumentPosition(E,R);this.moveCursorTo(A.row,A.column,x)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(E){this.setSelectionRange(E,E.cursor==E.start),this.$desiredColumn=E.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(E){var R=this.getRange();return E?(E.start.column=R.start.column,E.start.row=R.start.row,E.end.column=R.end.column,E.end.row=R.end.row):E=R,E.cursor=this.isBackwards()?E.start:E.end,E.desiredColumn=this.$desiredColumn,E},this.getRangeOfMovements=function(E){var R=this.getCursor();try{E(this);var x=this.getCursor();return k.fromPoints(R,x)}catch(A){return k.fromPoints(R,R)}finally{this.moveCursorToPosition(R)}},this.toJSON=function(){if(this.rangeCount)var E=this.ranges.map(function(R){var x=R.clone();return x.isBackwards=R.cursor==R.start,x});else(E=this.getRange()).isBackwards=this.isBackwards();return E},this.fromJSON=function(E){if(null==E.start){if(this.rangeList&&E.length>1){this.toSingleRange(E[0]);for(var R=E.length;R--;){var x=k.fromPoints(E[R].start,E[R].end);E[R].isBackwards&&(x.cursor=x.start),this.addRange(x,!0)}return}E=E[0]}this.rangeList&&this.toSingleRange(E),this.setSelectionRange(E,E.isBackwards)},this.isEqual=function(E){if((E.length||this.rangeCount)&&E.length!=this.rangeCount)return!1;if(!E.length||!this.ranges)return this.getRange().isEqual(E);for(var R=this.ranges.length;R--;)if(!this.ranges[R].isEqual(E[R]))return!1;return!0}}).call(P.prototype),Z.Selection=P}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(ae,Z,V){"use strict";var X=ae("./config"),ee=2e3,$=function(){function k(P){for(var E in this.states=P,this.regExps={},this.matchMappings={},this.states){for(var R=this.states[E],x=[],A=0,_=this.matchMappings[E]={defaultToken:"text"},m="g",D=[],I=0;I<R.length;I++){var T=R[I];if(T.defaultToken&&(_.defaultToken=T.defaultToken),T.caseInsensitive&&-1===m.indexOf("i")&&(m+="i"),T.unicode&&-1===m.indexOf("u")&&(m+="u"),null!=T.regex){T.regex instanceof RegExp&&(T.regex=T.regex.toString().slice(1,-1));var w=T.regex,p=new RegExp("(?:("+w+")|(.))").exec("a").length-2;Array.isArray(T.token)?1==T.token.length||1==p?T.token=T.token[0]:p-1!=T.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:T,groupCount:p-1}),T.token=T.token[0]):(T.tokenArray=T.token,T.token=null,T.onMatch=this.$arrayTokens):"function"==typeof T.token&&!T.onMatch&&(T.onMatch=p>1?this.$applyToken:T.token),p>1&&(/\\\d/.test(T.regex)?w=T.regex.replace(/\\([0-9]+)/g,function(y,h){return"\\"+(parseInt(h,10)+A+1)}):(p=1,w=this.removeCapturingGroups(T.regex)),!T.splitRegex&&"string"!=typeof T.token&&D.push(T)),_[A]=I,A+=p,x.push(w),T.onMatch||(T.onMatch=null)}}x.length||(_[0]=0,x.push("$")),D.forEach(function(y){y.splitRegex=this.createSplitterRegexp(y.regex,m)},this),this.regExps[E]=new RegExp("("+x.join(")|(")+")|($)",m)}}return k.prototype.$setMaxTokenCount=function(P){ee=0|P},k.prototype.$applyToken=function(P){var E=this.splitRegex.exec(P).slice(1),R=this.token.apply(this,E);if("string"==typeof R)return[{type:R,value:P}];for(var x=[],A=0,_=R.length;A<_;A++)E[A]&&(x[x.length]={type:R[A],value:E[A]});return x},k.prototype.$arrayTokens=function(P){if(!P)return[];var E=this.splitRegex.exec(P);if(!E)return"text";for(var R=[],x=this.tokenArray,A=0,_=x.length;A<_;A++)E[A+1]&&(R[R.length]={type:x[A],value:E[A+1]});return R},k.prototype.removeCapturingGroups=function(P){return P.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(R,x){return x?"(?:":R})},k.prototype.createSplitterRegexp=function(P,E){if(-1!=P.indexOf("(?=")){var R=0,x=!1,A={};P.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(_,m,D,I,T,w){return x?x="]"!=T:T?x=!0:I?(R==A.stack&&(A.end=w+1,A.stack=-1),R--):D&&(R++,1!=D.length&&(A.stack=R,A.start=w)),_}),null!=A.end&&/^\)*$/.test(P.substr(A.end))&&(P=P.substring(0,A.start)+P.substr(A.end))}return"^"!=P.charAt(0)&&(P="^"+P),"$"!=P.charAt(P.length-1)&&(P+="$"),new RegExp(P,(E||"").replace("g",""))},k.prototype.getLineTokens=function(P,E){if(E&&"string"!=typeof E){var R=E.slice(0);"#tmp"===(E=R[0])&&(R.shift(),E=R.shift())}else R=[];var x=E||"start",A=this.states[x];A||(A=this.states[x="start"]);var _=this.matchMappings[x],m=this.regExps[x];m.lastIndex=0;for(var D,I=[],T=0,w=0,p={type:null,value:""};D=m.exec(P);){var y=_.defaultToken,h=null,u=D[0],l=m.lastIndex;if(l-u.length>T){var d=P.substring(T,l-u.length);p.type==y?p.value+=d:(p.type&&I.push(p),p={type:y,value:d})}for(var g=0;g<D.length-2;g++)if(void 0!==D[g+1]){y=(h=A[_[g]]).onMatch?h.onMatch(u,x,R,P):h.token,h.next&&(x="string"==typeof h.next?h.next:h.next(x,R),(A=this.states[x])||(this.reportError("state doesn't exist",x),A=this.states[x="start"]),_=this.matchMappings[x],T=l,(m=this.regExps[x]).lastIndex=l),h.consumeLineEnd&&(T=l);break}if(u)if("string"==typeof y)h&&!1===h.merge||p.type!==y?(p.type&&I.push(p),p={type:y,value:u}):p.value+=u;else if(y)for(p.type&&I.push(p),p={type:null,value:""},g=0;g<y.length;g++)I.push(y[g]);if(T==P.length)break;if(T=l,w++>ee){for(w>2*P.length&&this.reportError("infinite loop with in ace tokenizer",{startState:E,line:P});T<P.length;)p.type&&I.push(p),p={value:P.substring(T,T+=500),type:"overflow"};x="start",R=[];break}}return p.type&&I.push(p),R.length>1&&R[0]!==x&&R.unshift("#tmp",x),{tokens:I,state:R.length?R:x}},k}();$.prototype.reportError=X.reportError,Z.Tokenizer=$}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(ae,Z,V){"use strict";var X=ae("../lib/lang"),ee=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(P,E){if(E)for(var R in P){for(var x=P[R],A=0;A<x.length;A++){var _=x[A];(_.next||_.onMatch)&&("string"==typeof _.next&&0!==_.next.indexOf(E)&&(_.next=E+_.next),_.nextState&&0!==_.nextState.indexOf(E)&&(_.nextState=E+_.nextState))}this.$rules[E+R]=x}else for(var R in P)this.$rules[R]=P[R]},this.getRules=function(){return this.$rules},this.embedRules=function(P,E,R,x,A){var _="function"==typeof P?(new P).getRules():P;if(x)for(var m=0;m<x.length;m++)x[m]=E+x[m];else for(var D in x=[],_)x.push(E+D);if(this.addRules(_,E),R){var I=Array.prototype[A?"push":"unshift"];for(m=0;m<x.length;m++)I.apply(this.$rules[x[m]],X.deepCopy(R))}this.$embeds||(this.$embeds=[]),this.$embeds.push(E)},this.getEmbeds=function(){return this.$embeds};var $=function(P,E){return("start"!=P||E.length)&&E.unshift(this.nextState,P),this.nextState},k=function(P,E){return E.shift(),E.shift()||"start"};this.normalizeRules=function(){var P=0,E=this.$rules;Object.keys(E).forEach(function R(x){var A=E[x];A.processed=!0;for(var _=0;_<A.length;_++){var m=A[_],D=null;Array.isArray(m)&&(D=m,m={}),!m.regex&&m.start&&(m.regex=m.start,m.next||(m.next=[]),m.next.push({defaultToken:m.token},{token:m.token+".end",regex:m.end||m.start,next:"pop"}),m.token=m.token+".start",m.push=!0);var I=m.next||m.push;if(I&&Array.isArray(I)){var T=m.stateName;T||("string"!=typeof(T=m.token)&&(T=T[0]||""),E[T]&&(T+=P++)),E[T]=I,m.next=T,R(T)}else"pop"==I&&(m.next=k);if(m.push&&(m.nextState=m.next||m.push,m.next=$,delete m.push),m.rules)for(var w in m.rules)E[w]?E[w].push&&E[w].push.apply(E[w],m.rules[w]):E[w]=m.rules[w];var p="string"==typeof m?m:m.include;if(p&&("$self"===p&&(p="start"),D=Array.isArray(p)?p.map(function(h){return E[h]}):E[p]),D){var y=[_,1].concat(D);m.noEscape&&(y=y.filter(function(h){return!h.next})),A.splice.apply(A,y),_--}m.keywordMap&&(m.token=this.createKeywordMapper(m.keywordMap,m.defaultToken||"text",m.caseInsensitive),delete m.defaultToken)}},this)},this.createKeywordMapper=function(P,E,R,x){var A=Object.create(null);return this.$keywordList=[],Object.keys(P).forEach(function(_){for(var D=P[_].split(x||"|"),I=D.length;I--;){var T=D[I];this.$keywordList.push(T),R&&(T=T.toLowerCase()),A[T]=_}},this),P=null,R?function(_){return A[_.toLowerCase()]||E}:function(_){return A[_]||E}},this.getKeywords=function(){return this.$keywords}}).call(ee.prototype),Z.TextHighlightRules=ee}),ace.define("ace/mode/behaviour",["require","exports","module"],function(ae,Z,V){"use strict";var X=function(){this.$behaviours={}};(function(){this.add=function(ee,$,k){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[ee]:this.$behaviours[ee]={}}this.$behaviours[ee][$]=k},this.addBehaviours=function(ee){for(var $ in ee)for(var k in ee[$])this.add($,k,ee[$][k])},this.remove=function(ee){this.$behaviours&&this.$behaviours[ee]&&delete this.$behaviours[ee]},this.inherit=function(ee,$){if("function"==typeof ee)var k=(new ee).getBehaviours($);else k=ee.getBehaviours($);this.addBehaviours(k)},this.getBehaviours=function(ee){if(ee){for(var $={},k=0;k<ee.length;k++)this.$behaviours[ee[k]]&&($[ee[k]]=this.$behaviours[ee[k]]);return $}return this.$behaviours}}).call(X.prototype),Z.Behaviour=X}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(ae,Z,V){"use strict";var X=ae("./range").Range,ee=function(){function $(k,P,E){this.$session=k,this.$row=P,this.$rowTokens=k.getTokens(P);var R=k.getTokenAt(P,E);this.$tokenIndex=R?R.index:-1}return $.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},$.prototype.stepForward=function(){this.$tokenIndex+=1;for(var k;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,k||(k=this.$session.getLength()),this.$row>=k)return this.$row=k-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},$.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},$.prototype.getCurrentTokenRow=function(){return this.$row},$.prototype.getCurrentTokenColumn=function(){var k=this.$rowTokens,P=this.$tokenIndex,E=k[P].start;if(void 0!==E)return E;for(E=0;P>0;)E+=k[P-=1].value.length;return E},$.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},$.prototype.getCurrentTokenRange=function(){var k=this.$rowTokens[this.$tokenIndex],P=this.getCurrentTokenColumn();return new X(this.$row,P,this.$row,P+k.value.length)},$}();Z.TokenIterator=ee}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(ae,Z,V){"use strict";var R,X=ae("../../lib/oop"),ee=ae("../behaviour").Behaviour,$=ae("../../token_iterator").TokenIterator,k=ae("../../lib/lang"),P=["text","paren.rparen","rparen","paren","punctuation.operator"],E=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],x={},A={'"':'"',"'":"'"},_=function(I){var T=-1;if(I.multiSelect&&(T=I.selection.index,x.rangeCount!=I.multiSelect.rangeCount&&(x={rangeCount:I.multiSelect.rangeCount})),x[T])return R=x[T];R=x[T]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},m=function(I,T,w,p){var y=I.end.row-I.start.row;return{text:w+T+p,selection:[0,I.start.column+1,y,I.end.column+(y?0:1)]}},D=function(I){I=I||{},this.add("braces","insertion",function(T,w,p,y,h){var u=p.getCursorPosition(),l=y.doc.getLine(u.row);if("{"==h){_(p);var d=p.getSelectionRange(),g=y.doc.getTextRange(d);if(""!==g&&"{"!==g&&p.getWrapBehavioursEnabled())return m(d,g,"{","}");if(D.isSaneInsertion(p,y))return/[\]\}\)]/.test(l[u.column])||p.inMultiSelectMode||I.braces?(D.recordAutoInsert(p,y,"}"),{text:"{}",selection:[1,1]}):(D.recordMaybeInsert(p,y,"{"),{text:"{",selection:[1,1]})}else if("}"==h){if(_(p),"}"==l.substring(u.column,u.column+1)&&null!==y.$findOpeningBracket("}",{column:u.column+1,row:u.row})&&D.isAutoInsertedClosing(u,l,h))return D.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==h||"\r\n"==h){_(p);var C="";if(D.isMaybeInsertedClosing(u,l)&&(C=k.stringRepeat("}",R.maybeInsertedBrackets),D.clearMaybeInsertedClosing()),"}"===l.substring(u.column,u.column+1)){var S=y.findMatchingBracket({row:u.row,column:u.column+1},"}");if(!S)return null;var O=this.$getIndent(y.getLine(S.row))}else{if(!C)return void D.clearMaybeInsertedClosing();O=this.$getIndent(l)}var N=O+y.getTabString();return{text:"\n"+N+"\n"+O+C,selection:[1,N.length,1,N.length]}}D.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(T,w,p,y,h){var u=y.doc.getTextRange(h);if(!h.isMultiLine()&&"{"==u){if(_(p),"}"==y.doc.getLine(h.start.row).substring(h.end.column,h.end.column+1))return h.end.column++,h;R.maybeInsertedBrackets--}}),this.add("parens","insertion",function(T,w,p,y,h){if("("==h){_(p);var u=p.getSelectionRange(),l=y.doc.getTextRange(u);if(""!==l&&p.getWrapBehavioursEnabled())return m(u,l,"(",")");if(D.isSaneInsertion(p,y))return D.recordAutoInsert(p,y,")"),{text:"()",selection:[1,1]}}else if(")"==h){_(p);var d=p.getCursorPosition(),g=y.doc.getLine(d.row);if(")"==g.substring(d.column,d.column+1)&&null!==y.$findOpeningBracket(")",{column:d.column+1,row:d.row})&&D.isAutoInsertedClosing(d,g,h))return D.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(T,w,p,y,h){var u=y.doc.getTextRange(h);if(!h.isMultiLine()&&"("==u&&(_(p),")"==y.doc.getLine(h.start.row).substring(h.start.column+1,h.start.column+2)))return h.end.column++,h}),this.add("brackets","insertion",function(T,w,p,y,h){if("["==h){_(p);var u=p.getSelectionRange(),l=y.doc.getTextRange(u);if(""!==l&&p.getWrapBehavioursEnabled())return m(u,l,"[","]");if(D.isSaneInsertion(p,y))return D.recordAutoInsert(p,y,"]"),{text:"[]",selection:[1,1]}}else if("]"==h){_(p);var d=p.getCursorPosition(),g=y.doc.getLine(d.row);if("]"==g.substring(d.column,d.column+1)&&null!==y.$findOpeningBracket("]",{column:d.column+1,row:d.row})&&D.isAutoInsertedClosing(d,g,h))return D.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(T,w,p,y,h){var u=y.doc.getTextRange(h);if(!h.isMultiLine()&&"["==u&&(_(p),"]"==y.doc.getLine(h.start.row).substring(h.start.column+1,h.start.column+2)))return h.end.column++,h}),this.add("string_dquotes","insertion",function(T,w,p,y,h){var u=y.$mode.$quotes||A;if(1==h.length&&u[h]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(h))return;_(p);var l=h,d=p.getSelectionRange(),g=y.doc.getTextRange(d);if(""!==g&&(1!=g.length||!u[g])&&p.getWrapBehavioursEnabled())return m(d,g,l,l);if(!g){var f=p.getCursorPosition(),v=y.doc.getLine(f.row),C=v.substring(f.column-1,f.column),S=v.substring(f.column,f.column+1),O=y.getTokenAt(f.row,f.column),N=y.getTokenAt(f.row,f.column+1);if("\\"==C&&O&&/escape/.test(O.type))return null;var Q,z=O&&/string|escape/.test(O.type),K=!N||/string|escape/.test(N.type);if(S==l)(Q=z!==K)&&/string\.end/.test(N.type)&&(Q=!1);else{if(z&&!K||z&&K)return null;var ue=y.$mode.tokenRe;ue.lastIndex=0;var oe=ue.test(C);ue.lastIndex=0;var pe=ue.test(S),F=y.$mode.$pairQuotesAfter;if(!(F&&F[l]&&F[l].test(C))&&oe||pe||S&&!/[\s;,.})\]\\]/.test(S))return null;var Y=v[f.column-2];if(C==l&&(Y==l||ue.test(Y)))return null;Q=!0}return{text:Q?l+l:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(T,w,p,y,h){var u=y.$mode.$quotes||A,l=y.doc.getTextRange(h);if(!h.isMultiLine()&&u.hasOwnProperty(l)&&(_(p),y.doc.getLine(h.start.row).substring(h.start.column+1,h.start.column+2)==l))return h.end.column++,h}),!1!==I.closeDocComment&&this.add("doc comment end","insertion",function(T,w,p,y,h){if("doc-start"===T&&("\n"===h||"\r\n"===h)&&p.selection.isEmpty()){var u=p.getCursorPosition(),l=y.doc.getLine(u.row),d=y.doc.getLine(u.row+1),g=this.$getIndent(l);if(/\s*\*/.test(d))return/^\s*\*/.test(l)?{text:h+g+"* ",selection:[1,3+g.length,1,3+g.length]}:{text:h+g+" * ",selection:[1,3+g.length,1,3+g.length]};if(/\/\*\*/.test(l.substring(0,u.column)))return{text:h+g+" * "+h+" "+g+"*/",selection:[1,4+g.length,1,4+g.length]}}})};D.isSaneInsertion=function(I,T){var w=I.getCursorPosition(),p=new $(T,w.row,w.column);if(!this.$matchTokenType(p.getCurrentToken()||"text",P)){if(/[)}\]]/.test(I.session.getLine(w.row)[w.column]))return!0;var y=new $(T,w.row,w.column+1);if(!this.$matchTokenType(y.getCurrentToken()||"text",P))return!1}return p.stepForward(),p.getCurrentTokenRow()!==w.row||this.$matchTokenType(p.getCurrentToken()||"text",E)},D.$matchTokenType=function(I,T){return T.indexOf(I.type||I)>-1},D.recordAutoInsert=function(I,T,w){var p=I.getCursorPosition(),y=T.doc.getLine(p.row);this.isAutoInsertedClosing(p,y,R.autoInsertedLineEnd[0])||(R.autoInsertedBrackets=0),R.autoInsertedRow=p.row,R.autoInsertedLineEnd=w+y.substr(p.column),R.autoInsertedBrackets++},D.recordMaybeInsert=function(I,T,w){var p=I.getCursorPosition(),y=T.doc.getLine(p.row);this.isMaybeInsertedClosing(p,y)||(R.maybeInsertedBrackets=0),R.maybeInsertedRow=p.row,R.maybeInsertedLineStart=y.substr(0,p.column)+w,R.maybeInsertedLineEnd=y.substr(p.column),R.maybeInsertedBrackets++},D.isAutoInsertedClosing=function(I,T,w){return R.autoInsertedBrackets>0&&I.row===R.autoInsertedRow&&w===R.autoInsertedLineEnd[0]&&T.substr(I.column)===R.autoInsertedLineEnd},D.isMaybeInsertedClosing=function(I,T){return R.maybeInsertedBrackets>0&&I.row===R.maybeInsertedRow&&T.substr(I.column)===R.maybeInsertedLineEnd&&T.substr(0,I.column)==R.maybeInsertedLineStart},D.popAutoInsertedClosing=function(){R.autoInsertedLineEnd=R.autoInsertedLineEnd.substr(1),R.autoInsertedBrackets--},D.clearMaybeInsertedClosing=function(){R&&(R.maybeInsertedBrackets=0,R.maybeInsertedRow=-1)},X.inherits(D,ee),Z.CstyleBehaviour=D}),ace.define("ace/unicode",["require","exports","module"],function(ae,Z,V){"use strict";for(var X=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],ee=0,$=[],k=0;k<X.length;k+=2)$.push(ee+=X[k]),X[k+1]&&$.push(45,ee+=X[k+1]);Z.wordChars=String.fromCharCode.apply(null,$)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(ae,Z,V){"use strict";var X=ae("../config"),ee=ae("../tokenizer").Tokenizer,$=ae("./text_highlight_rules").TextHighlightRules,k=ae("./behaviour/cstyle").CstyleBehaviour,P=ae("../unicode"),E=ae("../lib/lang"),R=ae("../token_iterator").TokenIterator,x=ae("../range").Range,A=function(){this.HighlightRules=$};(function(){this.$defaultBehaviour=new k,this.tokenRe=new RegExp("^["+P.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+P.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new ee(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(_,m,D,I){var T=m.doc,w=!0,p=!0,y=1/0,h=m.getTabSize(),u=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var g=this.lineCommentStart.map(E.escapeRegExp).join("|"),l=this.lineCommentStart[0];else g=E.escapeRegExp(this.lineCommentStart),l=this.lineCommentStart;g=new RegExp("^(\\s*)(?:"+g+") ?"),u=m.getUseSoftTabs();var C=function(pe,F){var U=pe.match(g);if(U){var Y=U[1].length,W=U[0].length;!N(pe,Y,W)&&" "==U[0][W-1]&&W--,T.removeInLine(F,Y,W)}},O=l+" ",v=function(pe,F){(!w||/\S/.test(pe))&&(N(pe,y,y)?T.insertInLine({row:F,column:y},O):T.insertInLine({row:F,column:y},l))},S=function(pe,F){return g.test(pe)},N=function(pe,F,U){for(var Y=0;F--&&" "==pe.charAt(F);)Y++;if(Y%h!=0)return!1;for(Y=0;" "==pe.charAt(U++);)Y++;return h>2?Y%h!=h-1:Y%h==0}}else{if(!this.blockComment)return!1;l=this.blockComment.start;var d=this.blockComment.end,f=(g=new RegExp("^(\\s*)(?:"+E.escapeRegExp(l)+")"),new RegExp("(?:"+E.escapeRegExp(d)+")\\s*$"));v=function(Q,ue){S(Q,ue)||(!w||/\S/.test(Q))&&(T.insertInLine({row:ue,column:Q.length},d),T.insertInLine({row:ue,column:y},l))},C=function(Q,ue){var oe;(oe=Q.match(f))&&T.removeInLine(ue,Q.length-oe[0].length,Q.length),(oe=Q.match(g))&&T.removeInLine(ue,oe[1].length,oe[0].length)},S=function(Q,ue){if(g.test(Q))return!0;for(var oe=m.getTokens(ue),pe=0;pe<oe.length;pe++)if("comment"===oe[pe].type)return!0}}function z(Q){for(var ue=D;ue<=I;ue++)Q(T.getLine(ue),ue)}var K=1/0;z(function(Q,ue){var oe=Q.search(/\S/);-1!==oe?(oe<y&&(y=oe),p&&!S(Q,ue)&&(p=!1)):K>Q.length&&(K=Q.length)}),y==1/0&&(y=K,w=!1,p=!1),u&&y%h!=0&&(y=Math.floor(y/h)*h),z(p?C:v)},this.toggleBlockComment=function(_,m,D,I){var T=this.blockComment;if(T){!T.start&&T[0]&&(T=T[0]);var u,l,p=(w=new R(m,I.row,I.column)).getCurrentToken(),h=m.selection.toOrientedRange();if(p&&/comment/.test(p.type)){for(var d,g;p&&/comment/.test(p.type);){if(-1!=(f=p.value.indexOf(T.start))){var v=w.getCurrentTokenRow(),C=w.getCurrentTokenColumn()+f;d=new x(v,C,v,C+T.start.length);break}p=w.stepBackward()}var w;for(p=(w=new R(m,I.row,I.column)).getCurrentToken();p&&/comment/.test(p.type);){var f;if(-1!=(f=p.value.indexOf(T.end))){v=w.getCurrentTokenRow(),C=w.getCurrentTokenColumn()+f,g=new x(v,C,v,C+T.end.length);break}p=w.stepForward()}g&&m.remove(g),d&&(m.remove(d),u=d.start.row,l=-T.start.length)}else l=T.start.length,u=D.start.row,m.insert(D.end,T.end),m.insert(D.start,T.start);h.start.row==u&&(h.start.column+=l),h.end.row==u&&(h.end.column+=l),m.selection.fromOrientedRange(h)}},this.getNextLineIndent=function(_,m,D){return this.$getIndent(m)},this.checkOutdent=function(_,m,D){return!1},this.autoOutdent=function(_,m,D){},this.$getIndent=function(_){return _.match(/^\s*/)[0]},this.createWorker=function(_){return null},this.createModeDelegates=function(_){for(var m in this.$embeds=[],this.$modes={},_)if(_[m]){var D=_[m],I=D.prototype.$id,T=X.$modes[I];T||(X.$modes[I]=T=new D),X.$modes[m]||(X.$modes[m]=T),this.$embeds.push(m),this.$modes[m]=T}var w=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(m=0;m<w.length;m++)!function(y){var h=w[m],u=y[h];y[w[m]]=function(){return this.$delegator(h,arguments,u)}}(this)},this.$delegator=function(_,m,D){var I=m[0]||"start";if("string"!=typeof I){if(Array.isArray(I[2])&&(w=this.$modes[I[2][I[2].length-1]]))return w[_].apply(w,[I[1]].concat([].slice.call(m,1)));I=I[0]||"start"}for(var p=0;p<this.$embeds.length;p++)if(this.$modes[this.$embeds[p]]){var w,y=I.split(this.$embeds[p]);if(!y[0]&&y[1])return m[0]=y[1],(w=this.$modes[this.$embeds[p]])[_].apply(w,m)}var h=D.apply(this,m);return D?h:void 0},this.transformAction=function(_,m,D,I,T){if(this.$behaviour){var w=this.$behaviour.getBehaviours();for(var p in w)if(w[p][m]){var y=w[p][m].apply(this,arguments);if(y)return y}}},this.getKeywords=function(_){if(!this.completionKeywords){var m=this.$tokenizer.rules,D=[];for(var I in m)for(var T=m[I],w=0,p=T.length;w<p;w++)if("string"==typeof T[w].token)/keyword|support|storage/.test(T[w].token)&&D.push(T[w].regex);else if("object"==typeof T[w].token)for(var y=0,h=T[w].token.length;y<h;y++)/keyword|support|storage/.test(T[w].token[y])&&(I=T[w].regex.match(/\(.+?\)/g)[y],D.push(I.substr(1,I.length-2)));this.completionKeywords=D}return _?D.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(_,m,D,I){return(this.$keywordList||this.$createKeywordList()).map(function(w){return{name:w,value:w,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(A.prototype),Z.Mode=A}),ace.define("ace/apply_delta",["require","exports","module"],function(ae,Z,V){"use strict";Z.applyDelta=function(k,P,E){var R=P.start.row,x=P.start.column,A=k[R]||"";switch(P.action){case"insert":if(1===P.lines.length)k[R]=A.substring(0,x)+P.lines[0]+A.substring(x);else{var m=[R,1].concat(P.lines);k.splice.apply(k,m),k[R]=A.substring(0,x)+k[R],k[R+P.lines.length-1]+=A.substring(x)}break;case"remove":var D=P.end.column,I=P.end.row;R===I?k[R]=A.substring(0,x)+A.substring(D):k.splice(R,I-R+1,A.substring(0,x)+k[I].substring(D))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(ae,Z,V){"use strict";var X=ae("./lib/oop"),ee=ae("./lib/event_emitter").EventEmitter,$=function(){function E(R,x,A){this.$onChange=this.onChange.bind(this),this.attach(R),void 0===A?this.setPosition(x.row,x.column):this.setPosition(x,A)}return E.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},E.prototype.getDocument=function(){return this.document},E.prototype.onChange=function(R){if(!(R.start.row==R.end.row&&R.start.row!=this.row||R.start.row>this.row)){var x=function P(E,R,x){var A="insert"==E.action,_=(A?1:-1)*(E.end.row-E.start.row),m=(A?1:-1)*(E.end.column-E.start.column),D=E.start,I=A?D:E.end;return k(R,D,x)?{row:R.row,column:R.column}:k(I,R,!x)?{row:R.row+_,column:R.column+(R.row==I.row?m:0)}:{row:D.row,column:D.column}}(R,{row:this.row,column:this.column},this.$insertRight);this.setPosition(x.row,x.column,!0)}},E.prototype.setPosition=function(R,x,A){var _;if(_=A?{row:R,column:x}:this.$clipPositionToDocument(R,x),this.row!=_.row||this.column!=_.column){var m={row:this.row,column:this.column};this.row=_.row,this.column=_.column,this._signal("change",{old:m,value:_})}},E.prototype.detach=function(){this.document.off("change",this.$onChange)},E.prototype.attach=function(R){this.document=R||this.document,this.document.on("change",this.$onChange)},E.prototype.$clipPositionToDocument=function(R,x){var A={};return R>=this.document.getLength()?(A.row=Math.max(0,this.document.getLength()-1),A.column=this.document.getLine(A.row).length):R<0?(A.row=0,A.column=0):(A.row=R,A.column=Math.min(this.document.getLine(A.row).length,Math.max(0,x))),x<0&&(A.column=0),A},E}();function k(E,R,x){return E.row<R.row||E.row==R.row&&(x?E.column<=R.column:E.column<R.column)}$.prototype.$insertRight=!1,X.implement($.prototype,ee),Z.Anchor=$}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(ae,Z,V){"use strict";var X=ae("./lib/oop"),ee=ae("./apply_delta").applyDelta,$=ae("./lib/event_emitter").EventEmitter,k=ae("./range").Range,P=ae("./anchor").Anchor,E=function(){function R(x){this.$lines=[""],0===x.length?this.$lines=[""]:Array.isArray(x)?this.insertMergedLines({row:0,column:0},x):this.insert({row:0,column:0},x)}return R.prototype.setValue=function(x){var A=this.getLength()-1;this.remove(new k(0,0,A,this.getLine(A).length)),this.insert({row:0,column:0},x||"")},R.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},R.prototype.createAnchor=function(x,A){return new P(this,x,A)},R.prototype.$detectNewLine=function(x){var A=x.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=A?A[1]:"\n",this._signal("changeNewLineMode")},R.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},R.prototype.setNewLineMode=function(x){this.$newLineMode!==x&&(this.$newLineMode=x,this._signal("changeNewLineMode"))},R.prototype.getNewLineMode=function(){return this.$newLineMode},R.prototype.isNewLine=function(x){return"\r\n"==x||"\r"==x||"\n"==x},R.prototype.getLine=function(x){return this.$lines[x]||""},R.prototype.getLines=function(x,A){return this.$lines.slice(x,A+1)},R.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},R.prototype.getLength=function(){return this.$lines.length},R.prototype.getTextRange=function(x){return this.getLinesForRange(x).join(this.getNewLineCharacter())},R.prototype.getLinesForRange=function(x){var A;if(x.start.row===x.end.row)A=[this.getLine(x.start.row).substring(x.start.column,x.end.column)];else{(A=this.getLines(x.start.row,x.end.row))[0]=(A[0]||"").substring(x.start.column);var _=A.length-1;x.end.row-x.start.row==_&&(A[_]=A[_].substring(0,x.end.column))}return A},R.prototype.insertLines=function(x,A){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(x,A)},R.prototype.removeLines=function(x,A){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(x,A)},R.prototype.insertNewLine=function(x){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(x,["",""])},R.prototype.insert=function(x,A){return this.getLength()<=1&&this.$detectNewLine(A),this.insertMergedLines(x,this.$split(A))},R.prototype.insertInLine=function(x,A){var _=this.clippedPos(x.row,x.column),m=this.pos(x.row,x.column+A.length);return this.applyDelta({start:_,end:m,action:"insert",lines:[A]},!0),this.clonePos(m)},R.prototype.clippedPos=function(x,A){var _=this.getLength();void 0===x?x=_:x<0?x=0:x>=_&&(x=_-1,A=void 0);var m=this.getLine(x);return null==A&&(A=m.length),{row:x,column:A=Math.min(Math.max(A,0),m.length)}},R.prototype.clonePos=function(x){return{row:x.row,column:x.column}},R.prototype.pos=function(x,A){return{row:x,column:A}},R.prototype.$clipPosition=function(x){var A=this.getLength();return x.row>=A?(x.row=Math.max(0,A-1),x.column=this.getLine(A-1).length):(x.row=Math.max(0,x.row),x.column=Math.min(Math.max(x.column,0),this.getLine(x.row).length)),x},R.prototype.insertFullLines=function(x,A){var _=0;(x=Math.min(Math.max(x,0),this.getLength()))<this.getLength()?(A=A.concat([""]),_=0):(A=[""].concat(A),x--,_=this.$lines[x].length),this.insertMergedLines({row:x,column:_},A)},R.prototype.insertMergedLines=function(x,A){var _=this.clippedPos(x.row,x.column),m={row:_.row+A.length-1,column:(1==A.length?_.column:0)+A[A.length-1].length};return this.applyDelta({start:_,end:m,action:"insert",lines:A}),this.clonePos(m)},R.prototype.remove=function(x){var A=this.clippedPos(x.start.row,x.start.column),_=this.clippedPos(x.end.row,x.end.column);return this.applyDelta({start:A,end:_,action:"remove",lines:this.getLinesForRange({start:A,end:_})}),this.clonePos(A)},R.prototype.removeInLine=function(x,A,_){var m=this.clippedPos(x,A),D=this.clippedPos(x,_);return this.applyDelta({start:m,end:D,action:"remove",lines:this.getLinesForRange({start:m,end:D})},!0),this.clonePos(m)},R.prototype.removeFullLines=function(x,A){x=Math.min(Math.max(0,x),this.getLength()-1);var _=(A=Math.min(Math.max(0,A),this.getLength()-1))==this.getLength()-1&&x>0,m=A<this.getLength()-1,D=_?x-1:x,I=_?this.getLine(D).length:0,T=m?A+1:A,w=m?0:this.getLine(T).length,p=new k(D,I,T,w),y=this.$lines.slice(x,A+1);return this.applyDelta({start:p.start,end:p.end,action:"remove",lines:this.getLinesForRange(p)}),y},R.prototype.removeNewLine=function(x){x<this.getLength()-1&&x>=0&&this.applyDelta({start:this.pos(x,this.getLine(x).length),end:this.pos(x+1,0),action:"remove",lines:["",""]})},R.prototype.replace=function(x,A){return x instanceof k||(x=k.fromPoints(x.start,x.end)),0===A.length&&x.isEmpty()?x.start:A==this.getTextRange(x)?x.end:(this.remove(x),A?this.insert(x.start,A):x.start)},R.prototype.applyDeltas=function(x){for(var A=0;A<x.length;A++)this.applyDelta(x[A])},R.prototype.revertDeltas=function(x){for(var A=x.length-1;A>=0;A--)this.revertDelta(x[A])},R.prototype.applyDelta=function(x,A){var _="insert"==x.action;(_?x.lines.length<=1&&!x.lines[0]:!k.comparePoints(x.start,x.end))||(_&&x.lines.length>2e4?this.$splitAndapplyLargeDelta(x,2e4):(ee(this.$lines,x,A),this._signal("change",x)))},R.prototype.$safeApplyDelta=function(x){var A=this.$lines.length;("remove"==x.action&&x.start.row<A&&x.end.row<A||"insert"==x.action&&x.start.row<=A)&&this.applyDelta(x)},R.prototype.$splitAndapplyLargeDelta=function(x,A){for(var _=x.lines,m=_.length-A+1,D=x.start.row,I=x.start.column,T=0,w=0;T<m;T=w){var p=_.slice(T,w+=A-1);p.push(""),this.applyDelta({start:this.pos(D+T,I),end:this.pos(D+w,I=0),action:x.action,lines:p},!0)}x.lines=_.slice(T),x.start.row=D+T,x.start.column=I,this.applyDelta(x,!0)},R.prototype.revertDelta=function(x){this.$safeApplyDelta({start:this.clonePos(x.start),end:this.clonePos(x.end),action:"insert"==x.action?"remove":"insert",lines:x.lines.slice()})},R.prototype.indexToPosition=function(x,A){for(var _=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,D=A||0,I=_.length;D<I;D++)if((x-=_[D].length+m)<0)return{row:D,column:x+_[D].length+m};return{row:I-1,column:x+_[I-1].length+m}},R.prototype.positionToIndex=function(x,A){for(var _=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,D=0,I=Math.min(x.row,_.length),T=A||0;T<I;++T)D+=_[T].length+m;return D+x.column},R.prototype.$split=function(x){return x.split(/\r\n|\r|\n/)},R}();E.prototype.$autoNewLine="",E.prototype.$newLineMode="auto",X.implement(E.prototype,$),Z.Document=E}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(ae,Z,V){"use strict";var X=ae("./lib/oop"),ee=ae("./lib/event_emitter").EventEmitter,$=function(){function k(P,E){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=P;var R=this;this.$worker=function(){if(R.running){for(var x=new Date,A=R.currentLine,_=-1,m=R.doc,D=A;R.lines[A];)A++;var I=m.getLength(),T=0;for(R.running=!1;A<I;){R.$tokenizeRow(A),_=A;do{A++}while(R.lines[A]);if(++T%5==0&&new Date-x>20){R.running=setTimeout(R.$worker,20);break}}R.currentLine=A,-1==_&&(_=A),D<=_&&R.fireUpdateEvent(D,_)}}}return k.prototype.setTokenizer=function(P){this.tokenizer=P,this.lines=[],this.states=[],this.start(0)},k.prototype.setDocument=function(P){this.doc=P,this.lines=[],this.states=[],this.stop()},k.prototype.fireUpdateEvent=function(P,E){this._signal("update",{data:{first:P,last:E}})},k.prototype.start=function(P){this.currentLine=Math.min(P||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},k.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},k.prototype.$updateOnChange=function(P){var E=P.start.row,R=P.end.row-E;if(0===R)this.lines[E]=null;else if("remove"==P.action)this.lines.splice(E,R+1,null),this.states.splice(E,R+1,null);else{var x=Array(R+1);x.unshift(E,1),this.lines.splice.apply(this.lines,x),this.states.splice.apply(this.states,x)}this.currentLine=Math.min(E,this.currentLine,this.doc.getLength()),this.stop()},k.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},k.prototype.getTokens=function(P){return this.lines[P]||this.$tokenizeRow(P)},k.prototype.getState=function(P){return this.currentLine==P&&this.$tokenizeRow(P),this.states[P]||"start"},k.prototype.$tokenizeRow=function(P){var E=this.doc.getLine(P),x=this.tokenizer.getLineTokens(E,this.states[P-1],P);return this.states[P]+""!=x.state+""?(this.states[P]=x.state,this.lines[P+1]=null,this.currentLine>P+1&&(this.currentLine=P+1)):this.currentLine==P&&(this.currentLine=P+1),this.lines[P]=x.tokens},k.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},k}();X.implement($.prototype,ee),Z.BackgroundTokenizer=$}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(ae,Z,V){"use strict";var X=ae("./lib/lang"),ee=ae("./range").Range,$=function(){function k(P,E,R){void 0===R&&(R="text"),this.setRegexp(P),this.clazz=E,this.type=R}return k.prototype.setRegexp=function(P){this.regExp+""!=P+""&&(this.regExp=P,this.cache=[])},k.prototype.update=function(P,E,R,x){if(this.regExp)for(var _=x.lastRow,m={},D=x.firstRow;D<=_;D++){var I=this.cache[D];null==I&&((I=X.getMatchOffsets(R.getLine(D),this.regExp)).length>this.MAX_RANGES&&(I=I.slice(0,this.MAX_RANGES)),I=I.map(function(y){return new ee(D,y.offset,D,y.offset+y.length)}),this.cache[D]=I.length?I:"");for(var T=I.length;T--;){var w=I[T].toScreenRange(R),p=w.toString();m[p]||(m[p]=!0,E.drawSingleLineMarker(P,w,this.clazz,x))}}},k}();$.prototype.MAX_RANGES=500,Z.SearchHighlight=$}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(ae,Z,V){"use strict";var X=ae("../range").Range,ee=function(){function $(k,P){this.foldData=k,Array.isArray(P)?this.folds=P:P=this.folds=[P];var E=P[P.length-1];this.range=new X(P[0].start.row,P[0].start.column,E.end.row,E.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(R){R.setFoldLine(this)},this)}return $.prototype.shiftRow=function(k){this.start.row+=k,this.end.row+=k,this.folds.forEach(function(P){P.start.row+=k,P.end.row+=k})},$.prototype.addFold=function(k){if(k.sameRow){if(k.start.row<this.startRow||k.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(k),this.folds.sort(function(P,E){return-P.range.compareEnd(E.start.row,E.start.column)}),this.range.compareEnd(k.start.row,k.start.column)>0?(this.end.row=k.end.row,this.end.column=k.end.column):this.range.compareStart(k.end.row,k.end.column)<0&&(this.start.row=k.start.row,this.start.column=k.start.column)}else if(k.start.row==this.end.row)this.folds.push(k),this.end.row=k.end.row,this.end.column=k.end.column;else{if(k.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(k),this.start.row=k.start.row,this.start.column=k.start.column}k.foldLine=this},$.prototype.containsRow=function(k){return k>=this.start.row&&k<=this.end.row},$.prototype.walk=function(k,P,E){var A,_,R=0,x=this.folds,D=!0;null==P&&(P=this.end.row,E=this.end.column);for(var I=0;I<x.length;I++){if(-1==(_=(A=x[I]).range.compareStart(P,E)))return void k(null,P,E,R,D);if(!k(null,A.start.row,A.start.column,R,D)&&k(A.placeholder,A.start.row,A.start.column,R)||0===_)return;D=!A.sameRow,R=A.end.column}k(null,P,E,R,D)},$.prototype.getNextFoldTo=function(k,P){for(var E,R,x=0;x<this.folds.length;x++){if(-1==(R=(E=this.folds[x]).range.compareEnd(k,P)))return{fold:E,kind:"after"};if(0===R)return{fold:E,kind:"inside"}}return null},$.prototype.addRemoveChars=function(k,P,E){var x,A,R=this.getNextFoldTo(k,P);if(R)if(x=R.fold,"inside"==R.kind&&x.start.column!=P&&x.start.row!=k)window.console&&window.console.log(k,P,x);else if(x.start.row==k){var _=(A=this.folds).indexOf(x);for(0===_&&(this.start.column+=E);_<A.length;_++){if((x=A[_]).start.column+=E,!x.sameRow)return;x.end.column+=E}this.end.column+=E}},$.prototype.split=function(k,P){var E=this.getNextFoldTo(k,P);if(!E||"inside"==E.kind)return null;var x=this.folds,A=this.foldData,_=x.indexOf(E.fold),m=x[_-1];this.end.row=m.end.row,this.end.column=m.end.column;var D=new $(A,x=x.splice(_,x.length-_));return A.splice(A.indexOf(this)+1,0,D),D},$.prototype.merge=function(k){for(var P=k.folds,E=0;E<P.length;E++)this.addFold(P[E]);var R=this.foldData;R.splice(R.indexOf(k),1)},$.prototype.toString=function(){var k=[this.range.toString()+": ["];return this.folds.forEach(function(P){k.push("  "+P.toString())}),k.push("]"),k.join("\n")},$.prototype.idxToPosition=function(k){for(var P=0,E=0;E<this.folds.length;E++){var R=this.folds[E];if((k-=R.start.column-P)<0)return{row:R.start.row,column:R.start.column+k};if((k-=R.placeholder.length)<0)return R.start;P=R.end.column}return{row:this.end.row,column:this.end.column+k}},$}();Z.FoldLine=ee}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(ae,Z,V){"use strict";var ee=ae("./range").Range.comparePoints,$=function(){function k(){this.ranges=[],this.$bias=1}return k.prototype.pointIndex=function(P,E,R){for(var x=this.ranges,A=R||0;A<x.length;A++){var _=x[A],m=ee(P,_.end);if(!(m>0)){var D=ee(P,_.start);return 0===m?E&&0!==D?-A-2:A:D>0||0===D&&!E?A:-A-1}}return-A-1},k.prototype.add=function(P){var E=!P.isEmpty(),R=this.pointIndex(P.start,E);R<0&&(R=-R-1);var x=this.pointIndex(P.end,E,R);return x<0?x=-x-1:x++,this.ranges.splice(R,x-R,P)},k.prototype.addList=function(P){for(var E=[],R=P.length;R--;)E.push.apply(E,this.add(P[R]));return E},k.prototype.substractPoint=function(P){var E=this.pointIndex(P);if(E>=0)return this.ranges.splice(E,1)},k.prototype.merge=function(){for(var x,P=[],E=this.ranges,R=(E=E.sort(function(m,D){return ee(m.start,D.start)}))[0],A=1;A<E.length;A++){var _=ee((x=R).end,(R=E[A]).start);_<0||0==_&&!x.isEmpty()&&!R.isEmpty()||(ee(x.end,R.end)<0&&(x.end.row=R.end.row,x.end.column=R.end.column),E.splice(A,1),P.push(R),R=x,A--)}return this.ranges=E,P},k.prototype.contains=function(P,E){return this.pointIndex({row:P,column:E})>=0},k.prototype.containsPoint=function(P){return this.pointIndex(P)>=0},k.prototype.rangeAtPoint=function(P){var E=this.pointIndex(P);if(E>=0)return this.ranges[E]},k.prototype.clipRows=function(P,E){var R=this.ranges;if(R[0].start.row>E||R[R.length-1].start.row<P)return[];var x=this.pointIndex({row:P,column:0});x<0&&(x=-x-1);var A=this.pointIndex({row:E,column:0},x);A<0&&(A=-A-1);for(var _=[],m=x;m<A;m++)_.push(R[m]);return _},k.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},k.prototype.attach=function(P){this.session&&this.detach(),this.session=P,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},k.prototype.detach=function(){!this.session||(this.session.removeListener("change",this.onChange),this.session=null)},k.prototype.$onChange=function(P){for(var E=P.start,R=P.end,x=E.row,A=R.row,_=this.ranges,m=0,D=_.length;m<D&&!((I=_[m]).end.row>=x);m++);if("insert"==P.action){for(var T=A-x,w=-E.column+R.column;m<D&&!((I=_[m]).start.row>x);m++)if(I.start.row==x&&I.start.column>=E.column&&(I.start.column==E.column&&this.$bias<=0||(I.start.column+=w,I.start.row+=T)),I.end.row==x&&I.end.column>=E.column){if(I.end.column==E.column&&this.$bias<0)continue;I.end.column==E.column&&w>0&&m<D-1&&I.end.column>I.start.column&&I.end.column==_[m+1].start.column&&(I.end.column-=w),I.end.column+=w,I.end.row+=T}}else for(T=x-A,w=E.column-R.column;m<D&&!((I=_[m]).start.row>A);m++)I.end.row<A&&(x<I.end.row||x==I.end.row&&E.column<I.end.column)?(I.end.row=x,I.end.column=E.column):I.end.row==A?I.end.column<=R.column?(T||I.end.column>E.column)&&(I.end.column=E.column,I.end.row=E.row):(I.end.column+=w,I.end.row+=T):I.end.row>A&&(I.end.row+=T),I.start.row<A&&(x<I.start.row||x==I.start.row&&E.column<I.start.column)?(I.start.row=x,I.start.column=E.column):I.start.row==A?I.start.column<=R.column?(T||I.start.column>E.column)&&(I.start.column=E.column,I.start.row=E.row):(I.start.column+=w,I.start.row+=T):I.start.row>A&&(I.start.row+=T);if(0!=T&&m<D)for(;m<D;m++){var I;(I=_[m]).start.row+=T,I.end.row+=T}},k}();$.prototype.comparePoints=ee,Z.RangeList=$}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(ae,Z,V){"use strict";var x,X=this&&this.__extends||(x=function(A,_){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,D){m.__proto__=D}||function(m,D){for(var I in D)Object.prototype.hasOwnProperty.call(D,I)&&(m[I]=D[I])})(A,_)},function(A,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function m(){this.constructor=A}x(A,_),A.prototype=null===_?Object.create(_):(m.prototype=_.prototype,new m)}),$=function(x){function A(_,m){var D=x.call(this)||this;return D.foldLine=null,D.placeholder=m,D.range=_,D.start=_.start,D.end=_.end,D.sameRow=_.start.row==_.end.row,D.subFolds=D.ranges=[],D}return X(A,x),A.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},A.prototype.setFoldLine=function(_){this.foldLine=_,this.subFolds.forEach(function(m){m.setFoldLine(_)})},A.prototype.clone=function(){var m=new A(this.range.clone(),this.placeholder);return this.subFolds.forEach(function(D){m.subFolds.push(D.clone())}),m.collapseChildren=this.collapseChildren,m},A.prototype.addSubFold=function(_){if(!this.range.isEqual(_)){!function P(x,A){k(x.start,A),k(x.end,A)}(_,this.start);for(var w=_.start.row,p=_.start.column,m=0,D=-1;m<this.subFolds.length&&1==(D=this.subFolds[m].range.compare(w,p));m++);var I=this.subFolds[m],T=0;if(0==D){if(I.range.containsRange(_))return I.addSubFold(_);T=1}w=_.range.end.row,p=_.range.end.column;var y=m;for(D=-1;y<this.subFolds.length&&1==(D=this.subFolds[y].range.compare(w,p));y++);0==D&&y++;for(var h=this.subFolds.splice(m,y-m,_),u=0==D?h.length-1:h.length,l=T;l<u;l++)_.addSubFold(h[l]);return _.setFoldLine(this.foldLine),_}},A.prototype.restoreRange=function(_){return function R(x,A){E(x.start,A),E(x.end,A)}(_,this.start)},A}(ae("../range_list").RangeList);function k(x,A){x.row-=A.row,0==x.row&&(x.column-=A.column)}function E(x,A){0==x.row&&(x.column+=A.column),x.row+=A.row}Z.Fold=$}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(ae,Z,V){"use strict";var X=ae("../range").Range,ee=ae("./fold_line").FoldLine,$=ae("./fold").Fold,k=ae("../token_iterator").TokenIterator,P=ae("../mouse/mouse_event").MouseEvent;Z.Folding=function E(){this.getFoldAt=function(R,x,A){var _=this.getFoldLine(R);if(!_)return null;for(var m=_.folds,D=0;D<m.length;D++){var I=m[D].range;if(I.contains(R,x)){if(1==A&&I.isEnd(R,x)&&!I.isEmpty())continue;if(-1==A&&I.isStart(R,x)&&!I.isEmpty())continue;return m[D]}}},this.getFoldsInRange=function(R){var x=R.start,A=R.end,_=this.$foldData,m=[];x.column+=1,A.column-=1;for(var D=0;D<_.length;D++){var I=_[D].range.compareRange(R);if(2!=I){if(-2==I)break;for(var T=_[D].folds,w=0;w<T.length;w++){var p=T[w];if(-2==(I=p.range.compareRange(R)))break;if(2!=I){if(42==I)break;m.push(p)}}}}return x.column-=1,A.column+=1,m},this.getFoldsInRangeList=function(R){if(Array.isArray(R)){var x=[];R.forEach(function(A){x=x.concat(this.getFoldsInRange(A))},this)}else x=this.getFoldsInRange(R);return x},this.getAllFolds=function(){for(var R=[],x=this.$foldData,A=0;A<x.length;A++)for(var _=0;_<x[A].folds.length;_++)R.push(x[A].folds[_]);return R},this.getFoldStringAt=function(R,x,A,_){if(!(_=_||this.getFoldLine(R)))return null;for(var D,I,m={end:{column:0}},T=0;T<_.folds.length;T++){var w=(I=_.folds[T]).range.compareEnd(R,x);if(-1==w){D=this.getLine(I.start.row).substring(m.end.column,I.start.column);break}if(0===w)return null;m=I}return D||(D=this.getLine(I.start.row).substring(m.end.column)),-1==A?D.substring(0,x-m.end.column):1==A?D.substring(x-m.end.column):D},this.getFoldLine=function(R,x){var A=this.$foldData,_=0;for(x&&(_=A.indexOf(x)),-1==_&&(_=0);_<A.length;_++){var m=A[_];if(m.start.row<=R&&m.end.row>=R)return m;if(m.end.row>R)return null}return null},this.getNextFoldLine=function(R,x){var A=this.$foldData,_=0;for(x&&(_=A.indexOf(x)),-1==_&&(_=0);_<A.length;_++){var m=A[_];if(m.end.row>=R)return m}return null},this.getFoldedRowCount=function(R,x){for(var A=this.$foldData,_=x-R+1,m=0;m<A.length;m++){var D=A[m],I=D.end.row,T=D.start.row;if(I>=x){T<x&&(T>=R?_-=x-T:_=0);break}I>=R&&(_-=T>=R?I-T:I-R+1)}return _},this.$addFoldLine=function(R){return this.$foldData.push(R),this.$foldData.sort(function(x,A){return x.start.row-A.start.row}),R},this.addFold=function(R,x){var m,A=this.$foldData,_=!1;R instanceof $?m=R:(m=new $(x,R)).collapseChildren=x.collapseChildren,this.$clipRangeToDocument(m.range);var D=m.start.row,I=m.start.column,T=m.end.row,w=m.end.column,p=this.getFoldAt(D,I,1),y=this.getFoldAt(T,w,-1);if(p&&y==p)return p.addSubFold(m);p&&!p.range.isStart(D,I)&&this.removeFold(p),y&&!y.range.isEnd(T,w)&&this.removeFold(y);var h=this.getFoldsInRange(m.range);h.length>0&&(this.removeFolds(h),m.collapseChildren||h.forEach(function(g){m.addSubFold(g)}));for(var u=0;u<A.length;u++){var l=A[u];if(T==l.start.row){l.addFold(m),_=!0;break}if(D==l.end.row){if(l.addFold(m),_=!0,!m.sameRow){var d=A[u+1];if(d&&d.start.row==T){l.merge(d);break}}break}if(T<=l.start.row)break}return _||(l=this.$addFoldLine(new ee(this.$foldData,m))),this.$useWrapMode?this.$updateWrapData(l.start.row,l.start.row):this.$updateRowLengthCache(l.start.row,l.start.row),this.$modified=!0,this._signal("changeFold",{data:m,action:"add"}),m},this.addFolds=function(R){R.forEach(function(x){this.addFold(x)},this)},this.removeFold=function(R){var x=R.foldLine,A=x.start.row,_=x.end.row,m=this.$foldData,D=x.folds;if(1==D.length)m.splice(m.indexOf(x),1);else if(x.range.isEnd(R.end.row,R.end.column))D.pop(),x.end.row=D[D.length-1].end.row,x.end.column=D[D.length-1].end.column;else if(x.range.isStart(R.start.row,R.start.column))D.shift(),x.start.row=D[0].start.row,x.start.column=D[0].start.column;else if(R.sameRow)D.splice(D.indexOf(R),1);else{var I=x.split(R.start.row,R.start.column);(D=I.folds).shift(),I.start.row=D[0].start.row,I.start.column=D[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(A,_):this.$updateRowLengthCache(A,_)),this.$modified=!0,this._signal("changeFold",{data:R,action:"remove"})},this.removeFolds=function(R){for(var x=[],A=0;A<R.length;A++)x.push(R[A]);x.forEach(function(_){this.removeFold(_)},this),this.$modified=!0},this.expandFold=function(R){this.removeFold(R),R.subFolds.forEach(function(x){R.restoreRange(x),this.addFold(x)},this),R.collapseChildren>0&&this.foldAll(R.start.row+1,R.end.row,R.collapseChildren-1),R.subFolds=[]},this.expandFolds=function(R){R.forEach(function(x){this.expandFold(x)},this)},this.unfold=function(R,x){var A,_;if(null==R)A=new X(0,0,this.getLength(),0),null==x&&(x=!0);else if("number"==typeof R)A=new X(R,0,R,this.getLine(R).length);else if("row"in R)A=X.fromPoints(R,R);else{if(Array.isArray(R))return _=[],R.forEach(function(D){_=_.concat(this.unfold(D))},this),_;A=R}for(var m=_=this.getFoldsInRangeList(A);1==_.length&&X.comparePoints(_[0].start,A.start)<0&&X.comparePoints(_[0].end,A.end)>0;)this.expandFolds(_),_=this.getFoldsInRangeList(A);if(0!=x?this.removeFolds(_):this.expandFolds(_),m.length)return m},this.isRowFolded=function(R,x){return!!this.getFoldLine(R,x)},this.getRowFoldEnd=function(R,x){var A=this.getFoldLine(R,x);return A?A.end.row:R},this.getRowFoldStart=function(R,x){var A=this.getFoldLine(R,x);return A?A.start.row:R},this.getFoldDisplayLine=function(R,x,A,_,m){null==_&&(_=R.start.row),null==m&&(m=0),null==x&&(x=R.end.row),null==A&&(A=this.getLine(x).length);var D=this.doc,I="";return R.walk(function(T,w,p,y){if(!(w<_)){if(w==_){if(p<m)return;y=Math.max(m,y)}I+=null!=T?T:D.getLine(w).substring(y,p)}},x,A),I},this.getDisplayLine=function(R,x,A,_){var D,m=this.getFoldLine(R);return m?this.getFoldDisplayLine(m,R,x,A,_):(D=this.doc.getLine(R)).substring(_||0,x||D.length)},this.$cloneFoldData=function(){var R=[];return R=this.$foldData.map(function(x){var A=x.folds.map(function(_){return _.clone()});return new ee(R,A)})},this.toggleFold=function(R){var _,m,A=this.selection.getRange();if(A.isEmpty()){var D=A.start;if(_=this.getFoldAt(D.row,D.column))return void this.expandFold(_);(m=this.findMatchingBracket(D))?1==A.comparePoint(m)?A.end=m:(A.start=m,A.start.column++,A.end.column--):(m=this.findMatchingBracket({row:D.row,column:D.column+1}))?(1==A.comparePoint(m)?A.end=m:A.start=m,A.start.column++):A=this.getCommentFoldRange(D.row,D.column)||A}else{var I=this.getFoldsInRange(A);if(R&&I.length)return void this.expandFolds(I);1==I.length&&(_=I[0])}if(_||(_=this.getFoldAt(A.start.row,A.start.column)),_&&_.range.toString()==A.toString())this.expandFold(_);else{var T="...";if(!A.isMultiLine()){if((T=this.getTextRange(A)).length<4)return;T=T.trim().substring(0,2)+".."}this.addFold(T,A)}},this.getCommentFoldRange=function(R,x,A){var _=new k(this,R,x),m=_.getCurrentToken(),D=m&&m.type;if(m&&/^comment|string/.test(D)){"comment"==(D=D.match(/comment|string/)[0])&&(D+="|doc-start");var I=new RegExp(D),T=new X;if(1!=A){do{m=_.stepBackward()}while(m&&I.test(m.type)&&!/^comment.end/.test(m.type));m=_.stepForward()}if(T.start.row=_.getCurrentTokenRow(),T.start.column=_.getCurrentTokenColumn()+(/^comment.start/.test(m.type)?m.value.length:2),_=new k(this,R,x),-1!=A){var w=-1;do{if(m=_.stepForward(),-1==w){var p=this.getState(_.$row);I.test(p)||(w=_.$row)}else if(_.$row>w)break}while(m&&I.test(m.type)&&!/^comment.start/.test(m.type));m=_.stepBackward()}else m=_.getCurrentToken();return T.end.row=_.getCurrentTokenRow(),T.end.column=_.getCurrentTokenColumn(),/^comment.end/.test(m.type)||(T.end.column+=m.value.length-2),T}},this.foldAll=function(R,x,A,_){null==A&&(A=1e5);var m=this.foldWidgets;if(m){x=x||this.getLength();for(var D=R=R||0;D<x;D++)if(null==m[D]&&(m[D]=this.getFoldWidget(D)),"start"==m[D]&&(!_||_(D))){var I=this.getFoldWidgetRange(D);I&&I.isMultiLine()&&I.end.row<=x&&I.start.row>=R&&(D=I.end.row,I.collapseChildren=A,this.addFold("...",I))}}},this.foldToLevel=function(R){for(this.foldAll();R-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var R=this;this.foldAll(null,null,null,function(x){for(var A=R.getTokens(x),_=0;_<A.length;_++){var m=A[_];if("text"!=m.type||!/^\s+$/.test(m.value))return!!/comment/.test(m.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(R){if(!this.$foldStyles[R])throw new Error("invalid fold style: "+R+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=R){this.$foldStyle=R,"manual"==R&&this.unfold();var x=this.$foldMode;this.$setFolding(null),this.$setFolding(x)}},this.$setFolding=function(R){if(this.$foldMode!=R){if(this.$foldMode=R,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!R||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=R.getFoldWidget.bind(R,this,this.$foldStyle),this.getFoldWidgetRange=R.getFoldWidgetRange.bind(R,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(R,x){var A=this.foldWidgets;if(!A||x&&A[R])return{};for(var m,_=R-1;_>=0;){var D=A[_];if(null==D&&(D=A[_]=this.getFoldWidget(_)),"start"==D){var I=this.getFoldWidgetRange(_);if(m||(m=I),I&&I.end.row>=R)break}_--}return{range:-1!==_&&I,firstRange:m}},this.onFoldWidgetClick=function(R,x){if(x instanceof P&&(x=x.domEvent),!this.$toggleFoldWidget(R,{children:x.shiftKey,all:x.ctrlKey||x.metaKey,siblings:x.altKey})){var m=x.target||x.srcElement;m&&/ace_fold-widget/.test(m.className)&&(m.className+=" ace_invalid")}},this.$toggleFoldWidget=function(R,x){if(this.getFoldWidget){var A=this.getFoldWidget(R),_=this.getLine(R),m="end"===A?-1:1,D=this.getFoldAt(R,-1===m?0:_.length,m);if(D)return x.children||x.all?this.removeFold(D):this.expandFold(D),D;var I=this.getFoldWidgetRange(R,!0);if(I&&!I.isMultiLine()&&(D=this.getFoldAt(I.start.row,I.start.column,1))&&I.isEqual(D.range))return this.removeFold(D),D;if(x.siblings){var T=this.getParentFoldRangeData(R);if(T.range)var w=T.range.start.row+1,p=T.range.end.row;this.foldAll(w,p,x.all?1e4:0)}else x.children?(p=I?I.end.row:this.getLength(),this.foldAll(R+1,p,x.all?1e4:0)):I&&(x.all&&(I.collapseChildren=1e4),this.addFold("...",I));return I}},this.toggleFoldWidget=function(R){var x=this.selection.getCursor().row;x=this.getRowFoldStart(x);var A=this.$toggleFoldWidget(x,{});if(!A){var _=this.getParentFoldRangeData(x,!0);if(A=_.range||_.firstRange){var m=this.getFoldAt(x=A.start.row,this.getLine(x).length,1);m?this.removeFold(m):this.addFold("...",A)}}},this.updateFoldWidgets=function(R){var x=R.start.row,A=R.end.row-x;if(0===A)this.foldWidgets[x]=null;else if("remove"==R.action)this.foldWidgets.splice(x,A+1,null);else{var _=Array(A+1);_.unshift(x,1),this.foldWidgets.splice.apply(this.foldWidgets,_)}},this.tokenizerUpdateFoldWidgets=function(R){var x=R.data;x.first!=x.last&&this.foldWidgets.length>x.first&&this.foldWidgets.splice(x.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(ae,Z,V){"use strict";var X=ae("../token_iterator").TokenIterator,ee=ae("../range").Range;Z.BracketMatch=function $(){this.findMatchingBracket=function(k,P){if(0==k.column)return null;var E=P||this.getLine(k.row).charAt(k.column-1);if(""==E)return null;var R=E.match(/([\(\[\{])|([\)\]\}])/);return R?R[1]?this.$findClosingBracket(R[1],k):this.$findOpeningBracket(R[2],k):null},this.getBracketRange=function(k){var R,P=this.getLine(k.row),E=!0,x=P.charAt(k.column-1),A=x&&x.match(/([\(\[\{])|([\)\]\}])/);if(A||(x=P.charAt(k.column),k={row:k.row,column:k.column+1},A=x&&x.match(/([\(\[\{])|([\)\]\}])/),E=!1),!A)return null;if(A[1]){if(!(_=this.$findClosingBracket(A[1],k)))return null;R=ee.fromPoints(k,_),E||(R.end.column++,R.start.column--),R.cursor=R.end}else{var _;if(!(_=this.$findOpeningBracket(A[2],k)))return null;R=ee.fromPoints(_,k),E||(R.start.column++,R.end.column--),R.cursor=R.start}return R},this.getMatchingBracketRanges=function(k,P){var E=this.getLine(k.row),R=/([\(\[\{])|([\)\]\}])/,x=!P&&E.charAt(k.column-1),A=x&&x.match(R);if(A||(x=(void 0===P||P)&&E.charAt(k.column),k={row:k.row,column:k.column+1},A=x&&x.match(R)),!A)return null;var _=new ee(k.row,k.column-1,k.row,k.column),m=A[1]?this.$findClosingBracket(A[1],k):this.$findOpeningBracket(A[2],k);return m?[_,new ee(m.row,m.column,m.row,m.column+1)]:[_]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(k,P,E){var R=this.$brackets[k],x=1,A=new X(this,P.row,P.column),_=A.getCurrentToken();if(_||(_=A.stepForward()),_){E||(E=new RegExp("(\\.?"+_.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var m=P.column-A.getCurrentTokenColumn()-2,D=_.value;;){for(;m>=0;){var I=D.charAt(m);if(I==R){if(0==(x-=1))return{row:A.getCurrentTokenRow(),column:m+A.getCurrentTokenColumn()}}else I==k&&(x+=1);m-=1}do{_=A.stepBackward()}while(_&&!E.test(_.type));if(null==_)break;m=(D=_.value).length-1}return null}},this.$findClosingBracket=function(k,P,E){var R=this.$brackets[k],x=1,A=new X(this,P.row,P.column),_=A.getCurrentToken();if(_||(_=A.stepForward()),_){E||(E=new RegExp("(\\.?"+_.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var m=P.column-A.getCurrentTokenColumn();;){for(var D=_.value,I=D.length;m<I;){var T=D.charAt(m);if(T==R){if(0==(x-=1))return{row:A.getCurrentTokenRow(),column:m+A.getCurrentTokenColumn()}}else T==k&&(x+=1);m+=1}do{_=A.stepForward()}while(_&&!E.test(_.type));if(null==_)break;m=0}return null}},this.getMatchingTags=function(k){var P=new X(this,k.row,k.column),E=this.$findTagName(P);if(E)return"<"===P.stepBackward().value?this.$findClosingTag(P,E):this.$findOpeningTag(P,E)},this.$findTagName=function(k){var P=k.getCurrentToken(),E=!1,R=!1;if(P&&-1===P.type.indexOf("tag-name"))do{(P=R?k.stepBackward():k.stepForward())&&("/>"===P.value?R=!0:-1!==P.type.indexOf("tag-name")&&(E=!0))}while(P&&!E);return P},this.$findClosingTag=function(k,P){var E,R=P.value,x=P.value,A=0,_=new ee(k.getCurrentTokenRow(),k.getCurrentTokenColumn(),k.getCurrentTokenRow(),k.getCurrentTokenColumn()+1);P=k.stepForward();var m=new ee(k.getCurrentTokenRow(),k.getCurrentTokenColumn(),k.getCurrentTokenRow(),k.getCurrentTokenColumn()+P.value.length),D=!1;do{if(E=P,P=k.stepForward()){if(">"===P.value&&!D){var I=new ee(k.getCurrentTokenRow(),k.getCurrentTokenColumn(),k.getCurrentTokenRow(),k.getCurrentTokenColumn()+1);D=!0}if(-1!==P.type.indexOf("tag-name")){if(x===(R=P.value))if("<"===E.value)A++;else if("</"===E.value&&--A<0){k.stepBackward();var T=new ee(k.getCurrentTokenRow(),k.getCurrentTokenColumn(),k.getCurrentTokenRow(),k.getCurrentTokenColumn()+2);P=k.stepForward();var w=new ee(k.getCurrentTokenRow(),k.getCurrentTokenColumn(),k.getCurrentTokenRow(),k.getCurrentTokenColumn()+P.value.length);if(!(P=k.stepForward())||">"!==P.value)return;var p=new ee(k.getCurrentTokenRow(),k.getCurrentTokenColumn(),k.getCurrentTokenRow(),k.getCurrentTokenColumn()+1)}}else x===R&&"/>"===P.value&&--A<0&&(p=w=T=new ee(k.getCurrentTokenRow(),k.getCurrentTokenColumn(),k.getCurrentTokenRow(),k.getCurrentTokenColumn()+2),I=new ee(m.end.row,m.end.column,m.end.row,m.end.column+1))}}while(P&&A>=0);if(_&&I&&T&&p&&m&&w)return{openTag:new ee(_.start.row,_.start.column,I.end.row,I.end.column),closeTag:new ee(T.start.row,T.start.column,p.end.row,p.end.column),openTagName:m,closeTagName:w}},this.$findOpeningTag=function(k,P){var E=k.getCurrentToken(),R=P.value,x=0,A=k.getCurrentTokenRow(),_=k.getCurrentTokenColumn(),m=_+2,D=new ee(A,_,A,m);k.stepForward();var I=new ee(k.getCurrentTokenRow(),k.getCurrentTokenColumn(),k.getCurrentTokenRow(),k.getCurrentTokenColumn()+P.value.length);if((P=k.stepForward())&&">"===P.value){var T=new ee(k.getCurrentTokenRow(),k.getCurrentTokenColumn(),k.getCurrentTokenRow(),k.getCurrentTokenColumn()+1);k.stepBackward(),k.stepBackward();do{if(P=E,A=k.getCurrentTokenRow(),m=(_=k.getCurrentTokenColumn())+P.value.length,E=k.stepBackward(),P)if(-1!==P.type.indexOf("tag-name")){if(R===P.value)if("<"===E.value){if(++x>0){var w=new ee(A,_,A,m),p=new ee(k.getCurrentTokenRow(),k.getCurrentTokenColumn(),k.getCurrentTokenRow(),k.getCurrentTokenColumn()+1);do{P=k.stepForward()}while(P&&">"!==P.value);var y=new ee(k.getCurrentTokenRow(),k.getCurrentTokenColumn(),k.getCurrentTokenRow(),k.getCurrentTokenColumn()+1)}}else"</"===E.value&&x--}else if("/>"===P.value){for(var h=0,u=E;u;){if(-1!==u.type.indexOf("tag-name")&&u.value===R){x--;break}if("<"===u.value)break;u=k.stepBackward(),h++}for(var l=0;l<h;l++)k.stepForward()}}while(E&&x<=0);if(p&&y&&D&&T&&w&&I)return{openTag:new ee(p.start.row,p.start.column,y.end.row,y.end.column),closeTag:new ee(D.start.row,D.start.column,T.end.row,T.end.column),openTagName:w,closeTagName:I}}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(ae,Z,V){"use strict";var X=ae("./lib/oop"),ee=ae("./lib/lang"),$=ae("./bidihandler").BidiHandler,k=ae("./config"),P=ae("./lib/event_emitter").EventEmitter,E=ae("./selection").Selection,R=ae("./mode/text").Mode,x=ae("./range").Range,A=ae("./document").Document,_=ae("./background_tokenizer").BackgroundTokenizer,m=ae("./search_highlight").SearchHighlight,D=function(){function g(f,v){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++g.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new _((new R).getTokenizer(),this);var C=this;this.bgTokenizer.on("update",function(S){C._signal("tokenizerUpdate",S)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),("object"!=typeof f||!f.getLine)&&(f=new A(f)),this.setDocument(f),this.selection=new E(this),this.$bidiHandler=new $(this),k.resetOptions(this),this.setMode(v),k._signal("session",this),this.destroyed=!1}return g.prototype.setDocument=function(f){this.doc&&this.doc.off("change",this.$onChange),this.doc=f,f.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},g.prototype.getDocument=function(){return this.doc},g.prototype.$resetRowCache=function(f){if(!f)return this.$docRowCache=[],void(this.$screenRowCache=[]);var v=this.$docRowCache.length,C=this.$getRowCacheIndex(this.$docRowCache,f)+1;v>C&&(this.$docRowCache.splice(C,v),this.$screenRowCache.splice(C,v))},g.prototype.$getRowCacheIndex=function(f,v){for(var C=0,S=f.length-1;C<=S;){var O=C+S>>1,N=f[O];if(v>N)C=O+1;else{if(!(v<N))return O;S=O-1}}return C-1},g.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},g.prototype.onChangeFold=function(f){this.$resetRowCache(f.data.start.row)},g.prototype.onChange=function(f){this.$modified=!0,this.$bidiHandler.onChange(f),this.$resetRowCache(f.start.row);var v=this.$updateInternalDataOnChange(f);!this.$fromUndo&&this.$undoManager&&(v&&v.length&&(this.$undoManager.add({action:"removeFolds",folds:v},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(f,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(f),this._signal("change",f)},g.prototype.setValue=function(f){this.doc.setValue(f),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},g.prototype.toString=function(){return this.doc.getValue()},g.prototype.getSelection=function(){return this.selection},g.prototype.getState=function(f){return this.bgTokenizer.getState(f)},g.prototype.getTokens=function(f){return this.bgTokenizer.getTokens(f)},g.prototype.getTokenAt=function(f,v){var S,C=this.bgTokenizer.getTokens(f),O=0;if(null==v){var N=C.length-1;O=this.getLine(f).length}else for(N=0;N<C.length&&!((O+=C[N].value.length)>=v);N++);return(S=C[N])?(S.index=N,S.start=O-S.value.length,S):null},g.prototype.setUndoManager=function(f){if(this.$undoManager=f,this.$informUndoManager&&this.$informUndoManager.cancel(),f){var v=this;f.addSession(this),this.$syncInformUndoManager=function(){v.$informUndoManager.cancel(),v.mergeUndoDeltas=!1},this.$informUndoManager=ee.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},g.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},g.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},g.prototype.getTabString=function(){return this.getUseSoftTabs()?ee.stringRepeat(" ",this.getTabSize()):"\t"},g.prototype.setUseSoftTabs=function(f){this.setOption("useSoftTabs",f)},g.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},g.prototype.setTabSize=function(f){this.setOption("tabSize",f)},g.prototype.getTabSize=function(){return this.$tabSize},g.prototype.isTabStop=function(f){return this.$useSoftTabs&&f.column%this.$tabSize==0},g.prototype.setNavigateWithinSoftTabs=function(f){this.setOption("navigateWithinSoftTabs",f)},g.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},g.prototype.setOverwrite=function(f){this.setOption("overwrite",f)},g.prototype.getOverwrite=function(){return this.$overwrite},g.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},g.prototype.addGutterDecoration=function(f,v){this.$decorations[f]||(this.$decorations[f]=""),this.$decorations[f]+=" "+v,this._signal("changeBreakpoint",{})},g.prototype.removeGutterDecoration=function(f,v){this.$decorations[f]=(this.$decorations[f]||"").replace(" "+v,""),this._signal("changeBreakpoint",{})},g.prototype.getBreakpoints=function(){return this.$breakpoints},g.prototype.setBreakpoints=function(f){this.$breakpoints=[];for(var v=0;v<f.length;v++)this.$breakpoints[f[v]]="ace_breakpoint";this._signal("changeBreakpoint",{})},g.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},g.prototype.setBreakpoint=function(f,v){void 0===v&&(v="ace_breakpoint"),v?this.$breakpoints[f]=v:delete this.$breakpoints[f],this._signal("changeBreakpoint",{})},g.prototype.clearBreakpoint=function(f){delete this.$breakpoints[f],this._signal("changeBreakpoint",{})},g.prototype.addMarker=function(f,v,C,S){var O=this.$markerId++,N={range:f,type:C||"line",renderer:"function"==typeof C?C:null,clazz:v,inFront:!!S,id:O};return S?(this.$frontMarkers[O]=N,this._signal("changeFrontMarker")):(this.$backMarkers[O]=N,this._signal("changeBackMarker")),O},g.prototype.addDynamicMarker=function(f,v){if(f.update){var C=this.$markerId++;return f.id=C,f.inFront=!!v,v?(this.$frontMarkers[C]=f,this._signal("changeFrontMarker")):(this.$backMarkers[C]=f,this._signal("changeBackMarker")),f}},g.prototype.removeMarker=function(f){var v=this.$frontMarkers[f]||this.$backMarkers[f];v&&(delete(v.inFront?this.$frontMarkers:this.$backMarkers)[f],this._signal(v.inFront?"changeFrontMarker":"changeBackMarker"))},g.prototype.getMarkers=function(f){return f?this.$frontMarkers:this.$backMarkers},g.prototype.highlight=function(f){if(!this.$searchHighlight){var v=new m(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(v)}this.$searchHighlight.setRegexp(f)},g.prototype.highlightLines=function(f,v,C,S){"number"!=typeof v&&(C=v,v=f),C||(C="ace_step");var O=new x(f,0,v,1/0);return O.id=this.addMarker(O,C,"fullLine",S),O},g.prototype.setAnnotations=function(f){this.$annotations=f,this._signal("changeAnnotation",{})},g.prototype.getAnnotations=function(){return this.$annotations||[]},g.prototype.clearAnnotations=function(){this.setAnnotations([])},g.prototype.$detectNewLine=function(f){var v=f.match(/^.*?(\r?\n)/m);this.$autoNewLine=v?v[1]:"\n"},g.prototype.getWordRange=function(f,v){var C=this.getLine(f),S=!1;if(v>0&&(S=!!C.charAt(v-1).match(this.tokenRe)),S||(S=!!C.charAt(v).match(this.tokenRe)),S)var O=this.tokenRe;else O=/^\s+$/.test(C.slice(v-1,v+1))?/\s/:this.nonTokenRe;var N=v;if(N>0){do{N--}while(N>=0&&C.charAt(N).match(O));N++}for(var z=v;z<C.length&&C.charAt(z).match(O);)z++;return new x(f,N,f,z)},g.prototype.getAWordRange=function(f,v){for(var C=this.getWordRange(f,v),S=this.getLine(C.end.row);S.charAt(C.end.column).match(/[ \t]/);)C.end.column+=1;return C},g.prototype.setNewLineMode=function(f){this.doc.setNewLineMode(f)},g.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},g.prototype.setUseWorker=function(f){this.setOption("useWorker",f)},g.prototype.getUseWorker=function(){return this.$useWorker},g.prototype.onReloadTokenizer=function(f){this.bgTokenizer.start(f.data.first),this._signal("tokenizerUpdate",f)},g.prototype.setMode=function(f,v){if(f&&"object"==typeof f){if(f.getTokenizer)return this.$onChangeMode(f);var C=f,S=f.path}else S=f||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new R),this.$modes[S]&&!C)return this.$onChangeMode(this.$modes[S]),void(v&&v());this.$modeId=S,k.loadModule(["mode",S],function(O){if(this.$modeId!==S)return v&&v();this.$modes[S]&&!C?this.$onChangeMode(this.$modes[S]):O&&O.Mode&&(O=new O.Mode(C),C||(this.$modes[S]=O,O.$id=S),this.$onChangeMode(O)),v&&v()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},g.prototype.$onChangeMode=function(f,v){if(v||(this.$modeId=f.$id),this.$mode!==f){var C=this.$mode;this.$mode=f,this.$stopWorker(),this.$useWorker&&this.$startWorker();var S=f.getTokenizer();if(void 0!==S.on){var O=this.onReloadTokenizer.bind(this);S.on("update",O)}this.bgTokenizer.setTokenizer(S),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=f.tokenRe,this.nonTokenRe=f.nonTokenRe,v||(f.attachToSession&&f.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(f.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:C,mode:f}))}},g.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},g.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(f){k.warn("Could not load worker",f),this.$worker=null}},g.prototype.getMode=function(){return this.$mode},g.prototype.setScrollTop=function(f){this.$scrollTop===f||isNaN(f)||(this.$scrollTop=f,this._signal("changeScrollTop",f))},g.prototype.getScrollTop=function(){return this.$scrollTop},g.prototype.setScrollLeft=function(f){this.$scrollLeft===f||isNaN(f)||(this.$scrollLeft=f,this._signal("changeScrollLeft",f))},g.prototype.getScrollLeft=function(){return this.$scrollLeft},g.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},g.prototype.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var f=0;return this.lineWidgets.forEach(function(v){v&&v.screenWidth>f&&(f=v.screenWidth)}),this.lineWidgetWidth=f},g.prototype.$computeWidth=function(f){if(this.$modified||f){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var v=this.doc.getAllLines(),C=this.$rowLengthCache,S=0,O=0,N=this.$foldData[O],z=N?N.start.row:1/0,K=v.length,Q=0;Q<K;Q++){if(Q>z){if((Q=N.end.row+1)>=K)break;z=(N=this.$foldData[O++])?N.start.row:1/0}null==C[Q]&&(C[Q]=this.$getStringScreenWidth(v[Q])[0]),C[Q]>S&&(S=C[Q])}this.screenWidth=S}},g.prototype.getLine=function(f){return this.doc.getLine(f)},g.prototype.getLines=function(f,v){return this.doc.getLines(f,v)},g.prototype.getLength=function(){return this.doc.getLength()},g.prototype.getTextRange=function(f){return this.doc.getTextRange(f||this.selection.getRange())},g.prototype.insert=function(f,v){return this.doc.insert(f,v)},g.prototype.remove=function(f){return this.doc.remove(f)},g.prototype.removeFullLines=function(f,v){return this.doc.removeFullLines(f,v)},g.prototype.undoChanges=function(f,v){if(f.length){this.$fromUndo=!0;for(var C=f.length-1;-1!=C;C--){var S=f[C];"insert"==S.action||"remove"==S.action?this.doc.revertDelta(S):S.folds&&this.addFolds(S.folds)}!v&&this.$undoSelect&&(f.selectionBefore?this.selection.fromJSON(f.selectionBefore):this.selection.setRange(this.$getUndoSelection(f,!0))),this.$fromUndo=!1}},g.prototype.redoChanges=function(f,v){if(f.length){this.$fromUndo=!0;for(var C=0;C<f.length;C++){var S=f[C];("insert"==S.action||"remove"==S.action)&&this.doc.$safeApplyDelta(S)}!v&&this.$undoSelect&&(f.selectionAfter?this.selection.fromJSON(f.selectionAfter):this.selection.setRange(this.$getUndoSelection(f,!1))),this.$fromUndo=!1}},g.prototype.setUndoSelect=function(f){this.$undoSelect=f},g.prototype.$getUndoSelection=function(f,v){function C(K){return v?"insert"!==K.action:"insert"===K.action}for(var S,O,N=0;N<f.length;N++){var z=f[N];if(z.start){if(!S){S=C(z)?x.fromPoints(z.start,z.end):x.fromPoints(z.start,z.start);continue}C(z)?(-1==S.compare((O=z.start).row,O.column)&&S.setStart(O),1==S.compare((O=z.end).row,O.column)&&S.setEnd(O)):-1==S.compare((O=z.start).row,O.column)&&(S=x.fromPoints(z.start,z.start))}}return S},g.prototype.replace=function(f,v){return this.doc.replace(f,v)},g.prototype.moveText=function(f,v,C){var S=this.getTextRange(f),O=this.getFoldsInRange(f),N=x.fromPoints(v,v);if(C||(this.remove(f),(K=(z=f.start.row-f.end.row)?-f.end.column:f.start.column-f.end.column)&&(N.start.row==f.end.row&&N.start.column>f.end.column&&(N.start.column+=K),N.end.row==f.end.row&&N.end.column>f.end.column&&(N.end.column+=K)),z&&N.start.row>=f.end.row&&(N.start.row+=z,N.end.row+=z)),N.end=this.insert(N.start,S),O.length){var Q=f.start,ue=N.start,z=ue.row-Q.row,K=ue.column-Q.column;this.addFolds(O.map(function(F){return(F=F.clone()).start.row==Q.row&&(F.start.column+=K),F.end.row==Q.row&&(F.end.column+=K),F.start.row+=z,F.end.row+=z,F}))}return N},g.prototype.indentRows=function(f,v,C){C=C.replace(/\t/g,this.getTabString());for(var S=f;S<=v;S++)this.doc.insertInLine({row:S,column:0},C)},g.prototype.outdentRows=function(f){for(var v=f.collapseRows(),C=new x(0,0,0,0),S=this.getTabSize(),O=v.start.row;O<=v.end.row;++O){var N=this.getLine(O);C.start.row=O,C.end.row=O;for(var z=0;z<S&&" "==N.charAt(z);++z);z<S&&"\t"==N.charAt(z)?(C.start.column=z,C.end.column=z+1):(C.start.column=0,C.end.column=z),this.remove(C)}},g.prototype.$moveLines=function(f,v,C){if(f=this.getRowFoldStart(f),v=this.getRowFoldEnd(v),C<0){if((S=this.getRowFoldStart(f+C))<0)return 0;var O=S-f}else if(C>0){var S;if((S=this.getRowFoldEnd(v+C))>this.doc.getLength()-1)return 0;O=S-v}else f=this.$clipRowToDocument(f),O=(v=this.$clipRowToDocument(v))-f+1;var N=new x(f,0,v,Number.MAX_VALUE),z=this.getFoldsInRange(N).map(function(Q){return(Q=Q.clone()).start.row+=O,Q.end.row+=O,Q}),K=0==C?this.doc.getLines(f,v):this.doc.removeFullLines(f,v);return this.doc.insertFullLines(f+O,K),z.length&&this.addFolds(z),O},g.prototype.moveLinesUp=function(f,v){return this.$moveLines(f,v,-1)},g.prototype.moveLinesDown=function(f,v){return this.$moveLines(f,v,1)},g.prototype.duplicateLines=function(f,v){return this.$moveLines(f,v,0)},g.prototype.$clipRowToDocument=function(f){return Math.max(0,Math.min(f,this.doc.getLength()-1))},g.prototype.$clipColumnToRow=function(f,v){return v<0?0:Math.min(this.doc.getLine(f).length,v)},g.prototype.$clipPositionToDocument=function(f,v){if(v=Math.max(0,v),f<0)f=0,v=0;else{var C=this.doc.getLength();f>=C?(f=C-1,v=this.doc.getLine(C-1).length):v=Math.min(this.doc.getLine(f).length,v)}return{row:f,column:v}},g.prototype.$clipRangeToDocument=function(f){f.start.row<0?(f.start.row=0,f.start.column=0):f.start.column=this.$clipColumnToRow(f.start.row,f.start.column);var v=this.doc.getLength()-1;return f.end.row>v?(f.end.row=v,f.end.column=this.doc.getLine(v).length):f.end.column=this.$clipColumnToRow(f.end.row,f.end.column),f},g.prototype.setUseWrapMode=function(f){if(f!=this.$useWrapMode){if(this.$useWrapMode=f,this.$modified=!0,this.$resetRowCache(0),f){var v=this.getLength();this.$wrapData=Array(v),this.$updateWrapData(0,v-1)}this._signal("changeWrapMode")}},g.prototype.getUseWrapMode=function(){return this.$useWrapMode},g.prototype.setWrapLimitRange=function(f,v){(this.$wrapLimitRange.min!==f||this.$wrapLimitRange.max!==v)&&(this.$wrapLimitRange={min:f,max:v},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},g.prototype.adjustWrapLimit=function(f,v){var C=this.$wrapLimitRange;C.max<0&&(C={min:v,max:v});var S=this.$constrainWrapLimit(f,C.min,C.max);return S!=this.$wrapLimit&&S>1&&(this.$wrapLimit=S,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},g.prototype.$constrainWrapLimit=function(f,v,C){return v&&(f=Math.max(v,f)),C&&(f=Math.min(C,f)),f},g.prototype.getWrapLimit=function(){return this.$wrapLimit},g.prototype.setWrapLimit=function(f){this.setWrapLimitRange(f,f)},g.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},g.prototype.$updateInternalDataOnChange=function(f){var v=this.$useWrapMode,C=f.action,S=f.start,O=f.end,N=S.row,z=O.row,K=z-N,Q=null;if(this.$updating=!0,0!=K)if("remove"===C){this[v?"$wrapData":"$rowLengthCache"].splice(N,K);var ue=this.$foldData;Q=this.getFoldsInRange(f),this.removeFolds(Q);var pe=0;if(oe=this.getFoldLine(O.row)){oe.addRemoveChars(O.row,O.column,S.column-O.column),oe.shiftRow(-K);var F=this.getFoldLine(N);F&&F!==oe&&(F.merge(oe),oe=F),pe=ue.indexOf(oe)+1}for(;pe<ue.length;pe++)(oe=ue[pe]).start.row>=O.row&&oe.shiftRow(-K);z=N}else{var U=Array(K);U.unshift(N,0);var Y=v?this.$wrapData:this.$rowLengthCache;if(Y.splice.apply(Y,U),ue=this.$foldData,pe=0,oe=this.getFoldLine(N)){var W=oe.range.compareInside(S.row,S.column);0==W?(oe=oe.split(S.row,S.column))&&(oe.shiftRow(K),oe.addRemoveChars(z,0,O.column-S.column)):-1==W&&(oe.addRemoveChars(N,0,O.column-S.column),oe.shiftRow(K)),pe=ue.indexOf(oe)+1}for(;pe<ue.length;pe++){var oe;(oe=ue[pe]).start.row>=N&&oe.shiftRow(K)}}else K=Math.abs(f.start.column-f.end.column),"remove"===C&&(Q=this.getFoldsInRange(f),this.removeFolds(Q),K=-K),(oe=this.getFoldLine(N))&&oe.addRemoveChars(N,S.column,K);return v&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,v?this.$updateWrapData(N,z):this.$updateRowLengthCache(N,z),Q},g.prototype.$updateRowLengthCache=function(f,v,C){this.$rowLengthCache[f]=null,this.$rowLengthCache[v]=null},g.prototype.$updateWrapData=function(f,v){var z,K,C=this.doc.getAllLines(),S=this.getTabSize(),O=this.$wrapData,N=this.$wrapLimit,Q=f;for(v=Math.min(v,C.length-1);Q<=v;)(K=this.getFoldLine(Q,K))?(z=[],K.walk(function(ue,oe,pe,F){var U;if(null!=ue){(U=this.$getDisplayTokens(ue,z.length))[0]=w;for(var Y=1;Y<U.length;Y++)U[Y]=p}else U=this.$getDisplayTokens(C[oe].substring(F,pe),z.length);z=z.concat(U)}.bind(this),K.end.row,C[K.end.row].length+1),O[K.start.row]=this.$computeWrapSplits(z,N,S),Q=K.end.row+1):(z=this.$getDisplayTokens(C[Q]),O[Q]=this.$computeWrapSplits(z,N,S),Q++)},g.prototype.$computeWrapSplits=function(f,v,C){if(0==f.length)return[];var S=[],O=f.length,N=0,z=0,K=this.$wrapAsCode,Q=this.$indentedSoftWrap,ue=v<=Math.max(2*C,8)||!1===Q?0:Math.floor(v/2);function pe(W){for(var ne=W-N,fe=N;fe<W;fe++){var he=f[fe];(12===he||2===he)&&(ne-=1)}S.length||(F=function oe(){var W=0;if(0===ue)return W;if(Q)for(var ne=0;ne<f.length;ne++){var fe=f[ne];if(fe==h)W+=1;else{if(fe!=u){if(fe==l)continue;break}W+=C}}return K&&!1!==Q&&(W+=C),Math.min(W,ue)}(),S.indent=F),S.push(z+=ne),N=W}for(var F=0;O-N>v-F;){var U=N+v-F;if(f[U-1]>=h&&f[U]>=h)pe(U);else if(f[U]!=w&&f[U]!=p){for(var Y=Math.max(U-(v-(v>>2)),N-1);U>Y&&f[U]<w;)U--;if(K){for(;U>Y&&f[U]<w;)U--;for(;U>Y&&f[U]==y;)U--}else for(;U>Y&&f[U]<h;)U--;U>Y?pe(++U):(f[U=N+v]==T&&U--,pe(U-F))}else{for(;U!=N-1&&f[U]!=w;U--);if(U>N){pe(U);continue}for(U=N+v;U<f.length&&f[U]==p;U++);if(U==f.length)break;pe(U)}}return S},g.prototype.$getDisplayTokens=function(f,v){var S,C=[];v=v||0;for(var O=0;O<f.length;O++){var N=f.charCodeAt(O);if(9==N){S=this.getScreenTabSize(C.length+v),C.push(u);for(var z=1;z<S;z++)C.push(l)}else 32==N?C.push(h):N>39&&N<48||N>57&&N<64?C.push(y):N>=4352&&d(N)?C.push(I,T):C.push(I)}return C},g.prototype.$getStringScreenWidth=function(f,v,C){if(0==v)return[0,0];var S,O;for(null==v&&(v=1/0),C=C||0,O=0;O<f.length&&(9==(S=f.charCodeAt(O))?C+=this.getScreenTabSize(C):S>=4352&&d(S)?C+=2:C+=1,!(C>v));O++);return[C,O]},g.prototype.getRowLength=function(f){var v=1;return this.lineWidgets&&(v+=this.lineWidgets[f]&&this.lineWidgets[f].rowCount||0),this.$useWrapMode&&this.$wrapData[f]?this.$wrapData[f].length+v:v},g.prototype.getRowLineCount=function(f){return this.$useWrapMode&&this.$wrapData[f]?this.$wrapData[f].length+1:1},g.prototype.getRowWrapIndent=function(f){if(this.$useWrapMode){var v=this.screenToDocumentPosition(f,Number.MAX_VALUE),C=this.$wrapData[v.row];return C.length&&C[0]<v.column?C.indent:0}return 0},g.prototype.getScreenLastRowColumn=function(f){var v=this.screenToDocumentPosition(f,Number.MAX_VALUE);return this.documentToScreenColumn(v.row,v.column)},g.prototype.getDocumentLastRowColumn=function(f,v){var C=this.documentToScreenRow(f,v);return this.getScreenLastRowColumn(C)},g.prototype.getDocumentLastRowColumnPosition=function(f,v){var C=this.documentToScreenRow(f,v);return this.screenToDocumentPosition(C,Number.MAX_VALUE/10)},g.prototype.getRowSplitData=function(f){if(this.$useWrapMode)return this.$wrapData[f]},g.prototype.getScreenTabSize=function(f){return this.$tabSize-(f%this.$tabSize|0)},g.prototype.screenToDocumentRow=function(f,v){return this.screenToDocumentPosition(f,v).row},g.prototype.screenToDocumentColumn=function(f,v){return this.screenToDocumentPosition(f,v).column},g.prototype.screenToDocumentPosition=function(f,v,C){if(f<0)return{row:0,column:0};var S,z,O=0,N=0,K=0,Q=0,ue=this.$screenRowCache,oe=this.$getRowCacheIndex(ue,f),pe=ue.length;if(pe&&oe>=0){K=ue[oe],O=this.$docRowCache[oe];var F=f>ue[pe-1]}else F=!pe;for(var U=this.getLength()-1,Y=this.getNextFoldLine(O),W=Y?Y.start.row:1/0;K<=f&&!(K+(Q=this.getRowLength(O))>f||O>=U);)K+=Q,++O>W&&(W=(Y=this.getNextFoldLine(O=Y.end.row+1,Y))?Y.start.row:1/0),F&&(this.$docRowCache.push(O),this.$screenRowCache.push(K));if(Y&&Y.start.row<=O)S=this.getFoldDisplayLine(Y),O=Y.start.row;else{if(K+Q<=f||O>U)return{row:U,column:this.getLine(U).length};S=this.getLine(O),Y=null}var ne=0,fe=Math.floor(f-K);if(this.$useWrapMode){var he=this.$wrapData[O];he&&(z=he[fe],fe>0&&he.length&&(ne=he.indent,S=S.substring(N=he[fe-1]||he[he.length-1])))}return void 0!==C&&this.$bidiHandler.isBidiRow(K+fe,O,fe)&&(v=this.$bidiHandler.offsetToCol(C)),N+=this.$getStringScreenWidth(S,v-ne)[1],this.$useWrapMode&&N>=z&&(N=z-1),Y?Y.idxToPosition(N):{row:O,column:N}},g.prototype.documentToScreenPosition=function(f,v){if(void 0===v)var C=this.$clipPositionToDocument(f.row,f.column);else C=this.$clipPositionToDocument(f,v);var N,S=0,O=null;(N=this.getFoldAt(f=C.row,v=C.column,1))&&(f=N.start.row,v=N.start.column);var z,K=0,Q=this.$docRowCache,ue=this.$getRowCacheIndex(Q,f),oe=Q.length;if(oe&&ue>=0){K=Q[ue],S=this.$screenRowCache[ue];var pe=f>Q[oe-1]}else pe=!oe;for(var F=this.getNextFoldLine(K),U=F?F.start.row:1/0;K<f;){if(K>=U){if((z=F.end.row+1)>f)break;U=(F=this.getNextFoldLine(z,F))?F.start.row:1/0}else z=K+1;S+=this.getRowLength(K),K=z,pe&&(this.$docRowCache.push(K),this.$screenRowCache.push(S))}var Y="";F&&K>=U?(Y=this.getFoldDisplayLine(F,f,v),O=F.start.row):(Y=this.getLine(f).substring(0,v),O=f);var W=0;if(this.$useWrapMode){var ne=this.$wrapData[O];if(ne){for(var fe=0;Y.length>=ne[fe];)S++,fe++;Y=Y.substring(ne[fe-1]||0,Y.length),W=fe>0?ne.indent:0}}return this.lineWidgets&&this.lineWidgets[K]&&this.lineWidgets[K].rowsAbove&&(S+=this.lineWidgets[K].rowsAbove),{row:S,column:W+this.$getStringScreenWidth(Y)[0]}},g.prototype.documentToScreenColumn=function(f,v){return this.documentToScreenPosition(f,v).column},g.prototype.documentToScreenRow=function(f,v){return this.documentToScreenPosition(f,v).row},g.prototype.getScreenLength=function(){var f=0,v=null;if(this.$useWrapMode)for(var O=this.$wrapData.length,N=0,S=0,z=(v=this.$foldData[S++])?v.start.row:1/0;N<O;){var K=this.$wrapData[N];f+=K?K.length+1:1,++N>z&&(N=v.end.row+1,z=(v=this.$foldData[S++])?v.start.row:1/0)}else{f=this.getLength();var C=this.$foldData;for(S=0;S<C.length;S++)f-=(v=C[S]).end.row-v.start.row}return this.lineWidgets&&(f+=this.$getWidgetScreenLength()),f},g.prototype.$setFontMetrics=function(f){!this.$enableVarChar||(this.$getStringScreenWidth=function(v,C,S){if(0===C)return[0,0];var O,N;for(C||(C=1/0),S=S||0,N=0;N<v.length&&!((S+="\t"===(O=v.charAt(N))?this.getScreenTabSize(S):f.getCharacterWidth(O))>C);N++);return[S,N]})},g.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},g}();D.$uid=0,D.prototype.$modes=k.$modes,D.prototype.getValue=D.prototype.toString,D.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},D.prototype.$overwrite=!1,D.prototype.$mode=null,D.prototype.$modeId=null,D.prototype.$scrollTop=0,D.prototype.$scrollLeft=0,D.prototype.$wrapLimit=80,D.prototype.$useWrapMode=!1,D.prototype.$wrapLimitRange={min:null,max:null},D.prototype.lineWidgets=null,D.prototype.isFullWidth=d,X.implement(D.prototype,P);var I=1,T=2,w=3,p=4,y=9,h=10,u=11,l=12;function d(g){return!(g<4352)&&(g>=4352&&g<=4447||g>=4515&&g<=4519||g>=4602&&g<=4607||g>=9001&&g<=9002||g>=11904&&g<=11929||g>=11931&&g<=12019||g>=12032&&g<=12245||g>=12272&&g<=12283||g>=12288&&g<=12350||g>=12353&&g<=12438||g>=12441&&g<=12543||g>=12549&&g<=12589||g>=12593&&g<=12686||g>=12688&&g<=12730||g>=12736&&g<=12771||g>=12784&&g<=12830||g>=12832&&g<=12871||g>=12880&&g<=13054||g>=13056&&g<=19903||g>=19968&&g<=42124||g>=42128&&g<=42182||g>=43360&&g<=43388||g>=44032&&g<=55203||g>=55216&&g<=55238||g>=55243&&g<=55291||g>=63744&&g<=64255||g>=65040&&g<=65049||g>=65072&&g<=65106||g>=65108&&g<=65126||g>=65128&&g<=65131||g>=65281&&g<=65376||g>=65504&&g<=65510)}ae("./edit_session/folding").Folding.call(D.prototype),ae("./edit_session/bracket_match").BracketMatch.call(D.prototype),k.defineOptions(D.prototype,"session",{wrap:{set:function(g){if(g&&"off"!=g?"free"==g?g=!0:"printMargin"==g?g=-1:"string"==typeof g&&(g=parseInt(g,10)||!1):g=!1,this.$wrap!=g)if(this.$wrap=g,g){var f="number"==typeof g?g:null;this.setWrapLimitRange(f,f),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(g){(g="auto"==g?"text"!=this.$mode.type:"text"!=g)!=this.$wrapAsCode&&(this.$wrapAsCode=g,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(g){this.$useWorker=g,this.$stopWorker(),g&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(g){(g=parseInt(g))>0&&this.$tabSize!==g&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=g,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(g){this.setFoldStyle(g)},handlesSet:!0},overwrite:{set:function(g){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(g){this.doc.setNewLineMode(g)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(g){this.setMode(g)},get:function(){return this.$modeId},handlesSet:!0}}),Z.EditSession=D}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(ae,Z,V){"use strict";var X=ae("./lib/lang"),ee=ae("./lib/oop"),$=ae("./range").Range,k=function(){function E(){this.$options={}}return E.prototype.set=function(R){return ee.mixin(this.$options,R),this},E.prototype.getOptions=function(){return X.copyObject(this.$options)},E.prototype.setOptions=function(R){this.$options=R},E.prototype.find=function(R){var x=this.$options,A=this.$matchIterator(R,x);if(!A)return!1;var _=null;return A.forEach(function(m,D,I,T){return _=new $(m,D,I,T),!(D==T&&x.start&&x.start.start&&0!=x.skipCurrent&&_.isEqual(x.start)&&(_=null,1))}),_},E.prototype.findAll=function(R){var x=this.$options;if(!x.needle)return[];this.$assembleRegExp(x);var A=x.range,_=A?R.getLines(A.start.row,A.end.row):R.doc.getAllLines(),m=[],D=x.re;if(x.$isMultiLine){var w,I=D.length,T=_.length-I;e:for(var p=D.offset||0;p<=T;p++){for(var y=0;y<I;y++)if(-1==_[p+y].search(D[y]))continue e;var h=_[p],u=_[p+I-1],l=h.length-h.match(D[0])[0].length,d=u.match(D[I-1])[0].length;w&&w.end.row===p&&w.end.column>l||(m.push(w=new $(p,l,p+I-1,d)),I>2&&(p=p+I-2))}}else for(var g=0;g<_.length;g++){var f=X.getMatchOffsets(_[g],D);for(y=0;y<f.length;y++){var v=f[y];m.push(new $(g,v.offset,g,v.offset+v.length))}}if(A){var C=A.start.column,S=A.end.column;for(g=0,y=m.length-1;g<y&&m[g].start.column<C&&0==m[g].start.row;)g++;for(var O=A.end.row-A.start.row;g<y&&m[y].end.column>S&&m[y].end.row==O;)y--;for(m=m.slice(g,y+1),g=0,y=m.length;g<y;g++)m[g].start.row+=A.start.row,m[g].end.row+=A.start.row}return m},E.prototype.replace=function(R,x){var A=this.$options,_=this.$assembleRegExp(A);if(A.$isMultiLine)return x;if(_){var m=_.exec(R);if(!m||m[0].length!=R.length)return null;if(x=R.replace(_,x),A.preserveCase){x=x.split("");for(var D=Math.min(R.length,R.length);D--;){var I=R[D];x[D]=I&&I.toLowerCase()!=I?x[D].toUpperCase():x[D].toLowerCase()}x=x.join("")}return x}},E.prototype.$assembleRegExp=function(R,x){if(R.needle instanceof RegExp)return R.re=R.needle;var A=R.needle;if(!R.needle)return R.re=!1;R.regExp||(A=X.escapeRegExp(A)),R.wholeWord&&(A=function P(E,R){function x(A){return/\w/.test(A)||R.regExp?"\\b":""}return x(E[0])+E+x(E[E.length-1])}(A,R));var _=R.caseSensitive?"gm":"gmi";if(R.$isMultiLine=!x&&/[\n\r]/.test(A),R.$isMultiLine)return R.re=this.$assembleMultilineRegExp(A,_);try{var m=new RegExp(A,_)}catch(D){m=!1}return R.re=m},E.prototype.$assembleMultilineRegExp=function(R,x){for(var A=R.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),_=[],m=0;m<A.length;m++)try{_.push(new RegExp(A[m],x))}catch(D){return!1}return _},E.prototype.$matchIterator=function(R,x){var A=this.$assembleRegExp(x);if(!A)return!1;var _=1==x.backwards,m=0!=x.skipCurrent,D=x.range,I=x.start;I||(I=D?D[_?"end":"start"]:R.selection.getRange()),I.start&&(I=I[m!=_?"end":"start"]);var T=D?D.start.row:0,w=D?D.end.row:R.getLength()-1;if(_)var p=function(u){var l=I.row;if(!h(l,I.column,u)){for(l--;l>=T;l--)if(h(l,Number.MAX_VALUE,u))return;if(0!=x.wrap)for(l=w,T=I.row;l>=T;l--)if(h(l,Number.MAX_VALUE,u))return}};else p=function(l){var d=I.row;if(!h(d,I.column,l)){for(d+=1;d<=w;d++)if(h(d,0,l))return;if(0!=x.wrap)for(d=T,w=I.row;d<=w;d++)if(h(d,0,l))return}};if(x.$isMultiLine)var y=A.length,h=function(u,l,d){var g=_?u-y+1:u;if(!(g<0||g+y>R.getLength())){var f=R.getLine(g),v=f.search(A[0]);if(!(!_&&v<l||-1===v)){for(var C=1;C<y;C++)if(-1==(f=R.getLine(g+C)).search(A[C]))return;var S=f.match(A[y-1])[0].length;if(!(_&&S>l)&&d(g,v,g+y-1,S))return!0}}};else h=_?function(l,d,g){var C,f=R.getLine(l),v=[],S=0;for(A.lastIndex=0;C=A.exec(f);){if(S=C.index,!(O=C[0].length)){if(S>=f.length)break;A.lastIndex=S+=1}if(C.index+O>d)break;v.push(C.index,O)}for(var N=v.length-1;N>=0;N-=2){var O,z=v[N-1];if(g(l,z,l,z+(O=v[N])))return!0}}:function(l,d,g){var v,C,f=R.getLine(l);for(A.lastIndex=d;C=A.exec(f);){var S=C[0].length;if(g(l,v=C.index,l,v+S))return!0;if(!S&&(A.lastIndex=v+=1,v>=f.length))return!1}};return{forEach:p}},E}();Z.Search=k}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(ae,Z,V){"use strict";var X=ae("../lib/keys"),ee=ae("../lib/useragent"),$=X.KEY_MODS;function k(E,R){this.platform=R||(ee.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(E),this.$singleCommand=!0}function P(E,R){k.call(this,E,R),this.$singleCommand=!1}P.prototype=k.prototype,function(){function E(R){return"object"==typeof R&&R.bindKey&&R.bindKey.position||(R.isDefault?-100:0)}this.addCommand=function(R){this.commands[R.name]&&this.removeCommand(R),this.commands[R.name]=R,R.bindKey&&this._buildKeyHash(R)},this.removeCommand=function(R,x){var A=R&&("string"==typeof R?R:R.name);R=this.commands[A],x||delete this.commands[A];var _=this.commandKeyBinding;for(var m in _){var D=_[m];if(D==R)delete _[m];else if(Array.isArray(D)){var I=D.indexOf(R);-1!=I&&(D.splice(I,1),1==D.length&&(_[m]=D[0]))}}},this.bindKey=function(R,x,A){if("object"==typeof R&&R&&(null==A&&(A=R.position),R=R[this.platform]),R){if("function"==typeof x)return this.addCommand({exec:x,bindKey:R,name:x.name||R});R.split("|").forEach(function(_){var m="";if(-1!=_.indexOf(" ")){var D=_.split(/\s+/);_=D.pop(),D.forEach(function(w){var p=this.parseKeys(w);this._addCommandToBinding(m+=(m?" ":"")+($[p.hashId]+p.key),"chainKeys")},this),m+=" "}var I=this.parseKeys(_);this._addCommandToBinding(m+($[I.hashId]+I.key),x,A)},this)}},this._addCommandToBinding=function(R,x,A){var m,_=this.commandKeyBinding;if(x)if(!_[R]||this.$singleCommand)_[R]=x;else{Array.isArray(_[R])?-1!=(m=_[R].indexOf(x))&&_[R].splice(m,1):_[R]=[_[R]],"number"!=typeof A&&(A=E(x));var D=_[R];for(m=0;m<D.length&&!(E(D[m])>A);m++);D.splice(m,0,x)}else delete _[R]},this.addCommands=function(R){R&&Object.keys(R).forEach(function(x){var A=R[x];if(A){if("string"==typeof A)return this.bindKey(A,x);"function"==typeof A&&(A={exec:A}),"object"==typeof A&&(A.name||(A.name=x),this.addCommand(A))}},this)},this.removeCommands=function(R){Object.keys(R).forEach(function(x){this.removeCommand(R[x])},this)},this.bindKeys=function(R){Object.keys(R).forEach(function(x){this.bindKey(x,R[x])},this)},this._buildKeyHash=function(R){this.bindKey(R.bindKey,R)},this.parseKeys=function(R){var x=R.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(T){return T}),A=x.pop(),_=X[A];if(X.FUNCTION_KEYS[_])A=X.FUNCTION_KEYS[_].toLowerCase();else{if(!x.length)return{key:A,hashId:-1};if(1==x.length&&"shift"==x[0])return{key:A.toUpperCase(),hashId:-1}}for(var m=0,D=x.length;D--;){var I=X.KEY_MODS[x[D]];if(null==I)return"undefined"!=typeof console&&console.error("invalid modifier "+x[D]+" in "+R),!1;m|=I}return{key:A,hashId:m}},this.findKeyCommand=function(x,A){return this.commandKeyBinding[$[x]+A]},this.handleKeyboard=function(R,x,A,_){if(!(_<0)){var m=$[x]+A,D=this.commandKeyBinding[m];return R.$keyChain&&(R.$keyChain+=" "+m,D=this.commandKeyBinding[R.$keyChain]||D),!D||"chainKeys"!=D&&"chainKeys"!=D[D.length-1]?(R.$keyChain&&(x&&4!=x||1!=A.length?(-1==x||_>0)&&(R.$keyChain=""):R.$keyChain=R.$keyChain.slice(0,-m.length-1)),{command:D}):(R.$keyChain=R.$keyChain||m,{command:"null"})}},this.getStatusText=function(R,x){return x.$keyChain||""}}.call(k.prototype),Z.HashHandler=k,Z.MultiHashHandler=P}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(ae,Z,V){"use strict";var E,X=this&&this.__extends||(E=function(R,x){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,_){A.__proto__=_}||function(A,_){for(var m in _)Object.prototype.hasOwnProperty.call(_,m)&&(A[m]=_[m])})(R,x)},function(R,x){if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function A(){this.constructor=R}E(R,x),R.prototype=null===x?Object.create(x):(A.prototype=x.prototype,new A)}),ee=ae("../lib/oop"),$=ae("../keyboard/hash_handler").MultiHashHandler,k=ae("../lib/event_emitter").EventEmitter,P=function(E){function R(x,A){var _=E.call(this,A,x)||this;return _.byName=_.commands,_.setDefaultHandler("exec",function(m){return m.args?m.command.exec(m.editor,m.args,m.event,!1):m.command.exec(m.editor,{},m.event,!0)}),_}return X(R,E),R.prototype.exec=function(x,A,_){if(Array.isArray(x)){for(var m=x.length;m--;)if(this.exec(x[m],A,_))return!0;return!1}if("string"==typeof x&&(x=this.commands[x]),!x||A&&A.$readOnly&&!x.readOnly||0!=this.$checkCommandState&&x.isAvailable&&!x.isAvailable(A))return!1;var D={editor:A,command:x,args:_};return D.returnValue=this._emit("exec",D),this._signal("afterExec",D),!1!==D.returnValue},R.prototype.toggleRecording=function(x){if(!this.$inReplay)return x&&x._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(A){this.macro.push([A.command,A.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},R.prototype.replay=function(x){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(x);try{this.$inReplay=!0,this.macro.forEach(function(A){"string"==typeof A?this.exec(A,x):this.exec(A[0],x,A[1])},this)}finally{this.$inReplay=!1}}},R.prototype.trimMacro=function(x){return x.map(function(A){return"string"!=typeof A[0]&&(A[0]=A[0].name),A[1]||(A=A[0]),A})},R}($);ee.implement(P.prototype,k),Z.CommandManager=P}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(ae,Z,V){"use strict";var X=ae("../lib/lang"),ee=ae("../config"),$=ae("../range").Range;function k(E,R){return{win:E,mac:R}}Z.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:k("Ctrl-,","Command-,"),exec:function(E){ee.loadModule("ace/ext/settings_menu",function(R){R.init(E),E.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:k("Alt-E","F4"),exec:function(E){ee.loadModule("ace/ext/error_marker",function(R){R.showErrorMarker(E,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:k("Alt-Shift-E","Shift-F4"),exec:function(E){ee.loadModule("ace/ext/error_marker",function(R){R.showErrorMarker(E,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:k("Ctrl-A","Command-A"),exec:function(E){E.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:k(null,"Ctrl-L"),exec:function(E){E.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:k("Ctrl-L","Command-L"),exec:function(E,R){"number"==typeof R&&!isNaN(R)&&E.gotoLine(R),E.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:k("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(E){E.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:k("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(E){E.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:k("F2","F2"),exec:function(E){E.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:k("Alt-F2","Alt-F2"),exec:function(E){E.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:k(null,"Ctrl-Command-Option-0"),exec:function(E){E.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:k(null,"Ctrl-Command-Option-0"),exec:function(E){E.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:k("Alt-0","Command-Option-0"),exec:function(E){E.session.foldAll(),E.session.unfold(E.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:k("Alt-Shift-0","Command-Option-Shift-0"),exec:function(E){E.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:k("Ctrl-K","Command-G"),exec:function(E){E.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:k("Ctrl-Shift-K","Command-Shift-G"),exec:function(E){E.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:k("Alt-K","Ctrl-G"),exec:function(E){E.selection.isEmpty()?E.selection.selectWord():E.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:k("Alt-Shift-K","Ctrl-Shift-G"),exec:function(E){E.selection.isEmpty()?E.selection.selectWord():E.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:k("Ctrl-F","Command-F"),exec:function(E){ee.loadModule("ace/ext/searchbox",function(R){R.Search(E)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(E){E.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:k("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(E){E.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:k("Ctrl-Home","Command-Home|Command-Up"),exec:function(E){E.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:k("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(E){E.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:k("Up","Up|Ctrl-P"),exec:function(E,R){E.navigateUp(R.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:k("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(E){E.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:k("Ctrl-End","Command-End|Command-Down"),exec:function(E){E.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:k("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(E){E.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:k("Down","Down|Ctrl-N"),exec:function(E,R){E.navigateDown(R.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:k("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(E){E.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:k("Ctrl-Left","Option-Left"),exec:function(E){E.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:k("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(E){E.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:k("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(E){E.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:k("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(E){E.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:k("Left","Left|Ctrl-B"),exec:function(E,R){E.navigateLeft(R.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:k("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(E){E.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:k("Ctrl-Right","Option-Right"),exec:function(E){E.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:k("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(E){E.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:k("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(E){E.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:k("Shift-Right","Shift-Right"),exec:function(E){E.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:k("Right","Right|Ctrl-F"),exec:function(E,R){E.navigateRight(R.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(E){E.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:k(null,"Option-PageDown"),exec:function(E){E.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:k("PageDown","PageDown|Ctrl-V"),exec:function(E){E.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(E){E.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:k(null,"Option-PageUp"),exec:function(E){E.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(E){E.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:k("Ctrl-Up",null),exec:function(E){E.renderer.scrollBy(0,-2*E.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:k("Ctrl-Down",null),exec:function(E){E.renderer.scrollBy(0,2*E.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(E){E.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(E){E.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:k("Ctrl-Alt-E","Command-Option-E"),exec:function(E){E.commands.toggleRecording(E)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:k("Ctrl-Shift-E","Command-Shift-E"),exec:function(E){E.commands.replay(E)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:k("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(E){E.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:k("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(E){E.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:k("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(E){E.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:k(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(E){},readOnly:!0},{name:"cut",description:"Cut",exec:function(E){var x=E.$copyWithEmptySelection&&E.selection.isEmpty()?E.selection.getLineRange():E.selection.getRange();E._emit("cut",x),x.isEmpty()||E.session.remove(x),E.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(E,R){E.$handlePaste(R)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:k("Ctrl-D","Command-D"),exec:function(E){E.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:k("Ctrl-Shift-D","Command-Shift-D"),exec:function(E){E.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:k("Ctrl-Alt-S","Command-Alt-S"),exec:function(E){E.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:k("Ctrl-/","Command-/"),exec:function(E){E.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:k("Ctrl-Shift-/","Command-Shift-/"),exec:function(E){E.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:k("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(E){E.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:k("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(E){E.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:k("Ctrl-H","Command-Option-F"),exec:function(E){ee.loadModule("ace/ext/searchbox",function(R){R.Search(E,!0)})}},{name:"undo",description:"Undo",bindKey:k("Ctrl-Z","Command-Z"),exec:function(E){E.undo()}},{name:"redo",description:"Redo",bindKey:k("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(E){E.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:k("Alt-Shift-Up","Command-Option-Up"),exec:function(E){E.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:k("Alt-Up","Option-Up"),exec:function(E){E.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:k("Alt-Shift-Down","Command-Option-Down"),exec:function(E){E.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:k("Alt-Down","Option-Down"),exec:function(E){E.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:k("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(E){E.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:k("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(E){E.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:k("Shift-Delete",null),exec:function(E){if(!E.selection.isEmpty())return!1;E.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:k("Alt-Backspace","Command-Backspace"),exec:function(E){E.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:k("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(E){E.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:k("Ctrl-Shift-Backspace",null),exec:function(E){var R=E.selection.getRange();R.start.column=0,E.session.remove(R)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:k("Ctrl-Shift-Delete",null),exec:function(E){var R=E.selection.getRange();R.end.column=Number.MAX_VALUE,E.session.remove(R)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:k("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(E){E.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:k("Ctrl-Delete","Alt-Delete"),exec:function(E){E.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:k("Shift-Tab","Shift-Tab"),exec:function(E){E.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:k("Tab","Tab"),exec:function(E){E.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:k("Ctrl-[","Ctrl-["),exec:function(E){E.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:k("Ctrl-]","Ctrl-]"),exec:function(E){E.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(E,R){E.insert(R)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(E,R){E.insert(X.stringRepeat(R.text||"",R.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:k(null,"Ctrl-O"),exec:function(E){E.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:k("Alt-Shift-X","Ctrl-T"),exec:function(E){E.transposeLetters()},multiSelectAction:function(E){E.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:k("Ctrl-U","Ctrl-U"),exec:function(E){E.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:k("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(E){E.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:k(null,null),exec:function(E){E.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:k("Ctrl-Shift-L","Command-Shift-L"),exec:function(E){var R=E.selection.getRange();R.start.column=R.end.column=0,R.end.row++,E.selection.setRange(R,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:k("Ctrl+F3","F3"),exec:function(E){E.openLink()}},{name:"joinlines",description:"Join lines",bindKey:k(null,null),exec:function(E){for(var R=E.selection.isBackwards(),x=R?E.selection.getSelectionLead():E.selection.getSelectionAnchor(),A=R?E.selection.getSelectionAnchor():E.selection.getSelectionLead(),_=E.session.doc.getLine(x.row).length,D=E.session.doc.getTextRange(E.selection.getRange()).replace(/\n\s*/," ").length,I=E.session.doc.getLine(x.row),T=x.row+1;T<=A.row+1;T++){var w=X.stringTrimLeft(X.stringTrimRight(E.session.doc.getLine(T)));0!==w.length&&(w=" "+w),I+=w}A.row+1<E.session.doc.getLength()-1&&(I+=E.session.doc.getNewLineCharacter()),E.clearSelection(),E.session.doc.replace(new $(x.row,0,A.row+2,0),I),D>0?(E.selection.moveCursorTo(x.row,x.column),E.selection.selectTo(x.row,x.column+D)):(_=E.session.doc.getLine(x.row).length>_?_+1:_,E.selection.moveCursorTo(x.row,_))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:k(null,null),exec:function(E){var R=E.session.doc.getLength()-1,x=E.session.doc.getLine(R).length,A=E.selection.rangeList.ranges,_=[];A.length<1&&(A=[E.selection.getRange()]);for(var m=0;m<A.length;m++)m==A.length-1&&(A[m].end.row===R&&A[m].end.column===x||_.push(new $(A[m].end.row,A[m].end.column,R,x))),0===m?0===A[m].start.row&&0===A[m].start.column||_.push(new $(0,0,A[m].start.row,A[m].start.column)):_.push(new $(A[m-1].end.row,A[m-1].end.column,A[m].start.row,A[m].start.column));for(E.exitMultiSelectMode(),E.clearSelection(),m=0;m<_.length;m++)E.selection.addRange(_[m],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(E){E.selection.clearSelection(),E.navigateLineEnd(),E.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(E){E.selection.clearSelection();var R=E.getCursorPosition();E.selection.moveTo(R.row-1,Number.MAX_VALUE),E.insert("\n"),0===R.row&&E.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:k("F1","F1"),exec:function(E){E.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:k(null,null),exec:function(E){E.prompt({$type:"modes"})},readOnly:!0}];for(var P=1;P<9;P++)Z.commands.push({name:"foldToLevel"+P,description:"Fold To Level "+P,level:P,exec:function(E){E.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(ae,Z,V){"use strict";var X=ae("./lib/dom"),ee=function(){function $(k){this.session=k,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return $.prototype.getRowLength=function(k){var P;return P=this.lineWidgets&&this.lineWidgets[k]&&this.lineWidgets[k].rowCount||0,this.$useWrapMode&&this.$wrapData[k]?this.$wrapData[k].length+1+P:1+P},$.prototype.$getWidgetScreenLength=function(){var k=0;return this.lineWidgets.forEach(function(P){P&&P.rowCount&&!P.hidden&&(k+=P.rowCount)}),k},$.prototype.$onChangeEditor=function(k){this.attach(k.editor)},$.prototype.attach=function(k){k&&k.widgetManager&&k.widgetManager!=this&&k.widgetManager.detach(),this.editor!=k&&(this.detach(),this.editor=k,k&&(k.widgetManager=this,k.renderer.on("beforeRender",this.measureWidgets),k.renderer.on("afterRender",this.renderWidgets)))},$.prototype.detach=function(k){var P=this.editor;if(P){this.editor=null,P.widgetManager=null,P.renderer.off("beforeRender",this.measureWidgets),P.renderer.off("afterRender",this.renderWidgets);var E=this.session.lineWidgets;E&&E.forEach(function(R){R&&R.el&&R.el.parentNode&&(R._inDocument=!1,R.el.parentNode.removeChild(R.el))})}},$.prototype.updateOnFold=function(k,P){var E=P.lineWidgets;if(E&&k.action){for(var R=k.data,x=R.start.row,A=R.end.row,_="add"==k.action,m=x+1;m<A;m++)E[m]&&(E[m].hidden=_);E[A]&&(_?E[x]?E[A].hidden=_:E[x]=E[A]:(E[x]==E[A]&&(E[x]=void 0),E[A].hidden=_))}},$.prototype.updateOnChange=function(k){var P=this.session.lineWidgets;if(P){var E=k.start.row,R=k.end.row-E;if(0!==R)if("remove"==k.action){var x=P.splice(E+1,R);!P[E]&&x[x.length-1]&&(P[E]=x.pop()),x.forEach(function(_){_&&this.removeLineWidget(_)},this),this.$updateRows()}else{var A=new Array(R);P[E]&&null!=P[E].column&&k.start.column>P[E].column&&E++,A.unshift(E,0),P.splice.apply(P,A),this.$updateRows()}}},$.prototype.$updateRows=function(){var k=this.session.lineWidgets;if(k){var P=!0;k.forEach(function(E,R){if(E)for(P=!1,E.row=R;E.$oldWidget;)E.$oldWidget.row=R,E=E.$oldWidget}),P&&(this.session.lineWidgets=null)}},$.prototype.$registerLineWidget=function(k){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var P=this.session.lineWidgets[k.row];return P&&(k.$oldWidget=P,P.el&&P.el.parentNode&&(P.el.parentNode.removeChild(P.el),P._inDocument=!1)),this.session.lineWidgets[k.row]=k,k},$.prototype.addLineWidget=function(k){if(this.$registerLineWidget(k),k.session=this.session,!this.editor)return k;var P=this.editor.renderer;k.html&&!k.el&&(k.el=X.createElement("div"),k.el.innerHTML=k.html),k.text&&!k.el&&(k.el=X.createElement("div"),k.el.textContent=k.text),k.el&&(X.addCssClass(k.el,"ace_lineWidgetContainer"),k.className&&X.addCssClass(k.el,k.className),k.el.style.position="absolute",k.el.style.zIndex=5,P.container.appendChild(k.el),k._inDocument=!0,k.coverGutter||(k.el.style.zIndex=3),null==k.pixelHeight&&(k.pixelHeight=k.el.offsetHeight)),null==k.rowCount&&(k.rowCount=k.pixelHeight/P.layerConfig.lineHeight);var E=this.session.getFoldAt(k.row,0);if(k.$fold=E,E){var R=this.session.lineWidgets;k.row!=E.end.row||R[E.start.row]?k.hidden=!0:R[E.start.row]=k}return this.session._emit("changeFold",{data:{start:{row:k.row}}}),this.$updateRows(),this.renderWidgets(null,P),this.onWidgetChanged(k),k},$.prototype.removeLineWidget=function(k){if(k._inDocument=!1,k.session=null,k.el&&k.el.parentNode&&k.el.parentNode.removeChild(k.el),k.editor&&k.editor.destroy)try{k.editor.destroy()}catch(E){}if(this.session.lineWidgets){var P=this.session.lineWidgets[k.row];if(P==k)this.session.lineWidgets[k.row]=k.$oldWidget,k.$oldWidget&&this.onWidgetChanged(k.$oldWidget);else for(;P;){if(P.$oldWidget==k){P.$oldWidget=k.$oldWidget;break}P=P.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:k.row}}}),this.$updateRows()},$.prototype.getWidgetsAtRow=function(k){for(var P=this.session.lineWidgets,E=P&&P[k],R=[];E;)R.push(E),E=E.$oldWidget;return R},$.prototype.onWidgetChanged=function(k){this.session._changedWidgets.push(k),this.editor&&this.editor.renderer.updateFull()},$.prototype.measureWidgets=function(k,P){var E=this.session._changedWidgets,R=P.layerConfig;if(E&&E.length){for(var x=1/0,A=0;A<E.length;A++){var _=E[A];if(_&&_.el&&_.session==this.session){if(!_._inDocument){if(this.session.lineWidgets[_.row]!=_)continue;_._inDocument=!0,P.container.appendChild(_.el)}_.h=_.el.offsetHeight,_.fixedWidth||(_.w=_.el.offsetWidth,_.screenWidth=Math.ceil(_.w/R.characterWidth));var m=_.h/R.lineHeight;_.coverLine&&(m-=this.session.getRowLineCount(_.row))<0&&(m=0),_.rowCount!=m&&(_.rowCount=m,_.row<x&&(x=_.row))}}x!=1/0&&(this.session._emit("changeFold",{data:{start:{row:x}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},$.prototype.renderWidgets=function(k,P){var E=P.layerConfig,R=this.session.lineWidgets;if(R){for(var x=Math.min(this.firstRow,E.firstRow),A=Math.max(this.lastRow,E.lastRow,R.length);x>0&&!R[x];)x--;this.firstRow=E.firstRow,this.lastRow=E.lastRow,P.$cursorLayer.config=E;for(var _=x;_<=A;_++){var m=R[_];if(m&&m.el){if(m.hidden){m.el.style.top=-100-(m.pixelHeight||0)+"px";continue}m._inDocument||(m._inDocument=!0,P.container.appendChild(m.el));var D=P.$cursorLayer.getPixelPosition({row:_,column:0},!0).top;m.coverLine||(D+=E.lineHeight*this.session.getRowLineCount(m.row)),m.el.style.top=D-E.offset+"px";var I=m.coverGutter?0:P.gutterWidth;m.fixedWidth||(I-=P.scrollLeft),m.el.style.left=I+"px",m.fullWidth&&m.screenWidth&&(m.el.style.minWidth=E.width+2*E.padding+"px"),m.el.style.right=m.fixedWidth?P.scrollBar.getWidth()+"px":""}}}},$}();Z.LineWidgets=ee}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(ae,Z,V){"use strict";var X=ae("../lib/keys"),ee=ae("../mouse/default_gutter_handler").GutterTooltip,$=function(){function k(P){this.editor=P,this.gutterLayer=P.renderer.$gutterLayer,this.element=P.renderer.$gutter,this.lines=P.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new ee(this.editor)}return k.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},k.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},k.prototype.$onGutterKeyDown=function(P){if(this.annotationTooltip.isOpen)return P.preventDefault(),void(P.keyCode===X.escape&&this.annotationTooltip.hide());if(P.target===this.element){if(P.keyCode!=X.enter)return;P.preventDefault();var E=this.editor.getCursorPosition().row;return this.editor.isRowVisible(E)||this.editor.scrollToLine(E,!0,!0),void setTimeout(function(){var m=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),D=this.$findNearestFoldWidget(m),I=this.$findNearestAnnotation(m);if(null!==D||null!==I)return null===D&&null!==I?(this.activeRowIndex=I,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):null!==D&&null===I?(this.activeRowIndex=D,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex)):Math.abs(I-m)<Math.abs(D-m)?(this.activeRowIndex=I,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):(this.activeRowIndex=D,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10)}if(P.keyCode!==X.tab){if(P.keyCode===X.escape)return P.preventDefault(),this.$blurGutter(),this.element.focus(),void(this.lane=null);if(P.keyCode!==X.up)if(P.keyCode!==X.down)if(P.keyCode===X.left&&(P.preventDefault(),this.$switchLane("annotation")),P.keyCode===X.right&&(P.preventDefault(),this.$switchLane("fold")),P.keyCode!==X.enter&&P.keyCode!==X.space);else switch(P.preventDefault(),this.activeLane){case"fold":if("start"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]){var R=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),P),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==R&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(R),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}if("end"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)])break;return;case"annotation":var A=this.lines.cells[this.activeRowIndex].element.childNodes[2].getBoundingClientRect(),_=this.annotationTooltip.getElement().style;_.left=A.right+"px",_.top=A.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex))}else switch(P.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown()}else switch(P.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp()}}else P.preventDefault()},k.prototype.$blurGutter=function(){if(null!==this.activeRowIndex)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex)}this.annotationTooltip.isOpen&&this.annotationTooltip.hide()},k.prototype.$isFoldWidgetVisible=function(P){var E=this.editor.isRowFullyVisible(this.$rowIndexToRow(P)),R="none"!==this.$getFoldWidget(P).style.display;return E&&R},k.prototype.$isAnnotationVisible=function(P){var E=this.editor.isRowFullyVisible(this.$rowIndexToRow(P)),R="none"!==this.$getAnnotation(P).style.display;return E&&R},k.prototype.$getFoldWidget=function(P){return this.lines.get(P).element.childNodes[1]},k.prototype.$getAnnotation=function(P){return this.lines.get(P).element.childNodes[2]},k.prototype.$findNearestFoldWidget=function(P){if(this.$isFoldWidgetVisible(P))return P;for(var E=0;P-E>0||P+E<this.lines.getLength()-1;){if(P-++E>=0&&this.$isFoldWidgetVisible(P-E))return P-E;if(P+E<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(P+E))return P+E}return null},k.prototype.$findNearestAnnotation=function(P){if(this.$isAnnotationVisible(P))return P;for(var E=0;P-E>0||P+E<this.lines.getLength()-1;){if(P-++E>=0&&this.$isAnnotationVisible(P-E))return P-E;if(P+E<=this.lines.getLength()-1&&this.$isAnnotationVisible(P+E))return P+E}return null},k.prototype.$focusFoldWidget=function(P){if(null!=P){var E=this.$getFoldWidget(P);E.classList.add(this.editor.renderer.keyboardFocusClassName),E.focus()}},k.prototype.$focusAnnotation=function(P){if(null!=P){var E=this.$getAnnotation(P);E.classList.add(this.editor.renderer.keyboardFocusClassName),E.setAttribute("role","button"),E.focus()}},k.prototype.$blurFoldWidget=function(P){var E=this.$getFoldWidget(P);E.classList.remove(this.editor.renderer.keyboardFocusClassName),E.blur()},k.prototype.$blurAnnotation=function(P){var E=this.$getAnnotation(P);E.classList.remove(this.editor.renderer.keyboardFocusClassName),E.removeAttribute("role"),E.blur()},k.prototype.$moveFoldWidgetUp=function(){for(var P=this.activeRowIndex;P>0;)if(P--,this.$isFoldWidgetVisible(P))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=P,void this.$focusFoldWidget(this.activeRowIndex)},k.prototype.$moveFoldWidgetDown=function(){for(var P=this.activeRowIndex;P<this.lines.getLength()-1;)if(P++,this.$isFoldWidgetVisible(P))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=P,void this.$focusFoldWidget(this.activeRowIndex)},k.prototype.$moveAnnotationUp=function(){for(var P=this.activeRowIndex;P>0;)if(P--,this.$isAnnotationVisible(P))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=P,void this.$focusAnnotation(this.activeRowIndex)},k.prototype.$moveAnnotationDown=function(){for(var P=this.activeRowIndex;P<this.lines.getLength()-1;)if(P++,this.$isAnnotationVisible(P))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=P,void this.$focusAnnotation(this.activeRowIndex)},k.prototype.$switchLane=function(P){switch(P){case"annotation":if("annotation"===this.activeLane)break;var E=this.$findNearestAnnotation(this.activeRowIndex);if(null==E)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=E,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if("fold"===this.activeLane)break;var R=this.$findNearestFoldWidget(this.activeRowIndex);if(null==R)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=R,this.$focusFoldWidget(this.activeRowIndex)}},k.prototype.$rowIndexToRow=function(P){var E=this.lines.get(P);return E?E.row:null},k.prototype.$rowToRowIndex=function(P){for(var E=0;E<this.lines.getLength();E++)if(this.lines.get(E).row==P)return E;return null},k}();Z.GutterKeyboardHandler=$}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(ae,Z,V){"use strict";var X=this&&this.__values||function(C){var S="function"==typeof Symbol&&Symbol.iterator,O=S&&C[S],N=0;if(O)return O.call(C);if(C&&"number"==typeof C.length)return{next:function(){return C&&N>=C.length&&(C=void 0),{value:C&&C[N++],done:!C}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")},ee=ae("./lib/oop"),$=ae("./lib/dom"),k=ae("./lib/lang"),P=ae("./lib/useragent"),E=ae("./keyboard/textinput").TextInput,R=ae("./mouse/mouse_handler").MouseHandler,x=ae("./mouse/fold_handler").FoldHandler,A=ae("./keyboard/keybinding").KeyBinding,_=ae("./edit_session").EditSession,m=ae("./search").Search,D=ae("./range").Range,I=ae("./lib/event_emitter").EventEmitter,T=ae("./commands/command_manager").CommandManager,w=ae("./commands/default_commands").commands,p=ae("./config"),y=ae("./token_iterator").TokenIterator,h=ae("./line_widgets").LineWidgets,u=ae("./keyboard/gutter_handler").GutterKeyboardHandler,l=ae("./config").nls,d=ae("./clipboard"),g=ae("./lib/keys"),f=function(){function C(S,O,N){this.$toDestroy=[];var z=S.getContainerElement();this.container=z,this.renderer=S,this.id="editor"+ ++C.$uid,this.commands=new T(P.isMac?"mac":"win",w),"object"==typeof document&&(this.textInput=new E(S.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new R(this),new x(this)),this.keyBinding=new A(this),this.$search=(new m).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=k.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(K,Q){Q._$emitInputEvent.schedule(31)}),this.setSession(O||N&&N.session||new _("")),p.resetOptions(this),N&&this.setOptions(N),p._signal("editor",this)}return C.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=k.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},C.prototype.startOperation=function(S){if(this.curOp){if(!S||this.curOp.command)return;this.prevOp=this.curOp}S||(this.previousCommand=null,S={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:S.command||{},args:S.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},C.prototype.endOperation=function(S){if(this.curOp&&this.session){if(S&&!1===S.returnValue||!this.session)return this.curOp=null;if(1==S&&this.curOp.command&&"mouse"==this.curOp.command.name||(this._signal("beforeEndOperation"),!this.curOp))return;var O=this.curOp.command,N=O&&O.scrollIntoView;if(N){switch(N){case"center-animate":N="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var z=this.selection.getRange(),K=this.renderer.layerConfig;(z.start.row>=K.lastRow||z.end.row<=K.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==N&&this.renderer.animateScrolling(this.curOp.scrollTop)}var Q=this.selection.toJSON();this.curOp.selectionAfter=Q,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(Q),this.prevOp=this.curOp,this.curOp=null}},C.prototype.$historyTracker=function(S){if(this.$mergeUndoDeltas){var O=this.prevOp,N=this.$mergeableCommands,z=O.command&&S.command.name==O.command.name;if("insertstring"==S.command.name){var K=S.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),z=z&&this.mergeNextCommand&&(!/\s/.test(K)||/\s/.test(O.args)),this.mergeNextCommand=!0}else z=z&&-1!==N.indexOf(S.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(z=!1),z?this.session.mergeUndoDeltas=!0:-1!==N.indexOf(S.command.name)&&(this.sequenceStartTime=Date.now())}},C.prototype.setKeyboardHandler=function(S,O){if(S&&"string"==typeof S&&"ace"!=S){this.$keybindingId=S;var N=this;p.loadModule(["keybinding",S],function(z){N.$keybindingId==S&&N.keyBinding.setKeyboardHandler(z&&z.handler),O&&O()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(S),O&&O()},C.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},C.prototype.setSession=function(S){if(this.session!=S){this.curOp&&this.endOperation(),this.curOp={};var O=this.session;if(O){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var N=this.session.getSelection();N.off("changeCursor",this.$onCursorChange),N.off("changeSelection",this.$onSelectionChange)}this.session=S,S?(this.$onDocumentChange=this.onDocumentChange.bind(this),S.on("change",this.$onDocumentChange),this.renderer.setSession(S),this.$onChangeMode=this.onChangeMode.bind(this),S.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),S.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),S.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),S.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),S.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),S.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=S.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(S)),this._signal("changeSession",{session:S,oldSession:O}),this.curOp=null,O&&O._signal("changeEditor",{oldEditor:this}),S&&S._signal("changeEditor",{editor:this}),S&&!S.destroyed&&S.bgTokenizer.scheduleStart()}},C.prototype.getSession=function(){return this.session},C.prototype.setValue=function(S,O){return this.session.doc.setValue(S),O?1==O?this.navigateFileEnd():-1==O&&this.navigateFileStart():this.selectAll(),S},C.prototype.getValue=function(){return this.session.getValue()},C.prototype.getSelection=function(){return this.selection},C.prototype.resize=function(S){this.renderer.onResize(S)},C.prototype.setTheme=function(S,O){this.renderer.setTheme(S,O)},C.prototype.getTheme=function(){return this.renderer.getTheme()},C.prototype.setStyle=function(S){this.renderer.setStyle(S)},C.prototype.unsetStyle=function(S){this.renderer.unsetStyle(S)},C.prototype.getFontSize=function(){return this.getOption("fontSize")||$.computedStyle(this.container).fontSize},C.prototype.setFontSize=function(S){this.setOption("fontSize",S)},C.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var S=this;this.$highlightPending=!0,setTimeout(function(){S.$highlightPending=!1;var O=S.session;if(O&&!O.destroyed){O.$bracketHighlight&&(O.$bracketHighlight.markerIds.forEach(function(U){O.removeMarker(U)}),O.$bracketHighlight=null);var N=S.getCursorPosition(),z=S.getKeyboardHandler(),K=z&&z.$getDirectionForHighlight&&z.$getDirectionForHighlight(S),Q=O.getMatchingBracketRanges(N,K);if(!Q){var oe=new y(O,N.row,N.column).getCurrentToken();if(oe&&/\b(?:tag-open|tag-name)/.test(oe.type)){var pe=O.getMatchingTags(N);pe&&(Q=[pe.openTagName,pe.closeTagName])}}if(!Q&&O.$mode.getMatching&&(Q=O.$mode.getMatching(S.session)),!Q)return void(S.getHighlightIndentGuides()&&S.renderer.$textLayer.$highlightIndentGuide());var F="ace_bracket";Array.isArray(Q)?1==Q.length&&(F="ace_error_bracket"):Q=[Q],2==Q.length&&(0==D.comparePoints(Q[0].end,Q[1].start)?Q=[D.fromPoints(Q[0].start,Q[1].end)]:0==D.comparePoints(Q[0].start,Q[1].end)&&(Q=[D.fromPoints(Q[1].start,Q[0].end)])),O.$bracketHighlight={ranges:Q,markerIds:Q.map(function(U){return O.addMarker(U,F,"text")})},S.getHighlightIndentGuides()&&S.renderer.$textLayer.$highlightIndentGuide()}},50)}},C.prototype.focus=function(){this.textInput.focus()},C.prototype.isFocused=function(){return this.textInput.isFocused()},C.prototype.blur=function(){this.textInput.blur()},C.prototype.onFocus=function(S){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",S))},C.prototype.onBlur=function(S){!this.$isFocused||(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",S))},C.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},C.prototype.onDocumentChange=function(S){this.renderer.updateLines(S.start.row,S.start.row==S.end.row?S.end.row:1/0,this.session.$useWrapMode),this._signal("change",S),this.$cursorChange()},C.prototype.onTokenizerUpdate=function(S){var O=S.data;this.renderer.updateLines(O.first,O.last)},C.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},C.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},C.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},C.prototype.$updateHighlightActiveLine=function(){var O,S=this.getSession();if(this.$highlightActiveLine&&(("line"!=this.$selectionStyle||!this.selection.isMultiLine())&&(O=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(O=!1),this.renderer.$maxLines&&1===this.session.getLength()&&!(this.renderer.$minLines>1)&&(O=!1)),S.$highlightLineMarker&&!O)S.removeMarker(S.$highlightLineMarker.id),S.$highlightLineMarker=null;else if(!S.$highlightLineMarker&&O){var N=new D(O.row,O.column,O.row,1/0);N.id=S.addMarker(N,"ace_active-line","screenLine"),S.$highlightLineMarker=N}else O&&(S.$highlightLineMarker.start.row=O.row,S.$highlightLineMarker.end.row=O.row,S.$highlightLineMarker.start.column=O.column,S._signal("changeBackMarker"))},C.prototype.onSelectionChange=function(S){var O=this.session;if(O.$selectionMarker&&O.removeMarker(O.$selectionMarker),O.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var N=this.selection.getRange(),z=this.getSelectionStyle();O.$selectionMarker=O.addMarker(N,"ace_selection",z)}var K=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(K),this._signal("changeSelection")},C.prototype.$getSelectionHighLightRegexp=function(){var S=this.session,O=this.getSelectionRange();if(!O.isEmpty()&&!O.isMultiLine()){var N=O.start.column,z=O.end.column,K=S.getLine(O.start.row),Q=K.substring(N,z);if(!(Q.length>5e3)&&/[\w\d]/.test(Q)){var ue=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:Q}),oe=K.substring(N-1,z+1);if(ue.test(oe))return ue}}},C.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},C.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},C.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},C.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},C.prototype.onChangeMode=function(S){this.renderer.updateText(),this._emit("changeMode",S)},C.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},C.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},C.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},C.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},C.prototype.getCopyText=function(){var S=this.getSelectedText(),O=this.session.doc.getNewLineCharacter(),N=!1;if(!S&&this.$copyWithEmptySelection){N=!0;for(var z=this.selection.getAllRanges(),K=0;K<z.length;K++){var Q=z[K];K&&z[K-1].start.row==Q.start.row||(S+=this.session.getLine(Q.start.row)+O)}}var ue={text:S};return this._signal("copy",ue),d.lineMode=!!N&&ue.text,ue.text},C.prototype.onCopy=function(){this.commands.exec("copy",this)},C.prototype.onCut=function(){this.commands.exec("cut",this)},C.prototype.onPaste=function(S,O){this.commands.exec("paste",this,{text:S,event:O})},C.prototype.$handlePaste=function(S){"string"==typeof S&&(S={text:S}),this._signal("paste",S);var O=S.text,N=O===d.lineMode,z=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)N?z.insert({row:this.selection.lead.row,column:0},O):this.insert(O);else if(N)this.selection.rangeList.ranges.forEach(function(F){z.insert({row:F.start.row,column:0},O)});else{var K=O.split(/\r\n|\r|\n/),Q=this.selection.rangeList.ranges;if(K.length!=Q.length||!(2!=K.length||K[0]&&K[1]))return this.commands.exec("insertstring",this,O);for(var oe=Q.length;oe--;){var pe=Q[oe];pe.isEmpty()||z.remove(pe),z.insert(pe.start,K[oe])}}},C.prototype.execCommand=function(S,O){return this.commands.exec(S,this,O)},C.prototype.insert=function(S,O){var N=this.session,z=N.getMode(),K=this.getCursorPosition();if(this.getBehavioursEnabled()&&!O){var Q=z.transformAction(N.getState(K.row),"insertion",this,N,S);Q&&(S!==Q.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),S=Q.text)}if("\t"==S&&(S=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==S.indexOf("\n")&&((ue=new D.fromPoints(K,K)).end.column+=S.length,this.session.remove(ue));else{var ue=this.getSelectionRange();K=this.session.remove(ue),this.clearSelection()}if("\n"==S||"\r\n"==S){var U=N.getLine(K.row);if(K.column>U.search(/\S|$/)){var oe=U.substr(K.column).search(/\S|$/);N.doc.removeInLine(K.row,K.column,K.column+oe)}}this.clearSelection();var pe=K.column,F=N.getState(K.row),Y=(U=N.getLine(K.row),z.checkOutdent(F,U,S));if(N.insert(K,S),Q&&Q.selection&&this.selection.setSelectionRange(2==Q.selection.length?new D(K.row,pe+Q.selection[0],K.row,pe+Q.selection[1]):new D(K.row+Q.selection[0],Q.selection[1],K.row+Q.selection[2],Q.selection[3])),this.$enableAutoIndent){if(N.getDocument().isNewLine(S)){var W=z.getNextLineIndent(F,U.slice(0,K.column),N.getTabString());N.insert({row:K.row+1,column:0},W)}Y&&z.autoOutdent(F,N,K.row)}},C.prototype.autoIndent=function(){var N,z,S=this.session,O=S.getMode();if(this.selection.isEmpty())N=0,z=S.doc.getLength()-1;else{var K=this.getSelectionRange();N=K.start.row,z=K.end.row}for(var pe,F,U,Q="",ue="",oe="",Y=S.getTabString(),W=N;W<=z;W++)W>0&&(Q=S.getState(W-1),ue=S.getLine(W-1),oe=O.getNextLineIndent(Q,ue,Y)),pe=S.getLine(W),oe!==(F=O.$getIndent(pe))&&(F.length>0&&(U=new D(W,0,W,F.length),S.remove(U)),oe.length>0&&S.insert({row:W,column:0},oe)),O.autoOutdent(Q,S,W)},C.prototype.onTextInput=function(S,O){if(!O)return this.keyBinding.onTextInput(S);this.startOperation({command:{name:"insertstring"}});var N=this.applyComposition.bind(this,S,O);this.selection.rangeCount?this.forEachSelection(N):N(),this.endOperation()},C.prototype.applyComposition=function(S,O){var N;(O.extendLeft||O.extendRight)&&((N=this.selection.getRange()).start.column-=O.extendLeft,N.end.column+=O.extendRight,N.start.column<0&&(N.start.row--,N.start.column+=this.session.getLine(N.start.row).length+1),this.selection.setRange(N),!S&&!N.isEmpty()&&this.remove()),(S||!this.selection.isEmpty())&&this.insert(S,!0),(O.restoreStart||O.restoreEnd)&&((N=this.selection.getRange()).start.column-=O.restoreStart,N.end.column-=O.restoreEnd,this.selection.setRange(N))},C.prototype.onCommandKey=function(S,O,N){return this.keyBinding.onCommandKey(S,O,N)},C.prototype.setOverwrite=function(S){this.session.setOverwrite(S)},C.prototype.getOverwrite=function(){return this.session.getOverwrite()},C.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},C.prototype.setScrollSpeed=function(S){this.setOption("scrollSpeed",S)},C.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},C.prototype.setDragDelay=function(S){this.setOption("dragDelay",S)},C.prototype.getDragDelay=function(){return this.getOption("dragDelay")},C.prototype.setSelectionStyle=function(S){this.setOption("selectionStyle",S)},C.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},C.prototype.setHighlightActiveLine=function(S){this.setOption("highlightActiveLine",S)},C.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},C.prototype.setHighlightGutterLine=function(S){this.setOption("highlightGutterLine",S)},C.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},C.prototype.setHighlightSelectedWord=function(S){this.setOption("highlightSelectedWord",S)},C.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},C.prototype.setAnimatedScroll=function(S){this.renderer.setAnimatedScroll(S)},C.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},C.prototype.setShowInvisibles=function(S){this.renderer.setShowInvisibles(S)},C.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},C.prototype.setDisplayIndentGuides=function(S){this.renderer.setDisplayIndentGuides(S)},C.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},C.prototype.setHighlightIndentGuides=function(S){this.renderer.setHighlightIndentGuides(S)},C.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},C.prototype.setShowPrintMargin=function(S){this.renderer.setShowPrintMargin(S)},C.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},C.prototype.setPrintMarginColumn=function(S){this.renderer.setPrintMarginColumn(S)},C.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},C.prototype.setReadOnly=function(S){this.setOption("readOnly",S)},C.prototype.getReadOnly=function(){return this.getOption("readOnly")},C.prototype.setBehavioursEnabled=function(S){this.setOption("behavioursEnabled",S)},C.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},C.prototype.setWrapBehavioursEnabled=function(S){this.setOption("wrapBehavioursEnabled",S)},C.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},C.prototype.setShowFoldWidgets=function(S){this.setOption("showFoldWidgets",S)},C.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},C.prototype.setFadeFoldWidgets=function(S){this.setOption("fadeFoldWidgets",S)},C.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},C.prototype.remove=function(S){this.selection.isEmpty()&&("left"==S?this.selection.selectLeft():this.selection.selectRight());var O=this.getSelectionRange();if(this.getBehavioursEnabled()){var N=this.session,z=N.getState(O.start.row),K=N.getMode().transformAction(z,"deletion",this,N,O);if(0===O.end.column){var Q=N.getTextRange(O);if("\n"==Q[Q.length-1]){var ue=N.getLine(O.end.row);/^\s+$/.test(ue)&&(O.end.column=ue.length)}}K&&(O=K)}this.session.remove(O),this.clearSelection()},C.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},C.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},C.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},C.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var S=this.getSelectionRange();S.start.column==S.end.column&&S.start.row==S.end.row&&(S.end.column=0,S.end.row++),this.session.remove(S),this.clearSelection()},C.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var S=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(S)},C.prototype.setGhostText=function(S,O){this.session.widgetManager||(this.session.widgetManager=new h(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(S,O)},C.prototype.removeGhostText=function(){!this.session.widgetManager||this.renderer.removeGhostText()},C.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var S=this.getCursorPosition(),O=S.column;if(0!==O){var z,K,N=this.session.getLine(S.row);O<N.length?(z=N.charAt(O)+N.charAt(O-1),K=new D(S.row,O-1,S.row,O+1)):(z=N.charAt(O-1)+N.charAt(O-2),K=new D(S.row,O-2,S.row,O)),this.session.replace(K,z),this.session.selection.moveToPosition(K.end)}}},C.prototype.toLowerCase=function(){var S=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var O=this.getSelectionRange(),N=this.session.getTextRange(O);this.session.replace(O,N.toLowerCase()),this.selection.setSelectionRange(S)},C.prototype.toUpperCase=function(){var S=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var O=this.getSelectionRange(),N=this.session.getTextRange(O);this.session.replace(O,N.toUpperCase()),this.selection.setSelectionRange(S)},C.prototype.indent=function(){var S=this.session,O=this.getSelectionRange();if(!(O.start.row<O.end.row)){if(O.start.column<O.end.column){var z=S.getTextRange(O);if(!/^\s+$/.test(z))return N=this.$getSelectedRows(),void S.indentRows(N.first,N.last,"\t")}var K=S.getLine(O.start.row),Q=O.start,ue=S.getTabSize(),oe=S.documentToScreenColumn(Q.row,Q.column);if(this.session.getUseSoftTabs())var F=k.stringRepeat(" ",pe=ue-oe%ue);else{for(var pe=oe%ue;" "==K[O.start.column-1]&&pe;)O.start.column--,pe--;this.selection.setSelectionRange(O),F="\t"}return this.insert(F)}var N=this.$getSelectedRows();S.indentRows(N.first,N.last,"\t")},C.prototype.blockIndent=function(){var S=this.$getSelectedRows();this.session.indentRows(S.first,S.last,"\t")},C.prototype.blockOutdent=function(){var S=this.session.getSelection();this.session.outdentRows(S.getRange())},C.prototype.sortLines=function(){for(var S=this.$getSelectedRows(),O=this.session,N=[],z=S.first;z<=S.last;z++)N.push(O.getLine(z));N.sort(function(ue,oe){return ue.toLowerCase()<oe.toLowerCase()?-1:ue.toLowerCase()>oe.toLowerCase()?1:0});var K=new D(0,0,0,0);for(z=S.first;z<=S.last;z++){var Q=O.getLine(z);K.start.row=z,K.end.row=z,K.end.column=Q.length,O.replace(K,N[z-S.first])}},C.prototype.toggleCommentLines=function(){var S=this.session.getState(this.getCursorPosition().row),O=this.$getSelectedRows();this.session.getMode().toggleCommentLines(S,this.session,O.first,O.last)},C.prototype.toggleBlockComment=function(){var S=this.getCursorPosition(),O=this.session.getState(S.row),N=this.getSelectionRange();this.session.getMode().toggleBlockComment(O,this.session,N,S)},C.prototype.getNumberAt=function(S,O){var N=/[\-]?[0-9]+(?:\.[0-9]+)?/g;N.lastIndex=0;for(var z=this.session.getLine(S);N.lastIndex<O;){var K=N.exec(z);if(K.index<=O&&K.index+K[0].length>=O)return{value:K[0],start:K.index,end:K.index+K[0].length}}return null},C.prototype.modifyNumber=function(S){var O=this.selection.getCursor().row,N=this.selection.getCursor().column,z=new D(O,N-1,O,N),K=this.session.getTextRange(z);if(!isNaN(parseFloat(K))&&isFinite(K)){var Q=this.getNumberAt(O,N);if(Q){var ue=Q.value.indexOf(".")>=0?Q.start+Q.value.indexOf(".")+1:Q.end,oe=Q.start+Q.value.length-ue,pe=parseFloat(Q.value);pe*=Math.pow(10,oe),pe+=S*=ue!==Q.end&&N<ue?Math.pow(10,Q.end-N-1):Math.pow(10,Q.end-N);var F=(pe/=Math.pow(10,oe)).toFixed(oe),U=new D(O,Q.start,O,Q.end);this.session.replace(U,F),this.moveCursorTo(O,Math.max(Q.start+1,N+F.length-Q.value.length))}}else this.toggleWord()},C.prototype.toggleWord=function(){var S=this.selection.getCursor().row,O=this.selection.getCursor().column;this.selection.selectWord();var N=this.getSelectedText(),z=this.selection.getWordRange().start.column,K=N.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),Q=O-z-1;Q<0&&(Q=0);var ue=0,oe=0,pe=this;N.match(/[A-Za-z0-9_]+/)&&K.forEach(function(ke,xe){oe=ue+ke.length,Q>=ue&&Q<=oe&&(N=ke,pe.selection.clearSelection(),pe.moveCursorTo(S,ue+z),pe.selection.selectTo(S,oe+z)),ue=oe});for(var U,F=this.$toggleWordPairs,Y=0;Y<F.length;Y++)for(var W=F[Y],ne=0;ne<=1;ne++){var fe=+!ne,he=N.match(new RegExp("^\\s?_?("+k.escapeRegExp(W[ne])+")\\s?$","i"));he&&N.match(new RegExp("([_]|^|\\s)("+k.escapeRegExp(he[1])+")($|\\s)","g"))&&(U=N.replace(new RegExp(k.escapeRegExp(W[ne]),"i"),function(ke){var xe=W[fe];return ke.toUpperCase()==ke?xe=xe.toUpperCase():ke.charAt(0).toUpperCase()==ke.charAt(0)&&(xe=xe.substr(0,0)+W[fe].charAt(0).toUpperCase()+xe.substr(1)),xe}),this.insert(U),U="")}},C.prototype.findLinkAt=function(S,O){var N,z,Q=this.session.getLine(S).split(/((?:https?|ftp):\/\/[\S]+)/),ue=O;ue<0&&(ue=0);var F,oe=0,pe=0;try{for(var U=X(Q),Y=U.next();!Y.done;Y=U.next()){var W=Y.value;if(pe=oe+W.length,ue>=oe&&ue<=pe&&W.match(/((?:https?|ftp):\/\/[\S]+)/)){F=W.replace(/[\s:.,'";}\]]+$/,"");break}oe=pe}}catch(ne){N={error:ne}}finally{try{Y&&!Y.done&&(z=U.return)&&z.call(U)}finally{if(N)throw N.error}}return F},C.prototype.openLink=function(){var S=this.selection.getCursor(),O=this.findLinkAt(S.row,S.column);return O&&window.open(O,"_blank"),null!=O},C.prototype.removeLines=function(){var S=this.$getSelectedRows();this.session.removeFullLines(S.first,S.last),this.clearSelection()},C.prototype.duplicateSelection=function(){var S=this.selection,O=this.session,N=S.getRange(),z=S.isBackwards();if(N.isEmpty()){var K=N.start.row;O.duplicateLines(K,K)}else{var Q=z?N.start:N.end,ue=O.insert(Q,O.getTextRange(N),!1);N.start=Q,N.end=ue,S.setSelectionRange(N,z)}},C.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},C.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},C.prototype.moveText=function(S,O,N){return this.session.moveText(S,O,N)},C.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},C.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},C.prototype.$moveLines=function(S,O){var N,z,K=this.selection;if(!K.inMultiSelectMode||this.inVirtualSelectionMode){var Q=K.toOrientedRange();N=this.$getSelectedRows(Q),z=this.session.$moveLines(N.first,N.last,O?0:S),O&&-1==S&&(z=0),Q.moveBy(z,0),K.fromOrientedRange(Q)}else{var ue=K.rangeList.ranges;K.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var oe=0,pe=0,F=ue.length,U=0;U<F;U++){var Y=U;ue[U].moveBy(oe,0);for(var W=(N=this.$getSelectedRows(ue[U])).first,ne=N.last;++U<F;){pe&&ue[U].moveBy(pe,0);var fe=this.$getSelectedRows(ue[U]);if(O&&fe.first!=ne)break;if(!O&&fe.first>ne+1)break;ne=fe.last}for(U--,oe=this.session.$moveLines(W,ne,O?0:S),O&&-1==S&&(Y=U+1);Y<=U;)ue[Y].moveBy(oe,0),Y++;O||(oe=0),pe+=oe}K.fromOrientedRange(K.ranges[0]),K.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},C.prototype.$getSelectedRows=function(S){return S=(S||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(S.start.row),last:this.session.getRowFoldEnd(S.end.row)}},C.prototype.onCompositionStart=function(S){this.renderer.showComposition(S)},C.prototype.onCompositionUpdate=function(S){this.renderer.setCompositionText(S)},C.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},C.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},C.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},C.prototype.isRowVisible=function(S){return S>=this.getFirstVisibleRow()&&S<=this.getLastVisibleRow()},C.prototype.isRowFullyVisible=function(S){return S>=this.renderer.getFirstFullyVisibleRow()&&S<=this.renderer.getLastFullyVisibleRow()},C.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},C.prototype.$moveByPage=function(S,O){var N=this.renderer,z=this.renderer.layerConfig,K=S*Math.floor(z.height/z.lineHeight);!0===O?this.selection.$moveSelection(function(){this.moveCursorBy(K,0)}):!1===O&&(this.selection.moveCursorBy(K,0),this.selection.clearSelection());var Q=N.scrollTop;N.scrollBy(0,K*z.lineHeight),null!=O&&N.scrollCursorIntoView(null,.5),N.animateScrolling(Q)},C.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},C.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},C.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},C.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},C.prototype.scrollPageDown=function(){this.$moveByPage(1)},C.prototype.scrollPageUp=function(){this.$moveByPage(-1)},C.prototype.scrollToRow=function(S){this.renderer.scrollToRow(S)},C.prototype.scrollToLine=function(S,O,N,z){this.renderer.scrollToLine(S,O,N,z)},C.prototype.centerSelection=function(){var S=this.getSelectionRange(),O={row:Math.floor(S.start.row+(S.end.row-S.start.row)/2),column:Math.floor(S.start.column+(S.end.column-S.start.column)/2)};this.renderer.alignCursor(O,.5)},C.prototype.getCursorPosition=function(){return this.selection.getCursor()},C.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},C.prototype.getSelectionRange=function(){return this.selection.getRange()},C.prototype.selectAll=function(){this.selection.selectAll()},C.prototype.clearSelection=function(){this.selection.clearSelection()},C.prototype.moveCursorTo=function(S,O){this.selection.moveCursorTo(S,O)},C.prototype.moveCursorToPosition=function(S){this.selection.moveCursorToPosition(S)},C.prototype.jumpToMatching=function(S,O){var N=this.getCursorPosition(),z=new y(this.session,N.row,N.column),K=z.getCurrentToken(),Q=0;K&&-1!==K.type.indexOf("tag-name")&&(K=z.stepBackward());var ue=K||z.stepForward();if(ue){var oe,Y,pe=!1,F={},U=N.column-ue.start,W={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(ue.value.match(/[{}()\[\]]/g)){for(;U<ue.value.length&&!pe;U++)if(W[ue.value[U]])switch(Y=W[ue.value[U]]+"."+ue.type.replace("rparen","lparen"),isNaN(F[Y])&&(F[Y]=0),ue.value[U]){case"(":case"[":case"{":F[Y]++;break;case")":case"]":case"}":F[Y]--,-1===F[Y]&&(oe="bracket",pe=!0)}}else-1!==ue.type.indexOf("tag-name")&&(isNaN(F[ue.value])&&(F[ue.value]=0),"<"===K.value&&Q>1?F[ue.value]++:"</"===K.value&&F[ue.value]--,-1===F[ue.value]&&(oe="tag",pe=!0));pe||(K=ue,Q++,ue=z.stepForward(),U=0)}while(ue&&!pe);if(oe){var ne,fe;if("bracket"===oe)(ne=this.session.getBracketRange(N))||(fe=(ne=new D(z.getCurrentTokenRow(),z.getCurrentTokenColumn()+U-1,z.getCurrentTokenRow(),z.getCurrentTokenColumn()+U-1)).start,(O||fe.row===N.row&&Math.abs(fe.column-N.column)<2)&&(ne=this.session.getBracketRange(fe)));else if("tag"===oe){if(!ue||-1===ue.type.indexOf("tag-name"))return;if(0===(ne=new D(z.getCurrentTokenRow(),z.getCurrentTokenColumn()-2,z.getCurrentTokenRow(),z.getCurrentTokenColumn()-2)).compare(N.row,N.column)){var he=this.session.getMatchingTags(N);he&&(he.openTag.contains(N.row,N.column)?fe=(ne=he.closeTag).start:(ne=he.openTag,fe=he.closeTag.start.row===N.row&&he.closeTag.start.column===N.column?ne.end:ne.start))}fe=fe||ne.start}(fe=ne&&ne.cursor||fe)&&(S?ne&&O?this.selection.setRange(ne):ne&&ne.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(fe.row,fe.column):this.selection.moveTo(fe.row,fe.column))}}},C.prototype.gotoLine=function(S,O,N){this.selection.clearSelection(),this.session.unfold({row:S-1,column:O||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(S-1,O||0),this.isRowFullyVisible(S-1)||this.scrollToLine(S-1,!0,N)},C.prototype.navigateTo=function(S,O){this.selection.moveTo(S,O)},C.prototype.navigateUp=function(S){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var O=this.selection.anchor.getPosition();return this.moveCursorToPosition(O)}this.selection.clearSelection(),this.selection.moveCursorBy(-S||-1,0)},C.prototype.navigateDown=function(S){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var O=this.selection.anchor.getPosition();return this.moveCursorToPosition(O)}this.selection.clearSelection(),this.selection.moveCursorBy(S||1,0)},C.prototype.navigateLeft=function(S){if(this.selection.isEmpty())for(S=S||1;S--;)this.selection.moveCursorLeft();else{var O=this.getSelectionRange().start;this.moveCursorToPosition(O)}this.clearSelection()},C.prototype.navigateRight=function(S){if(this.selection.isEmpty())for(S=S||1;S--;)this.selection.moveCursorRight();else{var O=this.getSelectionRange().end;this.moveCursorToPosition(O)}this.clearSelection()},C.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},C.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},C.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},C.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},C.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},C.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},C.prototype.replace=function(S,O){O&&this.$search.set(O);var N=this.$search.find(this.session),z=0;return N&&(this.$tryReplace(N,S)&&(z=1),this.selection.setSelectionRange(N),this.renderer.scrollSelectionIntoView(N.start,N.end)),z},C.prototype.replaceAll=function(S,O){O&&this.$search.set(O);var N=this.$search.findAll(this.session),z=0;if(!N.length)return z;var K=this.getSelectionRange();this.selection.moveTo(0,0);for(var Q=N.length-1;Q>=0;--Q)this.$tryReplace(N[Q],S)&&z++;return this.selection.setSelectionRange(K),z},C.prototype.$tryReplace=function(S,O){var N=this.session.getTextRange(S);return null!==(O=this.$search.replace(N,O))?(S.end=this.session.replace(S,O),S):null},C.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},C.prototype.find=function(S,O,N){O||(O={}),"string"==typeof S||S instanceof RegExp?O.needle=S:"object"==typeof S&&ee.mixin(O,S);var z=this.selection.getRange();null==O.needle&&((S=this.session.getTextRange(z)||this.$search.$options.needle)||(z=this.session.getWordRange(z.start.row,z.start.column),S=this.session.getTextRange(z)),this.$search.set({needle:S})),this.$search.set(O),O.start||this.$search.set({start:z});var K=this.$search.find(this.session);return O.preventScroll?K:K?(this.revealRange(K,N),K):(O.backwards?z.start=z.end:z.end=z.start,void this.selection.setRange(z))},C.prototype.findNext=function(S,O){this.find({skipCurrent:!0,backwards:!1},S,O)},C.prototype.findPrevious=function(S,O){this.find(S,{skipCurrent:!0,backwards:!0},O)},C.prototype.revealRange=function(S,O){this.session.unfold(S),this.selection.setSelectionRange(S);var N=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(S.start,S.end,.5),!1!==O&&this.renderer.animateScrolling(N)},C.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},C.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},C.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(S){S.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},C.prototype.setAutoScrollEditorIntoView=function(S){if(S){var O,N=this,z=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var K=this.$scrollAnchor;K.style.cssText="position:absolute",this.container.insertBefore(K,this.container.firstChild);var Q=this.on("changeSelection",function(){z=!0}),ue=this.renderer.on("beforeRender",function(){z&&(O=N.renderer.container.getBoundingClientRect())}),oe=this.renderer.on("afterRender",function(){if(z&&O&&(N.isFocused()||N.searchBox&&N.searchBox.isFocused())){var pe=N.renderer,F=pe.$cursorLayer.$pixelPos,U=pe.layerConfig,Y=F.top-U.offset;null!=(z=F.top>=0&&Y+O.top<0||!(F.top<U.height&&F.top+O.top+U.lineHeight>window.innerHeight)&&null)&&(K.style.top=Y+"px",K.style.left=F.left+"px",K.style.height=U.lineHeight+"px",K.scrollIntoView(z)),z=O=null}});this.setAutoScrollEditorIntoView=function(pe){pe||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",Q),this.renderer.off("afterRender",oe),this.renderer.off("beforeRender",ue))}}},C.prototype.$resetCursorStyle=function(){var S=this.$cursorStyle||"ace",O=this.renderer.$cursorLayer;!O||(O.setSmoothBlinking(/smooth/.test(S)),O.isBlinking=!this.$readOnly&&"wide"!=S,$.setCssClass(O.element,"ace_slim-cursors",/slim/.test(S)))},C.prototype.prompt=function(S,O,N){var z=this;p.loadModule("ace/ext/prompt",function(K){K.prompt(z,S,O,N)})},C}();f.$uid=0,f.prototype.curOp=null,f.prototype.prevOp={},f.prototype.$mergeableCommands=["backspace","del","insertstring"],f.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],ee.implement(f.prototype,I),p.defineOptions(f.prototype,"editor",{selectionStyle:{set:function(C){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:C})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(C){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(C){this.textInput.setReadOnly(C),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(C){this.textInput.setCopyWithEmptySelection(C)},initialValue:!1},cursorStyle:{set:function(C){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(C){this.setAutoScrollEditorIntoView(C)}},keyboardHandler:{set:function(C){this.setKeyboardHandler(C)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(C){this.session.setValue(C)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(C){this.setSession(C)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(C){this.renderer.$gutterLayer.setShowLineNumbers(C),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),C&&this.$relativeLineNumbers?v.attach(this):v.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(C){this.$showLineNumbers&&C?v.attach(this):v.detach(this)}},placeholder:{set:function(C){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var S=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(S&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),$.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(S||this.renderer.placeholderNode)!S&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),$.addCssClass(this.container,"ace_hasPlaceholder");var O=$.createElement("div");O.className="ace_placeholder",O.textContent=this.$placeholder||"",this.renderer.placeholderNode=O,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(C){var N,S={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(z){z.blur(),z.renderer.scroller.focus()},readOnly:!0},O=function(z){if(z.target==this.renderer.scroller&&z.keyCode===g.enter){z.preventDefault();var K=this.getCursorPosition().row;this.isRowVisible(K)||this.scrollToLine(K,!0,!0),this.focus()}};C?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",l("editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",l("Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",O.bind(this)),this.commands.addCommand(S),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",l("editor")),this.renderer.$gutter.setAttribute("aria-label",l("Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),N||(N=new u(this)),N.addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",O.bind(this)),this.commands.removeCommand(S),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),N&&N.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var v={getText:function(C,S){return(Math.abs(C.selection.lead.row-S)||S+1+(S<9?"\xb7":""))+""},getWidth:function(C,S,O){return Math.max(S.toString().length,(O.lastRow+1).toString().length,2)*O.characterWidth},update:function(C,S){S.renderer.$loop.schedule(S.renderer.CHANGE_GUTTER)},attach:function(C){C.renderer.$gutterLayer.$renderer=this,C.on("changeSelection",this.update),this.update(null,C)},detach:function(C){C.renderer.$gutterLayer.$renderer==this&&(C.renderer.$gutterLayer.$renderer=null),C.off("changeSelection",this.update),this.update(null,C)}};Z.Editor=f}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(ae,Z,V){"use strict";var X=function(){function u(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return u.prototype.addSession=function(l){this.$session=l},u.prototype.add=function(l,d,g){if(!this.$fromUndo&&l!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===d||!this.lastDeltas){this.lastDeltas=[];var f=this.$undoStack.length;f>this.$undoDepth-1&&this.$undoStack.splice(0,f-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),l.id=this.$rev=++this.$maxRev}("remove"==l.action||"insert"==l.action)&&(this.$lastDelta=l),this.lastDeltas.push(l)}},u.prototype.addSelection=function(l,d){this.selections.push({value:l,rev:d||this.$rev})},u.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},u.prototype.markIgnored=function(l,d){null==d&&(d=this.$rev+1);for(var g=this.$undoStack,f=g.length;f--;){var v=g[f][0];if(v.id<=l)break;v.id<d&&(v.ignore=!0)}this.lastDeltas=null},u.prototype.getSelection=function(l,d){for(var g=this.selections,f=g.length;f--;){var v=g[f];if(v.rev<l)return d&&(v=g[f+1]),v}},u.prototype.getRevision=function(){return this.$rev},u.prototype.getDeltas=function(l,d){null==d&&(d=this.$rev+1);for(var g=this.$undoStack,f=null,v=0,C=g.length;C--;){var S=g[C][0];if(S.id<d&&!f&&(f=C+1),S.id<=l){v=C+1;break}}return g.slice(v,f)},u.prototype.getChangedRanges=function(l,d){null==d&&(d=this.$rev+1)},u.prototype.getChangedLines=function(l,d){null==d&&(d=this.$rev+1)},u.prototype.undo=function(l,d){this.lastDeltas=null;var g=this.$undoStack;if(function ee(u,l){for(var d=l;d--;){var g=u[d];if(g&&!g[0].ignore){for(;d<l-1;){var f=D(u[d],u[d+1]);u[d]=f[0],u[d+1]=f[1],d++}return!0}}}(g,g.length)){l||(l=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var f=g.pop(),v=null;return f&&(v=l.undoChanges(f,d),this.$redoStack.push(f),this.$syncRev()),this.$fromUndo=!1,v}},u.prototype.redo=function(l,d){if(this.lastDeltas=null,l||(l=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var g=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);(function h(u,l){for(var d=0;d<l.length;d++)for(var g=l[d],f=0;f<g.length;f++)y(u,g[f])})(this.$redoStack,g),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(C){C[0].id=++this.$maxRev},this)}var f=this.$redoStack.pop(),v=null;return f&&(v=l.redoChanges(f,d),this.$undoStack.push(f),this.$syncRev()),this.$fromUndo=!1,v},u.prototype.$syncRev=function(){var l=this.$undoStack,d=l[l.length-1],g=d&&d[0].id||0;this.$redoStackBaseRev=g,this.$rev=g},u.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},u.prototype.canUndo=function(){return this.$undoStack.length>0},u.prototype.canRedo=function(){return this.$redoStack.length>0},u.prototype.bookmark=function(l){null==l&&(l=this.$rev),this.mark=l},u.prototype.isAtBookmark=function(){return this.$rev===this.mark},u.prototype.toJSON=function(){},u.prototype.fromJSON=function(){},u.prototype.$prettyPrint=function(l){return l?A(l):A(this.$undoStack)+"\n---\n"+A(this.$redoStack)},u}();X.prototype.hasUndo=X.prototype.canUndo,X.prototype.hasRedo=X.prototype.canRedo,X.prototype.isClean=X.prototype.isAtBookmark,X.prototype.markClean=X.prototype.bookmark;var $=ae("./range").Range,k=$.comparePoints;function R(u){return{row:u.row,column:u.column}}function A(u){if(u=u||this,Array.isArray(u))return u.map(A).join("\n");var l="";return u.action?(l="insert"==u.action?"+":"-",l+="["+u.lines+"]"):u.value&&(l=Array.isArray(u.value)?u.value.map(_).join("\n"):_(u.value)),u.start&&(l+=_(u)),(u.id||u.rev)&&(l+="\t("+(u.id||u.rev)+")"),l}function _(u){return u.start.row+":"+u.start.column+"=>"+u.end.row+":"+u.end.column}function m(u,l){var d="insert"==u.action,g="insert"==l.action;if(d&&g)if(k(l.start,u.end)>=0)T(l,u,-1);else{if(!(k(l.start,u.start)<=0))return null;T(u,l,1)}else if(d&&!g)if(k(l.start,u.end)>=0)T(l,u,-1);else{if(!(k(l.end,u.start)<=0))return null;T(u,l,-1)}else if(!d&&g)if(k(l.start,u.start)>=0)T(l,u,1);else{if(!(k(l.start,u.start)<=0))return null;T(u,l,1)}else if(!d&&!g)if(k(l.start,u.start)>=0)T(l,u,1);else{if(!(k(l.end,u.start)<=0))return null;T(u,l,-1)}return[l,u]}function D(u,l){for(var d=u.length;d--;)for(var g=0;g<l.length;g++)if(!m(u[d],l[g])){for(;d<u.length;){for(;g--;)m(l[g],u[d]);g=l.length,d++}return[u,l]}return u.selectionBefore=l.selectionBefore=u.selectionAfter=l.selectionAfter=null,[l,u]}function I(u,l){var d="insert"==u.action,g="insert"==l.action;if(d&&g)k(u.start,l.start)<0?T(l,u,1):T(u,l,1);else if(d&&!g)k(u.start,l.end)>=0?T(u,l,-1):(k(u.start,l.start)<=0||T(u,$.fromPoints(l.start,u.start),-1),T(l,u,1));else if(!d&&g)k(l.start,u.end)>=0?T(l,u,-1):(k(l.start,u.start)<=0||T(l,$.fromPoints(u.start,l.start),-1),T(u,l,1));else if(!d&&!g)if(k(l.start,u.end)>=0)T(l,u,-1);else{var f,v;if(!(k(l.end,u.start)<=0))return k(u.start,l.start)<0&&(f=u,u=p(u,l.start)),k(u.end,l.end)>0&&(v=p(u,l.end)),w(l.end,u.start,u.end,-1),v&&!f&&(u.lines=v.lines,u.start=v.start,u.end=v.end,v=u),[l,f,v].filter(Boolean);T(u,l,-1)}return[l,u]}function T(u,l,d){w(u.start,l.start,l.end,d),w(u.end,l.start,l.end,d)}function w(u,l,d,g){u.row==(1==g?l:d).row&&(u.column+=g*(d.column-l.column)),u.row+=g*(d.row-l.row)}function p(u,l){var d=u.lines,g=u.end;u.end=R(l);var f=u.end.row-u.start.row,v=d.splice(f,d.length),C=f?l.column:l.column-u.start.column;return d.push(v[0].substring(0,C)),v[0]=v[0].substr(C),{start:R(l),end:g,lines:v,action:u.action}}function y(u,l){l=function x(u){return{start:R(u.start),end:R(u.end),action:u.action,lines:u.lines.slice()}}(l);for(var d=u.length;d--;){for(var g=u[d],f=0;f<g.length;f++){var C=I(g[f],l);l=C[0],2!=C.length&&(C[2]?(g.splice(f+1,1,C[1],C[2]),f++):C[1]||(g.splice(f,1),f--))}g.length||u.splice(d,1)}return u}Z.UndoManager=X}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(ae,Z,V){"use strict";var X=ae("../lib/dom"),ee=function(){function $(k,P){this.element=k,this.canvasHeight=P||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return $.prototype.moveContainer=function(k){X.translate(this.element,0,-k.firstRowScreen*k.lineHeight%this.canvasHeight-k.offset*this.$offsetCoefficient)},$.prototype.pageChanged=function(k,P){return Math.floor(k.firstRowScreen*k.lineHeight/this.canvasHeight)!==Math.floor(P.firstRowScreen*P.lineHeight/this.canvasHeight)},$.prototype.computeLineTop=function(k,P,E){var x=Math.floor(P.firstRowScreen*P.lineHeight/this.canvasHeight);return E.documentToScreenRow(k,0)*P.lineHeight-x*this.canvasHeight},$.prototype.computeLineHeight=function(k,P,E){return P.lineHeight*E.getRowLineCount(k)},$.prototype.getLength=function(){return this.cells.length},$.prototype.get=function(k){return this.cells[k]},$.prototype.shift=function(){this.$cacheCell(this.cells.shift())},$.prototype.pop=function(){this.$cacheCell(this.cells.pop())},$.prototype.push=function(k){if(Array.isArray(k)){this.cells.push.apply(this.cells,k);for(var P=X.createFragment(this.element),E=0;E<k.length;E++)P.appendChild(k[E].element);this.element.appendChild(P)}else this.cells.push(k),this.element.appendChild(k.element)},$.prototype.unshift=function(k){if(Array.isArray(k)){this.cells.unshift.apply(this.cells,k);for(var P=X.createFragment(this.element),E=0;E<k.length;E++)P.appendChild(k[E].element);this.element.firstChild?this.element.insertBefore(P,this.element.firstChild):this.element.appendChild(P)}else this.cells.unshift(k),this.element.insertAdjacentElement("afterbegin",k.element)},$.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},$.prototype.$cacheCell=function(k){!k||(k.element.remove(),this.cellCache.push(k))},$.prototype.createCell=function(k,P,E,R){var x=this.cellCache.pop();if(!x){var A=X.createElement("div");R&&R(A),this.element.appendChild(A),x={element:A,text:"",row:k}}return x.row=k,x},$}();Z.Lines=ee}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(ae,Z,V){"use strict";var X=ae("../lib/dom"),ee=ae("../lib/oop"),$=ae("../lib/lang"),k=ae("../lib/event_emitter").EventEmitter,P=ae("./lines").Lines,E=ae("../config").nls,R=function(){function A(_){this.element=X.createElement("div"),this.element.className="ace_layer ace_gutter-layer",_.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new P(this.element),this.$lines.$offsetCoefficient=1}return A.prototype.setSession=function(_){this.session&&this.session.off("change",this.$updateAnnotations),this.session=_,_&&_.on("change",this.$updateAnnotations)},A.prototype.addGutterDecoration=function(_,m){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(_,m)},A.prototype.removeGutterDecoration=function(_,m){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(_,m)},A.prototype.setAnnotations=function(_){this.$annotations=[];for(var m=0;m<_.length;m++){var D=_[m],I=D.row,T=this.$annotations[I];T||(T=this.$annotations[I]={text:[],type:[]});var w=D.text,p=D.type;w=w?$.escapeHTML(w):D.html||"",-1===T.text.indexOf(w)&&(T.text.push(w),T.type.push(p));var y=D.className;y?T.className=y:"error"==p?T.className=" ace_error":"warning"==p&&" ace_error"!=T.className?T.className=" ace_warning":"info"==p&&!T.className&&(T.className=" ace_info")}},A.prototype.$updateAnnotations=function(_){if(this.$annotations.length){var m=_.start.row,D=_.end.row-m;if(0!==D)if("remove"==_.action)this.$annotations.splice(m,D+1,null);else{var I=new Array(D+1);I.unshift(m,1),this.$annotations.splice.apply(this.$annotations,I)}}},A.prototype.update=function(_){this.config=_;var m=this.session,D=_.firstRow,I=Math.min(_.lastRow+_.gutterOffset,m.getLength()-1);this.oldLastRow=I,this.config=_,this.$lines.moveContainer(_),this.$updateCursorRow();for(var T=m.getNextFoldLine(D),w=T?T.start.row:1/0,p=null,y=-1,h=D;;){if(h>w&&(w=(T=m.getNextFoldLine(h=T.end.row+1,T))?T.start.row:1/0),h>I){for(;this.$lines.getLength()>y+1;)this.$lines.pop();break}(p=this.$lines.get(++y))?p.row=h:(p=this.$lines.createCell(h,_,this.session,x),this.$lines.push(p)),this.$renderCell(p,_,T,h),h++}this._signal("afterRender"),this.$updateGutterWidth(_)},A.prototype.$updateGutterWidth=function(_){var m=this.session,D=m.gutterRenderer||this.$renderer,I=m.$firstLineNumber,T=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||m.$useWrapMode)&&(T=m.getLength()+I-1);var w=D?D.getWidth(m,T,_):T.toString().length*_.characterWidth,p=this.$padding||this.$computePadding();(w+=p.left+p.right)!==this.gutterWidth&&!isNaN(w)&&(this.gutterWidth=w,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",w))},A.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var _=this.session.selection.getCursor();this.$cursorRow!==_.row&&(this.$cursorRow=_.row)}},A.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var _=this.session.selection.cursor.row;if(this.$cursorRow=_,!this.$cursorCell||this.$cursorCell.row!=_){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var m=this.$lines.cells;this.$cursorCell=null;for(var D=0;D<m.length;D++){var I=m[D];if(I.row>=this.$cursorRow){if(I.row>this.$cursorRow){var T=this.session.getFoldLine(this.$cursorRow);if(!(D>0&&T&&T.start.row==m[D-1].row))break;I=m[D-1]}I.element.className="ace_gutter-active-line "+I.element.className,this.$cursorCell=I;break}}}}},A.prototype.scrollLines=function(_){var m=this.config;if(this.config=_,this.$updateCursorRow(),this.$lines.pageChanged(m,_))return this.update(_);this.$lines.moveContainer(_);var D=Math.min(_.lastRow+_.gutterOffset,this.session.getLength()-1),I=this.oldLastRow;if(this.oldLastRow=D,!m||I<_.firstRow)return this.update(_);if(D<m.firstRow)return this.update(_);if(m.firstRow<_.firstRow)for(var T=this.session.getFoldedRowCount(m.firstRow,_.firstRow-1);T>0;T--)this.$lines.shift();if(I>D)for(T=this.session.getFoldedRowCount(D+1,I);T>0;T--)this.$lines.pop();_.firstRow<m.firstRow&&this.$lines.unshift(this.$renderLines(_,_.firstRow,m.firstRow-1)),D>I&&this.$lines.push(this.$renderLines(_,I+1,D)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(_)},A.prototype.$renderLines=function(_,m,D){for(var I=[],T=m,w=this.session.getNextFoldLine(T),p=w?w.start.row:1/0;T>p&&(p=(w=this.session.getNextFoldLine(T=w.end.row+1,w))?w.start.row:1/0),!(T>D);){var y=this.$lines.createCell(T,_,this.session,x);this.$renderCell(y,_,w,T),I.push(y),T++}return I},A.prototype.$renderCell=function(_,m,D,I){var T=_.element,w=this.session,p=T.childNodes[0],y=T.childNodes[1],h=T.childNodes[2],u=h.firstChild,l=w.$firstLineNumber,d=w.$breakpoints,g=w.$decorations,f=w.gutterRenderer||this.$renderer,v=this.$showFoldWidgets&&w.foldWidgets,C=D?D.start.row:Number.MAX_VALUE,S=m.lineHeight+"px",O=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",N=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",z=(f?f.getText(w,I):I+l).toString();if(this.$highlightGutterLine&&(I==this.$cursorRow||D&&I<this.$cursorRow&&I>=C&&this.$cursorRow<=D.end.row)&&(O+="ace_gutter-active-line ",this.$cursorCell!=_&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=_)),d[I]&&(O+=d[I]),g[I]&&(O+=g[I]),this.$annotations[I]&&I!==C&&(O+=this.$annotations[I].className),T.className!=O&&(T.className=O),v){var K=v[I];null==K&&(K=v[I]=w.getFoldWidget(I))}if(K){if(O="ace_fold-widget ace_"+K,"start"==K&&I==C&&I<D.end.row){O+=" ace_closed";for(var Q,ue=!1,oe=I+1;oe<=D.end.row;oe++)if(this.$annotations[oe]){if(" ace_error"===this.$annotations[oe].className){ue=!0,Q=" ace_error_fold";break}if(" ace_warning"===this.$annotations[oe].className){ue=!0,Q=" ace_warning_fold";continue}}T.className+=Q}else O+=" ace_open";y.className!=O&&(y.className=O),X.setStyle(y.style,"height",S),X.setStyle(y.style,"display","inline-block"),y.setAttribute("role","button"),y.setAttribute("tabindex","-1"),(D=w.getFoldLine(z-1))?(y.setAttribute("aria-label",E("Unfold rows $0 to $1",[z,D.end.row+1])),y.setAttribute("title",E("Unfold code"))):(y.setAttribute("aria-label",E("Fold at row $0",[z])),y.setAttribute("title",E("Fold code")))}else y&&(X.setStyle(y.style,"display","none"),y.setAttribute("tabindex","0"),y.removeAttribute("role"),y.removeAttribute("aria-label"));return ue&&this.$showFoldedAnnotations?(h.className="ace_gutter_annotation",u.className=N,u.className+=Q,X.setStyle(u.style,"height",S),X.setStyle(h.style,"display","block"),X.setStyle(h.style,"height",S),h.setAttribute("aria-label",E("Read annotations row $0",[z])),h.setAttribute("tabindex","-1"),h.setAttribute("role","button")):this.$annotations[I]?(h.className="ace_gutter_annotation",u.className=N,this.$useSvgGutterIcons?u.className+=this.$annotations[I].className:T.classList.add(this.$annotations[I].className.replace(" ","")),X.setStyle(u.style,"height",S),X.setStyle(h.style,"display","block"),X.setStyle(h.style,"height",S),h.setAttribute("aria-label",E("Read annotations row $0",[z])),h.setAttribute("tabindex","-1"),h.setAttribute("role","button")):(X.setStyle(h.style,"display","none"),h.removeAttribute("aria-label"),h.removeAttribute("role"),h.setAttribute("tabindex","0")),z!==p.data&&(p.data=z),X.setStyle(_.element.style,"height",this.$lines.computeLineHeight(I,m,w)+"px"),X.setStyle(_.element.style,"top",this.$lines.computeLineTop(I,m,w)+"px"),_.text=z,_.element.setAttribute("aria-hidden","none"===h.style.display&&"none"===y.style.display),_},A.prototype.setHighlightGutterLine=function(_){this.$highlightGutterLine=_},A.prototype.setShowLineNumbers=function(_){this.$renderer=!_&&{getWidth:function(){return 0},getText:function(){return""}}},A.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},A.prototype.setShowFoldWidgets=function(_){_?X.addCssClass(this.element,"ace_folding-enabled"):X.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=_,this.$padding=null},A.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},A.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var _=X.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(_.borderLeftWidth)||0)+(parseInt(_.paddingLeft)||0)+1,this.$padding.right=(parseInt(_.borderRightWidth)||0)+(parseInt(_.paddingRight)||0),this.$padding},A.prototype.getRegion=function(_){var m=this.$padding||this.$computePadding(),D=this.element.getBoundingClientRect();return _.x<m.left+D.left?"markers":this.$showFoldWidgets&&_.x>D.right-m.right?"foldWidgets":void 0},A}();function x(A){var _=document.createTextNode("");A.appendChild(_);var m=X.createElement("span");A.appendChild(m);var D=X.createElement("span");A.appendChild(D);var I=X.createElement("span");return D.appendChild(I),A}R.prototype.$fixedWidth=!1,R.prototype.$highlightGutterLine=!0,R.prototype.$renderer="",R.prototype.$showLineNumbers=!0,R.prototype.$showFoldWidgets=!0,ee.implement(R.prototype,k),Z.Gutter=R}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(ae,Z,V){"use strict";var X=ae("../range").Range,ee=ae("../lib/dom"),$=function(){function P(E){this.element=ee.createElement("div"),this.element.className="ace_layer ace_marker-layer",E.appendChild(this.element)}return P.prototype.setPadding=function(E){this.$padding=E},P.prototype.setSession=function(E){this.session=E},P.prototype.setMarkers=function(E){this.markers=E},P.prototype.elt=function(E,R){var x=-1!=this.i&&this.element.childNodes[this.i];x?this.i++:(x=document.createElement("div"),this.element.appendChild(x),this.i=-1),x.style.cssText=R,x.className=E},P.prototype.update=function(E){if(E){var R;for(var x in this.config=E,this.i=0,this.markers){var A=this.markers[x];if(A.range){var _=A.range.clipRows(E.firstRow,E.lastRow);if(!_.isEmpty())if(_=_.toScreenRange(this.session),A.renderer){var m=this.$getTop(_.start.row,E);A.renderer(R,_,this.$padding+_.start.column*E.characterWidth,m,E)}else"fullLine"==A.type?this.drawFullLineMarker(R,_,A.clazz,E):"screenLine"==A.type?this.drawScreenLineMarker(R,_,A.clazz,E):_.isMultiLine()?"text"==A.type?this.drawTextMarker(R,_,A.clazz,E):this.drawMultiLineMarker(R,_,A.clazz,E):this.drawSingleLineMarker(R,_,A.clazz+" ace_start ace_br15",E)}else A.update(R,this,this.session,E)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},P.prototype.$getTop=function(E,R){return(E-R.firstRowScreen)*R.lineHeight},P.prototype.drawTextMarker=function(E,R,x,A,_){for(var m=this.session,D=R.start.row,I=R.end.row,T=D,w=0,p=0,y=m.getScreenLastRowColumn(T),h=new X(T,R.start.column,T,p);T<=I;T++)h.start.row=h.end.row=T,h.start.column=T==D?R.start.column:m.getRowWrapIndent(T),h.end.column=y,w=p,p=y,y=T+1<I?m.getScreenLastRowColumn(T+1):T==I?0:R.end.column,this.drawSingleLineMarker(E,h,x+(T==D?" ace_start":"")+" ace_br"+k(T==D||T==D+1&&R.start.column,w<p,p>y,T==I),A,T==I?0:1,_)},P.prototype.drawMultiLineMarker=function(E,R,x,A,_){var w,m=this.$padding,D=A.lineHeight,I=this.$getTop(R.start.row,A),T=m+R.start.column*A.characterWidth;if(_=_||"",this.session.$bidiHandler.isBidiRow(R.start.row)?((w=R.clone()).end.row=w.start.row,w.end.column=this.session.getLine(w.start.row).length,this.drawBidiSingleLineMarker(E,w,x+" ace_br1 ace_start",A,null,_)):this.elt(x+" ace_br1 ace_start","height:"+D+"px;right:0;top:"+I+"px;left:"+T+"px;"+(_||"")),this.session.$bidiHandler.isBidiRow(R.end.row)?((w=R.clone()).start.row=w.end.row,w.start.column=0,this.drawBidiSingleLineMarker(E,w,x+" ace_br12",A,null,_)):(I=this.$getTop(R.end.row,A),this.elt(x+" ace_br12","height:"+D+"px;width:"+R.end.column*A.characterWidth+"px;top:"+I+"px;left:"+m+"px;"+(_||""))),!((D=(R.end.row-R.start.row-1)*A.lineHeight)<=0)){I=this.$getTop(R.start.row+1,A);var y=(R.start.column?1:0)|(R.end.column?0:8);this.elt(x+(y?" ace_br"+y:""),"height:"+D+"px;right:0;top:"+I+"px;left:"+m+"px;"+(_||""))}},P.prototype.drawSingleLineMarker=function(E,R,x,A,_,m){if(this.session.$bidiHandler.isBidiRow(R.start.row))return this.drawBidiSingleLineMarker(E,R,x,A,_,m);var D=A.lineHeight,I=(R.end.column+(_||0)-R.start.column)*A.characterWidth,T=this.$getTop(R.start.row,A);this.elt(x,"height:"+D+"px;width:"+I+"px;top:"+T+"px;left:"+(this.$padding+R.start.column*A.characterWidth)+"px;"+(m||""))},P.prototype.drawBidiSingleLineMarker=function(E,R,x,A,_,m){var D=A.lineHeight,I=this.$getTop(R.start.row,A),T=this.$padding;this.session.$bidiHandler.getSelections(R.start.column,R.end.column).forEach(function(p){this.elt(x,"height:"+D+"px;width:"+(p.width+(_||0))+"px;top:"+I+"px;left:"+(T+p.left)+"px;"+(m||""))},this)},P.prototype.drawFullLineMarker=function(E,R,x,A,_){var m=this.$getTop(R.start.row,A),D=A.lineHeight;R.start.row!=R.end.row&&(D+=this.$getTop(R.end.row,A)-m),this.elt(x,"height:"+D+"px;top:"+m+"px;left:0;right:0;"+(_||""))},P.prototype.drawScreenLineMarker=function(E,R,x,A,_){var m=this.$getTop(R.start.row,A);this.elt(x,"height:"+A.lineHeight+"px;top:"+m+"px;left:0;right:0;"+(_||""))},P}();function k(P,E,R,x){return(P?1:0)|(E?2:0)|(R?4:0)|(x?8:0)}$.prototype.$padding=0,Z.Marker=$}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config"],function(ae,Z,V){"use strict";var X=ae("../lib/oop"),ee=ae("../lib/dom"),$=ae("../lib/lang"),k=ae("./lines").Lines,P=ae("../lib/event_emitter").EventEmitter,E=ae("../config").nls,R=function(){function x(A){this.dom=ee,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",A.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new k(this.element)}return x.prototype.$updateEolChar=function(){var A=this.session.doc,m="\n"==A.getNewLineCharacter()&&"windows"!=A.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=m)return this.EOL_CHAR=m,!0},x.prototype.setPadding=function(A){this.$padding=A,this.element.style.margin="0 "+A+"px"},x.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},x.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},x.prototype.$setFontMetrics=function(A){this.$fontMetrics=A,this.$fontMetrics.on("changeCharacterSize",function(_){this._signal("changeCharacterSize",_)}.bind(this)),this.$pollSizeChanges()},x.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},x.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},x.prototype.setSession=function(A){this.session=A,A&&this.$computeTabString()},x.prototype.setShowInvisibles=function(A){return this.showInvisibles!=A&&(this.showInvisibles=A,"string"==typeof A?(this.showSpaces=/tab/i.test(A),this.showTabs=/space/i.test(A),this.showEOL=/eol/i.test(A)):this.showSpaces=this.showTabs=this.showEOL=A,this.$computeTabString(),!0)},x.prototype.setDisplayIndentGuides=function(A){return this.displayIndentGuides!=A&&(this.displayIndentGuides=A,this.$computeTabString(),!0)},x.prototype.setHighlightIndentGuides=function(A){return this.$highlightIndentGuides!==A&&(this.$highlightIndentGuides=A,A)},x.prototype.$computeTabString=function(){var A=this.session.getTabSize();this.tabSize=A;for(var _=this.$tabStrings=[0],m=1;m<A+1;m++)this.showTabs?((D=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",D.textContent=$.stringRepeat(this.TAB_CHAR,m),_.push(D)):_.push(this.dom.createTextNode($.stringRepeat(" ",m),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var D,I="ace_indent-guide",T=this.showSpaces?" ace_invisible ace_invisible_space":"",w=$.stringRepeat(this.showSpaces?this.SPACE_CHAR:" ",this.tabSize),p=this.showTabs?" ace_invisible ace_invisible_tab":"",y=this.showTabs?$.stringRepeat(this.TAB_CHAR,this.tabSize):w;(D=this.dom.createElement("span")).className=I+T,D.textContent=w,this.$tabStrings[" "]=D,(D=this.dom.createElement("span")).className=I+p,D.textContent=y,this.$tabStrings["\t"]=D}},x.prototype.updateLines=function(A,_,m){if(this.config.lastRow!=A.lastRow||this.config.firstRow!=A.firstRow)return this.update(A);this.config=A;for(var D=Math.max(_,A.firstRow),I=Math.min(m,A.lastRow),T=this.element.childNodes,w=0,y=A.firstRow;y<D;y++){if(h=this.session.getFoldLine(y)){if(h.containsRow(D)){D=h.start.row;break}y=h.end.row}w++}for(var h,p=!1,u=(h=this.session.getNextFoldLine(y=D))?h.start.row:1/0;y>u&&(u=(h=this.session.getNextFoldLine(y=h.end.row+1,h))?h.start.row:1/0),!(y>I);){var l=T[w++];if(l){this.dom.removeChildren(l),this.$renderLine(l,y,y==u&&h),p&&(l.style.top=this.$lines.computeLineTop(y,A,this.session)+"px");var d=A.lineHeight*this.session.getRowLength(y)+"px";l.style.height!=d&&(p=!0,l.style.height=d)}y++}if(p)for(;w<this.$lines.cells.length;){var g=this.$lines.cells[w++];g.element.style.top=this.$lines.computeLineTop(g.row,A,this.session)+"px"}},x.prototype.scrollLines=function(A){var _=this.config;if(this.config=A,this.$lines.pageChanged(_,A))return this.update(A);this.$lines.moveContainer(A);var m=A.lastRow;if(!_||(_?_.lastRow:-1)<A.firstRow)return this.update(A);if(m<_.firstRow)return this.update(A);if(!_||_.lastRow<A.firstRow)return this.update(A);if(A.lastRow<_.firstRow)return this.update(A);if(_.firstRow<A.firstRow)for(var I=this.session.getFoldedRowCount(_.firstRow,A.firstRow-1);I>0;I--)this.$lines.shift();if(_.lastRow>A.lastRow)for(I=this.session.getFoldedRowCount(A.lastRow+1,_.lastRow);I>0;I--)this.$lines.pop();A.firstRow<_.firstRow&&this.$lines.unshift(this.$renderLinesFragment(A,A.firstRow,_.firstRow-1)),A.lastRow>_.lastRow&&this.$lines.push(this.$renderLinesFragment(A,_.lastRow+1,A.lastRow)),this.$highlightIndentGuide()},x.prototype.$renderLinesFragment=function(A,_,m){for(var D=[],I=_,T=this.session.getNextFoldLine(I),w=T?T.start.row:1/0;I>w&&(w=(T=this.session.getNextFoldLine(I=T.end.row+1,T))?T.start.row:1/0),!(I>m);){var p=this.$lines.createCell(I,A,this.session),y=p.element;this.dom.removeChildren(y),ee.setStyle(y.style,"height",this.$lines.computeLineHeight(I,A,this.session)+"px"),ee.setStyle(y.style,"top",this.$lines.computeLineTop(I,A,this.session)+"px"),this.$renderLine(y,I,I==w&&T),y.className=this.$useLineGroups()?"ace_line_group":"ace_line",D.push(p),I++}return D},x.prototype.update=function(A){this.$lines.moveContainer(A),this.config=A;for(var _=A.firstRow,m=A.lastRow,D=this.$lines;D.getLength();)D.pop();D.push(this.$renderLinesFragment(A,_,m))},x.prototype.$renderToken=function(A,_,m,D){for(var p,I=this,T=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,w=this.dom.createFragment(this.element),y=0;p=T.exec(D);){var h=p[1],u=p[2],l=p[3],d=p[4],g=p[5];if(I.showSpaces||!u){var f=y!=p.index?D.slice(y,p.index):"";if(y=p.index+p[0].length,f&&w.appendChild(this.dom.createTextNode(f,this.element)),h){var v=I.session.getScreenTabSize(_+p.index);w.appendChild(I.$tabStrings[v].cloneNode(!0)),_+=v-1}else u?I.showSpaces?((C=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",C.textContent=$.stringRepeat(I.SPACE_CHAR,u.length),w.appendChild(C)):w.appendChild(this.com.createTextNode(u,this.element)):l?((C=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",C.textContent=$.stringRepeat(I.SPACE_CHAR,l.length),w.appendChild(C)):d?(_+=1,(C=this.dom.createElement("span")).style.width=2*I.config.characterWidth+"px",C.className=I.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",C.textContent=I.showSpaces?I.SPACE_CHAR:d,w.appendChild(C)):g&&(_+=1,(C=this.dom.createElement("span")).style.width=2*I.config.characterWidth+"px",C.className="ace_cjk",C.textContent=g,w.appendChild(C))}}if(w.appendChild(this.dom.createTextNode(y?D.slice(y):D,this.element)),this.$textToken[m.type])A.appendChild(w);else{var S="ace_"+m.type.replace(/\./g," ace_"),C=this.dom.createElement("span");"fold"==m.type&&(C.style.width=m.value.length*this.config.characterWidth+"px",C.setAttribute("title",E("Unfold code"))),C.className=S,C.appendChild(w),A.appendChild(C)}return _+D.length},x.prototype.renderIndentGuide=function(A,_,m){var D=_.search(this.$indentGuideRe);if(D<=0||D>=m)return _;if(" "==_[0]){for(var I=(D-=D%this.tabSize)/this.tabSize,T=0;T<I;T++)A.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),_.substr(D)}if("\t"==_[0]){for(T=0;T<D;T++)A.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),_.substr(D)}return this.$highlightIndentGuide(),_},x.prototype.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var A=this.session.doc.$lines;if(A){var _=this.session.selection.getCursor(),m=/^\s*/.exec(this.session.doc.getLine(_.row))[0].length,D=Math.floor(m/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:D,start:_.row},this.session.$bracketHighlight)for(var T=this.session.$bracketHighlight.ranges,w=0;w<T.length;w++)if(_.row!==T[w].start.row){this.$highlightIndentGuideMarker.end=T[w].start.row,this.$highlightIndentGuideMarker.dir=_.row>T[w].start.row?-1:1;break}if(!this.$highlightIndentGuideMarker.end&&""!==A[_.row]&&_.column===A[_.row].length)for(this.$highlightIndentGuideMarker.dir=1,w=_.row+1;w<A.length;w++){var p=A[w],y=/^\s*/.exec(p)[0].length;if(""!==p&&(this.$highlightIndentGuideMarker.end=w,y<=m))break}this.$renderHighlightIndentGuide()}}},x.prototype.$clearActiveIndentGuide=function(){for(var A=this.$lines.cells,_=0;_<A.length;_++){var D=A[_].element.childNodes;if(D.length>0)for(var I=0;I<D.length;I++)if(D[I].classList&&D[I].classList.contains("ace_indent-guide-active")){D[I].classList.remove("ace_indent-guide-active");break}}},x.prototype.$setIndentGuideActive=function(A,_){if(""!==this.session.doc.getLine(A.row)){var D=A.element.childNodes;if(D){var I=D[_-1];I&&I.classList&&I.classList.contains("ace_indent-guide")&&I.classList.add("ace_indent-guide-active")}}},x.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var A=this.$lines.cells;this.$clearActiveIndentGuide();var _=this.$highlightIndentGuideMarker.indentLevel;if(0!==_)if(1===this.$highlightIndentGuideMarker.dir)for(var m=0;m<A.length;m++){var D=A[m];if(this.$highlightIndentGuideMarker.end&&D.row>=this.$highlightIndentGuideMarker.start+1){if(D.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(D,_)}}else for(m=A.length-1;m>=0;m--)if(D=A[m],this.$highlightIndentGuideMarker.end&&D.row<this.$highlightIndentGuideMarker.start){if(D.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(D,_)}}},x.prototype.$createLineElement=function(A){var _=this.dom.createElement("div");return _.className="ace_line",_.style.height=this.config.lineHeight+"px",_},x.prototype.$renderWrappedLine=function(A,_,m){var D=0,I=0,T=m[0],w=0,p=this.$createLineElement();A.appendChild(p);for(var y=0;y<_.length;y++){var h=_[y],u=h.value;if(0==y&&this.displayIndentGuides){if(D=u.length,!(u=this.renderIndentGuide(p,u,T)))continue;D-=u.length}if(D+u.length<T)w=this.$renderToken(p,w,h,u),D+=u.length;else{for(;D+u.length>=T;)w=this.$renderToken(p,w,h,u.substring(0,T-D)),u=u.substring(T-D),D=T,p=this.$createLineElement(),A.appendChild(p),p.appendChild(this.dom.createTextNode($.stringRepeat("\xa0",m.indent),this.element)),w=0,T=m[++I]||Number.MAX_VALUE;0!=u.length&&(D+=u.length,w=this.$renderToken(p,w,h,u))}}m[m.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(p,w,null,"",!0)},x.prototype.$renderSimpleLine=function(A,_){for(var m=0,D=0;D<_.length;D++){var I=_[D],T=I.value;if(0!=D||!this.displayIndentGuides||(T=this.renderIndentGuide(A,T))){if(m+T.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(A,m,I,T);m=this.$renderToken(A,m,I,T)}}},x.prototype.$renderOverflowMessage=function(A,_,m,D,I){m&&this.$renderToken(A,_,m,D.slice(0,this.MAX_LINE_LENGTH-_));var T=this.dom.createElement("span");T.className="ace_inline_button ace_keyword ace_toggle_wrap",T.textContent=I?"<hide>":"<click to see more...>",A.appendChild(T)},x.prototype.$renderLine=function(A,_,m){if(!m&&0!=m&&(m=this.session.getFoldLine(_)),m)var D=this.$getFoldLineTokens(_,m);else D=this.session.getTokens(_);var I=A;if(D.length){var T=this.session.getRowSplitData(_);T&&T.length?(this.$renderWrappedLine(A,D,T),I=A.lastChild):(I=A,this.$useLineGroups()&&(I=this.$createLineElement(),A.appendChild(I)),this.$renderSimpleLine(I,D))}else this.$useLineGroups()&&(I=this.$createLineElement(),A.appendChild(I));if(this.showEOL&&I){m&&(_=m.end.row);var w=this.dom.createElement("span");w.className="ace_invisible ace_invisible_eol",w.textContent=_==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,I.appendChild(w)}},x.prototype.$getFoldLineTokens=function(A,_){var m=this.session,D=[],T=m.getTokens(A);return _.walk(function(w,p,y,h,u){null!=w?D.push({type:"fold",value:w}):(u&&(T=m.getTokens(p)),T.length&&function I(w,p,y){for(var h=0,u=0;u+w[h].value.length<p;)if(u+=w[h].value.length,++h==w.length)return;for(u!=p&&((l=w[h].value.substring(p-u)).length>y-p&&(l=l.substring(0,y-p)),D.push({type:w[h].type,value:l}),u=p+l.length,h+=1);u<y&&h<w.length;){var l;D.push((l=w[h].value).length+u>y?{type:w[h].type,value:l.substring(0,y-u)}:w[h]),u+=l.length,h+=1}}(T,h,y))},_.end.row,this.session.getLine(_.end.row).length),D},x.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},x}();R.prototype.$textToken={text:!0,rparen:!0,lparen:!0},R.prototype.EOF_CHAR="\xb6",R.prototype.EOL_CHAR_LF="\xac",R.prototype.EOL_CHAR_CRLF="\xa4",R.prototype.EOL_CHAR=R.prototype.EOL_CHAR_LF,R.prototype.TAB_CHAR="\u2014",R.prototype.SPACE_CHAR="\xb7",R.prototype.$padding=0,R.prototype.MAX_LINE_LENGTH=1e4,R.prototype.showInvisibles=!1,R.prototype.showSpaces=!1,R.prototype.showTabs=!1,R.prototype.showEOL=!1,R.prototype.displayIndentGuides=!0,R.prototype.$highlightIndentGuides=!0,R.prototype.$tabStrings=[],R.prototype.destroy={},R.prototype.onChangeTabSize=R.prototype.$computeTabString,X.implement(R.prototype,P),Z.Text=R}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(ae,Z,V){"use strict";var X=ae("../lib/dom"),ee=function(){function $(k){this.element=X.createElement("div"),this.element.className="ace_layer ace_cursor-layer",k.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),X.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return $.prototype.$updateOpacity=function(k){for(var P=this.cursors,E=P.length;E--;)X.setStyle(P[E].style,"opacity",k?"":"0")},$.prototype.$startCssAnimation=function(){for(var k=this.cursors,P=k.length;P--;)k[P].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&X.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},$.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,X.removeCssClass(this.element,"ace_animate-blinking")},$.prototype.setPadding=function(k){this.$padding=k},$.prototype.setSession=function(k){this.session=k},$.prototype.setBlinking=function(k){k!=this.isBlinking&&(this.isBlinking=k,this.restartTimer())},$.prototype.setBlinkInterval=function(k){k!=this.blinkInterval&&(this.blinkInterval=k,this.restartTimer())},$.prototype.setSmoothBlinking=function(k){k!=this.smoothBlinking&&(this.smoothBlinking=k,X.setCssClass(this.element,"ace_smooth-blinking",k),this.$updateCursors(!0),this.restartTimer())},$.prototype.addCursor=function(){var k=X.createElement("div");return k.className="ace_cursor",this.element.appendChild(k),this.cursors.push(k),k},$.prototype.removeCursor=function(){if(this.cursors.length>1){var k=this.cursors.pop();return k.parentNode.removeChild(k),k}},$.prototype.hideCursor=function(){this.isVisible=!1,X.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},$.prototype.showCursor=function(){this.isVisible=!0,X.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},$.prototype.restartTimer=function(){var k=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,X.removeCssClass(this.element,"ace_smooth-blinking")),k(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&X.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),X.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var P=function(){this.timeoutId=setTimeout(function(){k(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){k(!0),P()},this.blinkInterval),P()}else this.$stopCssAnimation()},$.prototype.getPixelPosition=function(k,P){if(!this.config||!this.session)return{left:0,top:0};k||(k=this.session.selection.getCursor());var E=this.session.documentToScreenPosition(k);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(E.row,k.row)?this.session.$bidiHandler.getPosLeft(E.column):E.column*this.config.characterWidth),top:(E.row-(P?this.config.firstRowScreen:0))*this.config.lineHeight}},$.prototype.isCursorInView=function(k,P){return k.top>=0&&k.top<P.maxHeight},$.prototype.update=function(k){this.config=k;var P=this.session.$selectionMarkers,E=0,R=0;(void 0===P||0===P.length)&&(P=[{cursor:null}]),E=0;for(var x=P.length;E<x;E++){var A=this.getPixelPosition(P[E].cursor,!0);if(!((A.top>k.height+k.offset||A.top<0)&&E>1)){var _=this.cursors[R++]||this.addCursor(),m=_.style;this.drawCursor?this.drawCursor(_,A,k,P[E],this.session):this.isCursorInView(A,k)?(X.setStyle(m,"display","block"),X.translate(_,A.left,A.top),X.setStyle(m,"width",Math.round(k.characterWidth)+"px"),X.setStyle(m,"height",k.lineHeight+"px")):X.setStyle(m,"display","none")}}for(;this.cursors.length>R;)this.removeCursor();var D=this.session.getOverwrite();this.$setOverwrite(D),this.$pixelPos=A,this.restartTimer()},$.prototype.$setOverwrite=function(k){k!=this.overwrite&&(this.overwrite=k,k?X.addCssClass(this.element,"ace_overwrite-cursors"):X.removeCssClass(this.element,"ace_overwrite-cursors"))},$.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},$}();ee.prototype.$padding=0,ee.prototype.drawCursor=null,Z.Cursor=ee}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(ae,Z,V){"use strict";var _,X=this&&this.__extends||(_=function(m,D){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,T){I.__proto__=T}||function(I,T){for(var w in T)Object.prototype.hasOwnProperty.call(T,w)&&(I[w]=T[w])})(m,D)},function(m,D){if("function"!=typeof D&&null!==D)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function I(){this.constructor=m}_(m,D),m.prototype=null===D?Object.create(D):(I.prototype=D.prototype,new I)}),ee=ae("./lib/oop"),$=ae("./lib/dom"),k=ae("./lib/event"),P=ae("./lib/event_emitter").EventEmitter,E=32768,R=function(){function _(m,D){this.element=$.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+D,this.inner=$.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xa0",this.element.appendChild(this.inner),m.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,k.addListener(this.element,"scroll",this.onScroll.bind(this)),k.addListener(this.element,"mousedown",k.preventDefault)}return _.prototype.setVisible=function(m){this.element.style.display=m?"":"none",this.isVisible=m,this.coeff=1},_}();ee.implement(R.prototype,P);var x=function(_){function m(D,I){var T=_.call(this,D,"-v")||this;return T.scrollTop=0,T.scrollHeight=0,I.$scrollbarWidth=T.width=$.scrollbarWidth(D.ownerDocument),T.inner.style.width=T.element.style.width=(T.width||15)+5+"px",T.$minWidth=0,T}return X(m,_),m.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var D=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-D)/(this.coeff-D)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},m.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},m.prototype.setHeight=function(D){this.element.style.height=D+"px"},m.prototype.setScrollHeight=function(D){this.scrollHeight=D,D>E?(this.coeff=E/D,D=E):1!=this.coeff&&(this.coeff=1),this.inner.style.height=D+"px"},m.prototype.setScrollTop=function(D){this.scrollTop!=D&&(this.skipEvent=!0,this.scrollTop=D,this.element.scrollTop=D*this.coeff)},m}(R);x.prototype.setInnerHeight=x.prototype.setScrollHeight;var A=function(_){function m(D,I){var T=_.call(this,D,"-h")||this;return T.scrollLeft=0,T.height=I.$scrollbarWidth,T.inner.style.height=T.element.style.height=(T.height||15)+5+"px",T}return X(m,_),m.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},m.prototype.getHeight=function(){return this.isVisible?this.height:0},m.prototype.setWidth=function(D){this.element.style.width=D+"px"},m.prototype.setInnerWidth=function(D){this.inner.style.width=D+"px"},m.prototype.setScrollWidth=function(D){this.inner.style.width=D+"px"},m.prototype.setScrollLeft=function(D){this.scrollLeft!=D&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=D)},m}(R);Z.ScrollBar=x,Z.ScrollBarV=x,Z.ScrollBarH=A,Z.VScrollBar=x,Z.HScrollBar=A}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(ae,Z,V){"use strict";var A,X=this&&this.__extends||(A=function(_,m){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,I){D.__proto__=I}||function(D,I){for(var T in I)Object.prototype.hasOwnProperty.call(I,T)&&(D[T]=I[T])})(_,m)},function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function D(){this.constructor=_}A(_,m),_.prototype=null===m?Object.create(m):(D.prototype=m.prototype,new D)}),ee=ae("./lib/oop"),$=ae("./lib/dom"),k=ae("./lib/event"),P=ae("./lib/event_emitter").EventEmitter;$.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);var E=function(){function A(_,m){this.element=$.createElement("div"),this.element.className="ace_sb"+m,this.inner=$.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,_.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,k.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return A.prototype.setVisible=function(_){this.element.style.display=_?"":"none",this.isVisible=_,this.coeff=1},A}();ee.implement(E.prototype,P);var R=function(A){function _(m,D){var I=A.call(this,m,"-v")||this;return I.scrollTop=0,I.scrollHeight=0,I.parent=m,I.width=I.VScrollWidth,I.renderer=D,I.inner.style.width=I.element.style.width=(I.width||15)+"px",I.$minWidth=0,I}return X(_,A),_.prototype.onMouseDown=function(m,D){if("mousedown"===m&&0===k.getButton(D)&&2!==D.detail){if(D.target===this.inner){var I=this,T=D.clientY,y=D.clientY,h=this.thumbTop;k.capture(this.inner,function(g){T=g.clientY},function(){clearInterval(l)});var l=setInterval(function(){if(void 0!==T){var g=I.scrollTopFromThumbTop(h+T-y);g!==I.scrollTop&&I._emit("scroll",{data:g})}},20);return k.preventDefault(D)}var d=D.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(d)}),k.preventDefault(D)}},_.prototype.getHeight=function(){return this.height},_.prototype.scrollTopFromThumbTop=function(m){var D=m*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(D>>=0)<0?D=0:D>this.pageHeight-this.viewHeight&&(D=this.pageHeight-this.viewHeight),D},_.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},_.prototype.setHeight=function(m){this.height=Math.max(0,m),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},_.prototype.setScrollHeight=function(m,D){this.pageHeight===m&&!D||(this.pageHeight=m,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},_.prototype.setScrollTop=function(m){this.scrollTop=m,m<0&&(m=0),this.thumbTop=m*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},_}(E);R.prototype.setInnerHeight=R.prototype.setScrollHeight;var x=function(A){function _(m,D){var I=A.call(this,m,"-h")||this;return I.scrollLeft=0,I.scrollWidth=0,I.height=I.HScrollHeight,I.inner.style.height=I.element.style.height=(I.height||12)+"px",I.renderer=D,I}return X(_,A),_.prototype.onMouseDown=function(m,D){if("mousedown"===m&&0===k.getButton(D)&&2!==D.detail){if(D.target===this.inner){var I=this,T=D.clientX,y=D.clientX,h=this.thumbLeft;k.capture(this.inner,function(g){T=g.clientX},function(){clearInterval(l)});var l=setInterval(function(){if(void 0!==T){var g=I.scrollLeftFromThumbLeft(h+T-y);g!==I.scrollLeft&&I._emit("scroll",{data:g})}},20);return k.preventDefault(D)}var d=D.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(d)}),k.preventDefault(D)}},_.prototype.getHeight=function(){return this.isVisible?this.height:0},_.prototype.scrollLeftFromThumbLeft=function(m){var D=m*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(D>>=0)<0?D=0:D>this.pageWidth-this.viewWidth&&(D=this.pageWidth-this.viewWidth),D},_.prototype.setWidth=function(m){this.width=Math.max(0,m),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},_.prototype.setScrollWidth=function(m,D){this.pageWidth===m&&!D||(this.pageWidth=m,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},_.prototype.setScrollLeft=function(m){this.scrollLeft=m,m<0&&(m=0),this.thumbLeft=m*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},_}(E);x.prototype.setInnerWidth=x.prototype.setScrollWidth,Z.ScrollBar=R,Z.ScrollBarV=R,Z.ScrollBarH=x,Z.VScrollBar=R,Z.HScrollBar=x}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(ae,Z,V){"use strict";var X=ae("./lib/event"),ee=function(){function $(k,P){this.onRender=k,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=P||window;var E=this;this._flush=function(R){E.pending=!1;var x=E.changes;if(x&&(X.blockIdle(100),E.changes=0,E.onRender(x)),E.changes){if(E.$recursionLimit--<0)return;E.schedule()}else E.$recursionLimit=2}}return $.prototype.schedule=function(k){this.changes=this.changes|k,this.changes&&!this.pending&&(X.nextFrame(this._flush),this.pending=!0)},$.prototype.clear=function(k){var P=this.changes;return this.changes=0,P},$}();Z.RenderLoop=ee}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(ae,Z,V){var X=ae("../lib/oop"),ee=ae("../lib/dom"),$=ae("../lib/lang"),k=ae("../lib/event"),P=ae("../lib/useragent"),E=ae("../lib/event_emitter").EventEmitter,R=512,x="function"==typeof ResizeObserver,A=200,_=function(){function m(D){this.el=ee.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=ee.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=ee.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),D.appendChild(this.el),this.$measureNode.textContent=$.stringRepeat("X",R),this.$characterSize={width:0,height:0},x?this.$addObserver():this.checkForSizeChanges()}return m.prototype.$setMeasureNodeStyles=function(D,I){D.width=D.height="auto",D.left=D.top="0px",D.visibility="hidden",D.position="absolute",D.whiteSpace="pre",P.isIE<8?D["font-family"]="inherit":D.font="inherit",D.overflow=I?"hidden":"visible"},m.prototype.checkForSizeChanges=function(D){if(void 0===D&&(D=this.$measureSizes()),D&&(this.$characterSize.width!==D.width||this.$characterSize.height!==D.height)){this.$measureNode.style.fontWeight="bold";var I=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=D,this.charSizes=Object.create(null),this.allowBoldFonts=I&&I.width===D.width&&I.height===D.height,this._emit("changeCharacterSize",{data:D})}},m.prototype.$addObserver=function(){var D=this;this.$observer=new window.ResizeObserver(function(I){D.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},m.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var D=this;return this.$pollSizeChangesTimer=k.onIdle(function I(){D.checkForSizeChanges(),k.onIdle(I,500)},500)},m.prototype.setPolling=function(D){D?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},m.prototype.$measureSizes=function(D){var I={height:(D||this.$measureNode).clientHeight,width:(D||this.$measureNode).clientWidth/R};return 0===I.width||0===I.height?null:I},m.prototype.$measureCharWidth=function(D){return this.$main.textContent=$.stringRepeat(D,R),this.$main.getBoundingClientRect().width/R},m.prototype.getCharacterWidth=function(D){var I=this.charSizes[D];return void 0===I&&(I=this.charSizes[D]=this.$measureCharWidth(D)/this.$characterSize.width),I},m.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},m.prototype.$getZoom=function(D){return D&&D.parentElement?(window.getComputedStyle(D).zoom||1)*this.$getZoom(D.parentElement):1},m.prototype.$initTransformMeasureNodes=function(){var D=function(I,T){return["div",{style:"position: absolute;top:"+I+"px;left:"+T+"px;"}]};this.els=ee.buildDom([D(0,0),D(A,0),D(0,A),D(A,A)],this.el)},m.prototype.transformCoordinates=function(D,I){function w(ue,oe,pe){var F=ue[1]*oe[0]-ue[0]*oe[1];return[(-oe[1]*pe[0]+oe[0]*pe[1])/F,(+ue[1]*pe[0]-ue[0]*pe[1])/F]}function p(ue,oe){return[ue[0]-oe[0],ue[1]-oe[1]]}function y(ue,oe){return[ue[0]+oe[0],ue[1]+oe[1]]}function h(ue,oe){return[ue*oe[0],ue*oe[1]]}function u(ue){var oe=ue.getBoundingClientRect();return[oe.left,oe.top]}D&&(D=h(1/this.$getZoom(this.el),D)),this.els||this.$initTransformMeasureNodes();var l=u(this.els[0]),d=u(this.els[1]),g=u(this.els[2]),f=u(this.els[3]),v=w(p(f,d),p(f,g),p(y(d,g),y(f,l))),C=h(1+v[0],p(d,l)),S=h(1+v[1],p(g,l));if(I){var O=I,N=v[0]*O[0]/A+v[1]*O[1]/A+1,z=y(h(O[0],C),h(O[1],S));return y(h(1/N/A,z),l)}var K=p(D,l),Q=w(p(C,h(v[0],K)),p(S,h(v[1],K)),K);return h(A,Q)},m}();_.prototype.$characterSize={width:0,height:0},X.implement(_.prototype,E),Z.FontMetrics=_}),ace.define("ace/css/editor.css",["require","exports","module"],function(ae,Z,V){V.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'Source Code Pro\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_keyboard-focus:focus {\n    box-shadow: inset 0 0 0 2px #5E9ED6;\n    outline: none;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\n    margin-left: -14px;\n    float: left;\n}\n\n.ace_gutter-cell .ace_gutter_annotation {\n    margin-left: -19px;\n    float: left;\n}\n\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info, .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_icon_svg.ace_error {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: darkorange;\n}\n.ace_icon_svg.ace_info {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: royalblue;\n}\n\n.ace_icon_svg.ace_error_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");\n    background-color: darkorange;\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #f5f5f5;\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n}\n\n.ace_tooltip.ace_dark {\n    background-color: #636363;\n    color: #fff;\n}\n\n.ace_tooltip:focus {\n    outline: 1px solid #5E9ED6;\n}\n\n.ace_icon {\n    display: inline-block;\n    width: 18px;\n    vertical-align: top;\n}\n\n.ace_icon_svg {\n    display: inline-block;\n    width: 12px;\n    vertical-align: top;\n    -webkit-mask-repeat: no-repeat;\n    -webkit-mask-size: 12px;\n    -webkit-mask-position: center;\n}\n\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n    white-space: pre;\n}'}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(ae,Z,V){"use strict";var X=ae("../lib/dom"),ee=ae("../lib/oop"),$=ae("../lib/event_emitter").EventEmitter,k=function(){function P(E,R){this.canvas=X.createElement("canvas"),this.renderer=R,this.pixelRatio=1,this.maxHeight=R.layerConfig.maxHeight,this.lineHeight=R.layerConfig.lineHeight,this.canvasHeight=E.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=E.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},E.element.appendChild(this.canvas)}return P.prototype.$updateDecorators=function(E){var R=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;E&&(this.maxHeight=E.maxHeight,this.lineHeight=E.lineHeight,this.canvasHeight=E.height,this.heightRatio=(E.lastRow+1)*this.lineHeight<this.canvasHeight?1:this.canvasHeight/this.maxHeight);var A=this.canvas.getContext("2d"),m=this.renderer.session.$annotations;if(A.clearRect(0,0,this.canvas.width,this.canvas.height),m){var D={info:1,warning:2,error:3};m.forEach(function(f){f.priority=D[f.type]||null}),m=m.sort(function _(f,v){return f.priority<v.priority?-1:f.priority>v.priority?1:0});for(var I=this.renderer.session.$foldData,T=0;T<m.length;T++){var w=m[T].row,p=this.compensateFoldRows(w,I),y=Math.round((w-p)*this.lineHeight*this.heightRatio),h=Math.round((w-p)*this.lineHeight*this.heightRatio),u=Math.round(((w-p)*this.lineHeight+this.lineHeight)*this.heightRatio);if(u-h<this.minDecorationHeight){var d=(h+u)/2|0;d<this.halfMinDecorationHeight?d=this.halfMinDecorationHeight:d+this.halfMinDecorationHeight>this.canvasHeight&&(d=this.canvasHeight-this.halfMinDecorationHeight),h=Math.round(d-this.halfMinDecorationHeight),u=Math.round(d+this.halfMinDecorationHeight)}A.fillStyle=R[m[T].type]||null,A.fillRect(0,y,this.canvasWidth,u-h)}}var g=this.renderer.session.selection.getCursor();g&&(p=this.compensateFoldRows(g.row,I),y=Math.round((g.row-p)*this.lineHeight*this.heightRatio),A.fillStyle="rgba(0, 0, 0, 0.5)",A.fillRect(0,y,this.canvasWidth,2))},P.prototype.compensateFoldRows=function(E,R){var x=0;if(R&&R.length>0)for(var A=0;A<R.length;A++)E>R[A].start.row&&E<R[A].end.row?x+=E-R[A].start.row:E>=R[A].end.row&&(x+=R[A].end.row-R[A].start.row);return x},P}();ee.implement(k.prototype,$),Z.Decorator=k}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor.css","ace/layer/decorators","ace/lib/useragent"],function(ae,Z,V){"use strict";var X=ae("./lib/oop"),ee=ae("./lib/dom"),$=ae("./lib/lang"),k=ae("./config"),P=ae("./layer/gutter").Gutter,E=ae("./layer/marker").Marker,R=ae("./layer/text").Text,x=ae("./layer/cursor").Cursor,A=ae("./scrollbar").HScrollBar,_=ae("./scrollbar").VScrollBar,m=ae("./scrollbar_custom").HScrollBar,D=ae("./scrollbar_custom").VScrollBar,I=ae("./renderloop").RenderLoop,T=ae("./layer/font_metrics").FontMetrics,w=ae("./lib/event_emitter").EventEmitter,p=ae("./css/editor.css"),y=ae("./layer/decorators").Decorator,h=ae("./lib/useragent");ee.importCssString(p,"ace_editor.css",!1);var u=function(){function l(d,g){var f=this;this.container=d||ee.createElement("div"),ee.addCssClass(this.container,"ace_editor"),ee.HI_DPI&&ee.addCssClass(this.container,"ace_hidpi"),this.setTheme(g),null==k.get("useStrictCSP")&&k.set("useStrictCSP",!1),this.$gutter=ee.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=ee.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=ee.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new P(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new E(this.content);var v=this.$textLayer=new R(this.content);this.canvas=v.element,this.$markerFront=new E(this.content),this.$cursorLayer=new x(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new _(this.container,this),this.scrollBarH=new A(this.container,this),this.scrollBarV.on("scroll",function(C){f.$scrollAnimation||f.session.setScrollTop(C.data-f.scrollMargin.top)}),this.scrollBarH.on("scroll",function(C){f.$scrollAnimation||f.session.setScrollLeft(C.data-f.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new T(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(C){f.updateCharacterSize(),f.onResize(!0,f.gutterWidth,f.$size.width,f.$size.height),f._signal("changeCharacterSize",C)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!h.isIOS,this.$loop=new I(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),k.resetOptions(this),k._signal("renderer",this)}return l.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),ee.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},l.prototype.setSession=function(d){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=d,d&&this.scrollMargin.top&&d.getScrollTop()<=0&&d.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(d),this.$markerBack.setSession(d),this.$markerFront.setSession(d),this.$gutterLayer.setSession(d),this.$textLayer.setSession(d),d&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},l.prototype.updateLines=function(d,g,f){if(void 0===g&&(g=1/0),this.$changedLines?(this.$changedLines.firstRow>d&&(this.$changedLines.firstRow=d),this.$changedLines.lastRow<g&&(this.$changedLines.lastRow=g)):this.$changedLines={firstRow:d,lastRow:g},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!f)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},l.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},l.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},l.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},l.prototype.updateFull=function(d){d?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},l.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},l.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},l.prototype.onResize=function(d,g,f,v){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=d?1:0;var C=this.container;v||(v=C.clientHeight||C.scrollHeight),f||(f=C.clientWidth||C.scrollWidth);var S=this.$updateCachedSize(d,g,f,v);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!f&&!v)return this.resizing=0;d&&(this.$gutterLayer.$padding=null),d?this.$renderChanges(S|this.$changes,!0):this.$loop.schedule(S|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},l.prototype.$updateCachedSize=function(d,g,f,v){var C=0,S=this.$size,O={width:S.width,height:S.height,scrollerHeight:S.scrollerHeight,scrollerWidth:S.scrollerWidth};if((v-=this.$extraHeight||0)&&(d||S.height!=v)&&(S.height=v,C|=this.CHANGE_SIZE,S.scrollerHeight=S.height,this.$horizScroll&&(S.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(S.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",C|=this.CHANGE_SCROLL),f&&(d||S.width!=f)){C|=this.CHANGE_SIZE,S.width=f,null==g&&(g=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=g,ee.setStyle(this.scrollBarH.element.style,"left",g+"px"),ee.setStyle(this.scroller.style,"left",g+this.margin.left+"px"),S.scrollerWidth=Math.max(0,f-g-this.scrollBarV.getWidth()-this.margin.h),ee.setStyle(this.$gutter.style,"left",this.margin.left+"px");var N=this.scrollBarV.getWidth()+"px";ee.setStyle(this.scrollBarH.element.style,"right",N),ee.setStyle(this.scroller.style,"right",N),ee.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(S.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||d)&&(C|=this.CHANGE_FULL)}return S.$dirty=!f||!v,C&&this._signal("resize",O),C},l.prototype.onGutterResize=function(d){var g=this.$showGutter?d:0;g!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,g,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},l.prototype.adjustWrapLimit=function(){var g=Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth);return this.session.adjustWrapLimit(g,this.$showPrintMargin&&this.$printMarginColumn)},l.prototype.setAnimatedScroll=function(d){this.setOption("animatedScroll",d)},l.prototype.getAnimatedScroll=function(){return this.$animatedScroll},l.prototype.setShowInvisibles=function(d){this.setOption("showInvisibles",d),this.session.$bidiHandler.setShowInvisibles(d)},l.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},l.prototype.getDisplayIndentGuide=function(){return this.getOption("displayIndentGuides")},l.prototype.setDisplayIndentGuides=function(d){this.setOption("displayIndentGuides",d)},l.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},l.prototype.setHighlightIndentGuides=function(d){this.setOption("highlightIndentGuides",d)},l.prototype.setShowPrintMargin=function(d){this.setOption("showPrintMargin",d)},l.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},l.prototype.setPrintMarginColumn=function(d){this.setOption("printMarginColumn",d)},l.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},l.prototype.getShowGutter=function(){return this.getOption("showGutter")},l.prototype.setShowGutter=function(d){return this.setOption("showGutter",d)},l.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},l.prototype.setFadeFoldWidgets=function(d){this.setOption("fadeFoldWidgets",d)},l.prototype.setHighlightGutterLine=function(d){this.setOption("highlightGutterLine",d)},l.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},l.prototype.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var d=ee.createElement("div");d.className="ace_layer ace_print-margin-layer",this.$printMarginEl=ee.createElement("div"),this.$printMarginEl.className="ace_print-margin",d.appendChild(this.$printMarginEl),this.content.insertBefore(d,this.content.firstChild)}var g=this.$printMarginEl.style;g.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",g.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},l.prototype.getContainerElement=function(){return this.container},l.prototype.getMouseEventTarget=function(){return this.scroller},l.prototype.getTextAreaContainer=function(){return this.container},l.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var d=this.textarea.style,g=this.$composition;if(!this.$keepTextAreaAtCursor&&!g)return void ee.translate(this.textarea,-100,0);var f=this.$cursorLayer.$pixelPos;if(f){g&&g.markerRange&&(f=this.$cursorLayer.getPixelPosition(g.markerRange.start,!0));var v=this.layerConfig,C=f.top,S=f.left,O=g&&g.useTextareaForIME||h.isMobile?this.lineHeight:1;if((C-=v.offset)<0||C>v.height-O)return void ee.translate(this.textarea,0,0);var N=1,z=this.$size.height-O;g?g.useTextareaForIME?N=this.characterWidth*this.session.$getStringScreenWidth(this.textarea.value)[0]:C+=this.lineHeight+2:C+=this.lineHeight,(S-=this.scrollLeft)>this.$size.scrollerWidth-N&&(S=this.$size.scrollerWidth-N),S+=this.gutterWidth+this.margin.left,ee.setStyle(d,"height",O+"px"),ee.setStyle(d,"width",N+"px"),ee.translate(this.textarea,Math.min(S,this.$size.scrollerWidth-N),Math.min(C,z))}}},l.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},l.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},l.prototype.getLastFullyVisibleRow=function(){var d=this.layerConfig,g=d.lastRow;return this.session.documentToScreenRow(g,0)*d.lineHeight-this.session.getScrollTop()>d.height-d.lineHeight?g-1:g},l.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},l.prototype.setPadding=function(d){this.$padding=d,this.$textLayer.setPadding(d),this.$cursorLayer.setPadding(d),this.$markerFront.setPadding(d),this.$markerBack.setPadding(d),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},l.prototype.setScrollMargin=function(d,g,f,v){var C=this.scrollMargin;C.top=0|d,C.bottom=0|g,C.right=0|v,C.left=0|f,C.v=C.top+C.bottom,C.h=C.left+C.right,C.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-C.top),this.updateFull()},l.prototype.setMargin=function(d,g,f,v){var C=this.margin;C.top=0|d,C.bottom=0|g,C.right=0|v,C.left=0|f,C.v=C.top+C.bottom,C.h=C.left+C.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},l.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},l.prototype.setHScrollBarAlwaysVisible=function(d){this.setOption("hScrollBarAlwaysVisible",d)},l.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},l.prototype.setVScrollBarAlwaysVisible=function(d){this.setOption("vScrollBarAlwaysVisible",d)},l.prototype.$updateScrollBarV=function(){var d=this.layerConfig.maxHeight,g=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(d-=(g-this.lineHeight)*this.$scrollPastEnd)-g&&(d=this.scrollTop+g,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(d+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},l.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},l.prototype.freeze=function(){this.$frozen=!0},l.prototype.unfreeze=function(){this.$frozen=!1},l.prototype.$renderChanges=function(d,g){if(this.$changes&&(d|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(d||g)){if(this.$size.$dirty)return this.$changes|=d,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",d),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var f=this.layerConfig;if(d&this.CHANGE_FULL||d&this.CHANGE_SIZE||d&this.CHANGE_TEXT||d&this.CHANGE_LINES||d&this.CHANGE_SCROLL||d&this.CHANGE_H_SCROLL){if(d|=this.$computeLayerConfig()|this.$loop.clear(),f.firstRow!=this.layerConfig.firstRow&&f.firstRowScreen==this.layerConfig.firstRowScreen){var v=this.scrollTop+(f.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;v>0&&(this.scrollTop=v,d|=this.CHANGE_SCROLL,d|=this.$computeLayerConfig()|this.$loop.clear())}f=this.layerConfig,this.$updateScrollBarV(),d&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),ee.translate(this.content,-this.scrollLeft,-f.offset);var S=f.minHeight+"px";ee.setStyle(this.content.style,"width",f.width+2*this.$padding+"px"),ee.setStyle(this.content.style,"height",S)}return d&this.CHANGE_H_SCROLL&&(ee.translate(this.content,-this.scrollLeft,-f.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),d&this.CHANGE_FULL?(this.$changedLines=null,this.$textLayer.update(f),this.$showGutter&&this.$gutterLayer.update(f),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(f),this.$markerBack.update(f),this.$markerFront.update(f),this.$cursorLayer.update(f),this.$moveTextAreaToCursor(),void this._signal("afterRender",d)):d&this.CHANGE_SCROLL?(this.$changedLines=null,d&this.CHANGE_TEXT||d&this.CHANGE_LINES?this.$textLayer.update(f):this.$textLayer.scrollLines(f),this.$showGutter&&(d&this.CHANGE_GUTTER||d&this.CHANGE_LINES?this.$gutterLayer.update(f):this.$gutterLayer.scrollLines(f)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(f),this.$markerBack.update(f),this.$markerFront.update(f),this.$cursorLayer.update(f),this.$moveTextAreaToCursor(),void this._signal("afterRender",d)):(d&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(f),this.$showGutter&&this.$gutterLayer.update(f),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(f)):d&this.CHANGE_LINES?((this.$updateLines()||d&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(f),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(f)):d&this.CHANGE_TEXT||d&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(f),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(f)):d&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(f),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(f)),d&this.CHANGE_CURSOR&&(this.$cursorLayer.update(f),this.$moveTextAreaToCursor()),d&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(f),d&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(f),void this._signal("afterRender",d))}this.$changes|=d},l.prototype.$autosize=function(){var d=this.session.getScreenLength()*this.lineHeight,g=this.$maxLines*this.lineHeight,f=Math.min(g,Math.max((this.$minLines||1)*this.lineHeight,d))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(f+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&f>this.$maxPixelHeight&&(f=this.$maxPixelHeight);var C=!(f<=2*this.lineHeight)&&d>g;if(f!=this.desiredHeight||this.$size.height!=this.desiredHeight||C!=this.$vScroll){C!=this.$vScroll&&(this.$vScroll=C,this.scrollBarV.setVisible(C));var S=this.container.clientWidth;this.container.style.height=f+"px",this.$updateCachedSize(!0,this.$gutterWidth,S,f),this.desiredHeight=f,this._signal("autosize")}},l.prototype.$computeLayerConfig=function(){var d=this.session,g=this.$size,f=g.height<=2*this.lineHeight,C=this.session.getScreenLength()*this.lineHeight,S=this.$getLongestLine(),O=!f&&(this.$hScrollBarAlwaysVisible||g.scrollerWidth-S-2*this.$padding<0),N=this.$horizScroll!==O;N&&(this.$horizScroll=O,this.scrollBarH.setVisible(O));var z=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var K=g.scrollerHeight+this.lineHeight,Q=!this.$maxLines&&this.$scrollPastEnd?(g.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;C+=Q;var ue=this.scrollMargin;this.session.setScrollTop(Math.max(-ue.top,Math.min(this.scrollTop,C-g.scrollerHeight+ue.bottom))),this.session.setScrollLeft(Math.max(-ue.left,Math.min(this.scrollLeft,S+2*this.$padding-g.scrollerWidth+ue.right)));var oe=!f&&(this.$vScrollBarAlwaysVisible||g.scrollerHeight-C+Q<0||this.scrollTop>ue.top),pe=z!==oe;pe&&(this.$vScroll=oe,this.scrollBarV.setVisible(oe));var ne,fe,F=this.scrollTop%this.lineHeight,U=Math.ceil(K/this.lineHeight)-1,Y=Math.max(0,Math.round((this.scrollTop-F)/this.lineHeight)),W=Y+U,he=this.lineHeight;Y=d.screenToDocumentRow(Y,0);var Ae=d.getFoldLine(Y);Ae&&(Y=Ae.start.row),ne=d.documentToScreenRow(Y,0),fe=d.getRowLength(Y)*he,W=Math.min(d.screenToDocumentRow(W,0),d.getLength()-1),K=g.scrollerHeight+d.getRowLength(W)*he+fe,F=this.scrollTop-ne*he;var ke=0;return(this.layerConfig.width!=S||N)&&(ke=this.CHANGE_H_SCROLL),(N||pe)&&(ke|=this.$updateCachedSize(!0,this.gutterWidth,g.width,g.height),this._signal("scrollbarVisibilityChanged"),pe&&(S=this.$getLongestLine())),this.layerConfig={width:S,padding:this.$padding,firstRow:Y,firstRowScreen:ne,lastRow:W,lineHeight:he,characterWidth:this.characterWidth,minHeight:K,maxHeight:C,offset:F,gutterOffset:he?Math.max(0,Math.ceil((F+g.height-g.scrollerHeight)/he)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(S-this.$padding),ke},l.prototype.$updateLines=function(){if(this.$changedLines){var d=this.$changedLines.firstRow,g=this.$changedLines.lastRow;this.$changedLines=null;var f=this.layerConfig;if(!(d>f.lastRow+1||g<f.firstRow))return g===1/0?(this.$showGutter&&this.$gutterLayer.update(f),void this.$textLayer.update(f)):(this.$textLayer.updateLines(f,d,g),!0)}},l.prototype.$getLongestLine=function(){var d=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(d+=1),this.$textLayer&&d>this.$textLayer.MAX_LINE_LENGTH&&(d=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(d*this.characterWidth))},l.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},l.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},l.prototype.addGutterDecoration=function(d,g){this.$gutterLayer.addGutterDecoration(d,g)},l.prototype.removeGutterDecoration=function(d,g){this.$gutterLayer.removeGutterDecoration(d,g)},l.prototype.updateBreakpoints=function(d){this.$loop.schedule(this.CHANGE_GUTTER)},l.prototype.setAnnotations=function(d){this.$gutterLayer.setAnnotations(d),this.$loop.schedule(this.CHANGE_GUTTER)},l.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},l.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},l.prototype.showCursor=function(){this.$cursorLayer.showCursor()},l.prototype.scrollSelectionIntoView=function(d,g,f){this.scrollCursorIntoView(d,f),this.scrollCursorIntoView(g,f)},l.prototype.scrollCursorIntoView=function(d,g,f){if(0!==this.$size.scrollerHeight){var v=this.$cursorLayer.getPixelPosition(d),C=v.left,S=v.top,O=f&&f.top||0,N=f&&f.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var z=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;z+O>S?(g&&z+O>S+this.lineHeight&&(S-=g*this.$size.scrollerHeight),0===S&&(S=-this.scrollMargin.top),this.session.setScrollTop(S)):z+this.$size.scrollerHeight-N<S+this.lineHeight&&(g&&z+this.$size.scrollerHeight-N<S-this.lineHeight&&(S+=g*this.$size.scrollerHeight),this.session.setScrollTop(S+this.lineHeight+N-this.$size.scrollerHeight));var K=this.scrollLeft,Q=2*this.layerConfig.characterWidth;C-Q<K?((C-=Q)<this.$padding+Q&&(C=-this.scrollMargin.left),this.session.setScrollLeft(C)):K+this.$size.scrollerWidth<(C+=Q)+this.characterWidth?this.session.setScrollLeft(Math.round(C+this.characterWidth-this.$size.scrollerWidth)):K<=this.$padding&&C-K<this.characterWidth&&this.session.setScrollLeft(0)}},l.prototype.getScrollTop=function(){return this.session.getScrollTop()},l.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},l.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},l.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},l.prototype.scrollToRow=function(d){this.session.setScrollTop(d*this.lineHeight)},l.prototype.alignCursor=function(d,g){"number"==typeof d&&(d={row:d,column:0});var C=this.$cursorLayer.getPixelPosition(d).top-(this.$size.scrollerHeight-this.lineHeight)*(g||0);return this.session.setScrollTop(C),C},l.prototype.$calcSteps=function(d,g){var N,f=0,v=this.STEPS,C=[];for(f=0;f<v;++f)C.push((N=d,(g-d)*(Math.pow(f/this.STEPS-1,3)+1)+N));return C},l.prototype.scrollToLine=function(d,g,f,v){var S=this.$cursorLayer.getPixelPosition({row:d,column:0}).top;g&&(S-=this.$size.scrollerHeight/2);var O=this.scrollTop;this.session.setScrollTop(S),!1!==f&&this.animateScrolling(O,v)},l.prototype.animateScrolling=function(d,g){var f=this.scrollTop;if(this.$animatedScroll){var v=this;if(d!=f){if(this.$scrollAnimation){var C=this.$scrollAnimation.steps;if(C.length&&(d=C[0])==f)return}var S=v.$calcSteps(d,f);this.$scrollAnimation={from:d,to:f,steps:S},clearInterval(this.$timer),v.session.setScrollTop(S.shift()),v.session.$scrollTop=f,this.$timer=setInterval(function(){if(!v.$stopAnimation)return v.session?void(S.length?(v.session.setScrollTop(S.shift()),v.session.$scrollTop=f):null!=f?(v.session.$scrollTop=-1,v.session.setScrollTop(f),f=null):O()):clearInterval(v.$timer);O()},10)}}function O(){v.$timer=clearInterval(v.$timer),v.$scrollAnimation=null,v.$stopAnimation=!1,g&&g()}},l.prototype.scrollToY=function(d){this.scrollTop!==d&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=d)},l.prototype.scrollToX=function(d){this.scrollLeft!==d&&(this.scrollLeft=d),this.$loop.schedule(this.CHANGE_H_SCROLL)},l.prototype.scrollTo=function(d,g){this.session.setScrollTop(g),this.session.setScrollLeft(d)},l.prototype.scrollBy=function(d,g){g&&this.session.setScrollTop(this.session.getScrollTop()+g),d&&this.session.setScrollLeft(this.session.getScrollLeft()+d)},l.prototype.isScrollableBy=function(d,g){if(g<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||g>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||d<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||d>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},l.prototype.pixelToScreenCoordinates=function(d,g){var f;if(this.$hasCssTransforms){f={top:0,left:0};var v=this.$fontMetrics.transformCoordinates([d,g]);d=v[1]-this.gutterWidth-this.margin.left,g=v[0]}else f=this.scroller.getBoundingClientRect();var C=d+this.scrollLeft-f.left-this.$padding,S=C/this.characterWidth,O=Math.floor((g+this.scrollTop-f.top)/this.lineHeight),N=this.$blockCursor?Math.floor(S):Math.round(S);return{row:O,column:N,side:S-N>0?1:-1,offsetX:C}},l.prototype.screenToTextCoordinates=function(d,g){var f;if(this.$hasCssTransforms){f={top:0,left:0};var v=this.$fontMetrics.transformCoordinates([d,g]);d=v[1]-this.gutterWidth-this.margin.left,g=v[0]}else f=this.scroller.getBoundingClientRect();var C=d+this.scrollLeft-f.left-this.$padding,S=C/this.characterWidth,O=this.$blockCursor?Math.floor(S):Math.round(S),N=Math.floor((g+this.scrollTop-f.top)/this.lineHeight);return this.session.screenToDocumentPosition(N,Math.max(O,0),C)},l.prototype.textToScreenCoordinates=function(d,g){var f=this.scroller.getBoundingClientRect(),v=this.session.documentToScreenPosition(d,g),C=this.$padding+(this.session.$bidiHandler.isBidiRow(v.row,d)?this.session.$bidiHandler.getPosLeft(v.column):Math.round(v.column*this.characterWidth));return{pageX:f.left+C-this.scrollLeft,pageY:f.top+v.row*this.lineHeight-this.scrollTop}},l.prototype.visualizeFocus=function(){ee.addCssClass(this.container,"ace_focus")},l.prototype.visualizeBlur=function(){ee.removeCssClass(this.container,"ace_focus")},l.prototype.showComposition=function(d){this.$composition=d,d.cssText||(d.cssText=this.textarea.style.cssText),null==d.useTextareaForIME&&(d.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(ee.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):d.markerId=this.session.addMarker(d.markerRange,"ace_composition_marker","text")},l.prototype.setCompositionText=function(d){var g=this.session.selection.cursor;this.addToken(d,"composition_placeholder",g.row,g.column),this.$moveTextAreaToCursor()},l.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),ee.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var d=this.session.selection.cursor;this.removeExtraToken(d.row,d.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},l.prototype.setGhostText=function(d,g){var f=this.session.selection.cursor,v=g||{row:f.row,column:f.column};this.removeGhostText();var C=d.split("\n");this.addToken(C[0],"ghost_text",v.row,v.column),this.$ghostText={text:d,position:{row:v.row,column:v.column}},C.length>1&&(this.$ghostTextWidget={text:C.slice(1).join("\n"),row:v.row,column:v.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget))},l.prototype.removeGhostText=function(){if(this.$ghostText){var d=this.$ghostText.position;this.removeExtraToken(d.row,d.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},l.prototype.addToken=function(d,g,f,v){var C=this.session;C.bgTokenizer.lines[f]=null;var S={type:g,value:d},O=C.getTokens(f);if(null!=v&&O.length)for(var N=0,z=0;z<O.length;z++){var K=O[z];if(v<=(N+=K.value.length)){var Q=K.value.length-(N-v),ue=K.value.slice(0,Q),oe=K.value.slice(Q);O.splice(z,1,{type:K.type,value:ue},S,{type:K.type,value:oe});break}}else O.push(S);this.updateLines(f,f)},l.prototype.removeExtraToken=function(d,g){this.session.bgTokenizer.lines[d]=null,this.updateLines(d,d)},l.prototype.setTheme=function(d,g){var f=this;function C(S){if(f.$themeId!=d)return g&&g();if(!S||!S.cssClass)throw new Error("couldn't load module "+d+" or it didn't call define");S.$id&&(f.$themeId=S.$id),ee.importCssString(S.cssText,S.cssClass,f.container),f.theme&&ee.removeCssClass(f.container,f.theme.cssClass);var O="padding"in S?S.padding:"padding"in(f.theme||{})?4:f.$padding;f.$padding&&O!=f.$padding&&f.setPadding(O),f.$theme=S.cssClass,f.theme=S,ee.addCssClass(f.container,S.cssClass),ee.setCssClass(f.container,"ace_dark",S.isDark),f.$size&&(f.$size.width=0,f.$updateSizeAsync()),f._dispatchEvent("themeLoaded",{theme:S}),g&&g()}this.$themeId=d,f._dispatchEvent("themeChange",{theme:d}),d&&"string"!=typeof d?C(d):k.loadModule(["theme",d||this.$options.theme.initialValue],C)},l.prototype.getTheme=function(){return this.$themeId},l.prototype.setStyle=function(d,g){ee.setCssClass(this.container,d,!1!==g)},l.prototype.unsetStyle=function(d){ee.removeCssClass(this.container,d)},l.prototype.setCursorStyle=function(d){ee.setStyle(this.scroller.style,"cursor",d)},l.prototype.setMouseCursor=function(d){ee.setStyle(this.scroller.style,"cursor",d)},l.prototype.attachToShadowRoot=function(){ee.importCssString(p,"ace_editor.css",this.container)},l.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},l.prototype.$updateCustomScrollbar=function(d){var g=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===d?(this.scrollBarV=new D(this.container,this),this.scrollBarH=new m(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(f){g.$scrollAnimation||g.session.setScrollTop(f.data-g.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(f){g.$scrollAnimation||g.session.setScrollLeft(f.data-g.scrollMargin.left)}),this.$scrollDecorator=new y(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new _(this.container,this),this.scrollBarH=new A(this.container,this),this.scrollBarV.addEventListener("scroll",function(f){g.$scrollAnimation||g.session.setScrollTop(f.data-g.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(f){g.$scrollAnimation||g.session.setScrollLeft(f.data-g.scrollMargin.left)}))},l.prototype.$addResizeObserver=function(){if(window.ResizeObserver&&!this.$resizeObserver){var d=this;this.$resizeTimer=$.delayedCall(function(){d.destroyed||d.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(g){var v=g[0].contentRect.height;Math.abs(d.$size.width-g[0].contentRect.width)>1||Math.abs(d.$size.height-v)>1?d.$resizeTimer.delay():d.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},l}();u.prototype.CHANGE_CURSOR=1,u.prototype.CHANGE_MARKER=2,u.prototype.CHANGE_GUTTER=4,u.prototype.CHANGE_SCROLL=8,u.prototype.CHANGE_LINES=16,u.prototype.CHANGE_TEXT=32,u.prototype.CHANGE_SIZE=64,u.prototype.CHANGE_MARKER_BACK=128,u.prototype.CHANGE_MARKER_FRONT=256,u.prototype.CHANGE_FULL=512,u.prototype.CHANGE_H_SCROLL=1024,u.prototype.$changes=0,u.prototype.$padding=null,u.prototype.$frozen=!1,u.prototype.STEPS=8,X.implement(u.prototype,w),k.defineOptions(u.prototype,"renderer",{useResizeObserver:{set:function(l){!l&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):l&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(l){this.$textLayer.setShowInvisibles(l)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(l){"number"==typeof l&&(this.$printMarginColumn=l),this.$showPrintMargin=!!l,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(l){this.$gutter.style.display=l?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(l){this.$gutterLayer.$useSvgGutterIcons=l},initialValue:!1},showFoldedAnnotations:{set:function(l){this.$gutterLayer.$showFoldedAnnotations=l},initialValue:!1},fadeFoldWidgets:{set:function(l){ee.setCssClass(this.$gutter,"ace_fade-fold-widgets",l)},initialValue:!1},showFoldWidgets:{set:function(l){this.$gutterLayer.setShowFoldWidgets(l),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(l){this.$textLayer.setDisplayIndentGuides(l)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(l){1==this.$textLayer.setHighlightIndentGuides(l)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(l){this.$gutterLayer.setHighlightGutterLine(l),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(l){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(l){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(l){"number"==typeof l&&(l+="px"),this.container.style.fontSize=l,this.updateFontSize()},initialValue:12},fontFamily:{set:function(l){this.container.style.fontFamily=l,this.updateFontSize()}},maxLines:{set:function(l){this.updateFull()}},minLines:{set:function(l){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(l){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(l){this.$scrollPastEnd!=(l=+l||0)&&(this.$scrollPastEnd=l,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(l){this.$gutterLayer.$fixedWidth=!!l,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(l){this.$updateCustomScrollbar(l)},initialValue:!1},theme:{set:function(l){this.setTheme(l)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!h.isMobile&&!h.isIE}}),Z.VirtualRenderer=u}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(ae,Z,V){"use strict";var X=ae("../lib/oop"),ee=ae("../lib/net"),$=ae("../lib/event_emitter").EventEmitter,k=ae("../config");function E(A){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(k.get("loadWorkerFromBlob")){var _=function P(A){var _="importScripts('"+ee.qualifyURL(A)+"');";try{return new Blob([_],{type:"application/javascript"})}catch(I){var D=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return D.append(_),D.getBlob("application/javascript")}}(A),D=(window.URL||window.webkitURL).createObjectURL(_);return new Worker(D)}return new Worker(A)}var R=function(A){A.postMessage||(A=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=A,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){X.implement(this,$),this.$createWorkerFromOldConfig=function(A,_,m,D,I){if(ae.nameToUrl&&!ae.toUrl&&(ae.toUrl=ae.nameToUrl),k.get("packaged")||!ae.toUrl)D=D||k.moduleUrl(_,"worker");else{var T=this.$normalizePath;D=D||T(ae.toUrl("ace/worker/worker.js",null,"_"));var w={};A.forEach(function(p){w[p]=T(ae.toUrl(p,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=E(D),I&&this.send("importScripts",I),this.$worker.postMessage({init:!0,tlns:w,module:_,classname:m}),this.$worker},this.onMessage=function(A){var _=A.data;switch(_.type){case"event":this._signal(_.name,{data:_.data});break;case"call":var m=this.callbacks[_.id];m&&(m(_.data),delete this.callbacks[_.id]);break;case"error":this.reportError(_.data);break;case"log":window.console&&console.log&&console.log.apply(console,_.data)}},this.reportError=function(A){window.console&&console.error&&console.error(A)},this.$normalizePath=function(A){return ee.qualifyURL(A)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(A,_){this.$worker.postMessage({command:A,args:_})},this.call=function(A,_,m){if(m){var D=this.callbackId++;this.callbacks[D]=m,_.push(D)}this.send(A,_)},this.emit=function(A,_){try{_.data&&_.data.err&&(_.data.err={message:_.data.err.message,stack:_.data.err.stack,code:_.data.err.code}),this.$worker&&this.$worker.postMessage({event:A,data:{data:_.data}})}catch(m){console.error(m.stack)}},this.attachToDocument=function(A){this.$doc&&this.terminate(),this.$doc=A,this.call("setValue",[A.getValue()]),A.on("change",this.changeListener,!0)},this.changeListener=function(A){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(A.start,"insert"==A.action?A.lines:A.end)},this.$sendDeltaQueue=function(){var A=this.deltaQueue;!A||(this.deltaQueue=null,A.length>50&&A.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:A}))}}).call(R.prototype),Z.UIWorkerClient=function(A,_,m){var D=null,I=!1,T=Object.create($),w=[],p=new R({messageBuffer:w,terminate:function(){},postMessage:function(h){w.push(h),D&&(I?setTimeout(y):y())}});p.setEmitSync=function(h){I=h};var y=function(){var h=w.shift();h.command?D[h.command].apply(D,h.args):h.event&&T._signal(h.event,h.data)};return T.postMessage=function(h){p.onMessage({data:h})},T.callback=function(h,u){this.postMessage({type:"call",id:u,data:h})},T.emit=function(h,u){this.postMessage({type:"event",name:h,data:u})},k.loadModule(["worker",_],function(h){for(D=new h[m](T);w.length;)y()}),p},Z.WorkerClient=R,Z.createWorker=E}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(ae,Z,V){"use strict";var X=ae("./range").Range,ee=ae("./lib/event_emitter").EventEmitter,$=ae("./lib/oop"),k=function(){function P(E,R,x,A,_,m){var D=this;this.length=R,this.session=E,this.doc=E.getDocument(),this.mainClass=_,this.othersClass=m,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=A,this.$onCursorChange=function(){setTimeout(function(){D.onCursorChange()})},this.$pos=x;var I=E.getUndoManager().$undoStack||E.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=I.length,this.setup(),E.selection.on("changeCursor",this.$onCursorChange)}return P.prototype.setup=function(){var E=this,R=this.doc,x=this.session;this.selectionBefore=x.selection.toJSON(),x.selection.inMultiSelectMode&&x.selection.toSingleRange(),this.pos=R.createAnchor(this.$pos.row,this.$pos.column);var A=this.pos;A.$insertRight=!0,A.detach(),A.markerId=x.addMarker(new X(A.row,A.column,A.row,A.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(_){var m=R.createAnchor(_.row,_.column);m.$insertRight=!0,m.detach(),E.others.push(m)}),x.setUndoSelect(!1)},P.prototype.showOtherMarkers=function(){if(!this.othersActive){var E=this.session,R=this;this.othersActive=!0,this.others.forEach(function(x){x.markerId=E.addMarker(new X(x.row,x.column,x.row,x.column+R.length),R.othersClass,null,!1)})}},P.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var E=0;E<this.others.length;E++)this.session.removeMarker(this.others[E].markerId)}},P.prototype.onUpdate=function(E){if(this.$updating)return this.updateAnchors(E);var R=E;if(R.start.row===R.end.row&&R.start.row===this.pos.row){this.$updating=!0;var x="insert"===E.action?R.end.column-R.start.column:R.start.column-R.end.column,A=R.start.column>=this.pos.column&&R.start.column<=this.pos.column+this.length+1,_=R.start.column-this.pos.column;if(this.updateAnchors(E),A&&(this.length+=x),A&&!this.session.$fromUndo)if("insert"===E.action)for(var m=this.others.length-1;m>=0;m--)this.doc.insertMergedLines(I={row:(D=this.others[m]).row,column:D.column+_},E.lines);else if("remove"===E.action)for(m=this.others.length-1;m>=0;m--){var D,I;this.doc.remove(new X((I={row:(D=this.others[m]).row,column:D.column+_}).row,I.column,I.row,I.column-x))}this.$updating=!1,this.updateMarkers()}},P.prototype.updateAnchors=function(E){this.pos.onChange(E);for(var R=this.others.length;R--;)this.others[R].onChange(E);this.updateMarkers()},P.prototype.updateMarkers=function(){if(!this.$updating){var E=this,R=this.session,x=function(_,m){R.removeMarker(_.markerId),_.markerId=R.addMarker(new X(_.row,_.column,_.row,_.column+E.length),m,null,!1)};x(this.pos,this.mainClass);for(var A=this.others.length;A--;)x(this.others[A],this.othersClass)}},P.prototype.onCursorChange=function(E){if(!this.$updating&&this.session){var R=this.session.selection.getCursor();R.row===this.pos.row&&R.column>=this.pos.column&&R.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",E)):(this.hideOtherMarkers(),this._emit("cursorLeave",E))}},P.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},P.prototype.cancel=function(){if(-1!==this.$undoStackDepth){for(var E=this.session.getUndoManager(),R=(E.$undoStack||E.$undostack).length-this.$undoStackDepth,x=0;x<R;x++)E.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},P}();$.implement(k.prototype,ee),Z.PlaceHolder=k}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(ae,Z,V){var X=ae("../lib/event"),ee=ae("../lib/useragent");function $(P,E){return P.row==E.row&&P.column==E.column}Z.onMouseDown=function k(P){var E=P.domEvent,R=E.altKey,x=E.shiftKey,A=E.ctrlKey,_=P.getAccelKey(),m=P.getButton();if(A&&ee.isMac&&(m=E.button),P.editor.inMultiSelectMode&&2==m)P.editor.textInput.onContextMenu(P.domEvent);else if(A||R||_){if(0===m){var v,D=P.editor,I=D.selection,T=D.inMultiSelectMode,w=P.getDocumentPosition(),p=I.getCursor(),y=P.inSelection()||I.isEmpty()&&$(w,p),h=P.x,u=P.y,d=D.session,g=D.renderer.pixelToScreenCoordinates(h,u),f=g;if(D.$mouseHandler.$enableJumpToDef)A&&R||_&&R?v=x?"block":"add":R&&D.$blockSelectEnabled&&(v="block");else if(_&&!R){if(v="add",!T&&x)return}else R&&D.$blockSelectEnabled&&(v="block");if(v&&ee.isMac&&E.ctrlKey&&D.$mouseHandler.cancelContextMenu(),"add"==v){if(!T&&y)return;if(!T){var C=I.toOrientedRange();D.addSelectionMarker(C)}var S=I.rangeList.rangeAtPoint(w);D.inVirtualSelectionMode=!0,x&&(S=null,D.removeSelectionMarker(C=I.ranges[0]||C)),D.once("mouseup",function(){var oe=I.toOrientedRange();S&&oe.isEmpty()&&$(S.cursor,oe.cursor)?I.substractPoint(oe.cursor):(x?I.substractPoint(C.cursor):C&&(D.removeSelectionMarker(C),I.addRange(C)),I.addRange(oe)),D.inVirtualSelectionMode=!1})}else if("block"==v){P.stop(),D.inVirtualSelectionMode=!0;var O,N=[],z=function(){var oe=D.renderer.pixelToScreenCoordinates(h,u),pe=d.screenToDocumentPosition(oe.row,oe.column,oe.offsetX);$(f,oe)&&$(pe,I.lead)||(f=oe,D.selection.moveToPosition(pe),D.renderer.scrollCursorIntoView(),D.removeSelectionMarkers(N),N=I.rectangularRangeBlock(f,g),D.$mouseHandler.$clickSelection&&1==N.length&&N[0].isEmpty()&&(N[0]=D.$mouseHandler.$clickSelection.clone()),N.forEach(D.addSelectionMarker,D),D.updateSelectionMarkers())};T&&!_?I.toSingleRange():!T&&_&&(O=I.toOrientedRange(),D.addSelectionMarker(O)),x?g=d.documentToScreenPosition(I.lead):I.moveToPosition(w),f={row:-1,column:-1};var Q=z;X.capture(D.container,function(oe){h=oe.clientX,u=oe.clientY},function(oe){z(),clearInterval(ue),D.removeSelectionMarkers(N),N.length||(N=[I.toOrientedRange()]),O&&(D.removeSelectionMarker(O),I.toSingleRange(O));for(var pe=0;pe<N.length;pe++)I.addRange(N[pe]);D.inVirtualSelectionMode=!1,D.$mouseHandler.$clickSelection=null});var ue=setInterval(function(){Q()},20);return P.preventDefault()}}}else 0===m&&P.editor.inMultiSelectMode&&P.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(ae,Z,V){Z.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(ee){ee.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(ee){ee.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(ee){ee.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(ee){ee.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(ee){ee.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(ee){ee.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(ee){ee.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(ee){ee.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(ee){ee.multiSelect.rangeCount>1?ee.multiSelect.joinSelections():ee.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(ee){ee.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(ee){ee.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(ee){ee.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],Z.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(ee){ee.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(ee){return ee&&ee.inMultiSelectMode}}];var X=ae("../keyboard/hash_handler").HashHandler;Z.keyboardHandler=new X(Z.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(ae,Z,V){var X=ae("./range_list").RangeList,ee=ae("./range").Range,$=ae("./selection").Selection,k=ae("./mouse/multi_select_handler").onMouseDown,P=ae("./lib/event"),E=ae("./lib/lang"),R=ae("./commands/multi_select_commands");Z.commands=R.defaultCommands.concat(R.multiSelectCommands);var A=new(0,ae("./search").Search),m=ae("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(p,y){if(p){if(!this.inMultiSelectMode&&0===this.rangeCount){var h=this.toOrientedRange();if(this.rangeList.add(h),this.rangeList.add(p),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),y||this.fromOrientedRange(p);this.rangeList.removeAll(),this.rangeList.add(h),this.$onAddRange(h)}p.cursor||(p.cursor=p.end);var u=this.rangeList.add(p);return this.$onAddRange(p),u.length&&this.$onRemoveRange(u),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),y||this.fromOrientedRange(p)}},this.toSingleRange=function(p){p=p||this.ranges[0];var y=this.rangeList.removeAll();y.length&&this.$onRemoveRange(y),p&&this.fromOrientedRange(p)},this.substractPoint=function(p){var y=this.rangeList.substractPoint(p);if(y)return this.$onRemoveRange(y),y[0]},this.mergeOverlappingRanges=function(){var p=this.rangeList.merge();p.length&&this.$onRemoveRange(p)},this.$onAddRange=function(p){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(p),this._signal("addRange",{range:p})},this.$onRemoveRange=function(p){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var y=this.rangeList.ranges.pop();p.push(y),this.rangeCount=0}for(var h=p.length;h--;){var u=this.ranges.indexOf(p[h]);this.ranges.splice(u,1)}this._signal("removeRange",{ranges:p}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(y=y||this.ranges[0])&&!y.isEqual(this.getRange())&&this.fromOrientedRange(y)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new X,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var p=this.ranges.length?this.ranges:[this.getRange()],y=[],h=0;h<p.length;h++){var u=p[h],l=u.start.row,d=u.end.row;if(l===d)y.push(u.clone());else{for(y.push(new ee(l,u.start.column,l,this.session.getLine(l).length));++l<d;)y.push(this.getLineRange(l,!0));y.push(new ee(d,0,d,u.end.column))}0==h&&!this.isBackwards()&&(y=y.reverse())}for(this.toSingleRange(),h=y.length;h--;)this.addRange(y[h])},this.joinSelections=function(){var p=this.rangeList.ranges,y=p[p.length-1],h=ee.fromPoints(p[0].start,y.end);this.toSingleRange(),this.setSelectionRange(h,y.cursor==y.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var p=this.rangeList.ranges,y=p[p.length-1],h=ee.fromPoints(p[0].start,y.end);this.toSingleRange(),this.setSelectionRange(h,y.cursor==y.start)}else{var u=this.session.documentToScreenPosition(this.cursor),l=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(u,l).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(p,y,h){var u=[],l=p.column<y.column;if(l)var d=p.column,g=y.column,f=p.offsetX,v=y.offsetX;else d=y.column,g=p.column,f=y.offsetX,v=p.offsetX;var C=p.row<y.row;if(C)var S=p.row,O=y.row;else S=y.row,O=p.row;d<0&&(d=0),S<0&&(S=0),S==O&&(h=!0);for(var N,z=S;z<=O;z++){var K=ee.fromPoints(this.session.screenToDocumentPosition(z,d,f),this.session.screenToDocumentPosition(z,g,v));if(K.isEmpty()){if(N&&I(K.end,N))break;N=K.end}K.cursor=l?K.start:K.end,u.push(K)}if(C&&u.reverse(),!h){for(var Q=u.length-1;u[Q].isEmpty()&&Q>0;)Q--;if(Q>0)for(var ue=0;u[ue].isEmpty();)ue++;for(var oe=Q;oe>=ue;oe--)u[oe].isEmpty()&&u.splice(oe,1)}return u}}.call($.prototype);var D=ae("./editor").Editor;function I(p,y){return p.row==y.row&&p.column==y.column}function T(p){p.$multiselectOnSessionChange||(p.$onAddRange=p.$onAddRange.bind(p),p.$onRemoveRange=p.$onRemoveRange.bind(p),p.$onMultiSelect=p.$onMultiSelect.bind(p),p.$onSingleSelect=p.$onSingleSelect.bind(p),p.$multiselectOnSessionChange=Z.onSessionChange.bind(p),p.$checkMultiselectChange=p.$checkMultiselectChange.bind(p),p.$multiselectOnSessionChange(p),p.on("changeSession",p.$multiselectOnSessionChange),p.on("mousedown",k),p.commands.addCommands(R.defaultCommands),function w(p){if(p.textInput){var y=p.textInput.getElement(),h=!1;P.addListener(y,"keydown",function(l){p.$blockSelectEnabled&&18==l.keyCode&&!(l.ctrlKey||l.shiftKey||l.metaKey)?h||(p.renderer.setMouseCursor("crosshair"),h=!0):h&&u()},p),P.addListener(y,"keyup",u,p),P.addListener(y,"blur",u,p)}function u(l){h&&(p.renderer.setMouseCursor(""),h=!1)}}(p))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(p){p.cursor||(p.cursor=p.end);var y=this.getSelectionStyle();return p.marker=this.session.addMarker(p,"ace_selection",y),this.session.$selectionMarkers.push(p),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,p},this.removeSelectionMarker=function(p){if(p.marker){this.session.removeMarker(p.marker);var y=this.session.$selectionMarkers.indexOf(p);-1!=y&&this.session.$selectionMarkers.splice(y,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(p){for(var y=this.session.$selectionMarkers,h=p.length;h--;){var u=p[h];if(u.marker){this.session.removeMarker(u.marker);var l=y.indexOf(u);-1!=l&&y.splice(l,1)}}this.session.selectionMarkerCount=y.length},this.$onAddRange=function(p){this.addSelectionMarker(p.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(p){this.removeSelectionMarkers(p.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(p){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(R.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(p){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(R.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(p){var y=p.command,h=p.editor;if(h.multiSelect){if(y.multiSelectAction)"forEach"==y.multiSelectAction?u=h.forEachSelection(y,p.args):"forEachLine"==y.multiSelectAction?u=h.forEachSelection(y,p.args,!0):"single"==y.multiSelectAction?(h.exitMultiSelectMode(),u=y.exec(h,p.args||{})):u=y.multiSelectAction(h,p.args||{});else{var u=y.exec(h,p.args||{});h.multiSelect.addRange(h.multiSelect.toOrientedRange()),h.multiSelect.mergeOverlappingRanges()}return u}},this.forEachSelection=function(p,y,h){if(!this.inVirtualSelectionMode){var C,l=1==h||h&&h.$byLines,d=this.session,g=this.selection,v=(h&&h.keepOrder?g:g.rangeList).ranges;if(!v.length)return p.exec?p.exec(this,y||{}):p(this,y||{});var S=g._eventRegistry;g._eventRegistry={};var O=new $(d);this.inVirtualSelectionMode=!0;for(var N=v.length;N--;){if(l)for(;N>0&&v[N].start.row==v[N-1].end.row;)N--;O.fromOrientedRange(v[N]),O.index=N,this.selection=d.selection=O;var z=p.exec?p.exec(this,y||{}):p(this,y||{});!C&&void 0!==z&&(C=z),O.toOrientedRange(v[N])}O.detach(),this.selection=d.selection=g,this.inVirtualSelectionMode=!1,g._eventRegistry=S,g.mergeOverlappingRanges(),g.ranges[0]&&g.fromOrientedRange(g.ranges[0]);var K=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),K&&K.from==K.to&&this.renderer.animateScrolling(K.from),C}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var p="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var y=this.multiSelect.rangeList.ranges,h=[],u=0;u<y.length;u++)h.push(this.session.getTextRange(y[u]));var l=this.session.getDocument().getNewLineCharacter();(p=h.join(l)).length==(h.length-1)*l.length&&(p="")}else this.selection.isEmpty()||(p=this.session.getTextRange(this.getSelectionRange()));return p},this.$checkMultiselectChange=function(p,y){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var h=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&y==this.multiSelect.anchor)return;var u=y==this.multiSelect.anchor?h.cursor==h.start?h.end:h.start:h.cursor;u.row!=y.row||this.session.$clipPositionToDocument(u.row,u.column).column!=y.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(p,y,h){if((y=y||{}).needle=p||y.needle,null==y.needle){var u=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();y.needle=this.session.getTextRange(u)}this.$search.set(y);var l=this.$search.findAll(this.session);if(!l.length)return 0;var d=this.multiSelect;h||d.toSingleRange(l[0]);for(var g=l.length;g--;)d.addRange(l[g],!0);return u&&d.rangeList.rangeAtPoint(u.start)&&d.addRange(u,!0),l.length},this.selectMoreLines=function(p,y){var h=this.selection.toOrientedRange(),u=h.cursor==h.end,l=this.session.documentToScreenPosition(h.cursor);this.selection.$desiredColumn&&(l.column=this.selection.$desiredColumn);var v,d=this.session.screenToDocumentPosition(l.row+p,l.column);if(h.isEmpty())var f=d;else{var g=this.session.documentToScreenPosition(u?h.end:h.start);f=this.session.screenToDocumentPosition(g.row+p,g.column)}if(u?(v=ee.fromPoints(d,f)).cursor=v.start:(v=ee.fromPoints(f,d)).cursor=v.end,v.desiredColumn=l.column,this.selection.inMultiSelectMode){if(y)var C=h.cursor}else this.selection.addRange(h);this.selection.addRange(v),C&&this.selection.substractPoint(C)},this.transposeSelections=function(p){for(var y=this.session,h=y.multiSelect,u=h.ranges,l=u.length;l--;)if((d=u[l]).isEmpty()){var g=y.getWordRange(d.start.row,d.start.column);d.start.row=g.start.row,d.start.column=g.start.column,d.end.row=g.end.row,d.end.column=g.end.column}h.mergeOverlappingRanges();var f=[];for(l=u.length;l--;)f.unshift(y.getTextRange(d=u[l]));for(p<0?f.unshift(f.pop()):f.push(f.shift()),l=u.length;l--;){var d;g=(d=u[l]).clone(),y.replace(d,f[l]),d.start.row=g.start.row,d.start.column=g.start.column}h.fromOrientedRange(h.ranges[0])},this.selectMore=function(p,y,h){var u=this.session,d=u.multiSelect.toOrientedRange();if(!d.isEmpty()||((d=u.getWordRange(d.start.row,d.start.column)).cursor=-1==p?d.start:d.end,this.multiSelect.addRange(d),!h)){var g=u.getTextRange(d),f=function _(p,y,h){return A.$options.wrap=!0,A.$options.needle=y,A.$options.backwards=-1==h,A.find(p)}(u,g,p);f&&(f.cursor=-1==p?f.start:f.end,this.session.unfold(f),this.multiSelect.addRange(f),this.renderer.scrollCursorIntoView(null,.5)),y&&this.multiSelect.substractPoint(d.cursor)}},this.alignCursors=function(){var p=this.session,y=p.multiSelect,h=y.ranges,u=-1,l=h.filter(function(Q){if(Q.cursor.row==u)return!0;u=Q.cursor.row});if(h.length&&l.length!=h.length-1){l.forEach(function(Q){y.substractPoint(Q.cursor)});var N=0,z=1/0,K=h.map(function(Q){var ue=Q.cursor,pe=p.getLine(ue.row).substr(ue.column).search(/\S/g);return-1==pe&&(pe=0),ue.column>N&&(N=ue.column),pe<z&&(z=pe),pe});h.forEach(function(Q,ue){var oe=Q.cursor,pe=N-oe.column,F=K[ue]-z;pe>F?p.insert(oe,E.stringRepeat(" ",pe-F)):p.remove(new ee(oe.row,oe.column,oe.row,oe.column-pe+F)),Q.start.column=Q.end.column=N,Q.start.row=Q.end.row=oe.row,Q.cursor=Q.end}),y.fromOrientedRange(h[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var d=this.selection.getRange(),g=d.start.row,f=d.end.row,v=g==f;if(v){var S,C=this.session.getLength();do{S=this.session.getLine(f)}while(/[=:]/.test(S)&&++f<C);do{S=this.session.getLine(g)}while(/[=:]/.test(S)&&--g>0);g<0&&(g=0),f>=C&&(f=C-1)}var O=this.session.removeFullLines(g,f);O=this.$reAlignText(O,v),this.session.insert({row:g,column:0},O.join("\n")+"\n"),v||(d.start.column=0,d.end.column=O[O.length-1].length),this.selection.setRange(d)}},this.$reAlignText=function(p,y){var l,d,g,h=!0,u=!0;return p.map(function(O){var N=O.match(/(\s*)(.*?)(\s*)([=:].*)/);return N?null==l?(l=N[1].length,d=N[2].length,g=N[3].length,N):(l+d+g!=N[1].length+N[2].length+N[3].length&&(u=!1),l!=N[1].length&&(h=!1),l>N[1].length&&(l=N[1].length),d<N[2].length&&(d=N[2].length),g>N[3].length&&(g=N[3].length),N):[O]}).map(y?v:h?u?function C(O){return O[2]?f(l+d-O[2].length)+O[2]+f(g)+O[4].replace(/^([=:])\s+/,"$1 "):O[0]}:v:function S(O){return O[2]?f(l)+O[2]+f(g)+O[4].replace(/^([=:])\s+/,"$1 "):O[0]});function f(O){return E.stringRepeat(" ",O)}function v(O){return O[2]?f(l)+O[2]+f(d-O[2].length+g)+O[4].replace(/^([=:])\s+/,"$1 "):O[0]}}}).call(D.prototype),Z.onSessionChange=function(p){var y=p.session;y&&!y.multiSelect&&(y.$selectionMarkers=[],y.selection.$initRangeList(),y.multiSelect=y.selection),this.multiSelect=y&&y.multiSelect;var h=p.oldSession;h&&(h.multiSelect.off("addRange",this.$onAddRange),h.multiSelect.off("removeRange",this.$onRemoveRange),h.multiSelect.off("multiSelect",this.$onMultiSelect),h.multiSelect.off("singleSelect",this.$onSingleSelect),h.multiSelect.lead.off("change",this.$checkMultiselectChange),h.multiSelect.anchor.off("change",this.$checkMultiselectChange)),y&&(y.multiSelect.on("addRange",this.$onAddRange),y.multiSelect.on("removeRange",this.$onRemoveRange),y.multiSelect.on("multiSelect",this.$onMultiSelect),y.multiSelect.on("singleSelect",this.$onSingleSelect),y.multiSelect.lead.on("change",this.$checkMultiselectChange),y.multiSelect.anchor.on("change",this.$checkMultiselectChange)),y&&this.inMultiSelectMode!=y.selection.inMultiSelectMode&&(y.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},Z.MultiSelect=T,ae("./config").defineOptions(D.prototype,"editor",{enableMultiselect:{set:function(p){T(this),p?this.on("mousedown",k):this.off("mousedown",k)},value:!0},enableBlockSelect:{set:function(p){this.$blockSelectEnabled=p},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(ae,Z,V){"use strict";var X=ae("../../range").Range,ee=Z.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function($,k,P){var E=$.getLine(P);return this.foldingStartMarker.test(E)?"start":"markbeginend"==k&&this.foldingStopMarker&&this.foldingStopMarker.test(E)?"end":""},this.getFoldWidgetRange=function($,k,P){return null},this.indentationBlock=function($,k,P){var E=/\S/,R=$.getLine(k),x=R.search(E);if(-1!=x){for(var A=P||R.length,_=$.getLength(),m=k,D=k;++k<_;){var I=$.getLine(k).search(E);if(-1!=I){if(I<=x){var T=$.getTokenAt(k,0);if(!T||"string"!==T.type)break}D=k}}if(D>m){var w=$.getLine(D).length;return new X(m,A,D,w)}}},this.openingBracketBlock=function($,k,P,E,R){var x={row:P,column:E+1},A=$.$findClosingBracket(k,x,R);if(A){var _=$.foldWidgets[A.row];return null==_&&(_=$.getFoldWidget(A.row)),"start"==_&&A.row>x.row&&(A.row--,A.column=$.getLine(A.row).length),X.fromPoints(x,A)}},this.closingBracketBlock=function($,k,P,E,R){var x={row:P,column:E},A=$.$findOpeningBracket(k,x);if(A)return A.column++,x.column--,X.fromPoints(A,x)}}).call(ee.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(ae,Z,V){"use strict";var X=ae("../line_widgets").LineWidgets,ee=ae("../lib/dom"),$=ae("../range").Range,k=ae("../config").nls;Z.showErrorMarker=function(R,x){var A=R.session;A.widgetManager||(A.widgetManager=new X(A),A.widgetManager.attach(R));var _=R.getCursorPosition(),m=_.row,D=A.widgetManager.getWidgetsAtRow(m).filter(function(d){return"errorMarker"==d.type})[0];D?D.destroy():m-=x;var T,I=function E(R,x,A){var _=R.getAnnotations().sort($.comparePoints);if(_.length){var m=function P(R,x,A){for(var _=0,m=R.length-1;_<=m;){var D=_+m>>1,I=A(x,R[D]);if(I>0)_=D+1;else{if(!(I<0))return D;m=D-1}}return-(_+1)}(_,{row:x,column:-1},$.comparePoints);m<0&&(m=-m-1),m>=_.length?m=A>0?0:_.length-1:0===m&&A<0&&(m=_.length-1);var D=_[m];if(D&&A){if(D.row===x){do{D=_[m+=A]}while(D&&D.row===x);if(!D)return _.slice()}var I=[];x=D.row;do{I[A<0?"unshift":"push"](D),D=_[m+=A]}while(D&&D.row==x);return I.length&&I}}}(A,m,x);if(I){var w=I[0];_.column=(w.pos&&"number"!=typeof w.column?w.pos.sc:w.column)||0,_.row=w.row,T=R.renderer.$gutterLayer.$annotations[_.row]}else{if(D)return;T={text:[k("Looks good!")],className:"ace_ok"}}R.session.unfold(_.row),R.selection.moveToPosition(_);var p={row:_.row,fixedWidth:!0,coverGutter:!0,el:ee.createElement("div"),type:"errorMarker"},y=p.el.appendChild(ee.createElement("div")),h=p.el.appendChild(ee.createElement("div"));h.className="error_widget_arrow "+T.className;var u=R.renderer.$cursorLayer.getPixelPosition(_).left;h.style.left=u+R.renderer.gutterWidth-5+"px",p.el.className="error_widget_wrapper",y.className="error_widget "+T.className,y.innerHTML=T.text.join("<br>"),y.appendChild(ee.createElement("div"));var l=function(d,g,f){if(0===g&&("esc"===f||"return"===f))return p.destroy(),{command:"null"}};p.destroy=function(){R.$mouseHandler.isMousePressed||(R.keyBinding.removeKeyboardHandler(l),A.widgetManager.removeLineWidget(p),R.off("changeSelection",p.destroy),R.off("changeSession",p.destroy),R.off("mouseup",p.destroy),R.off("change",p.destroy))},R.keyBinding.addKeyboardHandler(l),R.on("changeSelection",p.destroy),R.on("changeSession",p.destroy),R.on("mouseup",p.destroy),R.on("change",p.destroy),R.session.widgetManager.addLineWidget(p),p.el.onmousedown=R.focus.bind(R),R.renderer.scrollCursorIntoView(null,.5,{bottom:p.el.offsetHeight})},ee.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(ae,Z,V){"use strict";ae("./loader_build")(Z);var X=ae("./lib/dom"),ee=ae("./range").Range,$=ae("./editor").Editor,k=ae("./edit_session").EditSession,P=ae("./undomanager").UndoManager,E=ae("./virtual_renderer").VirtualRenderer;ae("./worker/worker_client"),ae("./keyboard/hash_handler"),ae("./placeholder"),ae("./multi_select"),ae("./mode/folding/fold_mode"),ae("./theme/textmate"),ae("./ext/error_marker"),Z.config=ae("./config"),Z.edit=function(R,x){if("string"==typeof R){var A=R;if(!(R=document.getElementById(A)))throw new Error("ace.edit can't find div #"+A)}if(R&&R.env&&R.env.editor instanceof $)return R.env.editor;var _="";if(R&&/input|textarea/i.test(R.tagName)){var m=R;_=m.value,R=X.createElement("pre"),m.parentNode.replaceChild(R,m)}else R&&(_=R.textContent,R.innerHTML="");var D=Z.createEditSession(_),I=new $(new E(R),D,x),T={document:D,editor:I,onResize:I.resize.bind(I,null)};return m&&(T.textarea=m),I.on("destroy",function(){T.editor.container.env=null}),I.container.env=I.env=T,I},Z.createEditSession=function(R,x){var A=new k(R,x);return A.setUndoManager(new P),A},Z.Range=ee,Z.Editor=$,Z.EditSession=k,Z.UndoManager=P,Z.VirtualRenderer=E,Z.version=Z.config.version}),ace.require(["ace/ace"],function(ae){for(var Z in ae&&(ae.config.init(!0),ae.define=ace.define),window.ace||(window.ace=ae),ae)ae.hasOwnProperty(Z)&&(window.ace[Z]=ae[Z]);window.ace.default=window.ace,hn&&(hn.exports=window.ace)})},4411:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.MissingRefError=Ie.ValidationError=Ie.CodeGen=Ie.Name=Ie.nil=Ie.stringify=Ie.str=Ie._=Ie.KeywordCxt=void 0;const ae=Ve(5910),Z=Ve(7032),V=Ve(1849),X=Ve(98),ee=["/properties"],$="http://json-schema.org/draft-07/schema";class k extends ae.default{_addVocabularies(){super._addVocabularies(),Z.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(V.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(X,ee):X;this.addMetaSchema(_,$,!1),this.refs["http://json-schema.org/schema"]=$}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema($)?$:void 0)}}hn.exports=Ie=k,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.default=k;var P=Ve(6764);Object.defineProperty(Ie,"KeywordCxt",{enumerable:!0,get:function(){return P.KeywordCxt}});var E=Ve(6382);Object.defineProperty(Ie,"_",{enumerable:!0,get:function(){return E._}}),Object.defineProperty(Ie,"str",{enumerable:!0,get:function(){return E.str}}),Object.defineProperty(Ie,"stringify",{enumerable:!0,get:function(){return E.stringify}}),Object.defineProperty(Ie,"nil",{enumerable:!0,get:function(){return E.nil}}),Object.defineProperty(Ie,"Name",{enumerable:!0,get:function(){return E.Name}}),Object.defineProperty(Ie,"CodeGen",{enumerable:!0,get:function(){return E.CodeGen}});var R=Ve(496);Object.defineProperty(Ie,"ValidationError",{enumerable:!0,get:function(){return R.default}});var x=Ve(140);Object.defineProperty(Ie,"MissingRefError",{enumerable:!0,get:function(){return x.default}})},6295:(hn,Ie)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.regexpCode=Ie.getEsmExportName=Ie.getProperty=Ie.safeStringify=Ie.stringify=Ie.strConcat=Ie.addCodeArg=Ie.str=Ie._=Ie.nil=Ie._Code=Ie.Name=Ie.IDENTIFIER=Ie._CodeOrName=void 0;class Ve{}Ie._CodeOrName=Ve,Ie.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class ae extends Ve{constructor(T){if(super(),!Ie.IDENTIFIER.test(T))throw new Error("CodeGen: name must be a valid identifier");this.str=T}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}Ie.Name=ae;class Z extends Ve{constructor(T){super(),this._items="string"==typeof T?[T]:T}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const T=this._items[0];return""===T||'""'===T}get str(){var T;return null!==(T=this._str)&&void 0!==T?T:this._str=this._items.reduce((w,p)=>`${w}${p}`,"")}get names(){var T;return null!==(T=this._names)&&void 0!==T?T:this._names=this._items.reduce((w,p)=>(p instanceof ae&&(w[p.str]=(w[p.str]||0)+1),w),{})}}function V(I,...T){const w=[I[0]];let p=0;for(;p<T.length;)$(w,T[p]),w.push(I[++p]);return new Z(w)}Ie._Code=Z,Ie.nil=new Z(""),Ie._=V;const X=new Z("+");function ee(I,...T){const w=[A(I[0])];let p=0;for(;p<T.length;)w.push(X),$(w,T[p]),w.push(X,A(I[++p]));return function k(I){let T=1;for(;T<I.length-1;){if(I[T]===X){const w=P(I[T-1],I[T+1]);if(void 0!==w){I.splice(T-1,3,w);continue}I[T++]="+"}T++}}(w),new Z(w)}function $(I,T){T instanceof Z?I.push(...T._items):I.push(T instanceof ae?T:function R(I){return"number"==typeof I||"boolean"==typeof I||null===I?I:A(Array.isArray(I)?I.join(","):I)}(T))}function P(I,T){return'""'===T?I:'""'===I?T:"string"==typeof I?T instanceof ae||'"'!==I[I.length-1]?void 0:"string"!=typeof T?`${I.slice(0,-1)}${T}"`:'"'===T[0]?I.slice(0,-1)+T.slice(1):void 0:"string"!=typeof T||'"'!==T[0]||I instanceof ae?void 0:`"${I}${T.slice(1)}`}function A(I){return JSON.stringify(I).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Ie.str=ee,Ie.addCodeArg=$,Ie.strConcat=function E(I,T){return T.emptyStr()?I:I.emptyStr()?T:ee`${I}${T}`},Ie.stringify=function x(I){return new Z(A(I))},Ie.safeStringify=A,Ie.getProperty=function _(I){return"string"==typeof I&&Ie.IDENTIFIER.test(I)?new Z(`.${I}`):V`[${I}]`},Ie.getEsmExportName=function m(I){if("string"==typeof I&&Ie.IDENTIFIER.test(I))return new Z(`${I}`);throw new Error(`CodeGen: invalid export name: ${I}, use explicit $id name mapping`)},Ie.regexpCode=function D(I){return new Z(I.toString())}},6382:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.or=Ie.and=Ie.not=Ie.CodeGen=Ie.operators=Ie.varKinds=Ie.ValueScopeName=Ie.ValueScope=Ie.Scope=Ie.Name=Ie.regexpCode=Ie.stringify=Ie.getProperty=Ie.nil=Ie.strConcat=Ie.str=Ie._=void 0;const ae=Ve(6295),Z=Ve(1917);var V=Ve(6295);Object.defineProperty(Ie,"_",{enumerable:!0,get:function(){return V._}}),Object.defineProperty(Ie,"str",{enumerable:!0,get:function(){return V.str}}),Object.defineProperty(Ie,"strConcat",{enumerable:!0,get:function(){return V.strConcat}}),Object.defineProperty(Ie,"nil",{enumerable:!0,get:function(){return V.nil}}),Object.defineProperty(Ie,"getProperty",{enumerable:!0,get:function(){return V.getProperty}}),Object.defineProperty(Ie,"stringify",{enumerable:!0,get:function(){return V.stringify}}),Object.defineProperty(Ie,"regexpCode",{enumerable:!0,get:function(){return V.regexpCode}}),Object.defineProperty(Ie,"Name",{enumerable:!0,get:function(){return V.Name}});var X=Ve(1917);Object.defineProperty(Ie,"Scope",{enumerable:!0,get:function(){return X.Scope}}),Object.defineProperty(Ie,"ValueScope",{enumerable:!0,get:function(){return X.ValueScope}}),Object.defineProperty(Ie,"ValueScopeName",{enumerable:!0,get:function(){return X.ValueScopeName}}),Object.defineProperty(Ie,"varKinds",{enumerable:!0,get:function(){return X.varKinds}}),Ie.operators={GT:new ae._Code(">"),GTE:new ae._Code(">="),LT:new ae._Code("<"),LTE:new ae._Code("<="),EQ:new ae._Code("==="),NEQ:new ae._Code("!=="),NOT:new ae._Code("!"),OR:new ae._Code("||"),AND:new ae._Code("&&"),ADD:new ae._Code("+")};class ee{optimizeNodes(){return this}optimizeNames(Y,W){return this}}class $ extends ee{constructor(Y,W,ne){super(),this.varKind=Y,this.name=W,this.rhs=ne}render({es5:Y,_n:W}){return`${Y?Z.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+W}optimizeNames(Y,W){if(Y[this.name.str])return this.rhs&&(this.rhs=O(this.rhs,Y,W)),this}get names(){return this.rhs instanceof ae._CodeOrName?this.rhs.names:{}}}class k extends ee{constructor(Y,W,ne){super(),this.lhs=Y,this.rhs=W,this.sideEffects=ne}render({_n:Y}){return`${this.lhs} = ${this.rhs};`+Y}optimizeNames(Y,W){if(!(this.lhs instanceof ae.Name)||Y[this.lhs.str]||this.sideEffects)return this.rhs=O(this.rhs,Y,W),this}get names(){return S(this.lhs instanceof ae.Name?{}:Ea({},this.lhs.names),this.rhs)}}class P extends k{constructor(Y,W,ne,fe){super(Y,ne,fe),this.op=W}render({_n:Y}){return`${this.lhs} ${this.op}= ${this.rhs};`+Y}}class E extends ee{constructor(Y){super(),this.label=Y,this.names={}}render({_n:Y}){return`${this.label}:`+Y}}class R extends ee{constructor(Y){super(),this.label=Y,this.names={}}render({_n:Y}){return`break${this.label?` ${this.label}`:""};`+Y}}class x extends ee{constructor(Y){super(),this.error=Y}render({_n:Y}){return`throw ${this.error};`+Y}get names(){return this.error.names}}class A extends ee{constructor(Y){super(),this.code=Y}render({_n:Y}){return`${this.code};`+Y}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(Y,W){return this.code=O(this.code,Y,W),this}get names(){return this.code instanceof ae._CodeOrName?this.code.names:{}}}class _ extends ee{constructor(Y=[]){super(),this.nodes=Y}render(Y){return this.nodes.reduce((W,ne)=>W+ne.render(Y),"")}optimizeNodes(){const{nodes:Y}=this;let W=Y.length;for(;W--;){const ne=Y[W].optimizeNodes();Array.isArray(ne)?Y.splice(W,1,...ne):ne?Y[W]=ne:Y.splice(W,1)}return Y.length>0?this:void 0}optimizeNames(Y,W){const{nodes:ne}=this;let fe=ne.length;for(;fe--;){const he=ne[fe];he.optimizeNames(Y,W)||(N(Y,he.names),ne.splice(fe,1))}return ne.length>0?this:void 0}get names(){return this.nodes.reduce((Y,W)=>C(Y,W.names),{})}}class m extends _{render(Y){return"{"+Y._n+super.render(Y)+"}"+Y._n}}class D extends _{}let I=(()=>{class U extends m{}return U.kind="else",U})(),T=(()=>{class U extends m{constructor(W,ne){super(ne),this.condition=W}render(W){let ne=`if(${this.condition})`+super.render(W);return this.else&&(ne+="else "+this.else.render(W)),ne}optimizeNodes(){super.optimizeNodes();const W=this.condition;if(!0===W)return this.nodes;let ne=this.else;if(ne){const fe=ne.optimizeNodes();ne=this.else=Array.isArray(fe)?new I(fe):fe}return ne?!1===W?ne instanceof U?ne:ne.nodes:this.nodes.length?this:new U(z(W),ne instanceof U?[ne]:ne.nodes):!1!==W&&this.nodes.length?this:void 0}optimizeNames(W,ne){var fe;if(this.else=null===(fe=this.else)||void 0===fe?void 0:fe.optimizeNames(W,ne),super.optimizeNames(W,ne)||this.else)return this.condition=O(this.condition,W,ne),this}get names(){const W=super.names;return S(W,this.condition),this.else&&C(W,this.else.names),W}}return U.kind="if",U})(),w=(()=>{class U extends m{}return U.kind="for",U})();class p extends w{constructor(Y){super(),this.iteration=Y}render(Y){return`for(${this.iteration})`+super.render(Y)}optimizeNames(Y,W){if(super.optimizeNames(Y,W))return this.iteration=O(this.iteration,Y,W),this}get names(){return C(super.names,this.iteration.names)}}class y extends w{constructor(Y,W,ne,fe){super(),this.varKind=Y,this.name=W,this.from=ne,this.to=fe}render(Y){const W=Y.es5?Z.varKinds.var:this.varKind,{name:ne,from:fe,to:he}=this;return`for(${W} ${ne}=${fe}; ${ne}<${he}; ${ne}++)`+super.render(Y)}get names(){const Y=S(super.names,this.from);return S(Y,this.to)}}class h extends w{constructor(Y,W,ne,fe){super(),this.loop=Y,this.varKind=W,this.name=ne,this.iterable=fe}render(Y){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(Y)}optimizeNames(Y,W){if(super.optimizeNames(Y,W))return this.iterable=O(this.iterable,Y,W),this}get names(){return C(super.names,this.iterable.names)}}let u=(()=>{class U extends m{constructor(W,ne,fe){super(),this.name=W,this.args=ne,this.async=fe}render(W){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(W)}}return U.kind="func",U})(),l=(()=>{class U extends _{render(W){return"return "+super.render(W)}}return U.kind="return",U})();class d extends m{render(Y){let W="try"+super.render(Y);return this.catch&&(W+=this.catch.render(Y)),this.finally&&(W+=this.finally.render(Y)),W}optimizeNodes(){var Y,W;return super.optimizeNodes(),null===(Y=this.catch)||void 0===Y||Y.optimizeNodes(),null===(W=this.finally)||void 0===W||W.optimizeNodes(),this}optimizeNames(Y,W){var ne,fe;return super.optimizeNames(Y,W),null===(ne=this.catch)||void 0===ne||ne.optimizeNames(Y,W),null===(fe=this.finally)||void 0===fe||fe.optimizeNames(Y,W),this}get names(){const Y=super.names;return this.catch&&C(Y,this.catch.names),this.finally&&C(Y,this.finally.names),Y}}let g=(()=>{class U extends m{constructor(W){super(),this.error=W}render(W){return`catch(${this.error})`+super.render(W)}}return U.kind="catch",U})(),f=(()=>{class U extends m{render(W){return"finally"+super.render(W)}}return U.kind="finally",U})();function C(U,Y){for(const W in Y)U[W]=(U[W]||0)+(Y[W]||0);return U}function S(U,Y){return Y instanceof ae._CodeOrName?C(U,Y.names):U}function O(U,Y,W){return U instanceof ae.Name?ne(U):function fe(he){return he instanceof ae._Code&&he._items.some(Ae=>Ae instanceof ae.Name&&1===Y[Ae.str]&&void 0!==W[Ae.str])}(U)?new ae._Code(U._items.reduce((he,Ae)=>(Ae instanceof ae.Name&&(Ae=ne(Ae)),Ae instanceof ae._Code?he.push(...Ae._items):he.push(Ae),he),[])):U;function ne(he){const Ae=W[he.str];return void 0===Ae||1!==Y[he.str]?he:(delete Y[he.str],Ae)}}function N(U,Y){for(const W in Y)U[W]=(U[W]||0)-(Y[W]||0)}function z(U){return"boolean"==typeof U||"number"==typeof U||null===U?!U:ae._`!${F(U)}`}Ie.CodeGen=class v{constructor(Y,W={}){this._values={},this._blockStarts=[],this._constants={},this.opts=lf(Ea({},W),{_n:W.lines?"\n":""}),this._extScope=Y,this._scope=new Z.Scope({parent:Y}),this._nodes=[new D]}toString(){return this._root.render(this.opts)}name(Y){return this._scope.name(Y)}scopeName(Y){return this._extScope.name(Y)}scopeValue(Y,W){const ne=this._extScope.value(Y,W);return(this._values[ne.prefix]||(this._values[ne.prefix]=new Set)).add(ne),ne}getScopeValue(Y,W){return this._extScope.getValue(Y,W)}scopeRefs(Y){return this._extScope.scopeRefs(Y,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(Y,W,ne,fe){const he=this._scope.toName(W);return void 0!==ne&&fe&&(this._constants[he.str]=ne),this._leafNode(new $(Y,he,ne)),he}const(Y,W,ne){return this._def(Z.varKinds.const,Y,W,ne)}let(Y,W,ne){return this._def(Z.varKinds.let,Y,W,ne)}var(Y,W,ne){return this._def(Z.varKinds.var,Y,W,ne)}assign(Y,W,ne){return this._leafNode(new k(Y,W,ne))}add(Y,W){return this._leafNode(new P(Y,Ie.operators.ADD,W))}code(Y){return"function"==typeof Y?Y():Y!==ae.nil&&this._leafNode(new A(Y)),this}object(...Y){const W=["{"];for(const[ne,fe]of Y)W.length>1&&W.push(","),W.push(ne),(ne!==fe||this.opts.es5)&&(W.push(":"),(0,ae.addCodeArg)(W,fe));return W.push("}"),new ae._Code(W)}if(Y,W,ne){if(this._blockNode(new T(Y)),W&&ne)this.code(W).else().code(ne).endIf();else if(W)this.code(W).endIf();else if(ne)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(Y){return this._elseNode(new T(Y))}else(){return this._elseNode(new I)}endIf(){return this._endBlockNode(T,I)}_for(Y,W){return this._blockNode(Y),W&&this.code(W).endFor(),this}for(Y,W){return this._for(new p(Y),W)}forRange(Y,W,ne,fe,he=(this.opts.es5?Z.varKinds.var:Z.varKinds.let)){const Ae=this._scope.toName(Y);return this._for(new y(he,Ae,W,ne),()=>fe(Ae))}forOf(Y,W,ne,fe=Z.varKinds.const){const he=this._scope.toName(Y);if(this.opts.es5){const Ae=W instanceof ae.Name?W:this.var("_arr",W);return this.forRange("_i",0,ae._`${Ae}.length`,ke=>{this.var(he,ae._`${Ae}[${ke}]`),ne(he)})}return this._for(new h("of",fe,he,W),()=>ne(he))}forIn(Y,W,ne,fe=(this.opts.es5?Z.varKinds.var:Z.varKinds.const)){if(this.opts.ownProperties)return this.forOf(Y,ae._`Object.keys(${W})`,ne);const he=this._scope.toName(Y);return this._for(new h("in",fe,he,W),()=>ne(he))}endFor(){return this._endBlockNode(w)}label(Y){return this._leafNode(new E(Y))}break(Y){return this._leafNode(new R(Y))}return(Y){const W=new l;if(this._blockNode(W),this.code(Y),1!==W.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(l)}try(Y,W,ne){if(!W&&!ne)throw new Error('CodeGen: "try" without "catch" and "finally"');const fe=new d;if(this._blockNode(fe),this.code(Y),W){const he=this.name("e");this._currNode=fe.catch=new g(he),W(he)}return ne&&(this._currNode=fe.finally=new f,this.code(ne)),this._endBlockNode(g,f)}throw(Y){return this._leafNode(new x(Y))}block(Y,W){return this._blockStarts.push(this._nodes.length),Y&&this.code(Y).endBlock(W),this}endBlock(Y){const W=this._blockStarts.pop();if(void 0===W)throw new Error("CodeGen: not in self-balancing block");const ne=this._nodes.length-W;if(ne<0||void 0!==Y&&ne!==Y)throw new Error(`CodeGen: wrong number of nodes: ${ne} vs ${Y} expected`);return this._nodes.length=W,this}func(Y,W=ae.nil,ne,fe){return this._blockNode(new u(Y,W,ne)),fe&&this.code(fe).endFunc(),this}endFunc(){return this._endBlockNode(u)}optimize(Y=1){for(;Y-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(Y){return this._currNode.nodes.push(Y),this}_blockNode(Y){this._currNode.nodes.push(Y),this._nodes.push(Y)}_endBlockNode(Y,W){const ne=this._currNode;if(ne instanceof Y||W&&ne instanceof W)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${W?`${Y.kind}/${W.kind}`:Y.kind}"`)}_elseNode(Y){const W=this._currNode;if(!(W instanceof T))throw new Error('CodeGen: "else" without "if"');return this._currNode=W.else=Y,this}get _root(){return this._nodes[0]}get _currNode(){const Y=this._nodes;return Y[Y.length-1]}set _currNode(Y){const W=this._nodes;W[W.length-1]=Y}},Ie.not=z;const K=pe(Ie.operators.AND);Ie.and=function Q(...U){return U.reduce(K)};const ue=pe(Ie.operators.OR);function pe(U){return(Y,W)=>Y===ae.nil?W:W===ae.nil?Y:ae._`${F(Y)} ${U} ${F(W)}`}function F(U){return U instanceof ae.Name?U:ae._`(${U})`}Ie.or=function oe(...U){return U.reduce(ue)}},1917:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.ValueScope=Ie.ValueScopeName=Ie.Scope=Ie.varKinds=Ie.UsedValueState=void 0;const ae=Ve(6295);class Z extends Error{constructor(E){super(`CodeGen: "code" for ${E} not defined`),this.value=E.value}}var V,P;(P=V=Ie.UsedValueState||(Ie.UsedValueState={}))[P.Started=0]="Started",P[P.Completed=1]="Completed",Ie.varKinds={const:new ae.Name("const"),let:new ae.Name("let"),var:new ae.Name("var")};class X{constructor({prefixes:E,parent:R}={}){this._names={},this._prefixes=E,this._parent=R}toName(E){return E instanceof ae.Name?E:this.name(E)}name(E){return new ae.Name(this._newName(E))}_newName(E){return`${E}${(this._names[E]||this._nameGroup(E)).index++}`}_nameGroup(E){var R,x;if((null===(x=null===(R=this._parent)||void 0===R?void 0:R._prefixes)||void 0===x?void 0:x.has(E))||this._prefixes&&!this._prefixes.has(E))throw new Error(`CodeGen: prefix "${E}" is not allowed in this scope`);return this._names[E]={prefix:E,index:0}}}Ie.Scope=X;class ee extends ae.Name{constructor(E,R){super(R),this.prefix=E}setValue(E,{property:R,itemIndex:x}){this.value=E,this.scopePath=ae._`.${new ae.Name(R)}[${x}]`}}Ie.ValueScopeName=ee;const $=ae._`\n`;Ie.ValueScope=class k extends X{constructor(E){super(E),this._values={},this._scope=E.scope,this.opts=lf(Ea({},E),{_n:E.lines?$:ae.nil})}get(){return this._scope}name(E){return new ee(E,this._newName(E))}value(E,R){var x;if(void 0===R.ref)throw new Error("CodeGen: ref must be passed in value");const A=this.toName(E),{prefix:_}=A,m=null!==(x=R.key)&&void 0!==x?x:R.ref;let D=this._values[_];if(D){const w=D.get(m);if(w)return w}else D=this._values[_]=new Map;D.set(m,A);const I=this._scope[_]||(this._scope[_]=[]),T=I.length;return I[T]=R.ref,A.setValue(R,{property:_,itemIndex:T}),A}getValue(E,R){const x=this._values[E];if(x)return x.get(R)}scopeRefs(E,R=this._values){return this._reduceValues(R,x=>{if(void 0===x.scopePath)throw new Error(`CodeGen: name "${x}" has no value`);return ae._`${E}${x.scopePath}`})}scopeCode(E=this._values,R,x){return this._reduceValues(E,A=>{if(void 0===A.value)throw new Error(`CodeGen: name "${A}" has no value`);return A.value.code},R,x)}_reduceValues(E,R,x={},A){let _=ae.nil;for(const m in E){const D=E[m];if(!D)continue;const I=x[m]=x[m]||new Map;D.forEach(T=>{if(I.has(T))return;I.set(T,V.Started);let w=R(T);if(w)_=ae._`${_}${this.opts.es5?Ie.varKinds.var:Ie.varKinds.const} ${T} = ${w};${this.opts._n}`;else{if(!(w=null==A?void 0:A(T)))throw new Z(T);_=ae._`${_}${w}${this.opts._n}`}I.set(T,V.Completed)})}return _}}},5091:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.extendErrors=Ie.resetErrorsCount=Ie.reportExtraError=Ie.reportError=Ie.keyword$DataError=Ie.keywordError=void 0;const ae=Ve(6382),Z=Ve(7990),V=Ve(5976);function P(I,T){const w=I.const("err",T);I.if(ae._`${V.default.vErrors} === null`,()=>I.assign(V.default.vErrors,ae._`[${w}]`),ae._`${V.default.vErrors}.push(${w})`),I.code(ae._`${V.default.errors}++`)}function E(I,T){const{gen:w,validateName:p,schemaEnv:y}=I;y.$async?w.throw(ae._`new ${I.ValidationError}(${T})`):(w.assign(ae._`${p}.errors`,T),w.return(!1))}Ie.keywordError={message:({keyword:I})=>ae.str`must pass "${I}" keyword validation`},Ie.keyword$DataError={message:({keyword:I,schemaType:T})=>T?ae.str`"${I}" keyword must be ${T} ($data)`:ae.str`"${I}" keyword is invalid ($data)`},Ie.reportError=function X(I,T=Ie.keywordError,w,p){const{it:y}=I,{gen:h,compositeRule:u,allErrors:l}=y,d=x(I,T,w);(null!=p?p:u||l)?P(h,d):E(y,ae._`[${d}]`)},Ie.reportExtraError=function ee(I,T=Ie.keywordError,w){const{it:p}=I,{gen:y,compositeRule:h,allErrors:u}=p;P(y,x(I,T,w)),h||u||E(p,V.default.vErrors)},Ie.resetErrorsCount=function $(I,T){I.assign(V.default.errors,T),I.if(ae._`${V.default.vErrors} !== null`,()=>I.if(T,()=>I.assign(ae._`${V.default.vErrors}.length`,T),()=>I.assign(V.default.vErrors,null)))},Ie.extendErrors=function k({gen:I,keyword:T,schemaValue:w,data:p,errsCount:y,it:h}){if(void 0===y)throw new Error("ajv implementation error");const u=I.name("err");I.forRange("i",y,V.default.errors,l=>{I.const(u,ae._`${V.default.vErrors}[${l}]`),I.if(ae._`${u}.instancePath === undefined`,()=>I.assign(ae._`${u}.instancePath`,(0,ae.strConcat)(V.default.instancePath,h.errorPath))),I.assign(ae._`${u}.schemaPath`,ae.str`${h.errSchemaPath}/${T}`),h.opts.verbose&&(I.assign(ae._`${u}.schema`,w),I.assign(ae._`${u}.data`,p))})};const R={keyword:new ae.Name("keyword"),schemaPath:new ae.Name("schemaPath"),params:new ae.Name("params"),propertyName:new ae.Name("propertyName"),message:new ae.Name("message"),schema:new ae.Name("schema"),parentSchema:new ae.Name("parentSchema")};function x(I,T,w){const{createErrors:p}=I.it;return!1===p?ae._`{}`:function A(I,T,w={}){const{gen:p,it:y}=I,h=[_(y,w),m(I,w)];return function D(I,{params:T,message:w},p){const{keyword:y,data:h,schemaValue:u,it:l}=I,{opts:d,propertyName:g,topSchemaRef:f,schemaPath:v}=l;p.push([R.keyword,y],[R.params,"function"==typeof T?T(I):T||ae._`{}`]),d.messages&&p.push([R.message,"function"==typeof w?w(I):w]),d.verbose&&p.push([R.schema,u],[R.parentSchema,ae._`${f}${v}`],[V.default.data,h]),g&&p.push([R.propertyName,g])}(I,T,h),p.object(...h)}(I,T,w)}function _({errorPath:I},{instancePath:T}){const w=T?ae.str`${I}${(0,Z.getErrorPath)(T,Z.Type.Str)}`:I;return[V.default.instancePath,(0,ae.strConcat)(V.default.instancePath,w)]}function m({keyword:I,it:{errSchemaPath:T}},{schemaPath:w,parentSchema:p}){let y=p?T:ae.str`${T}/${I}`;return w&&(y=ae.str`${y}${(0,Z.getErrorPath)(w,Z.Type.Str)}`),[R.schemaPath,y]}},7140:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.resolveSchema=Ie.getCompilingSchema=Ie.resolveRef=Ie.compileSchema=Ie.SchemaEnv=void 0;const ae=Ve(6382),Z=Ve(496),V=Ve(5976),X=Ve(1880),ee=Ve(7990),$=Ve(6764);class k{constructor(w){var p;let y;this.refs={},this.dynamicAnchors={},"object"==typeof w.schema&&(y=w.schema),this.schema=w.schema,this.schemaId=w.schemaId,this.root=w.root||this,this.baseId=null!==(p=w.baseId)&&void 0!==p?p:(0,X.normalizeId)(null==y?void 0:y[w.schemaId||"$id"]),this.schemaPath=w.schemaPath,this.localRefs=w.localRefs,this.meta=w.meta,this.$async=null==y?void 0:y.$async,this.refs={}}}function P(T){const w=x.call(this,T);if(w)return w;const p=(0,X.getFullPath)(this.opts.uriResolver,T.root.baseId),{es5:y,lines:h}=this.opts.code,{ownProperties:u}=this.opts,l=new ae.CodeGen(this.scope,{es5:y,lines:h,ownProperties:u});let d;T.$async&&(d=l.scopeValue("Error",{ref:Z.default,code:ae._`require("ajv/dist/runtime/validation_error").default`}));const g=l.scopeName("validate");T.validateName=g;const f={gen:l,allErrors:this.opts.allErrors,data:V.default.data,parentData:V.default.parentData,parentDataProperty:V.default.parentDataProperty,dataNames:[V.default.data],dataPathArr:[ae.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:l.scopeValue("schema",!0===this.opts.code.source?{ref:T.schema,code:(0,ae.stringify)(T.schema)}:{ref:T.schema}),validateName:g,ValidationError:d,schema:T.schema,schemaEnv:T,rootId:p,baseId:T.baseId||p,schemaPath:ae.nil,errSchemaPath:T.schemaPath||(this.opts.jtd?"":"#"),errorPath:ae._`""`,opts:this.opts,self:this};let v;try{this._compilations.add(T),(0,$.validateFunctionCode)(f),l.optimize(this.opts.code.optimize);const C=l.toString();v=`${l.scopeRefs(V.default.scope)}return ${C}`,this.opts.code.process&&(v=this.opts.code.process(v,T));const O=new Function(`${V.default.self}`,`${V.default.scope}`,v)(this,this.scope.get());if(this.scope.value(g,{ref:O}),O.errors=null,O.schema=T.schema,O.schemaEnv=T,T.$async&&(O.$async=!0),!0===this.opts.code.source&&(O.source={validateName:g,validateCode:C,scopeValues:l._values}),this.opts.unevaluated){const{props:N,items:z}=f;O.evaluated={props:N instanceof ae.Name?void 0:N,items:z instanceof ae.Name?void 0:z,dynamicProps:N instanceof ae.Name,dynamicItems:z instanceof ae.Name},O.source&&(O.source.evaluated=(0,ae.stringify)(O.evaluated))}return T.validate=O,T}catch(C){throw delete T.validate,delete T.validateName,v&&this.logger.error("Error compiling schema, function code:",v),C}finally{this._compilations.delete(T)}}function R(T){return(0,X.inlineRef)(T.schema,this.opts.inlineRefs)?T.schema:T.validate?T:P.call(this,T)}function x(T){for(const w of this._compilations)if(A(w,T))return w}function A(T,w){return T.schema===w.schema&&T.root===w.root&&T.baseId===w.baseId}function _(T,w){let p;for(;"string"==typeof(p=this.refs[w]);)w=p;return p||this.schemas[w]||m.call(this,T,w)}function m(T,w){const p=this.opts.uriResolver.parse(w),y=(0,X._getFullPath)(this.opts.uriResolver,p);let h=(0,X.getFullPath)(this.opts.uriResolver,T.baseId,void 0);if(Object.keys(T.schema).length>0&&y===h)return I.call(this,p,T);const u=(0,X.normalizeId)(y),l=this.refs[u]||this.schemas[u];if("string"==typeof l){const d=m.call(this,T,l);return"object"!=typeof(null==d?void 0:d.schema)?void 0:I.call(this,p,d)}if("object"==typeof(null==l?void 0:l.schema)){if(l.validate||P.call(this,l),u===(0,X.normalizeId)(w)){const{schema:d}=l,{schemaId:g}=this.opts,f=d[g];return f&&(h=(0,X.resolveUrl)(this.opts.uriResolver,h,f)),new k({schema:d,schemaId:g,root:T,baseId:h})}return I.call(this,p,l)}}Ie.SchemaEnv=k,Ie.compileSchema=P,Ie.resolveRef=function E(T,w,p){var y;p=(0,X.resolveUrl)(this.opts.uriResolver,w,p);const h=T.refs[p];if(h)return h;let u=_.call(this,T,p);if(void 0===u){const l=null===(y=T.localRefs)||void 0===y?void 0:y[p],{schemaId:d}=this.opts;l&&(u=new k({schema:l,schemaId:d,root:T,baseId:w}))}return void 0!==u?T.refs[p]=R.call(this,u):void 0},Ie.getCompilingSchema=x,Ie.resolveSchema=m;const D=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function I(T,{baseId:w,schema:p,root:y}){var h;if("/"!==(null===(h=T.fragment)||void 0===h?void 0:h[0]))return;for(const d of T.fragment.slice(1).split("/")){if("boolean"==typeof p)return;const g=p[(0,ee.unescapeFragment)(d)];if(void 0===g)return;const f="object"==typeof(p=g)&&p[this.opts.schemaId];!D.has(d)&&f&&(w=(0,X.resolveUrl)(this.opts.uriResolver,w,f))}let u;if("boolean"!=typeof p&&p.$ref&&!(0,ee.schemaHasRulesButRef)(p,this.RULES)){const d=(0,X.resolveUrl)(this.opts.uriResolver,w,p.$ref);u=m.call(this,y,d)}const{schemaId:l}=this.opts;return u=u||new k({schema:p,schemaId:l,root:y,baseId:w}),u.schema!==u.root.schema?u:void 0}},5976:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(6382),Z={data:new ae.Name("data"),valCxt:new ae.Name("valCxt"),instancePath:new ae.Name("instancePath"),parentData:new ae.Name("parentData"),parentDataProperty:new ae.Name("parentDataProperty"),rootData:new ae.Name("rootData"),dynamicAnchors:new ae.Name("dynamicAnchors"),vErrors:new ae.Name("vErrors"),errors:new ae.Name("errors"),this:new ae.Name("this"),self:new ae.Name("self"),scope:new ae.Name("scope"),json:new ae.Name("json"),jsonPos:new ae.Name("jsonPos"),jsonLen:new ae.Name("jsonLen"),jsonPart:new ae.Name("jsonPart")};Ie.default=Z},140:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(1880);class Z extends Error{constructor(X,ee,$,k){super(k||`can't resolve reference ${$} from id ${ee}`),this.missingRef=(0,ae.resolveUrl)(X,ee,$),this.missingSchema=(0,ae.normalizeId)((0,ae.getFullPath)(X,this.missingRef))}}Ie.default=Z},1880:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.getSchemaRefs=Ie.resolveUrl=Ie.normalizeId=Ie._getFullPath=Ie.getFullPath=Ie.inlineRef=void 0;const ae=Ve(7990),Z=Ve(2559),V=Ve(3366),X=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);Ie.inlineRef=function ee(I,T=!0){return"boolean"==typeof I||(!0===T?!k(I):!!T&&P(I)<=T)};const $=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function k(I){for(const T in I){if($.has(T))return!0;const w=I[T];if(Array.isArray(w)&&w.some(k)||"object"==typeof w&&k(w))return!0}return!1}function P(I){let T=0;for(const w in I){if("$ref"===w)return 1/0;if(T++,!X.has(w)&&("object"==typeof I[w]&&(0,ae.eachItem)(I[w],p=>T+=P(p)),T===1/0))return 1/0}return T}function E(I,T="",w){!1!==w&&(T=A(T));const p=I.parse(T);return R(I,p)}function R(I,T){return I.serialize(T).split("#")[0]+"#"}Ie.getFullPath=E,Ie._getFullPath=R;const x=/#\/?$/;function A(I){return I?I.replace(x,""):""}Ie.normalizeId=A,Ie.resolveUrl=function _(I,T,w){return w=A(w),I.resolve(T,w)};const m=/^[a-z_][-a-z0-9._]*$/i;Ie.getSchemaRefs=function D(I,T){if("boolean"==typeof I)return{};const{schemaId:w,uriResolver:p}=this.opts,y=A(I[w]||T),h={"":y},u=E(p,y,!1),l={},d=new Set;return V(I,{allKeys:!0},(v,C,S,O)=>{if(void 0===O)return;const N=u+C;let z=h[O];function K(ue){if(ue=A(z?(0,this.opts.uriResolver.resolve)(z,ue):ue),d.has(ue))throw f(ue);d.add(ue);let pe=this.refs[ue];return"string"==typeof pe&&(pe=this.refs[pe]),"object"==typeof pe?g(v,pe.schema,ue):ue!==A(N)&&("#"===ue[0]?(g(v,l[ue],ue),l[ue]=v):this.refs[ue]=N),ue}function Q(ue){if("string"==typeof ue){if(!m.test(ue))throw new Error(`invalid anchor "${ue}"`);K.call(this,`#${ue}`)}}"string"==typeof v[w]&&(z=K.call(this,v[w])),Q.call(this,v.$anchor),Q.call(this,v.$dynamicAnchor),h[C]=z}),l;function g(v,C,S){if(void 0!==C&&!Z(v,C))throw f(S)}function f(v){return new Error(`reference "${v}" resolves to more than one schema`)}}},2848:(hn,Ie)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.getRules=Ie.isJSONType=void 0;const ae=new Set(["string","number","integer","boolean","null","object","array"]);Ie.isJSONType=function Z(X){return"string"==typeof X&&ae.has(X)},Ie.getRules=function V(){const X={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:lf(Ea({},X),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},X.number,X.string,X.array,X.object],post:{rules:[]},all:{},keywords:{}}}},7990:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.checkStrictMode=Ie.getErrorPath=Ie.Type=Ie.useFunc=Ie.setEvaluated=Ie.evaluatedPropsToName=Ie.mergeEvaluated=Ie.eachItem=Ie.unescapeJsonPointer=Ie.escapeJsonPointer=Ie.escapeFragment=Ie.unescapeFragment=Ie.schemaRefOrVal=Ie.schemaHasRulesButRef=Ie.schemaHasRules=Ie.checkUnknownRules=Ie.alwaysValidSchema=Ie.toHash=void 0;const ae=Ve(6382),Z=Ve(6295);function ee(u,l=u.schema){const{opts:d,self:g}=u;if(!d.strictSchema||"boolean"==typeof l)return;const f=g.RULES.keywords;for(const v in l)f[v]||h(u,`unknown keyword: "${v}"`)}function $(u,l){if("boolean"==typeof u)return!u;for(const d in u)if(l[d])return!0;return!1}function x(u){return"number"==typeof u?`${u}`:u.replace(/~/g,"~0").replace(/\//g,"~1")}function A(u){return u.replace(/~1/g,"/").replace(/~0/g,"~")}function m({mergeNames:u,mergeToName:l,mergeValues:d,resultToName:g}){return(f,v,C,S)=>{const O=void 0===C?v:C instanceof ae.Name?(v instanceof ae.Name?u(f,v,C):l(f,v,C),C):v instanceof ae.Name?(l(f,C,v),v):d(v,C);return S!==ae.Name||O instanceof ae.Name?O:g(f,O)}}function D(u,l){if(!0===l)return u.var("props",!0);const d=u.var("props",ae._`{}`);return void 0!==l&&I(u,d,l),d}function I(u,l,d){Object.keys(d).forEach(g=>u.assign(ae._`${l}${(0,ae.getProperty)(g)}`,!0))}Ie.toHash=function V(u){const l={};for(const d of u)l[d]=!0;return l},Ie.alwaysValidSchema=function X(u,l){return"boolean"==typeof l?l:0===Object.keys(l).length||(ee(u,l),!$(l,u.self.RULES.all))},Ie.checkUnknownRules=ee,Ie.schemaHasRules=$,Ie.schemaHasRulesButRef=function k(u,l){if("boolean"==typeof u)return!u;for(const d in u)if("$ref"!==d&&l.all[d])return!0;return!1},Ie.schemaRefOrVal=function P({topSchemaRef:u,schemaPath:l},d,g,f){if(!f){if("number"==typeof d||"boolean"==typeof d)return d;if("string"==typeof d)return ae._`${d}`}return ae._`${u}${l}${(0,ae.getProperty)(g)}`},Ie.unescapeFragment=function E(u){return A(decodeURIComponent(u))},Ie.escapeFragment=function R(u){return encodeURIComponent(x(u))},Ie.escapeJsonPointer=x,Ie.unescapeJsonPointer=A,Ie.eachItem=function _(u,l){if(Array.isArray(u))for(const d of u)l(d);else l(u)},Ie.mergeEvaluated={props:m({mergeNames:(u,l,d)=>u.if(ae._`${d} !== true && ${l} !== undefined`,()=>{u.if(ae._`${l} === true`,()=>u.assign(d,!0),()=>u.assign(d,ae._`${d} || {}`).code(ae._`Object.assign(${d}, ${l})`))}),mergeToName:(u,l,d)=>u.if(ae._`${d} !== true`,()=>{!0===l?u.assign(d,!0):(u.assign(d,ae._`${d} || {}`),I(u,d,l))}),mergeValues:(u,l)=>!0===u||Ea(Ea({},u),l),resultToName:D}),items:m({mergeNames:(u,l,d)=>u.if(ae._`${d} !== true && ${l} !== undefined`,()=>u.assign(d,ae._`${l} === true ? true : ${d} > ${l} ? ${d} : ${l}`)),mergeToName:(u,l,d)=>u.if(ae._`${d} !== true`,()=>u.assign(d,!0===l||ae._`${d} > ${l} ? ${d} : ${l}`)),mergeValues:(u,l)=>!0===u||Math.max(u,l),resultToName:(u,l)=>u.var("items",l)})},Ie.evaluatedPropsToName=D,Ie.setEvaluated=I;const T={};var p,u;function h(u,l,d=u.opts.strictSchema){if(d){if(l=`strict mode: ${l}`,!0===d)throw new Error(l);u.self.logger.warn(l)}}Ie.useFunc=function w(u,l){return u.scopeValue("func",{ref:l,code:T[l.code]||(T[l.code]=new Z._Code(l.code))})},(u=p=Ie.Type||(Ie.Type={}))[u.Num=0]="Num",u[u.Str=1]="Str",Ie.getErrorPath=function y(u,l,d){if(u instanceof ae.Name){const g=l===p.Num;return d?g?ae._`"[" + ${u} + "]"`:ae._`"['" + ${u} + "']"`:g?ae._`"/" + ${u}`:ae._`"/" + ${u}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return d?(0,ae.getProperty)(u).toString():"/"+x(u)},Ie.checkStrictMode=h},368:(hn,Ie)=>{"use strict";function ae(V,X){return X.rules.some(ee=>Z(V,ee))}function Z(V,X){var ee;return void 0!==V[X.keyword]||(null===(ee=X.definition.implements)||void 0===ee?void 0:ee.some($=>void 0!==V[$]))}Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.shouldUseRule=Ie.shouldUseGroup=Ie.schemaHasRulesForType=void 0,Ie.schemaHasRulesForType=function Ve({schema:V,self:X},ee){const $=X.RULES.types[ee];return $&&!0!==$&&ae(V,$)},Ie.shouldUseGroup=ae,Ie.shouldUseRule=Z},8007:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.boolOrEmptySchema=Ie.topBoolOrEmptySchema=void 0;const ae=Ve(5091),Z=Ve(6382),V=Ve(5976),X={message:"boolean schema is false"};function k(P,E){const{gen:R,data:x}=P;(0,ae.reportError)({gen:R,keyword:"false schema",data:x,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:P},X,void 0,E)}Ie.topBoolOrEmptySchema=function ee(P){const{gen:E,schema:R,validateName:x}=P;!1===R?k(P,!1):"object"==typeof R&&!0===R.$async?E.return(V.default.data):(E.assign(Z._`${x}.errors`,null),E.return(!0))},Ie.boolOrEmptySchema=function $(P,E){const{gen:R,schema:x}=P;!1===x?(R.var(E,!1),k(P)):R.var(E,!0)}},9078:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.reportTypeError=Ie.checkDataTypes=Ie.checkDataType=Ie.coerceAndCheckDataType=Ie.getJSONTypes=Ie.getSchemaTypes=Ie.DataType=void 0;const ae=Ve(2848),Z=Ve(368),V=Ve(5091),X=Ve(6382),ee=Ve(7990);var $,p;function P(p){const y=Array.isArray(p)?p:p?[p]:[];if(y.every(ae.isJSONType))return y;throw new Error("type must be JSONType or JSONType[]: "+y.join(","))}(p=$=Ie.DataType||(Ie.DataType={}))[p.Correct=0]="Correct",p[p.Wrong=1]="Wrong",Ie.getSchemaTypes=function k(p){const y=P(p.type);if(y.includes("null")){if(!1===p.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!y.length&&void 0!==p.nullable)throw new Error('"nullable" cannot be used without "type"');!0===p.nullable&&y.push("null")}return y},Ie.getJSONTypes=P,Ie.coerceAndCheckDataType=function E(p,y){const{gen:h,data:u,opts:l}=p,d=function x(p,y){return y?p.filter(h=>R.has(h)||"array"===y&&"array"===h):[]}(y,l.coerceTypes),g=y.length>0&&!(0===d.length&&1===y.length&&(0,Z.schemaHasRulesForType)(p,y[0]));if(g){const f=D(y,u,l.strictNumbers,$.Wrong);h.if(f,()=>{d.length?function A(p,y,h){const{gen:u,data:l,opts:d}=p,g=u.let("dataType",X._`typeof ${l}`),f=u.let("coerced",X._`undefined`);"array"===d.coerceTypes&&u.if(X._`${g} == 'object' && Array.isArray(${l}) && ${l}.length == 1`,()=>u.assign(l,X._`${l}[0]`).assign(g,X._`typeof ${l}`).if(D(y,l,d.strictNumbers),()=>u.assign(f,l))),u.if(X._`${f} !== undefined`);for(const C of h)(R.has(C)||"array"===C&&"array"===d.coerceTypes)&&v(C);function v(C){switch(C){case"string":return void u.elseIf(X._`${g} == "number" || ${g} == "boolean"`).assign(f,X._`"" + ${l}`).elseIf(X._`${l} === null`).assign(f,X._`""`);case"number":return void u.elseIf(X._`${g} == "boolean" || ${l} === null
              || (${g} == "string" && ${l} && ${l} == +${l})`).assign(f,X._`+${l}`);case"integer":return void u.elseIf(X._`${g} === "boolean" || ${l} === null
              || (${g} === "string" && ${l} && ${l} == +${l} && !(${l} % 1))`).assign(f,X._`+${l}`);case"boolean":return void u.elseIf(X._`${l} === "false" || ${l} === 0 || ${l} === null`).assign(f,!1).elseIf(X._`${l} === "true" || ${l} === 1`).assign(f,!0);case"null":return u.elseIf(X._`${l} === "" || ${l} === 0 || ${l} === false`),void u.assign(f,null);case"array":u.elseIf(X._`${g} === "string" || ${g} === "number"
              || ${g} === "boolean" || ${l} === null`).assign(f,X._`[${l}]`)}}u.else(),T(p),u.endIf(),u.if(X._`${f} !== undefined`,()=>{u.assign(l,f),function _({gen:p,parentData:y,parentDataProperty:h},u){p.if(X._`${y} !== undefined`,()=>p.assign(X._`${y}[${h}]`,u))}(p,f)})}(p,y,d):T(p)})}return g};const R=new Set(["string","number","integer","boolean","null"]);function m(p,y,h,u=$.Correct){const l=u===$.Correct?X.operators.EQ:X.operators.NEQ;let d;switch(p){case"null":return X._`${y} ${l} null`;case"array":d=X._`Array.isArray(${y})`;break;case"object":d=X._`${y} && typeof ${y} == "object" && !Array.isArray(${y})`;break;case"integer":d=g(X._`!(${y} % 1) && !isNaN(${y})`);break;case"number":d=g();break;default:return X._`typeof ${y} ${l} ${p}`}return u===$.Correct?d:(0,X.not)(d);function g(f=X.nil){return(0,X.and)(X._`typeof ${y} == "number"`,f,h?X._`isFinite(${y})`:X.nil)}}function D(p,y,h,u){if(1===p.length)return m(p[0],y,h,u);let l;const d=(0,ee.toHash)(p);if(d.array&&d.object){const g=X._`typeof ${y} != "object"`;l=d.null?g:X._`!${y} || ${g}`,delete d.null,delete d.array,delete d.object}else l=X.nil;d.number&&delete d.integer;for(const g in d)l=(0,X.and)(l,m(g,y,h,u));return l}Ie.checkDataType=m,Ie.checkDataTypes=D;const I={message:({schema:p})=>`must be ${p}`,params:({schema:p,schemaValue:y})=>"string"==typeof p?X._`{type: ${p}}`:X._`{type: ${y}}`};function T(p){const y=function w(p){const{gen:y,data:h,schema:u}=p,l=(0,ee.schemaRefOrVal)(p,u,"type");return{gen:y,keyword:"type",data:h,schema:u.type,schemaCode:l,schemaValue:l,parentSchema:u,params:{},it:p}}(p);(0,V.reportError)(y,I)}Ie.reportTypeError=T},7866:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.assignDefaults=void 0;const ae=Ve(6382),Z=Ve(7990);function X(ee,$,k){const{gen:P,compositeRule:E,data:R,opts:x}=ee;if(void 0===k)return;const A=ae._`${R}${(0,ae.getProperty)($)}`;if(E)return void(0,Z.checkStrictMode)(ee,`default is ignored for: ${A}`);let _=ae._`${A} === undefined`;"empty"===x.useDefaults&&(_=ae._`${_} || ${A} === null || ${A} === ""`),P.if(_,ae._`${A} = ${(0,ae.stringify)(k)}`)}Ie.assignDefaults=function V(ee,$){const{properties:k,items:P}=ee.schema;if("object"===$&&k)for(const E in k)X(ee,E,k[E].default);else"array"===$&&Array.isArray(P)&&P.forEach((E,R)=>X(ee,R,E.default))}},6764:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.getData=Ie.KeywordCxt=Ie.validateFunctionCode=void 0;const ae=Ve(8007),Z=Ve(9078),V=Ve(368),X=Ve(9078),ee=Ve(7866),$=Ve(2707),k=Ve(2639),P=Ve(6382),E=Ve(5976),R=Ve(1880),x=Ve(7990),A=Ve(5091);function m({gen:Ee,validateName:ie,schema:de,schemaEnv:me,opts:Ce},re){Ce.code.es5?Ee.func(ie,P._`${E.default.data}, ${E.default.valCxt}`,me.$async,()=>{Ee.code(P._`"use strict"; ${p(de,Ce)}`),function I(Ee,ie){Ee.if(E.default.valCxt,()=>{Ee.var(E.default.instancePath,P._`${E.default.valCxt}.${E.default.instancePath}`),Ee.var(E.default.parentData,P._`${E.default.valCxt}.${E.default.parentData}`),Ee.var(E.default.parentDataProperty,P._`${E.default.valCxt}.${E.default.parentDataProperty}`),Ee.var(E.default.rootData,P._`${E.default.valCxt}.${E.default.rootData}`),ie.dynamicRef&&Ee.var(E.default.dynamicAnchors,P._`${E.default.valCxt}.${E.default.dynamicAnchors}`)},()=>{Ee.var(E.default.instancePath,P._`""`),Ee.var(E.default.parentData,P._`undefined`),Ee.var(E.default.parentDataProperty,P._`undefined`),Ee.var(E.default.rootData,E.default.data),ie.dynamicRef&&Ee.var(E.default.dynamicAnchors,P._`{}`)})}(Ee,Ce),Ee.code(re)}):Ee.func(ie,P._`${E.default.data}, ${function D(Ee){return P._`{${E.default.instancePath}="", ${E.default.parentData}, ${E.default.parentDataProperty}, ${E.default.rootData}=${E.default.data}${Ee.dynamicRef?P._`, ${E.default.dynamicAnchors}={}`:P.nil}}={}`}(Ce)}`,me.$async,()=>Ee.code(p(de,Ce)).code(re))}function p(Ee,ie){const de="object"==typeof Ee&&Ee[ie.schemaId];return de&&(ie.code.source||ie.code.process)?P._`/*# sourceURL=${de} */`:P.nil}function h({schema:Ee,self:ie}){if("boolean"==typeof Ee)return!Ee;for(const de in Ee)if(ie.RULES.all[de])return!0;return!1}function u(Ee){return"boolean"!=typeof Ee.schema}function d(Ee){(0,x.checkUnknownRules)(Ee),function f(Ee){const{schema:ie,errSchemaPath:de,opts:me,self:Ce}=Ee;ie.$ref&&me.ignoreKeywordsWithRef&&(0,x.schemaHasRulesButRef)(ie,Ce.RULES)&&Ce.logger.warn(`$ref: keywords ignored in schema at path "${de}"`)}(Ee)}function g(Ee,ie){if(Ee.opts.jtd)return K(Ee,[],!1,ie);const de=(0,Z.getSchemaTypes)(Ee.schema);K(Ee,de,!(0,Z.coerceAndCheckDataType)(Ee,de),ie)}function O({gen:Ee,schemaEnv:ie,schema:de,errSchemaPath:me,opts:Ce}){const re=de.$comment;if(!0===Ce.$comment)Ee.code(P._`${E.default.self}.logger.log(${re})`);else if("function"==typeof Ce.$comment){const le=P.str`${me}/$comment`,ve=Ee.scopeValue("root",{ref:ie.root});Ee.code(P._`${E.default.self}.opts.$comment(${re}, ${le}, ${ve}.schema)`)}}function K(Ee,ie,de,me){const{gen:Ce,schema:re,data:le,allErrors:ve,opts:we,self:Pe}=Ee,{RULES:Ue}=Pe;function dt(xt){!(0,V.shouldUseGroup)(re,xt)||(xt.type?(Ce.if((0,X.checkDataType)(xt.type,le,we.strictNumbers)),Q(Ee,xt),1===ie.length&&ie[0]===xt.type&&de&&(Ce.else(),(0,X.reportTypeError)(Ee)),Ce.endIf()):Q(Ee,xt),ve||Ce.if(P._`${E.default.errors} === ${me||0}`))}!re.$ref||!we.ignoreKeywordsWithRef&&(0,x.schemaHasRulesButRef)(re,Ue)?(we.jtd||function ue(Ee,ie){Ee.schemaEnv.meta||!Ee.opts.strictTypes||(function oe(Ee,ie){if(ie.length){if(!Ee.dataTypes.length)return void(Ee.dataTypes=ie);ie.forEach(de=>{Y(Ee.dataTypes,de)||ne(Ee,`type "${de}" not allowed by context "${Ee.dataTypes.join(",")}"`)}),function W(Ee,ie){const de=[];for(const me of Ee.dataTypes)Y(ie,me)?de.push(me):ie.includes("integer")&&"number"===me&&de.push("integer");Ee.dataTypes=de}(Ee,ie)}}(Ee,ie),Ee.opts.allowUnionTypes||function pe(Ee,ie){ie.length>1&&(2!==ie.length||!ie.includes("null"))&&ne(Ee,"use allowUnionTypes to allow union type keyword")}(Ee,ie),function F(Ee,ie){const de=Ee.self.RULES.all;for(const me in de){const Ce=de[me];if("object"==typeof Ce&&(0,V.shouldUseRule)(Ee.schema,Ce)){const{type:re}=Ce.definition;re.length&&!re.some(le=>U(ie,le))&&ne(Ee,`missing type "${re.join(",")}" for keyword "${me}"`)}}}(Ee,Ee.dataTypes))}(Ee,ie),Ce.block(()=>{for(const xt of Ue.rules)dt(xt);dt(Ue.post)})):Ce.block(()=>he(Ee,"$ref",Ue.all.$ref.definition))}function Q(Ee,ie){const{gen:de,schema:me,opts:{useDefaults:Ce}}=Ee;Ce&&(0,ee.assignDefaults)(Ee,ie.type),de.block(()=>{for(const re of ie.rules)(0,V.shouldUseRule)(me,re)&&he(Ee,re.keyword,re.definition,ie.type)})}function U(Ee,ie){return Ee.includes(ie)||"number"===ie&&Ee.includes("integer")}function Y(Ee,ie){return Ee.includes(ie)||"integer"===ie&&Ee.includes("number")}function ne(Ee,ie){(0,x.checkStrictMode)(Ee,ie+=` at "${Ee.schemaEnv.baseId+Ee.errSchemaPath}" (strictTypes)`,Ee.opts.strictTypes)}Ie.validateFunctionCode=function _(Ee){u(Ee)&&(d(Ee),h(Ee))?function T(Ee){const{schema:ie,opts:de,gen:me}=Ee;m(Ee,()=>{de.$comment&&ie.$comment&&O(Ee),function v(Ee){const{schema:ie,opts:de}=Ee;void 0!==ie.default&&de.useDefaults&&de.strictSchema&&(0,x.checkStrictMode)(Ee,"default is ignored in the schema root")}(Ee),me.let(E.default.vErrors,null),me.let(E.default.errors,0),de.unevaluated&&function w(Ee){const{gen:ie,validateName:de}=Ee;Ee.evaluated=ie.const("evaluated",P._`${de}.evaluated`),ie.if(P._`${Ee.evaluated}.dynamicProps`,()=>ie.assign(P._`${Ee.evaluated}.props`,P._`undefined`)),ie.if(P._`${Ee.evaluated}.dynamicItems`,()=>ie.assign(P._`${Ee.evaluated}.items`,P._`undefined`))}(Ee),g(Ee),function N(Ee){const{gen:ie,schemaEnv:de,validateName:me,ValidationError:Ce,opts:re}=Ee;de.$async?ie.if(P._`${E.default.errors} === 0`,()=>ie.return(E.default.data),()=>ie.throw(P._`new ${Ce}(${E.default.vErrors})`)):(ie.assign(P._`${me}.errors`,E.default.vErrors),re.unevaluated&&function z({gen:Ee,evaluated:ie,props:de,items:me}){de instanceof P.Name&&Ee.assign(P._`${ie}.props`,de),me instanceof P.Name&&Ee.assign(P._`${ie}.items`,me)}(Ee),ie.return(P._`${E.default.errors} === 0`))}(Ee)})}(Ee):m(Ee,()=>(0,ae.topBoolOrEmptySchema)(Ee))};class fe{constructor(ie,de,me){if((0,$.validateKeywordUsage)(ie,de,me),this.gen=ie.gen,this.allErrors=ie.allErrors,this.keyword=me,this.data=ie.data,this.schema=ie.schema[me],this.$data=de.$data&&ie.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,x.schemaRefOrVal)(ie,this.schema,me,this.$data),this.schemaType=de.schemaType,this.parentSchema=ie.schema,this.params={},this.it=ie,this.def=de,this.$data)this.schemaCode=ie.gen.const("vSchema",xe(this.$data,ie));else if(this.schemaCode=this.schemaValue,!(0,$.validSchemaType)(this.schema,de.schemaType,de.allowUndefined))throw new Error(`${me} value must be ${JSON.stringify(de.schemaType)}`);("code"in de?de.trackErrors:!1!==de.errors)&&(this.errsCount=ie.gen.const("_errs",E.default.errors))}result(ie,de,me){this.failResult((0,P.not)(ie),de,me)}failResult(ie,de,me){this.gen.if(ie),me?me():this.error(),de?(this.gen.else(),de(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(ie,de){this.failResult((0,P.not)(ie),void 0,de)}fail(ie){if(void 0===ie)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(ie),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(ie){if(!this.$data)return this.fail(ie);const{schemaCode:de}=this;this.fail(P._`${de} !== undefined && (${(0,P.or)(this.invalid$data(),ie)})`)}error(ie,de,me){if(de)return this.setParams(de),this._error(ie,me),void this.setParams({});this._error(ie,me)}_error(ie,de){(ie?A.reportExtraError:A.reportError)(this,this.def.error,de)}$dataError(){(0,A.reportError)(this,this.def.$dataError||A.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,A.resetErrorsCount)(this.gen,this.errsCount)}ok(ie){this.allErrors||this.gen.if(ie)}setParams(ie,de){de?Object.assign(this.params,ie):this.params=ie}block$data(ie,de,me=P.nil){this.gen.block(()=>{this.check$data(ie,me),de()})}check$data(ie=P.nil,de=P.nil){if(!this.$data)return;const{gen:me,schemaCode:Ce,schemaType:re,def:le}=this;me.if((0,P.or)(P._`${Ce} === undefined`,de)),ie!==P.nil&&me.assign(ie,!0),(re.length||le.validateSchema)&&(me.elseIf(this.invalid$data()),this.$dataError(),ie!==P.nil&&me.assign(ie,!1)),me.else()}invalid$data(){const{gen:ie,schemaCode:de,schemaType:me,def:Ce,it:re}=this;return(0,P.or)(function le(){if(me.length){if(!(de instanceof P.Name))throw new Error("ajv implementation error");const we=Array.isArray(me)?me:[me];return P._`${(0,X.checkDataTypes)(we,de,re.opts.strictNumbers,X.DataType.Wrong)}`}return P.nil}(),function ve(){if(Ce.validateSchema){const we=ie.scopeValue("validate$data",{ref:Ce.validateSchema});return P._`!${we}(${de})`}return P.nil}())}subschema(ie,de){const me=(0,k.getSubschema)(this.it,ie);(0,k.extendSubschemaData)(me,this.it,ie),(0,k.extendSubschemaMode)(me,ie);const Ce=lf(Ea(Ea({},this.it),me),{items:void 0,props:void 0});return function y(Ee,ie){u(Ee)&&(d(Ee),h(Ee))?function l(Ee,ie){const{schema:de,gen:me,opts:Ce}=Ee;Ce.$comment&&de.$comment&&O(Ee),function C(Ee){const ie=Ee.schema[Ee.opts.schemaId];ie&&(Ee.baseId=(0,R.resolveUrl)(Ee.opts.uriResolver,Ee.baseId,ie))}(Ee),function S(Ee){if(Ee.schema.$async&&!Ee.schemaEnv.$async)throw new Error("async schema in sync schema")}(Ee);const re=me.const("_errs",E.default.errors);g(Ee,re),me.var(ie,P._`${re} === ${E.default.errors}`)}(Ee,ie):(0,ae.boolOrEmptySchema)(Ee,ie)}(Ce,de),Ce}mergeEvaluated(ie,de){const{it:me,gen:Ce}=this;!me.opts.unevaluated||(!0!==me.props&&void 0!==ie.props&&(me.props=x.mergeEvaluated.props(Ce,ie.props,me.props,de)),!0!==me.items&&void 0!==ie.items&&(me.items=x.mergeEvaluated.items(Ce,ie.items,me.items,de)))}mergeValidEvaluated(ie,de){const{it:me,gen:Ce}=this;if(me.opts.unevaluated&&(!0!==me.props||!0!==me.items))return Ce.if(de,()=>this.mergeEvaluated(ie,P.Name)),!0}}function he(Ee,ie,de,me){const Ce=new fe(Ee,de,ie);"code"in de?de.code(Ce,me):Ce.$data&&de.validate?(0,$.funcKeywordCode)(Ce,de):"macro"in de?(0,$.macroKeywordCode)(Ce,de):(de.compile||de.validate)&&(0,$.funcKeywordCode)(Ce,de)}Ie.KeywordCxt=fe;const Ae=/^\/(?:[^~]|~0|~1)*$/,ke=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function xe(Ee,{dataLevel:ie,dataNames:de,dataPathArr:me}){let Ce,re;if(""===Ee)return E.default.rootData;if("/"===Ee[0]){if(!Ae.test(Ee))throw new Error(`Invalid JSON-pointer: ${Ee}`);Ce=Ee,re=E.default.rootData}else{const Pe=ke.exec(Ee);if(!Pe)throw new Error(`Invalid JSON-pointer: ${Ee}`);const Ue=+Pe[1];if(Ce=Pe[2],"#"===Ce){if(Ue>=ie)throw new Error(we("property/index",Ue));return me[ie-Ue]}if(Ue>ie)throw new Error(we("data",Ue));if(re=de[ie-Ue],!Ce)return re}let le=re;const ve=Ce.split("/");for(const Pe of ve)Pe&&(re=P._`${re}${(0,P.getProperty)((0,x.unescapeJsonPointer)(Pe))}`,le=P._`${le} && ${re}`);return le;function we(Pe,Ue){return`Cannot access ${Pe} ${Ue} levels up, current level is ${ie}`}}Ie.getData=xe},2707:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.validateKeywordUsage=Ie.validSchemaType=Ie.funcKeywordCode=Ie.macroKeywordCode=void 0;const ae=Ve(6382),Z=Ve(5976),V=Ve(2812),X=Ve(5091);function k(_){const{gen:m,data:D,it:I}=_;m.if(I.parentData,()=>m.assign(D,ae._`${I.parentData}[${I.parentDataProperty}]`))}function R(_,m,D){if(void 0===D)throw new Error(`keyword "${m}" failed to compile`);return _.scopeValue("keyword","function"==typeof D?{ref:D}:{ref:D,code:(0,ae.stringify)(D)})}Ie.macroKeywordCode=function ee(_,m){const{gen:D,keyword:I,schema:T,parentSchema:w,it:p}=_,y=m.macro.call(p.self,T,w,p),h=R(D,I,y);!1!==p.opts.validateSchema&&p.self.validateSchema(y,!0);const u=D.name("valid");_.subschema({schema:y,schemaPath:ae.nil,errSchemaPath:`${p.errSchemaPath}/${I}`,topSchemaRef:h,compositeRule:!0},u),_.pass(u,()=>_.error(!0))},Ie.funcKeywordCode=function $(_,m){var D;const{gen:I,keyword:T,schema:w,parentSchema:p,$data:y,it:h}=_;!function E({schemaEnv:_},m){if(m.async&&!_.$async)throw new Error("async keyword in sync schema")}(h,m);const u=!y&&m.compile?m.compile.call(h.self,w,p,h):m.validate,l=R(I,T,u),d=I.let("valid");function C(O=(m.async?ae._`await `:ae.nil)){I.assign(d,ae._`${O}${(0,V.callValidateCode)(_,l,h.opts.passContext?Z.default.this:Z.default.self,!("compile"in m&&!y||!1===m.schema))}`,m.modifying)}function S(O){var N;I.if((0,ae.not)(null!==(N=m.valid)&&void 0!==N?N:d),O)}_.block$data(d,function g(){if(!1===m.errors)C(),m.modifying&&k(_),S(()=>_.error());else{const O=m.async?function f(){const O=I.let("ruleErrs",null);return I.try(()=>C(ae._`await `),N=>I.assign(d,!1).if(ae._`${N} instanceof ${h.ValidationError}`,()=>I.assign(O,ae._`${N}.errors`),()=>I.throw(N))),O}():function v(){const O=ae._`${l}.errors`;return I.assign(O,null),C(ae.nil),O}();m.modifying&&k(_),S(()=>function P(_,m){const{gen:D}=_;D.if(ae._`Array.isArray(${m})`,()=>{D.assign(Z.default.vErrors,ae._`${Z.default.vErrors} === null ? ${m} : ${Z.default.vErrors}.concat(${m})`).assign(Z.default.errors,ae._`${Z.default.vErrors}.length`),(0,X.extendErrors)(_)},()=>_.error())}(_,O))}}),_.ok(null!==(D=m.valid)&&void 0!==D?D:d)},Ie.validSchemaType=function x(_,m,D=!1){return!m.length||m.some(I=>"array"===I?Array.isArray(_):"object"===I?_&&"object"==typeof _&&!Array.isArray(_):typeof _==I||D&&void 0===_)},Ie.validateKeywordUsage=function A({schema:_,opts:m,self:D,errSchemaPath:I},T,w){if(Array.isArray(T.keyword)?!T.keyword.includes(w):T.keyword!==w)throw new Error("ajv implementation error");const p=T.dependencies;if(null!=p&&p.some(y=>!Object.prototype.hasOwnProperty.call(_,y)))throw new Error(`parent schema must have dependencies of ${w}: ${p.join(",")}`);if(T.validateSchema&&!T.validateSchema(_[w])){const h=`keyword "${w}" value is invalid at path "${I}": `+D.errorsText(T.validateSchema.errors);if("log"!==m.validateSchema)throw new Error(h);D.logger.error(h)}}},2639:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.extendSubschemaMode=Ie.extendSubschemaData=Ie.getSubschema=void 0;const ae=Ve(6382),Z=Ve(7990);Ie.getSubschema=function V($,{keyword:k,schemaProp:P,schema:E,schemaPath:R,errSchemaPath:x,topSchemaRef:A}){if(void 0!==k&&void 0!==E)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==k){const _=$.schema[k];return void 0===P?{schema:_,schemaPath:ae._`${$.schemaPath}${(0,ae.getProperty)(k)}`,errSchemaPath:`${$.errSchemaPath}/${k}`}:{schema:_[P],schemaPath:ae._`${$.schemaPath}${(0,ae.getProperty)(k)}${(0,ae.getProperty)(P)}`,errSchemaPath:`${$.errSchemaPath}/${k}/${(0,Z.escapeFragment)(P)}`}}if(void 0!==E){if(void 0===R||void 0===x||void 0===A)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:E,schemaPath:R,topSchemaRef:A,errSchemaPath:x}}throw new Error('either "keyword" or "schema" must be passed')},Ie.extendSubschemaData=function X($,k,{dataProp:P,dataPropType:E,data:R,dataTypes:x,propertyName:A}){if(void 0!==R&&void 0!==P)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:_}=k;if(void 0!==P){const{errorPath:D,dataPathArr:I,opts:T}=k;m(_.let("data",ae._`${k.data}${(0,ae.getProperty)(P)}`,!0)),$.errorPath=ae.str`${D}${(0,Z.getErrorPath)(P,E,T.jsPropertySyntax)}`,$.parentDataProperty=ae._`${P}`,$.dataPathArr=[...I,$.parentDataProperty]}function m(D){$.data=D,$.dataLevel=k.dataLevel+1,$.dataTypes=[],k.definedProperties=new Set,$.parentData=k.data,$.dataNames=[...k.dataNames,D]}void 0!==R&&(m(R instanceof ae.Name?R:_.let("data",R,!0)),void 0!==A&&($.propertyName=A)),x&&($.dataTypes=x)},Ie.extendSubschemaMode=function ee($,{jtdDiscriminator:k,jtdMetadata:P,compositeRule:E,createErrors:R,allErrors:x}){void 0!==E&&($.compositeRule=E),void 0!==R&&($.createErrors=R),void 0!==x&&($.allErrors=x),$.jtdDiscriminator=k,$.jtdMetadata=P}},5910:(hn,Ie,Ve)=>{"use strict";var ae=Ve(7156).default;Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.CodeGen=Ie.Name=Ie.nil=Ie.stringify=Ie.str=Ie._=Ie.KeywordCxt=void 0;var Z=Ve(6764);Object.defineProperty(Ie,"KeywordCxt",{enumerable:!0,get:function(){return Z.KeywordCxt}});var V=Ve(6382);Object.defineProperty(Ie,"_",{enumerable:!0,get:function(){return V._}}),Object.defineProperty(Ie,"str",{enumerable:!0,get:function(){return V.str}}),Object.defineProperty(Ie,"stringify",{enumerable:!0,get:function(){return V.stringify}}),Object.defineProperty(Ie,"nil",{enumerable:!0,get:function(){return V.nil}}),Object.defineProperty(Ie,"Name",{enumerable:!0,get:function(){return V.Name}}),Object.defineProperty(Ie,"CodeGen",{enumerable:!0,get:function(){return V.CodeGen}});const X=Ve(496),ee=Ve(140),$=Ve(2848),k=Ve(7140),P=Ve(6382),E=Ve(1880),R=Ve(9078),x=Ve(7990),A=Ve(4775),_=Ve(1364),m=(pe,F)=>new RegExp(pe,F);m.code="new RegExp";const D=["removeAdditional","useDefaults","coerceTypes"],I=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),T={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},w={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};class h{constructor(F={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,F=this.opts=Ea(Ea({},F),function y(pe){var F,U,Y,W,ne,fe,he,Ae,ke,xe,Ee,ie,de,me,Ce,re,le,ve,we,Pe,Ue,dt,xt,Zt,en;const tn=pe.strict,Kt=null===(F=pe.code)||void 0===F?void 0:F.optimize,On=!0===Kt||void 0===Kt?1:Kt||0,Dn=null!==(Y=null===(U=pe.code)||void 0===U?void 0:U.regExp)&&void 0!==Y?Y:m,un=null!==(W=pe.uriResolver)&&void 0!==W?W:_.default;return{strictSchema:null===(fe=null!==(ne=pe.strictSchema)&&void 0!==ne?ne:tn)||void 0===fe||fe,strictNumbers:null===(Ae=null!==(he=pe.strictNumbers)&&void 0!==he?he:tn)||void 0===Ae||Ae,strictTypes:null!==(xe=null!==(ke=pe.strictTypes)&&void 0!==ke?ke:tn)&&void 0!==xe?xe:"log",strictTuples:null!==(ie=null!==(Ee=pe.strictTuples)&&void 0!==Ee?Ee:tn)&&void 0!==ie?ie:"log",strictRequired:null!==(me=null!==(de=pe.strictRequired)&&void 0!==de?de:tn)&&void 0!==me&&me,code:pe.code?lf(Ea({},pe.code),{optimize:On,regExp:Dn}):{optimize:On,regExp:Dn},loopRequired:null!==(Ce=pe.loopRequired)&&void 0!==Ce?Ce:200,loopEnum:null!==(re=pe.loopEnum)&&void 0!==re?re:200,meta:null===(le=pe.meta)||void 0===le||le,messages:null===(ve=pe.messages)||void 0===ve||ve,inlineRefs:null===(we=pe.inlineRefs)||void 0===we||we,schemaId:null!==(Pe=pe.schemaId)&&void 0!==Pe?Pe:"$id",addUsedSchema:null===(Ue=pe.addUsedSchema)||void 0===Ue||Ue,validateSchema:null===(dt=pe.validateSchema)||void 0===dt||dt,validateFormats:null===(xt=pe.validateFormats)||void 0===xt||xt,unicodeRegExp:null===(Zt=pe.unicodeRegExp)||void 0===Zt||Zt,int32range:null===(en=pe.int32range)||void 0===en||en,uriResolver:un}}(F));const{es5:U,lines:Y}=this.opts.code;this.scope=new P.ValueScope({scope:{},prefixes:I,es5:U,lines:Y}),this.logger=function S(pe){if(!1===pe)return C;if(void 0===pe)return console;if(pe.log&&pe.warn&&pe.error)return pe;throw new Error("logger must implement log, warn and error methods")}(F.logger);const W=F.validateFormats;F.validateFormats=!1,this.RULES=(0,$.getRules)(),u.call(this,T,F,"NOT SUPPORTED"),u.call(this,w,F,"DEPRECATED","warn"),this._metaOpts=v.call(this),F.formats&&g.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),F.keywords&&f.call(this,F.keywords),"object"==typeof F.meta&&this.addMetaSchema(F.meta),d.call(this),F.validateFormats=W}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:F,meta:U,schemaId:Y}=this.opts;let W=A;"id"===Y&&(W=Ea({},A),W.id=W.$id,delete W.$id),U&&F&&this.addMetaSchema(W,W[Y],!1)}defaultMeta(){const{meta:F,schemaId:U}=this.opts;return this.opts.defaultMeta="object"==typeof F?F[U]||F:void 0}validate(F,U){let Y;if("string"==typeof F){if(Y=this.getSchema(F),!Y)throw new Error(`no schema with key or ref "${F}"`)}else Y=this.compile(F);const W=Y(U);return"$async"in Y||(this.errors=Y.errors),W}compile(F,U){const Y=this._addSchema(F,U);return Y.validate||this._compileSchemaEnv(Y)}compileAsync(F,U){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:Y}=this.opts;return W.call(this,F,U);function W(Ce,re){return ne.apply(this,arguments)}function ne(){return(ne=ae(function*(Ce,re){yield fe.call(this,Ce.$schema);const le=this._addSchema(Ce,re);return le.validate||Ae.call(this,le)})).apply(this,arguments)}function fe(Ce){return he.apply(this,arguments)}function he(){return(he=ae(function*(Ce){Ce&&!this.getSchema(Ce)&&(yield W.call(this,{$ref:Ce},!0))})).apply(this,arguments)}function Ae(Ce){return ke.apply(this,arguments)}function ke(){return(ke=ae(function*(Ce){try{return this._compileSchemaEnv(Ce)}catch(re){if(!(re instanceof ee.default))throw re;return xe.call(this,re),yield Ee.call(this,re.missingSchema),Ae.call(this,Ce)}})).apply(this,arguments)}function xe({missingSchema:Ce,missingRef:re}){if(this.refs[Ce])throw new Error(`AnySchema ${Ce} is loaded but ${re} cannot be resolved`)}function Ee(Ce){return ie.apply(this,arguments)}function ie(){return(ie=ae(function*(Ce){const re=yield de.call(this,Ce);this.refs[Ce]||(yield fe.call(this,re.$schema)),this.refs[Ce]||this.addSchema(re,Ce,U)})).apply(this,arguments)}function de(Ce){return me.apply(this,arguments)}function me(){return(me=ae(function*(Ce){const re=this._loading[Ce];if(re)return re;try{return yield this._loading[Ce]=Y(Ce)}finally{delete this._loading[Ce]}})).apply(this,arguments)}}addSchema(F,U,Y,W=this.opts.validateSchema){if(Array.isArray(F)){for(const fe of F)this.addSchema(fe,void 0,Y,W);return this}let ne;if("object"==typeof F){const{schemaId:fe}=this.opts;if(ne=F[fe],void 0!==ne&&"string"!=typeof ne)throw new Error(`schema ${fe} must be string`)}return U=(0,E.normalizeId)(U||ne),this._checkUnique(U),this.schemas[U]=this._addSchema(F,Y,U,W,!0),this}addMetaSchema(F,U,Y=this.opts.validateSchema){return this.addSchema(F,U,!0,Y),this}validateSchema(F,U){if("boolean"==typeof F)return!0;let Y;if(Y=F.$schema,void 0!==Y&&"string"!=typeof Y)throw new Error("$schema must be a string");if(Y=Y||this.opts.defaultMeta||this.defaultMeta(),!Y)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const W=this.validate(Y,F);if(!W&&U){const ne="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(ne);this.logger.error(ne)}return W}getSchema(F){let U;for(;"string"==typeof(U=l.call(this,F));)F=U;if(void 0===U){const{schemaId:Y}=this.opts,W=new k.SchemaEnv({schema:{},schemaId:Y});if(U=k.resolveSchema.call(this,W,F),!U)return;this.refs[F]=U}return U.validate||this._compileSchemaEnv(U)}removeSchema(F){if(F instanceof RegExp)return this._removeAllSchemas(this.schemas,F),this._removeAllSchemas(this.refs,F),this;switch(typeof F){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const U=l.call(this,F);return"object"==typeof U&&this._cache.delete(U.schema),delete this.schemas[F],delete this.refs[F],this}case"object":{this._cache.delete(F);let Y=F[this.opts.schemaId];return Y&&(Y=(0,E.normalizeId)(Y),delete this.schemas[Y],delete this.refs[Y]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(F){for(const U of F)this.addKeyword(U);return this}addKeyword(F,U){let Y;if("string"==typeof F)Y=F,"object"==typeof U&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),U.keyword=Y);else{if("object"!=typeof F||void 0!==U)throw new Error("invalid addKeywords parameters");if(Y=(U=F).keyword,Array.isArray(Y)&&!Y.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(N.call(this,Y,U),!U)return(0,x.eachItem)(Y,ne=>z.call(this,ne)),this;Q.call(this,U);const W=lf(Ea({},U),{type:(0,R.getJSONTypes)(U.type),schemaType:(0,R.getJSONTypes)(U.schemaType)});return(0,x.eachItem)(Y,0===W.type.length?ne=>z.call(this,ne,W):ne=>W.type.forEach(fe=>z.call(this,ne,W,fe))),this}getKeyword(F){const U=this.RULES.all[F];return"object"==typeof U?U.definition:!!U}removeKeyword(F){const{RULES:U}=this;delete U.keywords[F],delete U.all[F];for(const Y of U.rules){const W=Y.rules.findIndex(ne=>ne.keyword===F);W>=0&&Y.rules.splice(W,1)}return this}addFormat(F,U){return"string"==typeof U&&(U=new RegExp(U)),this.formats[F]=U,this}errorsText(F=this.errors,{separator:U=", ",dataVar:Y="data"}={}){return F&&0!==F.length?F.map(W=>`${Y}${W.instancePath} ${W.message}`).reduce((W,ne)=>W+U+ne):"No errors"}$dataMetaSchema(F,U){const Y=this.RULES.all;F=JSON.parse(JSON.stringify(F));for(const W of U){const ne=W.split("/").slice(1);let fe=F;for(const he of ne)fe=fe[he];for(const he in Y){const Ae=Y[he];if("object"!=typeof Ae)continue;const{$data:ke}=Ae.definition,xe=fe[he];ke&&xe&&(fe[he]=oe(xe))}}return F}_removeAllSchemas(F,U){for(const Y in F){const W=F[Y];(!U||U.test(Y))&&("string"==typeof W?delete F[Y]:W&&!W.meta&&(this._cache.delete(W.schema),delete F[Y]))}}_addSchema(F,U,Y,W=this.opts.validateSchema,ne=this.opts.addUsedSchema){let fe;const{schemaId:he}=this.opts;if("object"==typeof F)fe=F[he];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof F)throw new Error("schema must be object or boolean")}let Ae=this._cache.get(F);if(void 0!==Ae)return Ae;Y=(0,E.normalizeId)(fe||Y);const ke=E.getSchemaRefs.call(this,F,Y);return Ae=new k.SchemaEnv({schema:F,schemaId:he,meta:U,baseId:Y,localRefs:ke}),this._cache.set(Ae.schema,Ae),ne&&!Y.startsWith("#")&&(Y&&this._checkUnique(Y),this.refs[Y]=Ae),W&&this.validateSchema(F,!0),Ae}_checkUnique(F){if(this.schemas[F]||this.refs[F])throw new Error(`schema with key or id "${F}" already exists`)}_compileSchemaEnv(F){if(F.meta?this._compileMetaSchema(F):k.compileSchema.call(this,F),!F.validate)throw new Error("ajv implementation error");return F.validate}_compileMetaSchema(F){const U=this.opts;this.opts=this._metaOpts;try{k.compileSchema.call(this,F)}finally{this.opts=U}}}function u(pe,F,U,Y="error"){for(const W in pe){const ne=W;ne in F&&this.logger[Y](`${U}: option ${W}. ${pe[ne]}`)}}function l(pe){return pe=(0,E.normalizeId)(pe),this.schemas[pe]||this.refs[pe]}function d(){const pe=this.opts.schemas;if(pe)if(Array.isArray(pe))this.addSchema(pe);else for(const F in pe)this.addSchema(pe[F],F)}function g(){for(const pe in this.opts.formats){const F=this.opts.formats[pe];F&&this.addFormat(pe,F)}}function f(pe){if(Array.isArray(pe))this.addVocabulary(pe);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const F in pe){const U=pe[F];U.keyword||(U.keyword=F),this.addKeyword(U)}}}function v(){const pe=Ea({},this.opts);for(const F of D)delete pe[F];return pe}Ie.default=h,h.ValidationError=X.default,h.MissingRefError=ee.default;const C={log(){},warn(){},error(){}},O=/^[a-z_$][a-z0-9_$:-]*$/i;function N(pe,F){const{RULES:U}=this;if((0,x.eachItem)(pe,Y=>{if(U.keywords[Y])throw new Error(`Keyword ${Y} is already defined`);if(!O.test(Y))throw new Error(`Keyword ${Y} has invalid name`)}),F&&F.$data&&!("code"in F)&&!("validate"in F))throw new Error('$data keyword must have "code" or "validate" function')}function z(pe,F,U){var Y;const W=null==F?void 0:F.post;if(U&&W)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:ne}=this;let fe=W?ne.post:ne.rules.find(({type:Ae})=>Ae===U);if(fe||(fe={type:U,rules:[]},ne.rules.push(fe)),ne.keywords[pe]=!0,!F)return;const he={keyword:pe,definition:lf(Ea({},F),{type:(0,R.getJSONTypes)(F.type),schemaType:(0,R.getJSONTypes)(F.schemaType)})};F.before?K.call(this,fe,he,F.before):fe.rules.push(he),ne.all[pe]=he,null===(Y=F.implements)||void 0===Y||Y.forEach(Ae=>this.addKeyword(Ae))}function K(pe,F,U){const Y=pe.rules.findIndex(W=>W.keyword===U);Y>=0?pe.rules.splice(Y,0,F):(pe.rules.push(F),this.logger.warn(`rule ${U} is not defined`))}function Q(pe){let{metaSchema:F}=pe;void 0!==F&&(pe.$data&&this.opts.$data&&(F=oe(F)),pe.validateSchema=this.compile(F,!0))}const ue={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function oe(pe){return{anyOf:[pe,ue]}}},834:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(2559);ae.code='require("ajv/dist/runtime/equal").default',Ie.default=ae},6344:(hn,Ie)=>{"use strict";function Ve(ae){const Z=ae.length;let ee,V=0,X=0;for(;X<Z;)V++,ee=ae.charCodeAt(X++),ee>=55296&&ee<=56319&&X<Z&&(ee=ae.charCodeAt(X),56320==(64512&ee)&&X++);return V}Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.default=Ve,Ve.code='require("ajv/dist/runtime/ucs2length").default'},1364:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(6482);ae.code='require("ajv/dist/runtime/uri").default',Ie.default=ae},496:(hn,Ie)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});class Ve extends Error{constructor(Z){super("validation failed"),this.errors=Z,this.ajv=this.validation=!0}}Ie.default=Ve},9282:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.validateAdditionalItems=void 0;const ae=Ve(6382),Z=Ve(7990),X={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:$}})=>ae.str`must NOT have more than ${$} items`,params:({params:{len:$}})=>ae._`{limit: ${$}}`},code($){const{parentSchema:k,it:P}=$,{items:E}=k;Array.isArray(E)?ee($,E):(0,Z.checkStrictMode)(P,'"additionalItems" is ignored when "items" is not an array of schemas')}};function ee($,k){const{gen:P,schema:E,data:R,keyword:x,it:A}=$;A.items=!0;const _=P.const("len",ae._`${R}.length`);if(!1===E)$.setParams({len:k.length}),$.pass(ae._`${_} <= ${k.length}`);else if("object"==typeof E&&!(0,Z.alwaysValidSchema)(A,E)){const D=P.var("valid",ae._`${_} <= ${k.length}`);P.if((0,ae.not)(D),()=>function m(D){P.forRange("i",k.length,_,I=>{$.subschema({keyword:x,dataProp:I,dataPropType:Z.Type.Num},D),A.allErrors||P.if((0,ae.not)(D),()=>P.break())})}(D)),$.ok(D)}}Ie.validateAdditionalItems=ee,Ie.default=X},5459:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(2812),Z=Ve(6382),V=Ve(5976),X=Ve(7990);Ie.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:k})=>Z._`{additionalProperty: ${k.additionalProperty}}`},code(k){const{gen:P,schema:E,parentSchema:R,data:x,errsCount:A,it:_}=k;if(!A)throw new Error("ajv implementation error");const{allErrors:m,opts:D}=_;if(_.props=!0,"all"!==D.removeAdditional&&(0,X.alwaysValidSchema)(_,E))return;const I=(0,ae.allSchemaProperties)(R.properties),T=(0,ae.allSchemaProperties)(R.patternProperties);function y(l){P.code(Z._`delete ${x}[${l}]`)}function h(l){if("all"===D.removeAdditional||D.removeAdditional&&!1===E)y(l);else{if(!1===E)return k.setParams({additionalProperty:l}),k.error(),void(m||P.break());if("object"==typeof E&&!(0,X.alwaysValidSchema)(_,E)){const d=P.name("valid");"failing"===D.removeAdditional?(u(l,d,!1),P.if((0,Z.not)(d),()=>{k.reset(),y(l)})):(u(l,d),m||P.if((0,Z.not)(d),()=>P.break()))}}}function u(l,d,g){const f={keyword:"additionalProperties",dataProp:l,dataPropType:X.Type.Str};!1===g&&Object.assign(f,{compositeRule:!0,createErrors:!1,allErrors:!1}),k.subschema(f,d)}(function w(){P.forIn("key",x,l=>{I.length||T.length?P.if(function p(l){let d;if(I.length>8){const g=(0,X.schemaRefOrVal)(_,R.properties,"properties");d=(0,ae.isOwnProperty)(P,g,l)}else d=I.length?(0,Z.or)(...I.map(g=>Z._`${l} === ${g}`)):Z.nil;return T.length&&(d=(0,Z.or)(d,...T.map(g=>Z._`${(0,ae.usePattern)(k,g)}.test(${l})`))),(0,Z.not)(d)}(l),()=>h(l)):h(l)})})(),k.ok(Z._`${A} === ${V.default.errors}`)}}},6186:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(7990);Ie.default={keyword:"allOf",schemaType:"array",code(V){const{gen:X,schema:ee,it:$}=V;if(!Array.isArray(ee))throw new Error("ajv implementation error");const k=X.name("valid");ee.forEach((P,E)=>{if((0,ae.alwaysValidSchema)($,P))return;const R=V.subschema({keyword:"allOf",schemaProp:E},k);V.ok(k),V.mergeEvaluated(R)})}}},290:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(2812);Ie.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:ae.validateUnion,error:{message:"must match a schema in anyOf"}}},5738:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(6382),Z=Ve(7990);Ie.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:ee,max:$}})=>void 0===$?ae.str`must contain at least ${ee} valid item(s)`:ae.str`must contain at least ${ee} and no more than ${$} valid item(s)`,params:({params:{min:ee,max:$}})=>void 0===$?ae._`{minContains: ${ee}}`:ae._`{minContains: ${ee}, maxContains: ${$}}`},code(ee){const{gen:$,schema:k,parentSchema:P,data:E,it:R}=ee;let x,A;const{minContains:_,maxContains:m}=P;R.opts.next?(x=void 0===_?1:_,A=m):x=1;const D=$.const("len",ae._`${E}.length`);if(ee.setParams({min:x,max:A}),void 0===A&&0===x)return void(0,Z.checkStrictMode)(R,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==A&&x>A)return(0,Z.checkStrictMode)(R,'"minContains" > "maxContains" is always invalid'),void ee.fail();if((0,Z.alwaysValidSchema)(R,k)){let y=ae._`${D} >= ${x}`;return void 0!==A&&(y=ae._`${y} && ${D} <= ${A}`),void ee.pass(y)}R.items=!0;const I=$.name("valid");function T(){const y=$.name("_valid"),h=$.let("count",0);w(y,()=>$.if(y,()=>function p(y){$.code(ae._`${y}++`),void 0===A?$.if(ae._`${y} >= ${x}`,()=>$.assign(I,!0).break()):($.if(ae._`${y} > ${A}`,()=>$.assign(I,!1).break()),1===x?$.assign(I,!0):$.if(ae._`${y} >= ${x}`,()=>$.assign(I,!0)))}(h)))}function w(y,h){$.forRange("i",0,D,u=>{ee.subschema({keyword:"contains",dataProp:u,dataPropType:Z.Type.Num,compositeRule:!0},y),h()})}void 0===A&&1===x?w(I,()=>$.if(I,()=>$.break())):0===x?($.let(I,!0),void 0!==A&&$.if(ae._`${E}.length > 0`,T)):($.let(I,!1),T()),ee.result(I,()=>ee.reset())}}},1886:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.validateSchemaDeps=Ie.validatePropertyDeps=Ie.error=void 0;const ae=Ve(6382),Z=Ve(7990),V=Ve(2812);Ie.error={message:({params:{property:P,depsCount:E,deps:R}})=>ae.str`must have ${1===E?"property":"properties"} ${R} when property ${P} is present`,params:({params:{property:P,depsCount:E,deps:R,missingProperty:x}})=>ae._`{property: ${P},
    missingProperty: ${x},
    depsCount: ${E},
    deps: ${R}}`};const X={keyword:"dependencies",type:"object",schemaType:"object",error:Ie.error,code(P){const[E,R]=function ee({schema:P}){const E={},R={};for(const x in P)"__proto__"!==x&&((Array.isArray(P[x])?E:R)[x]=P[x]);return[E,R]}(P);$(P,E),k(P,R)}};function $(P,E=P.schema){const{gen:R,data:x,it:A}=P;if(0===Object.keys(E).length)return;const _=R.let("missing");for(const m in E){const D=E[m];if(0===D.length)continue;const I=(0,V.propertyInData)(R,x,m,A.opts.ownProperties);P.setParams({property:m,depsCount:D.length,deps:D.join(", ")}),A.allErrors?R.if(I,()=>{for(const T of D)(0,V.checkReportMissingProp)(P,T)}):(R.if(ae._`${I} && (${(0,V.checkMissingProp)(P,D,_)})`),(0,V.reportMissingProp)(P,_),R.else())}}function k(P,E=P.schema){const{gen:R,data:x,keyword:A,it:_}=P,m=R.name("valid");for(const D in E)(0,Z.alwaysValidSchema)(_,E[D])||(R.if((0,V.propertyInData)(R,x,D,_.opts.ownProperties),()=>{const I=P.subschema({keyword:A,schemaProp:D},m);P.mergeValidEvaluated(I,m)},()=>R.var(m,!0)),P.ok(m))}Ie.validatePropertyDeps=$,Ie.validateSchemaDeps=k,Ie.default=X},3632:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(6382),Z=Ve(7990);function ee($,k){const P=$.schema[k];return void 0!==P&&!(0,Z.alwaysValidSchema)($,P)}Ie.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:$})=>ae.str`must match "${$.ifClause}" schema`,params:({params:$})=>ae._`{failingKeyword: ${$.ifClause}}`},code($){const{gen:k,parentSchema:P,it:E}=$;void 0===P.then&&void 0===P.else&&(0,Z.checkStrictMode)(E,'"if" without "then" and "else" is ignored');const R=ee(E,"then"),x=ee(E,"else");if(!R&&!x)return;const A=k.let("valid",!0),_=k.name("_valid");if(function m(){const I=$.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},_);$.mergeEvaluated(I)}(),$.reset(),R&&x){const I=k.let("ifClause");$.setParams({ifClause:I}),k.if(_,D("then",I),D("else",I))}else R?k.if(_,D("then")):k.if((0,ae.not)(_),D("else"));function D(I,T){return()=>{const w=$.subschema({keyword:I},_);k.assign(A,_),$.mergeValidEvaluated(w,A),T?k.assign(T,ae._`${I}`):$.setParams({ifClause:I})}}$.pass(A,()=>$.error(!0))}}},7737:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(9282),Z=Ve(4947),V=Ve(9180),X=Ve(1785),ee=Ve(5738),$=Ve(1886),k=Ve(7947),P=Ve(5459),E=Ve(8415),R=Ve(896),x=Ve(6330),A=Ve(290),_=Ve(2337),m=Ve(6186),D=Ve(3632),I=Ve(1344);Ie.default=function T(w=!1){const p=[x.default,A.default,_.default,m.default,D.default,I.default,k.default,P.default,$.default,E.default,R.default];return w?p.push(Z.default,X.default):p.push(ae.default,V.default),p.push(ee.default),p}},9180:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.validateTuple=void 0;const ae=Ve(6382),Z=Ve(7990),V=Ve(2812),X={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code($){const{schema:k,it:P}=$;if(Array.isArray(k))return ee($,"additionalItems",k);P.items=!0,!(0,Z.alwaysValidSchema)(P,k)&&$.ok((0,V.validateArray)($))}};function ee($,k,P=$.schema){const{gen:E,parentSchema:R,data:x,keyword:A,it:_}=$;(function I(T){const{opts:w,errSchemaPath:p}=_,y=P.length;w.strictTuples&&!(y===T.minItems&&(y===T.maxItems||!1===T[k]))&&(0,Z.checkStrictMode)(_,`"${A}" is ${y}-tuple, but minItems or maxItems/${k} are not specified or different at path "${p}"`,w.strictTuples)})(R),_.opts.unevaluated&&P.length&&!0!==_.items&&(_.items=Z.mergeEvaluated.items(E,P.length,_.items));const m=E.name("valid"),D=E.const("len",ae._`${x}.length`);P.forEach((T,w)=>{(0,Z.alwaysValidSchema)(_,T)||(E.if(ae._`${D} > ${w}`,()=>$.subschema({keyword:A,schemaProp:w,dataProp:w},m)),$.ok(m))})}Ie.validateTuple=ee,Ie.default=X},1785:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(6382),Z=Ve(7990),V=Ve(2812),X=Ve(9282);Ie.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:k}})=>ae.str`must NOT have more than ${k} items`,params:({params:{len:k}})=>ae._`{limit: ${k}}`},code(k){const{schema:P,parentSchema:E,it:R}=k,{prefixItems:x}=E;R.items=!0,!(0,Z.alwaysValidSchema)(R,P)&&(x?(0,X.validateAdditionalItems)(k,x):k.ok((0,V.validateArray)(k)))}}},6330:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(7990);Ie.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(V){const{gen:X,schema:ee,it:$}=V;if((0,ae.alwaysValidSchema)($,ee))return void V.fail();const k=X.name("valid");V.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},k),V.failResult(k,()=>V.reset(),()=>V.error())},error:{message:"must NOT be valid"}}},2337:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(6382),Z=Ve(7990);Ie.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:ee})=>ae._`{passingSchemas: ${ee.passing}}`},code(ee){const{gen:$,schema:k,parentSchema:P,it:E}=ee;if(!Array.isArray(k))throw new Error("ajv implementation error");if(E.opts.discriminator&&P.discriminator)return;const R=k,x=$.let("valid",!1),A=$.let("passing",null),_=$.name("_valid");ee.setParams({passing:A}),$.block(function m(){R.forEach((D,I)=>{let T;(0,Z.alwaysValidSchema)(E,D)?$.var(_,!0):T=ee.subschema({keyword:"oneOf",schemaProp:I,compositeRule:!0},_),I>0&&$.if(ae._`${_} && ${x}`).assign(x,!1).assign(A,ae._`[${A}, ${I}]`).else(),$.if(_,()=>{$.assign(x,!0),$.assign(A,I),T&&ee.mergeEvaluated(T,ae.Name)})})}),ee.result(x,()=>ee.reset(),()=>ee.error(!0))}}},896:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(2812),Z=Ve(6382),V=Ve(7990),X=Ve(7990);Ie.default={keyword:"patternProperties",type:"object",schemaType:"object",code($){const{gen:k,schema:P,data:E,parentSchema:R,it:x}=$,{opts:A}=x,_=(0,ae.allSchemaProperties)(P),m=_.filter(h=>(0,V.alwaysValidSchema)(x,P[h]));if(0===_.length||m.length===_.length&&(!x.opts.unevaluated||!0===x.props))return;const D=A.strictSchema&&!A.allowMatchingProperties&&R.properties,I=k.name("valid");!0!==x.props&&!(x.props instanceof Z.Name)&&(x.props=(0,X.evaluatedPropsToName)(k,x.props));const{props:T}=x;function p(h){for(const u in D)new RegExp(h).test(u)&&(0,V.checkStrictMode)(x,`property ${u} matches pattern ${h} (use allowMatchingProperties)`)}function y(h){k.forIn("key",E,u=>{k.if(Z._`${(0,ae.usePattern)($,h)}.test(${u})`,()=>{const l=m.includes(h);l||$.subschema({keyword:"patternProperties",schemaProp:h,dataProp:u,dataPropType:X.Type.Str},I),x.opts.unevaluated&&!0!==T?k.assign(Z._`${T}[${u}]`,!0):!l&&!x.allErrors&&k.if((0,Z.not)(I),()=>k.break())})})}!function w(){for(const h of _)D&&p(h),x.allErrors?y(h):(k.var(I,!0),y(h),k.if(I))}()}}},4947:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(9180);Ie.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:V=>(0,ae.validateTuple)(V,"items")}},8415:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(6764),Z=Ve(2812),V=Ve(7990),X=Ve(5459);Ie.default={keyword:"properties",type:"object",schemaType:"object",code($){const{gen:k,schema:P,parentSchema:E,data:R,it:x}=$;"all"===x.opts.removeAdditional&&void 0===E.additionalProperties&&X.default.code(new ae.KeywordCxt(x,X.default,"additionalProperties"));const A=(0,Z.allSchemaProperties)(P);for(const T of A)x.definedProperties.add(T);x.opts.unevaluated&&A.length&&!0!==x.props&&(x.props=V.mergeEvaluated.props(k,(0,V.toHash)(A),x.props));const _=A.filter(T=>!(0,V.alwaysValidSchema)(x,P[T]));if(0===_.length)return;const m=k.name("valid");for(const T of _)D(T)?I(T):(k.if((0,Z.propertyInData)(k,R,T,x.opts.ownProperties)),I(T),x.allErrors||k.else().var(m,!0),k.endIf()),$.it.definedProperties.add(T),$.ok(m);function D(T){return x.opts.useDefaults&&!x.compositeRule&&void 0!==P[T].default}function I(T){$.subschema({keyword:"properties",schemaProp:T,dataProp:T},m)}}}},7947:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(6382),Z=Ve(7990);Ie.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:ee})=>ae._`{propertyName: ${ee.propertyName}}`},code(ee){const{gen:$,schema:k,data:P,it:E}=ee;if((0,Z.alwaysValidSchema)(E,k))return;const R=$.name("valid");$.forIn("key",P,x=>{ee.setParams({propertyName:x}),ee.subschema({keyword:"propertyNames",data:x,dataTypes:["string"],propertyName:x,compositeRule:!0},R),$.if((0,ae.not)(R),()=>{ee.error(!0),E.allErrors||$.break()})}),ee.ok(R)}}},1344:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(7990);Ie.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:V,parentSchema:X,it:ee}){void 0===X.if&&(0,ae.checkStrictMode)(ee,`"${V}" without "if" is ignored`)}}},2812:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.validateUnion=Ie.validateArray=Ie.usePattern=Ie.callValidateCode=Ie.schemaProperties=Ie.allSchemaProperties=Ie.noPropertyInData=Ie.propertyInData=Ie.isOwnProperty=Ie.hasPropFunc=Ie.reportMissingProp=Ie.checkMissingProp=Ie.checkReportMissingProp=void 0;const ae=Ve(6382),Z=Ve(7990),V=Ve(5976),X=Ve(7990);function P(p){return p.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:ae._`Object.prototype.hasOwnProperty`})}function E(p,y,h){return ae._`${P(p)}.call(${y}, ${h})`}function x(p,y,h,u){const l=ae._`${y}${(0,ae.getProperty)(h)} === undefined`;return u?(0,ae.or)(l,(0,ae.not)(E(p,y,h))):l}function A(p){return p?Object.keys(p).filter(y=>"__proto__"!==y):[]}Ie.checkReportMissingProp=function ee(p,y){const{gen:h,data:u,it:l}=p;h.if(x(h,u,y,l.opts.ownProperties),()=>{p.setParams({missingProperty:ae._`${y}`},!0),p.error()})},Ie.checkMissingProp=function $({gen:p,data:y,it:{opts:h}},u,l){return(0,ae.or)(...u.map(d=>(0,ae.and)(x(p,y,d,h.ownProperties),ae._`${l} = ${d}`)))},Ie.reportMissingProp=function k(p,y){p.setParams({missingProperty:y},!0),p.error()},Ie.hasPropFunc=P,Ie.isOwnProperty=E,Ie.propertyInData=function R(p,y,h,u){const l=ae._`${y}${(0,ae.getProperty)(h)} !== undefined`;return u?ae._`${l} && ${E(p,y,h)}`:l},Ie.noPropertyInData=x,Ie.allSchemaProperties=A,Ie.schemaProperties=function _(p,y){return A(y).filter(h=>!(0,Z.alwaysValidSchema)(p,y[h]))},Ie.callValidateCode=function m({schemaCode:p,data:y,it:{gen:h,topSchemaRef:u,schemaPath:l,errorPath:d},it:g},f,v,C){const S=C?ae._`${p}, ${y}, ${u}${l}`:y,O=[[V.default.instancePath,(0,ae.strConcat)(V.default.instancePath,d)],[V.default.parentData,g.parentData],[V.default.parentDataProperty,g.parentDataProperty],[V.default.rootData,V.default.rootData]];g.opts.dynamicRef&&O.push([V.default.dynamicAnchors,V.default.dynamicAnchors]);const N=ae._`${S}, ${h.object(...O)}`;return v!==ae.nil?ae._`${f}.call(${v}, ${N})`:ae._`${f}(${N})`};const D=ae._`new RegExp`;Ie.usePattern=function I({gen:p,it:{opts:y}},h){const u=y.unicodeRegExp?"u":"",{regExp:l}=y.code,d=l(h,u);return p.scopeValue("pattern",{key:d.toString(),ref:d,code:ae._`${"new RegExp"===l.code?D:(0,X.useFunc)(p,l)}(${h}, ${u})`})},Ie.validateArray=function T(p){const{gen:y,data:h,keyword:u,it:l}=p,d=y.name("valid");if(l.allErrors){const f=y.let("valid",!0);return g(()=>y.assign(f,!1)),f}return y.var(d,!0),g(()=>y.break()),d;function g(f){const v=y.const("len",ae._`${h}.length`);y.forRange("i",0,v,C=>{p.subschema({keyword:u,dataProp:C,dataPropType:Z.Type.Num},d),y.if((0,ae.not)(d),f)})}},Ie.validateUnion=function w(p){const{gen:y,schema:h,keyword:u,it:l}=p;if(!Array.isArray(h))throw new Error("ajv implementation error");if(h.some(v=>(0,Z.alwaysValidSchema)(l,v))&&!l.opts.unevaluated)return;const g=y.let("valid",!1),f=y.name("_valid");y.block(()=>h.forEach((v,C)=>{const S=p.subschema({keyword:u,schemaProp:C,compositeRule:!0},f);y.assign(g,ae._`${g} || ${f}`),p.mergeValidEvaluated(S,f)||y.if((0,ae.not)(g))})),p.result(g,()=>p.reset(),()=>p.error(!0))}},1167:(hn,Ie)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},1093:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(1167),Z=Ve(4703);Ie.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",ae.default,Z.default]},4703:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.callRef=Ie.getValidate=void 0;const ae=Ve(140),Z=Ve(2812),V=Ve(6382),X=Ve(5976),ee=Ve(7140),$=Ve(7990),k={keyword:"$ref",schemaType:"string",code(R){const{gen:x,schema:A,it:_}=R,{baseId:m,schemaEnv:D,validateName:I,opts:T,self:w}=_,{root:p}=D;if(("#"===A||"#/"===A)&&m===p.baseId)return function h(){if(D===p)return E(R,I,D,D.$async);const d=x.scopeValue("root",{ref:p});return E(R,V._`${d}.validate`,p,p.$async)}();const y=ee.resolveRef.call(w,p,m,A);if(void 0===y)throw new ae.default(_.opts.uriResolver,m,A);return y instanceof ee.SchemaEnv?function u(d){const g=P(R,d);E(R,g,d,d.$async)}(y):function l(d){const g=x.scopeValue("schema",!0===T.code.source?{ref:d,code:(0,V.stringify)(d)}:{ref:d}),f=x.name("valid"),v=R.subschema({schema:d,dataTypes:[],schemaPath:V.nil,topSchemaRef:g,errSchemaPath:A},f);R.mergeEvaluated(v),R.ok(f)}(y)}};function P(R,x){const{gen:A}=R;return x.validate?A.scopeValue("validate",{ref:x.validate}):V._`${A.scopeValue("wrapper",{ref:x})}.validate`}function E(R,x,A,_){const{gen:m,it:D}=R,{allErrors:I,schemaEnv:T,opts:w}=D,p=w.passContext?X.default.this:V.nil;function u(d){const g=V._`${d}.errors`;m.assign(X.default.vErrors,V._`${X.default.vErrors} === null ? ${g} : ${X.default.vErrors}.concat(${g})`),m.assign(X.default.errors,V._`${X.default.vErrors}.length`)}function l(d){var g;if(!D.opts.unevaluated)return;const f=null===(g=null==A?void 0:A.validate)||void 0===g?void 0:g.evaluated;if(!0!==D.props)if(f&&!f.dynamicProps)void 0!==f.props&&(D.props=$.mergeEvaluated.props(m,f.props,D.props));else{const v=m.var("props",V._`${d}.evaluated.props`);D.props=$.mergeEvaluated.props(m,v,D.props,V.Name)}if(!0!==D.items)if(f&&!f.dynamicItems)void 0!==f.items&&(D.items=$.mergeEvaluated.items(m,f.items,D.items));else{const v=m.var("items",V._`${d}.evaluated.items`);D.items=$.mergeEvaluated.items(m,v,D.items,V.Name)}}_?function y(){if(!T.$async)throw new Error("async schema referenced by sync schema");const d=m.let("valid");m.try(()=>{m.code(V._`await ${(0,Z.callValidateCode)(R,x,p)}`),l(x),I||m.assign(d,!0)},g=>{m.if(V._`!(${g} instanceof ${D.ValidationError})`,()=>m.throw(g)),u(g),I||m.assign(d,!1)}),R.ok(d)}():function h(){R.result((0,Z.callValidateCode)(R,x,p),()=>l(x),()=>u(x))}()}Ie.getValidate=P,Ie.callRef=E,Ie.default=k},1849:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(6382),Z=Ve(797),V=Ve(7140),X=Ve(7990);Ie.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:k,tagName:P}})=>k===Z.DiscrError.Tag?`tag "${P}" must be string`:`value of tag "${P}" must be in oneOf`,params:({params:{discrError:k,tag:P,tagName:E}})=>ae._`{error: ${k}, tag: ${E}, tagValue: ${P}}`},code(k){const{gen:P,data:E,schema:R,parentSchema:x,it:A}=k,{oneOf:_}=x;if(!A.opts.discriminator)throw new Error("discriminator: requires discriminator option");const m=R.propertyName;if("string"!=typeof m)throw new Error("discriminator: requires propertyName");if(R.mapping)throw new Error("discriminator: mapping is not supported");if(!_)throw new Error("discriminator: requires oneOf keyword");const D=P.let("valid",!1),I=P.const("tag",ae._`${E}${(0,ae.getProperty)(m)}`);function w(y){const h=P.name("valid"),u=k.subschema({keyword:"oneOf",schemaProp:y},h);return k.mergeEvaluated(u,ae.Name),h}P.if(ae._`typeof ${I} == "string"`,()=>function T(){const y=function p(){var y;const h={},u=d(x);let l=!0;for(let v=0;v<_.length;v++){let C=_[v];(null==C?void 0:C.$ref)&&!(0,X.schemaHasRulesButRef)(C,A.self.RULES)&&(C=V.resolveRef.call(A.self,A.schemaEnv.root,A.baseId,null==C?void 0:C.$ref),C instanceof V.SchemaEnv&&(C=C.schema));const S=null===(y=null==C?void 0:C.properties)||void 0===y?void 0:y[m];if("object"!=typeof S)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);l=l&&(u||d(C)),g(S,v)}if(!l)throw new Error(`discriminator: "${m}" must be required`);return h;function d({required:v}){return Array.isArray(v)&&v.includes(m)}function g(v,C){if(v.const)f(v.const,C);else{if(!v.enum)throw new Error(`discriminator: "properties/${m}" must have "const" or "enum"`);for(const S of v.enum)f(S,C)}}function f(v,C){if("string"!=typeof v||v in h)throw new Error(`discriminator: "${m}" values must be unique strings`);h[v]=C}}();P.if(!1);for(const h in y)P.elseIf(ae._`${I} === ${h}`),P.assign(D,w(y[h]));P.else(),k.error(!1,{discrError:Z.DiscrError.Mapping,tag:I,tagName:m}),P.endIf()}(),()=>k.error(!1,{discrError:Z.DiscrError.Tag,tag:I,tagName:m})),k.ok(D)}}},797:(hn,Ie)=>{"use strict";var ae;Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.DiscrError=void 0,(ae=Ie.DiscrError||(Ie.DiscrError={})).Tag="tag",ae.Mapping="mapping"},7032:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(1093),Z=Ve(7887),V=Ve(7737),X=Ve(7447),ee=Ve(760),$=[ae.default,Z.default,(0,V.default)(),X.default,ee.metadataVocabulary,ee.contentVocabulary];Ie.default=$},2364:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(6382);Ie.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:X})=>ae.str`must match format "${X}"`,params:({schemaCode:X})=>ae._`{format: ${X}}`},code(X,ee){const{gen:$,data:k,$data:P,schema:E,schemaCode:R,it:x}=X,{opts:A,errSchemaPath:_,schemaEnv:m,self:D}=x;A.validateFormats&&(P?function I(){const w=$.scopeValue("formats",{ref:D.formats,code:A.code.formats}),p=$.const("fDef",ae._`${w}[${R}]`),y=$.let("fType"),h=$.let("format");$.if(ae._`typeof ${p} == "object" && !(${p} instanceof RegExp)`,()=>$.assign(y,ae._`${p}.type || "string"`).assign(h,ae._`${p}.validate`),()=>$.assign(y,ae._`"string"`).assign(h,p)),X.fail$data((0,ae.or)(function u(){return!1===A.strictSchema?ae.nil:ae._`${R} && !${h}`}(),function l(){const d=m.$async?ae._`(${p}.async ? await ${h}(${k}) : ${h}(${k}))`:ae._`${h}(${k})`,g=ae._`(typeof ${h} == "function" ? ${d} : ${h}.test(${k}))`;return ae._`${h} && ${h} !== true && ${y} === ${ee} && !${g}`}()))}():function T(){const w=D.formats[E];if(!w)return void function u(){if(!1!==A.strictSchema)throw new Error(g());function g(){return`unknown format "${E}" ignored in schema at path "${_}"`}D.logger.warn(g())}();if(!0===w)return;const[p,y,h]=function l(g){const f=g instanceof RegExp?(0,ae.regexpCode)(g):A.code.formats?ae._`${A.code.formats}${(0,ae.getProperty)(E)}`:void 0,v=$.scopeValue("formats",{key:E,ref:g,code:f});return"object"!=typeof g||g instanceof RegExp?["string",g,v]:[g.type||"string",g.validate,ae._`${v}.validate`]}(w);p===ee&&X.pass(function d(){if("object"==typeof w&&!(w instanceof RegExp)&&w.async){if(!m.$async)throw new Error("async format in sync schema");return ae._`await ${h}(${k})`}return"function"==typeof y?ae._`${h}(${k})`:ae._`${h}.test(${k})`}())}())}}},7447:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const Z=[Ve(2364).default];Ie.default=Z},760:(hn,Ie)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.contentVocabulary=Ie.metadataVocabulary=void 0,Ie.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Ie.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},7677:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(6382),Z=Ve(7990),V=Ve(834);Ie.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:$})=>ae._`{allowedValue: ${$}}`},code($){const{gen:k,data:P,$data:E,schemaCode:R,schema:x}=$;E||x&&"object"==typeof x?$.fail$data(ae._`!${(0,Z.useFunc)(k,V.default)}(${P}, ${R})`):$.fail(ae._`${x} !== ${P}`)}}},8373:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(6382),Z=Ve(7990),V=Ve(834);Ie.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:$})=>ae._`{allowedValues: ${$}}`},code($){const{gen:k,data:P,$data:E,schema:R,schemaCode:x,it:A}=$;if(!E&&0===R.length)throw new Error("enum must have non-empty array");let m;const D=()=>null!=m?m:m=(0,Z.useFunc)(k,V.default);let I;if(R.length>=A.opts.loopEnum||E)I=k.let("valid"),$.block$data(I,function T(){k.assign(I,!1),k.forOf("v",x,p=>k.if(ae._`${D()}(${P}, ${p})`,()=>k.assign(I,!0).break()))});else{if(!Array.isArray(R))throw new Error("ajv implementation error");const p=k.const("vSchema",x);I=(0,ae.or)(...R.map((y,h)=>function w(p,y){const h=R[y];return"object"==typeof h&&null!==h?ae._`${D()}(${P}, ${p}[${y}])`:ae._`${P} === ${h}`}(p,h)))}$.pass(I)}}},7887:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(7126),Z=Ve(2018),V=Ve(6230),X=Ve(8455),ee=Ve(5608),$=Ve(109),k=Ve(5132),P=Ve(4097),E=Ve(7677),R=Ve(8373);Ie.default=[ae.default,Z.default,V.default,X.default,ee.default,$.default,k.default,P.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},E.default,R.default]},5132:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(6382);Ie.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:X,schemaCode:ee})=>ae.str`must NOT have ${"maxItems"===X?"more":"fewer"} than ${ee} items`,params:({schemaCode:X})=>ae._`{limit: ${X}}`},code(X){const{keyword:ee,data:$,schemaCode:k}=X;X.fail$data(ae._`${$}.length ${"maxItems"===ee?ae.operators.GT:ae.operators.LT} ${k}`)}}},6230:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(6382),Z=Ve(7990),V=Ve(6344);Ie.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:$,schemaCode:k})=>ae.str`must NOT have ${"maxLength"===$?"more":"fewer"} than ${k} characters`,params:({schemaCode:$})=>ae._`{limit: ${$}}`},code($){const{keyword:k,data:P,schemaCode:E,it:R}=$,x="maxLength"===k?ae.operators.GT:ae.operators.LT,A=!1===R.opts.unicode?ae._`${P}.length`:ae._`${(0,Z.useFunc)($.gen,V.default)}(${P})`;$.fail$data(ae._`${A} ${x} ${E}`)}}},7126:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(6382),Z=ae.operators,V={maximum:{okStr:"<=",ok:Z.LTE,fail:Z.GT},minimum:{okStr:">=",ok:Z.GTE,fail:Z.LT},exclusiveMaximum:{okStr:"<",ok:Z.LT,fail:Z.GTE},exclusiveMinimum:{okStr:">",ok:Z.GT,fail:Z.LTE}},X={message:({keyword:$,schemaCode:k})=>ae.str`must be ${V[$].okStr} ${k}`,params:({keyword:$,schemaCode:k})=>ae._`{comparison: ${V[$].okStr}, limit: ${k}}`},ee={keyword:Object.keys(V),type:"number",schemaType:"number",$data:!0,error:X,code($){const{keyword:k,data:P,schemaCode:E}=$;$.fail$data(ae._`${P} ${V[k].fail} ${E} || isNaN(${P})`)}};Ie.default=ee},5608:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(6382);Ie.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:X,schemaCode:ee})=>ae.str`must NOT have ${"maxProperties"===X?"more":"fewer"} than ${ee} properties`,params:({schemaCode:X})=>ae._`{limit: ${X}}`},code(X){const{keyword:ee,data:$,schemaCode:k}=X;X.fail$data(ae._`Object.keys(${$}).length ${"maxProperties"===ee?ae.operators.GT:ae.operators.LT} ${k}`)}}},2018:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(6382);Ie.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:X})=>ae.str`must be multiple of ${X}`,params:({schemaCode:X})=>ae._`{multipleOf: ${X}}`},code(X){const{gen:ee,data:$,schemaCode:k,it:P}=X,E=P.opts.multipleOfPrecision,R=ee.let("res"),x=E?ae._`Math.abs(Math.round(${R}) - ${R}) > 1e-${E}`:ae._`${R} !== parseInt(${R})`;X.fail$data(ae._`(${k} === 0 || (${R} = ${$}/${k}, ${x}))`)}}},8455:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(2812),Z=Ve(6382);Ie.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:ee})=>Z.str`must match pattern "${ee}"`,params:({schemaCode:ee})=>Z._`{pattern: ${ee}}`},code(ee){const{data:$,$data:k,schema:P,schemaCode:E,it:R}=ee,A=k?Z._`(new RegExp(${E}, ${R.opts.unicodeRegExp?"u":""}))`:(0,ae.usePattern)(ee,P);ee.fail$data(Z._`!${A}.test(${$})`)}}},109:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(2812),Z=Ve(6382),V=Ve(7990);Ie.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:$}})=>Z.str`must have required property '${$}'`,params:({params:{missingProperty:$}})=>Z._`{missingProperty: ${$}}`},code($){const{gen:k,schema:P,schemaCode:E,data:R,$data:x,it:A}=$,{opts:_}=A;if(!x&&0===P.length)return;const m=P.length>=_.loopRequired;if(A.allErrors?function D(){if(m||x)$.block$data(Z.nil,T);else for(const p of P)(0,ae.checkReportMissingProp)($,p)}():function I(){const p=k.let("missing");if(m||x){const y=k.let("valid",!0);$.block$data(y,()=>function w(p,y){$.setParams({missingProperty:p}),k.forOf(p,E,()=>{k.assign(y,(0,ae.propertyInData)(k,R,p,_.ownProperties)),k.if((0,Z.not)(y),()=>{$.error(),k.break()})},Z.nil)}(p,y)),$.ok(y)}else k.if((0,ae.checkMissingProp)($,P,p)),(0,ae.reportMissingProp)($,p),k.else()}(),_.strictRequired){const p=$.parentSchema.properties,{definedProperties:y}=$.it;for(const h of P)void 0!==(null==p?void 0:p[h])||y.has(h)||(0,V.checkStrictMode)(A,`required property "${h}" is not defined at "${A.schemaEnv.baseId+A.errSchemaPath}" (strictRequired)`,A.opts.strictRequired)}function T(){k.forOf("prop",E,p=>{$.setParams({missingProperty:p}),k.if((0,ae.noPropertyInData)(k,R,p,_.ownProperties),()=>$.error())})}}}},4097:(hn,Ie,Ve)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const ae=Ve(9078),Z=Ve(6382),V=Ve(7990),X=Ve(834);Ie.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:k,j:P}})=>Z.str`must NOT have duplicate items (items ## ${P} and ${k} are identical)`,params:({params:{i:k,j:P}})=>Z._`{i: ${k}, j: ${P}}`},code(k){const{gen:P,data:E,$data:R,schema:x,parentSchema:A,schemaCode:_,it:m}=k;if(!R&&!x)return;const D=P.let("valid"),I=A.items?(0,ae.getSchemaTypes)(A.items):[];function p(h,u){const l=P.name("item"),d=(0,ae.checkDataTypes)(I,l,m.opts.strictNumbers,ae.DataType.Wrong),g=P.const("indices",Z._`{}`);P.for(Z._`;${h}--;`,()=>{P.let(l,Z._`${E}[${h}]`),P.if(d,Z._`continue`),I.length>1&&P.if(Z._`typeof ${l} == "string"`,Z._`${l} += "_"`),P.if(Z._`typeof ${g}[${l}] == "number"`,()=>{P.assign(u,Z._`${g}[${l}]`),k.error(),P.assign(D,!1).break()}).code(Z._`${g}[${l}] = ${h}`)})}function y(h,u){const l=(0,V.useFunc)(P,X.default),d=P.name("outer");P.label(d).for(Z._`;${h}--;`,()=>P.for(Z._`${u} = ${h}; ${u}--;`,()=>P.if(Z._`${l}(${E}[${h}], ${E}[${u}])`,()=>{k.error(),P.assign(D,!1).break(d)})))}k.block$data(D,function T(){const h=P.let("i",Z._`${E}.length`),u=P.let("j");k.setParams({i:h,j:u}),P.assign(D,!0),P.if(Z._`${h} > 1`,()=>(function w(){return I.length>0&&!I.some(h=>"object"===h||"array"===h)}()?p:y)(h,u))},Z._`${_} === false`),k.ok(D)}}},2559:hn=>{"use strict";hn.exports=function Ie(Ve,ae){if(Ve===ae)return!0;if(Ve&&ae&&"object"==typeof Ve&&"object"==typeof ae){if(Ve.constructor!==ae.constructor)return!1;var Z,V,X;if(Array.isArray(Ve)){if((Z=Ve.length)!=ae.length)return!1;for(V=Z;0!=V--;)if(!Ie(Ve[V],ae[V]))return!1;return!0}if(Ve.constructor===RegExp)return Ve.source===ae.source&&Ve.flags===ae.flags;if(Ve.valueOf!==Object.prototype.valueOf)return Ve.valueOf()===ae.valueOf();if(Ve.toString!==Object.prototype.toString)return Ve.toString()===ae.toString();if((Z=(X=Object.keys(Ve)).length)!==Object.keys(ae).length)return!1;for(V=Z;0!=V--;)if(!Object.prototype.hasOwnProperty.call(ae,X[V]))return!1;for(V=Z;0!=V--;){var ee=X[V];if(!Ie(Ve[ee],ae[ee]))return!1}return!0}return Ve!=Ve&&ae!=ae}},3366:hn=>{"use strict";var Ie=hn.exports=function(Z,V,X){"function"==typeof V&&(X=V,V={}),Ve(V,"function"==typeof(X=V.cb||X)?X:X.pre||function(){},X.post||function(){},Z,"",Z)};function Ve(Z,V,X,ee,$,k,P,E,R,x){if(ee&&"object"==typeof ee&&!Array.isArray(ee)){for(var A in V(ee,$,k,P,E,R,x),ee){var _=ee[A];if(Array.isArray(_)){if(A in Ie.arrayKeywords)for(var m=0;m<_.length;m++)Ve(Z,V,X,_[m],$+"/"+A+"/"+m,k,$,A,ee,m)}else if(A in Ie.propsKeywords){if(_&&"object"==typeof _)for(var D in _)Ve(Z,V,X,_[D],$+"/"+A+"/"+ae(D),k,$,A,ee,D)}else(A in Ie.keywords||Z.allKeys&&!(A in Ie.skipKeywords))&&Ve(Z,V,X,_,$+"/"+A,k,$,A,ee)}X(ee,$,k,P,E,R,x)}}function ae(Z){return Z.replace(/~/g,"~0").replace(/\//g,"~1")}Ie.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},Ie.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},Ie.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},Ie.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},623:hn=>{self,hn.exports=function(){return Ve={897:function(Z,V,X){"use strict";X.d(V,{x:function(){return R}});var ee=X(2602),$=X(9791),k=X(7907);function P(x){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(x)}function E(x,A){for(var _=0;_<A.length;_++){var m=A[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(x,(D=function(I,T){if("object"!==P(I)||null===I)return I;var w=I[Symbol.toPrimitive];if(void 0===w)return String(I);if("object"!==P(w=w.call(I,T)))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}(D=m.key,"string"),"symbol"===P(D)?D:String(D)),m)}var D}var R=function(){function x(D,w){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");this.dom={};var T=this,y=this.dom,p=((this.anchor=void 0,this.items=D,this.eventListeners={},this.selection=void 0,this.onClose=w?w.close:void 0,this.limitHeight=!!w&&w.limitHeight,w=document.createElement("div")).className="jsoneditor-contextmenu-root",y.root=w,document.createElement("div"));(p.className="jsoneditor-contextmenu",y.menu=p,w.appendChild(p),w=document.createElement("ul")).className="jsoneditor-menu",p.appendChild(w),y.list=w,y.items=[],((p=document.createElement("button")).type="button",y.focusButton=p,y=document.createElement("li")).style.overflow="hidden",y.style.height="0",y.appendChild(p),w.appendChild(y),function h(u,l,d){d.forEach(function(g){var f,v,C,S,O,N;"separator"===g.type?((O=document.createElement("div")).className="jsoneditor-separator",(v=document.createElement("li")).appendChild(O),u.appendChild(v)):(f={},O=document.createElement("li"),u.appendChild(O),(v=document.createElement("button")).type="button",v.className=g.className,f.button=v,g.title&&(v.title=g.title),g.click&&(v.onclick=function(z){z.preventDefault(),T.hide(),g.click()}),O.appendChild(v),g.submenu?((S=document.createElement("div")).className="jsoneditor-icon",v.appendChild(S),(S=document.createElement("div")).className="jsoneditor-text"+(g.click?"":" jsoneditor-right-margin"),S.appendChild(document.createTextNode(g.text)),v.appendChild(S),(C=g.click?(v.className+=" jsoneditor-default",(S=document.createElement("button")).type="button",(f.buttonExpand=S).className="jsoneditor-expand",(N=document.createElement("div")).className="jsoneditor-expand",S.appendChild(N),O.appendChild(S),g.submenuTitle&&(S.title=g.submenuTitle),S):((N=document.createElement("div")).className="jsoneditor-expand",v.appendChild(N),v)).onclick=function(z){z.preventDefault(),T._onExpandItem(f),C.focus()},f.subItems=S=[],N=document.createElement("ul"),(f.ul=N).className="jsoneditor-menu",N.style.height="0",O.appendChild(N),h(N,S,g.submenu)):((O=document.createElement("div")).className="jsoneditor-icon",v.appendChild(O),(N=document.createElement("div")).className="jsoneditor-text",N.appendChild(document.createTextNode((0,k.Iu)(g.text))),v.appendChild(N)),l.push(f))})}(w,this.dom.items,D),this.maxHeight=0,D.forEach(function(h){h=24*(D.length+(h.submenu?h.submenu.length:0)),T.maxHeight=Math.max(T.maxHeight,h)})}var A,_;return A=x,(_=[{key:"_getVisibleButtons",value:function(){var D=[],I=this;return this.dom.items.forEach(function(T){D.push(T.button),T.buttonExpand&&D.push(T.buttonExpand),T.subItems&&T===I.expandedItem&&T.subItems.forEach(function(w){D.push(w.button),w.buttonExpand&&D.push(w.buttonExpand)})}),D}},{key:"show",value:function(D,l,T){this.hide();var w=!0,y=D.parentNode,p=D.getBoundingClientRect(),h=(y=y.getBoundingClientRect(),l.getBoundingClientRect()),u=this;this.dom.absoluteAnchor=(0,ee.w)(D,l,function(){u.hide()}),p.bottom+this.maxHeight<h.bottom||p.top-this.maxHeight>h.top&&(w=!1),l=T?0:p.top-y.top,w?(T=D.offsetHeight,this.dom.menu.style.left="0",this.dom.menu.style.top=l+T+"px",this.dom.menu.style.bottom=""):(this.dom.menu.style.left="0",this.dom.menu.style.top="",this.dom.menu.style.bottom="0px"),this.limitHeight&&(this.dom.list.style.maxHeight=(y=w?h.bottom-p.bottom-10:p.top-h.top-10)+"px",this.dom.list.style.overflowY="auto"),this.dom.absoluteAnchor.appendChild(this.dom.root),this.selection=(0,$.getSelection)(),this.anchor=D,setTimeout(function(){u.dom.focusButton.focus()},0),x.visibleMenu&&x.visibleMenu.hide(),x.visibleMenu=this}},{key:"hide",value:function(){this.dom.absoluteAnchor&&(this.dom.absoluteAnchor.destroy(),delete this.dom.absoluteAnchor),this.dom.root.parentNode&&(this.dom.root.parentNode.removeChild(this.dom.root),this.onClose)&&this.onClose(),x.visibleMenu===this&&(x.visibleMenu=void 0)}},{key:"_onExpandItem",value:function(D){var I,T=this,w=D===this.expandedItem,p=this.expandedItem;p&&(p.ul.style.height="0",p.ul.style.padding="",setTimeout(function(){T.expandedItem!==p&&(p.ul.style.display="",$.removeClassName)(p.ul.parentNode,"jsoneditor-selected")},300),this.expandedItem=void 0),w||((I=D.ul).style.display="block",setTimeout(function(){if(T.expandedItem===D){for(var y=0,h=0;h<I.childNodes.length;h++)y+=I.childNodes[h].clientHeight;I.style.height=y+"px",I.style.padding="5px 10px"}},0),(0,$.addClassName)(I.parentNode,"jsoneditor-selected"),this.expandedItem=D)}},{key:"_onKeyDown",value:function(D){var I,T,w,p,y=D.target,h=D.which,u=!1;27===h?(this.selection&&(0,$.setSelection)(this.selection),this.anchor&&this.anchor.focus(),this.hide(),u=!0):9===h?D.shiftKey?0===(T=(I=this._getVisibleButtons()).indexOf(y))&&(I[I.length-1].focus(),u=!0):(T=(I=this._getVisibleButtons()).indexOf(y))===I.length-1&&(I[0].focus(),u=!0):37===h?("jsoneditor-expand"===y.className&&(T=(I=this._getVisibleButtons()).indexOf(y),w=I[T-1])&&w.focus(),u=!0):38===h?(T=(I=this._getVisibleButtons()).indexOf(y),(w=(w=(w=I[T-1])&&"jsoneditor-expand"===w.className?I[T-2]:w)||I[I.length-1])&&w.focus(),u=!0):39===h?(T=(I=this._getVisibleButtons()).indexOf(y),(p=I[T+1])&&"jsoneditor-expand"===p.className&&p.focus(),u=!0):40===h&&(T=(I=this._getVisibleButtons()).indexOf(y),(p=(p=(p=I[T+1])&&"jsoneditor-expand"===p.className?I[T+2]:p)||I[0])&&(p.focus(),u=!0),u=!0),u&&(D.stopPropagation(),D.preventDefault())}}])&&E(A.prototype,_),Object.defineProperty(A,"prototype",{writable:!1}),x}();R.visibleMenu=void 0},6436:function(Z,V,X){"use strict";function ee(P){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(P)}function $(P,E){for(var R=0;R<E.length;R++){var x=E[R];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(P,(A=function(_,m){if("object"!==ee(_)||null===_)return _;var D=_[Symbol.toPrimitive];if(void 0===D)return String(_);if("object"!==ee(D=D.call(_,m)))return D;throw new TypeError("@@toPrimitive must return a primitive value.")}(A=x.key,"string"),"symbol"===ee(A)?A:String(A)),x)}var A}X.d(V,{Q:function(){return k}});var k=function(){function P(_){if(!(this instanceof P))throw new TypeError("Cannot call a class as a function");var m;this.errorTableVisible=_.errorTableVisible,this.onToggleVisibility=_.onToggleVisibility,this.onFocusLine=_.onFocusLine||function(){},this.onChangeHeight=_.onChangeHeight,this.dom={},((_=document.createElement("div")).className="jsoneditor-validation-errors-container",this.dom.validationErrorsContainer=_,m=document.createElement("div")).style.display="none",m.className="jsoneditor-additional-errors fadein",m.textContent="Scroll for more \u25bf",this.dom.additionalErrorsIndication=m,_.appendChild(m),((_=document.createElement("span")).className="jsoneditor-validation-error-icon",_.style.display="none",this.dom.validationErrorIcon=_,m=document.createElement("span")).className="jsoneditor-validation-error-count",m.style.display="none",this.dom.validationErrorCount=m,this.dom.parseErrorIndication=document.createElement("span"),this.dom.parseErrorIndication.className="jsoneditor-parse-error-icon",this.dom.parseErrorIndication.style.display="none"}var E,R;return E=P,(R=[{key:"getErrorTable",value:function(){return this.dom.validationErrorsContainer}},{key:"getErrorCounter",value:function(){return this.dom.validationErrorCount}},{key:"getWarningIcon",value:function(){return this.dom.validationErrorIcon}},{key:"getErrorIcon",value:function(){return this.dom.parseErrorIndication}},{key:"toggleTableVisibility",value:function(){this.errorTableVisible=!this.errorTableVisible,this.onToggleVisibility(this.errorTableVisible)}},{key:"setErrors",value:function(A,_){var m,D,I=this,T=(this.dom.validationErrors&&(this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors),this.dom.validationErrors=null,this.dom.additionalErrorsIndication.style.display="none"),this.errorTableVisible&&0<A.length?((T=document.createElement("div")).className="jsoneditor-validation-errors",(D=document.createElement("table")).className="jsoneditor-text-errors",T.appendChild(D),m=document.createElement("tbody"),D.appendChild(m),A.forEach(function(w){isNaN(w.line)?w.dataPath&&(y=_.find(function(l){return l.path===w.dataPath}))&&(p=y.line+1):p=w.line;var p,u,y=document.createElement("tr"),h=(y.className=isNaN(p)?"":"jump-to-line",y.className+="error"===w.type?" parse-error":" validation-error",document.createElement("td"));((u=document.createElement("button")).className="jsoneditor-schema-error",h.appendChild(u),y.appendChild(h),u=document.createElement("td")).style="white-space: nowrap;",u.textContent=isNaN(p)?"":"Ln "+p,y.appendChild(u),"string"==typeof w?((h=document.createElement("td")).colSpan=2,(u=document.createElement("pre")).appendChild(document.createTextNode(w)),h.appendChild(u),y.appendChild(h)):((u=document.createElement("td")).appendChild(document.createTextNode(w.dataPath||"")),y.appendChild(u),h=document.createElement("td"),(u=document.createElement("pre")).appendChild(document.createTextNode(w.message.replace(/<br>/gi,"\n"))),h.appendChild(u),y.appendChild(h)),y.onclick=function(){I.onFocusLine(p)},m.appendChild(y)}),this.dom.validationErrors=T,this.dom.validationErrorsContainer.appendChild(T),this.dom.additionalErrorsIndication.title=A.length+" errors total",this.dom.validationErrorsContainer.clientHeight<this.dom.validationErrorsContainer.scrollHeight?(this.dom.additionalErrorsIndication.style.display="block",this.dom.validationErrorsContainer.onscroll=function(){I.dom.additionalErrorsIndication.style.display=0<I.dom.validationErrorsContainer.clientHeight&&0===I.dom.validationErrorsContainer.scrollTop?"block":"none"}):this.dom.validationErrorsContainer.onscroll=void 0,this.onChangeHeight(D=this.dom.validationErrorsContainer.clientHeight+(this.dom.statusBar?this.dom.statusBar.clientHeight:0))):this.onChangeHeight(0),A.filter(function(w){return"error"!==w.type}).length);0<T?(this.dom.validationErrorCount.style.display="inline",this.dom.validationErrorCount.innerText=T,this.dom.validationErrorCount.onclick=this.toggleTableVisibility.bind(this),this.dom.validationErrorIcon.style.display="inline",this.dom.validationErrorIcon.title=T+" schema validation error(s) found",this.dom.validationErrorIcon.onclick=this.toggleTableVisibility.bind(this)):(this.dom.validationErrorCount.style.display="none",this.dom.validationErrorIcon.style.display="none"),A.some(function(w){return"error"===w.type})?(D=A[0].line,this.dom.parseErrorIndication.style.display="block",this.dom.parseErrorIndication.title=isNaN(D)?"parse error - check that the json is valid":"parse error on line "+D,this.dom.parseErrorIndication.onclick=this.toggleTableVisibility.bind(this)):this.dom.parseErrorIndication.style.display="none"}}])&&$(E.prototype,R),Object.defineProperty(E,"prototype",{writable:!1}),P}()},2474:function(Z,V,X){"use strict";function ee(P){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(P)}function $(P,E){for(var R=0;R<E.length;R++){var x=E[R];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(P,(A=function(_,m){if("object"!==ee(_)||null===_)return _;var D=_[Symbol.toPrimitive];if(void 0===D)return String(_);if("object"!==ee(D=D.call(_,m)))return D;throw new TypeError("@@toPrimitive must return a primitive value.")}(A=x.key,"string"),"symbol"===ee(A)?A:String(A)),x)}var A}X.d(V,{R:function(){return k}});var k=function(){function P(A){if(!(this instanceof P))throw new TypeError("Cannot call a class as a function");if(this.target=A.target||null,!this.target)throw new Error('FocusTracker constructor called without a "target" to track.');this.onFocus="function"==typeof A.onFocus?A.onFocus:null,this.onBlur="function"==typeof A.onBlur?A.onBlur:null,this._onClick=this._onEvent.bind(this),this._onKeyUp=function(_){9!==_.which&&9!==_.keyCode||this._onEvent(_)}.bind(this),this._onBlur=this._onEvent.bind(this),this.focusFlag=!1,this.firstEventFlag=!0,(this.onFocus||this.onBlur)&&(document.addEventListener("click",this._onClick),document.addEventListener("keyup",this._onKeyUp),document.addEventListener("blur",this._onBlur))}var E,R;return E=P,(R=[{key:"destroy",value:function(){document.removeEventListener("click",this._onClick),document.removeEventListener("keyup",this._onKeyUp),document.removeEventListener("blur",this._onBlur),this._onEvent({target:document.body})}},{key:"_onEvent",value:function(A){(A=(A=A.target)===this.target||!(!this.target.contains(A)&&!this.target.contains(document.activeElement)))?this.focusFlag||(this.onFocus&&this.onFocus({type:"focus",target:this.target}),this.focusFlag=!0):(this.focusFlag||this.firstEventFlag)&&(this.onBlur&&this.onBlur({type:"blur",target:this.target}),this.focusFlag=!1,this.firstEventFlag)&&(this.firstEventFlag=!1)}}])&&$(E.prototype,R),Object.defineProperty(E,"prototype",{writable:!1}),P}()},3161:function(Z,V,X){"use strict";var ee=X(8170),$=X(8037),k=X(8038).treeModeMixins,P=X(8458).textModeMixins,E=X(341).previewModeMixins,R=(D=X(9791)).clear,x=D.extend,A=D.getInnerText,_=D.getInternetExplorerVersion,m=D.parse,D=X(2744).tryRequireAjv,I=X(2558).showTransformModal,T=X(6210).showSortModal,w=D();function p(y,h,u){if(!(this instanceof p))throw new Error('JSONEditor constructor called without "new".');var l=_();if(-1!==l&&l<9)throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser.");h&&(h.error&&(console.warn('Option "error" has been renamed to "onError"'),h.onError=h.error,delete h.error),h.change&&(console.warn('Option "change" has been renamed to "onChange"'),h.onChange=h.change,delete h.change),h.editable&&(console.warn('Option "editable" has been renamed to "onEditable"'),h.onEditable=h.editable,delete h.editable),h.onChangeJSON&&("text"===h.mode||"code"===h.mode||h.modes&&(-1!==h.modes.indexOf("text")||-1!==h.modes.indexOf("code")))&&console.warn('Option "onChangeJSON" is not applicable to modes "text" and "code". Use "onChangeText" or "onChange" instead.'),h)&&Object.keys(h).forEach(function(d){-1===p.VALID_OPTIONS.indexOf(d)&&console.warn('Unknown option "'+d+'". This option will be ignored')}),arguments.length&&this._create(y,h,u)}"undefined"==typeof Promise&&console.error("Promise undefined. Please load a Promise polyfill in the browser in order to use JSONEditor"),p.modes={},p.prototype.DEBOUNCE_INTERVAL=150,p.VALID_OPTIONS=["ajv","schema","schemaRefs","templates","ace","theme","autocomplete","onChange","onChangeJSON","onChangeText","onExpand","onEditable","onError","onEvent","onModeChange","onNodeName","onValidate","onCreateMenu","onSelectionChange","onTextSelectionChange","onClassName","onFocus","onBlur","colorPicker","onColorPicker","timestampTag","timestampFormat","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys","navigationBar","statusBar","mainMenuBar","languages","language","enableSort","enableTransform","limitDragging","maxVisibleChilds","onValidationError","modalAnchor","popupAnchor","createQuery","executeQuery","queryDescription","allowSchemaSuggestions","showErrorTable"],p.prototype._create=function(y,h,u){this.container=y,this.options=h||{},this.json=u||{},this.setMode(y=this.options.mode||this.options.modes&&this.options.modes[0]||"tree")},p.prototype.destroy=function(){},p.prototype.set=function(y){this.json=y},p.prototype.get=function(){return this.json},p.prototype.setText=function(y){this.json=m(y)},p.prototype.getText=function(){return JSON.stringify(this.json)},p.prototype.setName=function(y){this.options||(this.options={}),this.options.name=y},p.prototype.getName=function(){return this.options&&this.options.name},p.prototype.setMode=function(y){if(y!==this.options.mode||!this.create){var h=this.container,u=x({},this.options),l=u.mode,d=(u.mode=y,p.modes[y]);if(!d)throw new Error('Unknown mode "'+u.mode+'"');var g="text"===d.data,f=this.getName(),v=this[g?"getText":"get"]();if(this.destroy(),R(this),x(this,d.mixin),this.create(h,u),this.setName(f),this[g?"setText":"set"](v),"function"==typeof d.load)try{d.load.call(this)}catch(C){console.error(C)}if("function"==typeof u.onModeChange&&y!==l)try{u.onModeChange(y,l)}catch(C){console.error(C)}}},p.prototype.getMode=function(){return this.options.mode},p.prototype._onError=function(y){this.options&&"function"==typeof this.options.onError?this.options.onError(y):window.alert(y.toString())},p.prototype.setSchema=function(y,h){if(y){var u;try{this.options.ajv?u=this.options.ajv:((u=w({allErrors:!0,verbose:!0,schemaId:"auto",$data:!0})).addMetaSchema(X(7171)),u.addMetaSchema(X(6273)))}catch(d){console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.")}if(u){if(h){for(var l in h)u.removeSchema(l),h[l]&&u.addSchema(h[l],l);this.options.schemaRefs=h}this.validateSchema=u.compile(y),this.options.schema=y,this.options.schemaRefs=h,this.validate()}}else this.validateSchema=null,this.options.schema=null,this.options.schemaRefs=null,this.validate();this.refresh(),"function"==typeof this._onSchemaChange&&this._onSchemaChange(y,h)},p.prototype.validate=function(){},p.prototype.refresh=function(){},(p.registerMode=function(y){var h;if(Array.isArray(y))for(d=0;d<y.length;d++)p.registerMode(y[d]);else{if(!("mode"in y))throw new Error('Property "mode" missing');if(!("mixin"in y))throw new Error('Property "mixin" missing');if(!("data"in y))throw new Error('Property "data" missing');var u=y.mode;if(u in p.modes)throw new Error('Mode "'+u+'" already registered');if("function"!=typeof y.mixin.create)throw new Error('Required function "create" missing on mixin');for(var l=["setMode","registerMode","modes"],d=0;d<l.length;d++)if((h=l[d])in y.mixin)throw new Error('Reserved property "'+h+'" not allowed in mixin');p.modes[u]=y}})(k),p.registerMode(P),p.registerMode(E),p.ace=ee,p.Ajv=w,p.VanillaPicker=$,p.showTransformModal=I,p.showSortModal=T,p.getInnerText=A,Z.exports=p.default=p},6617:function(Z,V,X){"use strict";X.d(V,{x:function(){return E}});var ee=X(897),$=X(7907);function k(R){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(R)}function P(R,x){for(var A=0;A<x.length;A++){var _=x[A];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(R,(m=function(D,I){if("object"!==k(D)||null===D)return D;var T=D[Symbol.toPrimitive];if(void 0===T)return String(D);if("object"!==k(T=T.call(D,I)))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}(m=_.key,"string"),"symbol"===k(m)?m:String(m)),_)}var m}var E=function(){function R(m,D,I,T){if(!(this instanceof R))throw new TypeError("Cannot call a class as a function");for(var w={code:{text:(0,$.Iu)("modeCodeText"),title:(0,$.Iu)("modeCodeTitle"),click:function(){T("code")}},form:{text:(0,$.Iu)("modeFormText"),title:(0,$.Iu)("modeFormTitle"),click:function(){T("form")}},text:{text:(0,$.Iu)("modeTextText"),title:(0,$.Iu)("modeTextTitle"),click:function(){T("text")}},tree:{text:(0,$.Iu)("modeTreeText"),title:(0,$.Iu)("modeTreeTitle"),click:function(){T("tree")}},view:{text:(0,$.Iu)("modeViewText"),title:(0,$.Iu)("modeViewTitle"),click:function(){T("view")}},preview:{text:(0,$.Iu)("modePreviewText"),title:(0,$.Iu)("modePreviewTitle"),click:function(){T("preview")}}},p=[],y=0;y<D.length;y++){var h=D[y],u=w[h];if(!u)throw new Error('Unknown mode "'+h+'"');u.className="jsoneditor-type-modes"+(I===h?" jsoneditor-selected":""),p.push(u)}if(!(d=w[I]))throw new Error('Unknown mode "'+I+'"');var d=d.text,l=document.createElement("button");(l.type="button",l.className="jsoneditor-modes jsoneditor-separator",l.textContent=d+" \u25be",l.title=(0,$.Iu)("modeEditorTitle"),l.onclick=function(){new ee.x(p).show(l,m)},d=document.createElement("div")).className="jsoneditor-modes",d.style.position="relative",d.appendChild(l),m.appendChild(d),this.dom={container:m,box:l,frame:d}}var x,A;return x=R,(A=[{key:"focus",value:function(){this.dom.box.focus()}},{key:"destroy",value:function(){this.dom&&this.dom.frame&&this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom=null}}])&&P(x.prototype,A),Object.defineProperty(x,"prototype",{writable:!1}),R}()},8170:function(Z,V,X){var ee;if(window.ace)ee=window.ace;else try{ee=X(6225),X(4091),X(3330),X(4317);var $=X(7923);ee.config.setModuleUrl("ace/mode/json_worker",$)}catch(k){}Z.exports=ee},4864:function(){window.ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],function(Z,V,X){V.isDark=!1,V.cssClass="ace-jsoneditor",V.cssText='.ace-jsoneditor .ace_gutter {\nbackground: #ebebeb;\ncolor: #333\n}\n\n.ace-jsoneditor.ace_editor {\nline-height: 1.3;\nbackground-color: #fff;\n}\n.ace-jsoneditor .ace_print-margin {\nwidth: 1px;\nbackground: #e8e8e8\n}\n.ace-jsoneditor .ace_scroller {\nbackground-color: #FFFFFF\n}\n.ace-jsoneditor .ace_text-layer {\ncolor: gray\n}\n.ace-jsoneditor .ace_variable {\ncolor: #1a1a1a\n}\n.ace-jsoneditor .ace_cursor {\nborder-left: 2px solid #000000\n}\n.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\nborder-left: 0px;\nborder-bottom: 1px solid #000000\n}\n.ace-jsoneditor .ace_marker-layer .ace_selection {\nbackground: lightgray\n}\n.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\nbox-shadow: 0 0 3px 0px #FFFFFF;\nborder-radius: 2px\n}\n.ace-jsoneditor .ace_marker-layer .ace_step {\nbackground: rgb(255, 255, 0)\n}\n.ace-jsoneditor .ace_marker-layer .ace_bracket {\nmargin: -1px 0 0 -1px;\nborder: 1px solid #BFBFBF\n}\n.ace-jsoneditor .ace_marker-layer .ace_active-line {\nbackground: #FFFBD1\n}\n.ace-jsoneditor .ace_gutter-active-line {\nbackground-color : #dcdcdc\n}\n.ace-jsoneditor .ace_marker-layer .ace_selected-word {\nborder: 1px solid lightgray\n}\n.ace-jsoneditor .ace_invisible {\ncolor: #BFBFBF\n}\n.ace-jsoneditor .ace_keyword,\n.ace-jsoneditor .ace_meta,\n.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\ncolor: #AF956F\n}\n.ace-jsoneditor .ace_keyword.ace_operator {\ncolor: #484848\n}\n.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\ncolor: #96DC5F\n}\n.ace-jsoneditor .ace_constant.ace_language {\ncolor: darkorange\n}\n.ace-jsoneditor .ace_constant.ace_numeric {\ncolor: red\n}\n.ace-jsoneditor .ace_constant.ace_character.ace_entity {\ncolor: #BF78CC\n}\n.ace-jsoneditor .ace_invalid {\ncolor: #FFFFFF;\nbackground-color: #FF002A;\n}\n.ace-jsoneditor .ace_fold {\nbackground-color: #AF956F;\nborder-color: #000000\n}\n.ace-jsoneditor .ace_storage,\n.ace-jsoneditor .ace_support.ace_class,\n.ace-jsoneditor .ace_support.ace_function,\n.ace-jsoneditor .ace_support.ace_other,\n.ace-jsoneditor .ace_support.ace_type {\ncolor: #C52727\n}\n.ace-jsoneditor .ace_string {\ncolor: green\n}\n.ace-jsoneditor .ace_comment {\ncolor: #BCC8BA\n}\n.ace-jsoneditor .ace_entity.ace_name.ace_tag,\n.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\ncolor: #606060\n}\n.ace-jsoneditor .ace_markup.ace_underline {\ntext-decoration: underline\n}\n.ace-jsoneditor .ace_indent-guide {\nbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y\n}',Z("../lib/dom").importCssString(V.cssText,V.cssClass)})},6589:function(Z,V){var X;(X={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(ee,$,k,P,E,R,x){var A=R.length-1;switch(E){case 1:this.$=ee.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(ee);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=R[A-1];case 13:this.$={};break;case 14:case 19:this.$=R[A-1];break;case 15:this.$=[R[A-2],R[A]];break;case 16:this.$={},this.$[R[A][0]]=R[A][1];break;case 17:this.$=R[A-2],R[A-2][R[A][0]]=R[A][1];break;case 18:this.$=[];break;case 20:this.$=[R[A]];break;case 21:this.$=R[A-2],R[A-2].push(R[A])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(ee,$){throw new Error(ee)},parse:function(ee){var $=this,k=[0],P=[null],E=[],R=this.table,x="",A=0,_=0,m=0,D=(this.lexer.setInput(ee),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={}),this.lexer.yylloc);function I(){var C=$.lexer.lex()||1;return"number"!=typeof C&&$.symbols_[C]||C}E.push(D),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var T,w,p,y,h,u,l,d,f={};;){if(void 0===(y=this.defaultActions[p=k[k.length-1]]||(null==T&&(T=I()),R[p]&&R[p][T]))||!y.length||!y[0]){if(!m){for(h in d=[],R[p])this.terminals_[h]&&2<h&&d.push("'"+this.terminals_[h]+"'");var v="";v=this.lexer.showPosition?"Parse error on line "+(A+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+d.join(", ")+", got '"+this.terminals_[T]+"'":"Parse error on line "+(A+1)+": Unexpected "+(1==T?"end of input":"'"+(this.terminals_[T]||T)+"'"),this.parseError(v,{text:this.lexer.match,token:this.terminals_[T]||T,line:this.lexer.yylineno,loc:D,expected:d})}if(3==m){if(1==T)throw new Error(v||"Parsing halted.");_=this.lexer.yyleng,x=this.lexer.yytext,A=this.lexer.yylineno,D=this.lexer.yylloc,T=I()}for(;!(2..toString()in R[p]);){if(0==p)throw new Error(v||"Parsing halted.");k.length=k.length-2*1,P.length=P.length-1,E.length=E.length-1,p=k[k.length-1]}w=T,T=2,y=R[p=k[k.length-1]]&&R[p][2],m=3}if(y[0]instanceof Array&&1<y.length)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+T);switch(y[0]){case 1:k.push(T),P.push(this.lexer.yytext),E.push(this.lexer.yylloc),k.push(y[1]),T=null,w?(T=w,w=null):(_=this.lexer.yyleng,x=this.lexer.yytext,A=this.lexer.yylineno,D=this.lexer.yylloc,0<m&&m--);break;case 2:if(f.$=P[P.length-(u=this.productions_[y[1]][1])],f._$={first_line:E[E.length-(u||1)].first_line,last_line:E[E.length-1].last_line,first_column:E[E.length-(u||1)].first_column,last_column:E[E.length-1].last_column},void 0!==(l=this.performAction.call(f,x,_,A,this.yy,y[1],P,E)))return l;u&&(k=k.slice(0,-1*u*2),P=P.slice(0,-1*u),E=E.slice(0,-1*u)),k.push(this.productions_[y[1]][0]),P.push(f.$),E.push(f._$),k.push(l=R[k[k.length-2]][k[k.length-1]]);break;case 3:return!0}}return!0}}).lexer={EOF:1,parseError:function(ee,$){if(!this.yy.parseError)throw new Error(ee);this.yy.parseError(ee,$)},setInput:function(ee){return this._input=ee,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var ee=this._input[0];return this.yytext+=ee,this.yyleng++,this.match+=ee,this.matched+=ee,ee.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),ee},unput:function(ee){return this._input=ee+this._input,this},more:function(){return this._more=!0,this},less:function(ee){this._input=this.match.slice(ee)+this._input},pastInput:function(){var ee=this.matched.substr(0,this.matched.length-this.match.length);return(20<ee.length?"...":"")+ee.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ee=this.match;return ee.length<20&&(ee+=this._input.substr(0,20-ee.length)),(ee.substr(0,20)+(20<ee.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var ee=this.pastInput(),$=new Array(ee.length+1).join("-");return ee+this.upcomingInput()+"\n"+$+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var ee,$,k,P,E=this._currentRules(),R=0;R<E.length&&(!($=this._input.match(this.rules[E[R]]))||ee&&!($[0].length>ee[0].length)||(ee=$,k=R,this.options.flex));R++);return ee?((P=ee[0].match(/\n.*/g))&&(this.yylineno+=P.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:P?P[P.length-1].length-1:this.yylloc.last_column+ee[0].length},this.yytext+=ee[0],this.match+=ee[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(ee[0].length),this.matched+=ee[0],P=this.performAction.call(this,this.yy,this,E[k],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),P||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ee=this.next();return void 0!==ee?ee:this.lex()},begin:function(ee){this.conditionStack.push(ee)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(ee){this.begin(ee)},options:{},performAction:function(ee,$,k,P){switch(k){case 0:break;case 1:return 6;case 2:return $.yytext=$.yytext.substr(1,$.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}},V.parser=X,V.parse=X.parse.bind(X)},3879:function(Z){"use strict";function V(){}V.prototype={on:function(A,_){this._events=this._events||{},this._events[A]=this._events[A]||[],this._events[A].push(_)},off:function(A,_){this._events=this._events||{},A in this._events&&this._events[A].splice(this._events[A].indexOf(_),1)},emit:function(A){if(this._events=this._events||{},A in this._events)for(var _=0;_<this._events[A].length;_++)this._events[A][_].apply(this,Array.prototype.slice.call(arguments,1))}},V.mixin=function(A){for(var _=["on","off","emit"],m=0;m<_.length;m++)"function"==typeof A?A.prototype[_[m]]=V.prototype[_[m]]:A[_[m]]=V.prototype[_[m]];return A};var X={escapeRegExp:function(A){var _=/[\\^$.*+?()[\]{}|]/g,m=new RegExp(_.source);return A&&m.test(A)?A.replace(_,"\\$&"):A},extend:function(A,_){for(var m in _){var D;_.hasOwnProperty(m)&&((D=_[m])&&"[object Object]"===Object.prototype.toString.call(D)?(A[m]=A[m]||{},X.extend(A[m],D)):A[m]=D)}return A},each:function(A,_,m){if("[object Object]"===Object.prototype.toString.call(A))for(var D in A)Object.prototype.hasOwnProperty.call(A,D)&&_.call(m,D,A[D],A);else for(var I=0,T=A.length;I<T;I++)_.call(m,I,A[I],A)},createElement:function(A,_){var m,D=document.createElement(A);if(_&&"[object Object]"===Object.prototype.toString.call(_))for(m in _)m in D?D[m]=_[m]:"html"===m?D.innerHTML=_[m]:D.setAttribute(m,_[m]);return D},hasClass:function(A,_){if(A)return A.classList?A.classList.contains(_):!!A.className&&!!A.className.match(new RegExp("(\\s|^)"+_+"(\\s|$)"))},addClass:function(A,_){X.hasClass(A,_)||(A.classList?A.classList.add(_):A.className=A.className.trim()+" "+_)},removeClass:function(A,_){X.hasClass(A,_)&&(A.classList?A.classList.remove(_):A.className=A.className.replace(new RegExp("(^|\\s)"+_.split(" ").join("|")+"(\\s|$)","gi")," "))},closest:function(A,_){return A&&A!==document.body&&(_(A)?A:X.closest(A.parentNode,_))},isInt:function(A){return"number"==typeof A&&isFinite(A)&&Math.floor(A)===A},debounce:function(A,_,m){var D;return function(){var I=this,T=arguments,w=m&&!D;clearTimeout(D),D=setTimeout(function(){D=null,m||A.apply(I,T)},_),w&&A.apply(I,T)}},rect:function(D,T){var m=window,I=(D=D.getBoundingClientRect(),T?m.pageXOffset:0);return{bottom:D.bottom+(T=T?m.pageYOffset:0),height:D.height,left:D.left+I,right:D.right+I,top:D.top+T,width:D.width}},includes:function(A,_){return-1<A.indexOf(_)},startsWith:function(A,_){return A.substr(0,_.length)===_},truncate:function(A){for(;A.firstChild;)A.removeChild(A.firstChild)}};function ee(A,_){return A.hasOwnProperty(_)&&(!0===A[_]||A[_].length)}function $(A,_,m){A.parentNode?A.parentNode.parentNode||_.appendChild(A.parentNode):_.appendChild(A),X.removeClass(A,"excluded"),m||(A.textContent=A.textContent)}function k(){var A,_;this.items.length&&(A=document.createDocumentFragment(),this.config.pagination?(_=this.pages.slice(0,this.pageIndex),X.each(_,function(m,D){X.each(D,function(I,T){$(T,A,this.customOption)},this)},this)):X.each(this.items,function(m,D){$(D,A,this.customOption)},this),A.childElementCount&&(X.removeClass(this.items[this.navIndex],"active"),this.navIndex=(A.querySelector(".selectr-option.selected")||A.querySelector(".selectr-option")).idx,X.addClass(this.items[this.navIndex],"active")),this.tree.appendChild(A))}function P(A,_){_=_||A;var m={class:"selectr-option",role:"treeitem","aria-selected":!1};return this.customOption?m.html=this.config.renderOption(_):m.textContent=A.textContent,(_=X.createElement("li",m)).idx=A.idx,this.items.push(_),A.defaultSelected&&this.defaultSelected.push(A.idx),A.disabled&&(_.disabled=!0,X.addClass(_,"disabled")),_}function E(){var A,_=this.tree;_.scrollHeight-_.offsetHeight<=_.scrollTop&&this.pageIndex<this.pages.length&&(A=document.createDocumentFragment(),X.each(this.pages[this.pageIndex],function(D,I){$(I,A,this.customOption)},this),_.appendChild(A),this.pageIndex++,this.emit("selectr.paginate",{items:this.items.length,total:this.data.length,page:this.pageIndex,pages:this.pages.length}))}function R(){(this.config.searchable||this.config.taggable)&&(this.input.value=null,this.searching=!1,this.config.searchable&&X.removeClass(this.inputContainer,"active"),X.hasClass(this.container,"notice")&&(X.removeClass(this.container,"notice"),X.addClass(this.container,"open"),this.input.focus()),X.each(this.items,function(A,_){X.removeClass(_,"excluded"),this.customOption||(_.textContent=_.textContent)},this))}function x(A,_){if(!A)throw new Error("You must supply either a HTMLSelectElement or a CSS3 selector string.");if("string"==typeof(this.el=A)&&(this.el=document.querySelector(A)),null===this.el)throw new Error("The element you passed to Selectr can not be found.");if("select"!==this.el.nodeName.toLowerCase())throw new Error("The element you passed to Selectr is not a HTMLSelectElement.");this.render(_)}x.prototype.render=function(A){var _;this.rendered||((this.el.selectr=this).config=X.extend({defaultSelected:!0,width:"auto",disabled:!1,disabledMobile:!1,searchable:!0,clearable:!1,sortSelected:!1,allowDeselect:!1,closeOnScroll:!1,nativeDropdown:!1,nativeKeyboard:!1,placeholder:"Select an option...",taggable:!1,tagPlaceholder:"Enter a tag...",messages:{noResults:"No results.",noOptions:"No options available.",maxSelections:"A maximum of {max} items can be selected.",tagDuplicate:"That tag is already in use.",searchPlaceholder:"Search options..."}},A),this.originalType=this.el.type,this.originalIndex=this.el.tabIndex,this.defaultSelected=[],this.originalOptionCount=this.el.options.length,(this.config.multiple||this.config.taggable)&&(this.el.multiple=!0),this.disabled=ee(this.config,"disabled"),this.opened=!1,this.config.taggable&&(this.config.searchable=!1),this.navigating=!1,this.mobileDevice=!1,!this.config.disabledMobile&&/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)&&(this.mobileDevice=!0),this.customOption=this.config.hasOwnProperty("renderOption")&&"function"==typeof this.config.renderOption,this.customSelected=this.config.hasOwnProperty("renderSelection")&&"function"==typeof this.config.renderSelection,this.supportsEventPassiveOption=this.detectEventPassiveOption(),V.mixin(this),function(){this.requiresPagination=this.config.pagination&&0<this.config.pagination,ee(this.config,"width")&&(X.isInt(this.config.width)?this.width=this.config.width+"px":"auto"===this.config.width?this.width="100%":X.includes(this.config.width,"%")&&(this.width=this.config.width)),this.container=X.createElement("div",{class:"selectr-container"}),this.config.customClass&&X.addClass(this.container,this.config.customClass),X.addClass(this.container,this.mobileDevice?"selectr-mobile":"selectr-desktop"),this.el.tabIndex=-1,X.addClass(this.el,this.config.nativeDropdown||this.mobileDevice?"selectr-visible":"selectr-hidden"),this.selected=X.createElement("div",{class:"selectr-selected",disabled:this.disabled,tabIndex:0,"aria-expanded":!1}),this.label=X.createElement(this.el.multiple?"ul":"span",{class:"selectr-label"});var m=X.createElement("div",{class:"selectr-options-container"});if(this.tree=X.createElement("ul",{class:"selectr-options",role:"tree","aria-hidden":!0,"aria-expanded":!1}),this.notice=X.createElement("div",{class:"selectr-notice"}),this.el.setAttribute("aria-hidden",!0),this.disabled&&(this.el.disabled=!0),this.el.multiple?(X.addClass(this.label,"selectr-tags"),X.addClass(this.container,"multiple"),this.tags=[],this.selectedValues=this.config.defaultSelected?this.getSelectedProperties("value"):[],this.selectedIndexes=this.getSelectedProperties("idx")):(this.selectedValue=null,this.selectedIndex=-1),this.selected.appendChild(this.label),this.config.clearable&&(this.selectClear=X.createElement("button",{class:"selectr-clear",type:"button"}),this.container.appendChild(this.selectClear),X.addClass(this.container,"clearable")),this.config.taggable){var D=X.createElement("li",{class:"input-tag"});if(this.input=X.createElement("input",{class:"selectr-tag-input",placeholder:this.config.tagPlaceholder,tagIndex:0,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),D.appendChild(this.input),this.label.appendChild(D),X.addClass(this.container,"taggable"),this.tagSeperators=[","],this.config.tagSeperators){this.tagSeperators=this.tagSeperators.concat(this.config.tagSeperators);for(var I=[],T=0;T<this.tagSeperators.length;T++)I.push(X.escapeRegExp(this.tagSeperators[T]));this.tagSeperatorsRegex=new RegExp(I.join("|"),"i")}else this.tagSeperatorsRegex=new RegExp(",","i")}this.config.searchable&&(this.input=X.createElement("input",{class:"selectr-input",tagIndex:-1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search",placeholder:this.config.messages.searchPlaceholder}),this.inputClear=X.createElement("button",{class:"selectr-input-clear",type:"button"}),this.inputContainer=X.createElement("div",{class:"selectr-input-container"}),this.inputContainer.appendChild(this.input),this.inputContainer.appendChild(this.inputClear),m.appendChild(this.inputContainer)),m.appendChild(this.notice),m.appendChild(this.tree),this.items=[],this.options=[],this.el.options.length&&(this.options=[].slice.call(this.el.options));var w,p,y,h=!1,u=0;this.el.children.length&&X.each(this.el.children,function(d,g){"OPTGROUP"===g.nodeName?(h=X.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+g.label+"</li>"}),X.each(g.children,function(f,v){v.idx=u,h.appendChild(P.call(this,v,h)),u++},this)):(g.idx=u,P.call(this,g),u++)},this),this.config.data&&Array.isArray(this.config.data)&&(w=!(this.data=[]),h=!1,u=0,X.each(this.config.data,function(d,g){ee(g,"children")?(w=X.createElement("optgroup",{label:g.text}),h=X.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+g.text+"</li>"}),X.each(g.children,function(f,v){(p=new Option(v.text,v.value,!1,v.hasOwnProperty("selected")&&!0===v.selected)).disabled=ee(v,"disabled"),this.options.push(p),w.appendChild(p),p.idx=u,h.appendChild(P.call(this,p,v)),this.data[u]=v,u++},this),this.el.appendChild(w)):((p=new Option(g.text,g.value,!1,g.hasOwnProperty("selected")&&!0===g.selected)).disabled=ee(g,"disabled"),this.options.push(p),p.idx=u,P.call(this,p,g),this.data[u]=g,u++)},this)),this.setSelected(!0);for(var l=this.navIndex=0;l<this.items.length;l++)if(!X.hasClass(y=this.items[l],"disabled")){X.addClass(y,"active"),this.navIndex=l;break}this.requiresPagination&&(this.pageIndex=1,this.paginate()),this.container.appendChild(this.selected),this.container.appendChild(m),this.placeEl=X.createElement("div",{class:"selectr-placeholder"}),this.setPlaceholder(),this.selected.appendChild(this.placeEl),this.disabled&&this.disable(),this.el.parentNode.insertBefore(this.container,this.el),this.container.appendChild(this.el)}.call(this),this.bindEvents(),this.update(),this.optsRect=X.rect(this.tree),this.rendered=!0,this.el.multiple||(this.el.selectedIndex=this.selectedIndex),_=this,setTimeout(function(){_.emit("selectr.init")},20))},x.prototype.getSelected=function(){return this.el.querySelectorAll("option:checked")},x.prototype.getSelectedProperties=function(A){var _=this.getSelected();return[].slice.call(_).map(function(m){return m[A]}).filter(function(m){return null!=m})},x.prototype.detectEventPassiveOption=function(){var A=!1;try{var _=Object.defineProperty({},"passive",{get:function(){A=!0}});window.addEventListener("test",null,_)}catch(m){}return A},x.prototype.bindEvents=function(){var A,_=this;this.events={},this.events.dismiss=function(m){this.container.contains(m=m.target)||!this.opened&&!X.hasClass(this.container,"notice")||this.close()}.bind(this),this.events.navigate=function(m){if(m=m||window.event,this.items.length&&this.opened&&X.includes([13,38,40],m.which)){if(m.preventDefault(),13===m.which)return!(this.noResults||this.config.taggable&&0<this.input.value.length)&&this.change(this.navIndex);var D,I=this.items[this.navIndex],T=this.navIndex;switch(m.which){case 38:(D=0)<this.navIndex&&this.navIndex--;break;case 40:this.navIndex<this.items.length-(D=1)&&this.navIndex++}for(this.navigating=!0;X.hasClass(this.items[this.navIndex],"disabled")||X.hasClass(this.items[this.navIndex],"excluded");){if(!(0<this.navIndex&&this.navIndex<this.items.length-1)){this.navIndex=T;break}if(D?this.navIndex++:this.navIndex--,this.searching){if(this.navIndex>this.tree.lastElementChild.idx){this.navIndex=this.tree.lastElementChild.idx;break}if(this.navIndex<this.tree.firstElementChild.idx){this.navIndex=this.tree.firstElementChild.idx;break}}}m=X.rect(this.items[this.navIndex]),D?(0===this.navIndex?this.tree.scrollTop=0:m.top+m.height>this.optsRect.top+this.optsRect.height&&(this.tree.scrollTop=this.tree.scrollTop+(m.top+m.height-(this.optsRect.top+this.optsRect.height))),this.navIndex===this.tree.childElementCount-1&&this.requiresPagination&&E.call(this)):0===this.navIndex?this.tree.scrollTop=0:m.top-this.optsRect.top<0&&(this.tree.scrollTop=this.tree.scrollTop+(m.top-this.optsRect.top)),I&&X.removeClass(I,"active"),X.addClass(this.items[this.navIndex],"active")}else this.navigating=!1}.bind(this),this.events.reset=this.reset.bind(this),(this.config.nativeDropdown||this.mobileDevice)&&(this.container.addEventListener("touchstart",function(m){m.changedTouches[0].target===_.el&&_.toggle()},!!this.supportsEventPassiveOption&&{passive:!0}),this.container.addEventListener("click",function(m){m.target===_.el&&_.toggle()}),this.el.addEventListener("change",function(m){m.__selfTriggered||(_.el.multiple?(m=_.getSelectedProperties("idx"),m=function(D,I){for(var T,w=[],p=D.slice(0),y=0;y<I.length;y++)-1<(T=p.indexOf(I[y]))?p.splice(T,1):w.push(I[y]);return[w,p]}(_.selectedIndexes,m),X.each(m[0],function(D,I){_.select(I)},_),X.each(m[1],function(D,I){_.deselect(I)},_)):-1<_.el.selectedIndex&&_.select(_.el.selectedIndex))})),this.config.nativeDropdown&&this.container.addEventListener("keydown",function(m){"Enter"===m.key&&_.selected===document.activeElement&&(_.toggle(),setTimeout(function(){_.el.focus()},200))}),this.selected.addEventListener("click",function(m){_.disabled||_.toggle(),m.preventDefault()}),this.config.nativeKeyboard&&(A="",this.selected.addEventListener("keydown",function(m){var D;_.disabled||_.selected!==document.activeElement||m.altKey||m.ctrlKey||m.metaKey||(" "===m.key||!_.opened&&-1<["Enter","ArrowUp","ArrowDown"].indexOf(m.key)?(_.toggle(),m.preventDefault(),m.stopPropagation()):m.key.length<=2&&String[String.fromCodePoint?"fromCodePoint":"fromCharCode"](m.key[String.codePointAt?"codePointAt":"charCodeAt"](0))===m.key&&(_.config.multiple?(_.open(),_.config.searchable&&(_.input.value=m.key,_.input.focus(),_.search(null,!0))):((D=_.search(A+=m.key,!0))&&D.length&&(_.clear(),_.setValue(D[0].value)),setTimeout(function(){A=""},1e3)),m.preventDefault(),m.stopPropagation()))}),this.container.addEventListener("keyup",function(m){_.opened&&"Escape"===m.key&&(_.close(),m.stopPropagation(),_.selected.focus())})),this.label.addEventListener("click",function(m){X.hasClass(m.target,"selectr-tag-remove")&&_.deselect(m.target.parentNode.idx)}),this.selectClear&&this.selectClear.addEventListener("click",this.clear.bind(this)),this.tree.addEventListener("mousedown",function(m){m.preventDefault()}),this.tree.addEventListener("click",function(m){var D=X.closest(m.target,function(I){return I&&X.hasClass(I,"selectr-option")});D&&!X.hasClass(D,"disabled")&&(X.hasClass(D,"selected")?(_.el.multiple||!_.el.multiple&&_.config.allowDeselect)&&_.deselect(D.idx):_.select(D.idx),_.opened&&!_.el.multiple)&&_.close(),m.preventDefault(),m.stopPropagation()}),this.tree.addEventListener("mouseover",function(m){!X.hasClass(m.target,"selectr-option")||X.hasClass(m.target,"disabled")||(X.removeClass(_.items[_.navIndex],"active"),X.addClass(m.target,"active"),_.navIndex=[].slice.call(_.items).indexOf(m.target))}),this.config.searchable&&(this.input.addEventListener("focus",function(m){_.searching=!0}),this.input.addEventListener("blur",function(m){_.searching=!1}),this.input.addEventListener("keyup",function(m){_.search(),_.config.taggable||(this.value.length?X.addClass(this.parentNode,"active"):X.removeClass(this.parentNode,"active"))}),this.inputClear.addEventListener("click",function(m){_.input.value=null,R.call(_),_.tree.childElementCount||k.call(_)})),this.config.taggable&&this.input.addEventListener("keyup",function(m){var D,I;_.search(),_.config.taggable&&this.value.length&&(D=this.value.trim()).length&&(13===m.which||_.tagSeperatorsRegex.test(D))&&(m=D.replace(_.tagSeperatorsRegex,""),(I=(m=(m=X.escapeRegExp(m)).trim()).length?_.add({value:m,textContent:m,selected:!0},!0):I)?(_.close(),R.call(_)):(this.value="",_.setMessage(_.config.messages.tagDuplicate)))}),this.update=X.debounce(function(){_.opened&&_.config.closeOnScroll&&_.close(),_.width&&(_.container.style.width=_.width),_.invert()},50),this.requiresPagination&&(this.paginateItems=X.debounce(function(){E.call(this)},50),this.tree.addEventListener("scroll",this.paginateItems.bind(this))),document.addEventListener("click",this.events.dismiss),window.addEventListener("keydown",this.events.navigate),window.addEventListener("resize",this.update),window.addEventListener("scroll",this.update),this.on("selectr.destroy",function(){document.removeEventListener("click",this.events.dismiss),window.removeEventListener("keydown",this.events.navigate),window.removeEventListener("resize",this.update),window.removeEventListener("scroll",this.update)}),this.el.form&&(this.el.form.addEventListener("reset",this.events.reset),this.on("selectr.destroy",function(){this.el.form.removeEventListener("reset",this.events.reset)}))},x.prototype.setSelected=function(A){var _;this.config.data||this.el.multiple||!this.el.options.length||(0!==this.el.selectedIndex||this.el.options[0].defaultSelected||this.config.defaultSelected||(this.el.selectedIndex=-1),this.selectedIndex=this.el.selectedIndex,-1<this.selectedIndex&&this.select(this.selectedIndex)),this.config.multiple&&"select-one"===this.originalType&&!this.config.data&&this.el.options[0].selected&&!this.el.options[0].defaultSelected&&(this.el.options[0].selected=!1),X.each(this.options,function(m,D){D.selected&&D.defaultSelected&&this.select(D.idx)},this),this.config.selectedValue&&this.setValue(this.config.selectedValue),this.config.data&&(!this.el.multiple&&this.config.defaultSelected&&this.el.selectedIndex<0&&0<this.config.data.length&&this.select(0),_=0,X.each(this.config.data,function(m,D){ee(D,"children")?X.each(D.children,function(I,T){T.hasOwnProperty("selected")&&!0===T.selected&&this.select(_),_++},this):(D.hasOwnProperty("selected")&&!0===D.selected&&this.select(_),_++)},this))},x.prototype.destroy=function(){this.rendered&&(this.emit("selectr.destroy"),"select-one"===this.originalType&&(this.el.multiple=!1),this.config.data&&(this.el.innerHTML=""),X.removeClass(this.el,"selectr-hidden"),this.container.parentNode.replaceChild(this.el,this.container),this.rendered=!1,delete this.el.selectr)},x.prototype.change=function(A){var m=this.options[A];m.disabled||(m.selected&&X.hasClass(this.items[A],"selected")?this.deselect(A):this.select(A),this.opened&&!this.el.multiple&&this.close())},x.prototype.select=function(A){var _=this.items[A],m=[].slice.call(this.el.options),D=this.options[A];if(this.el.multiple){if(X.includes(this.selectedIndexes,A))return!1;if(this.config.maxSelections&&this.tags.length===this.config.maxSelections)return this.setMessage(this.config.messages.maxSelections.replace("{max}",this.config.maxSelections),!0),!1;this.selectedValues.push(D.value),this.selectedIndexes.push(A),function(T){var w,p=this,y=document.createDocumentFragment(),h=this.options[T.idx],u=this.data?this.data[T.idx]:h,l={class:"selectr-tag"};this.customSelected?l.html=this.config.renderSelection(u):l.textContent=h.textContent,u=X.createElement("li",l),l=X.createElement("button",{class:"selectr-tag-remove",type:"button"}),u.appendChild(l),u.idx=T.idx,u.tag=h.value,this.tags.push(u),this.config.sortSelected?(l=this.tags.slice(),w=function(d,g){d.replace(/(\d+)|(\D+)/g,function(f,v,C){g.push([v||1/0,C||""])})},l.sort(function(d,g){var f,v,C=[],S=[];for(!0===p.config.sortSelected?(f=d.tag,v=g.tag):"text"===p.config.sortSelected&&(f=d.textContent,v=g.textContent),w(f,C),w(v,S);C.length&&S.length;){var N=C.shift(),O=S.shift();if(N=N[0]-O[0]||N[1].localeCompare(O[1]))return N}return C.length-S.length}),X.each(l,function(d,g){y.appendChild(g)}),this.label.innerHTML=""):y.appendChild(u),this.config.taggable?this.label.insertBefore(y,this.input.parentNode):this.label.appendChild(y)}.call(this,_)}else{var I=this.data?this.data[A]:D;this.customSelected?this.label.innerHTML=this.config.renderSelection(I):this.label.textContent=D.textContent,this.selectedValue=D.value,this.selectedIndex=A,X.each(this.options,function(T,w){var p=this.items[T];T!==A&&(p&&X.removeClass(p,"selected"),w.selected=!1,w.removeAttribute("selected"))},this)}X.includes(m,D)||this.el.add(D),_.setAttribute("aria-selected",!0),X.addClass(_,"selected"),X.addClass(this.container,"has-selected"),D.selected=!0,D.setAttribute("selected",""),this.emit("selectr.change",D),this.emit("selectr.select",D),"createEvent"in document?((I=document.createEvent("HTMLEvents")).initEvent("change",!0,!0),I.__selfTriggered=!0,this.el.dispatchEvent(I)):this.el.fireEvent("onchange")},x.prototype.deselect=function(A,_){var m=this.items[A],D=this.options[A];if(this.el.multiple){var I=this.selectedIndexes.indexOf(A);this.selectedIndexes.splice(I,1),I=this.selectedValues.indexOf(D.value),this.selectedValues.splice(I,1),function(T){var w=!1;X.each(this.tags,function(p,y){y.idx===T.idx&&(w=y)},this),w&&(this.label.removeChild(w),this.tags.splice(this.tags.indexOf(w),1))}.call(this,m),this.tags.length||X.removeClass(this.container,"has-selected")}else{if(!_&&!this.config.clearable&&!this.config.allowDeselect)return!1;this.label.innerHTML="",this.selectedValue=null,this.el.selectedIndex=this.selectedIndex=-1,X.removeClass(this.container,"has-selected")}this.items[A].setAttribute("aria-selected",!1),X.removeClass(this.items[A],"selected"),D.selected=!1,D.removeAttribute("selected"),this.emit("selectr.change",null),this.emit("selectr.deselect",D),"createEvent"in document?((I=document.createEvent("HTMLEvents")).initEvent("change",!0,!0),I.__selfTriggered=!0,this.el.dispatchEvent(I)):this.el.fireEvent("onchange")},x.prototype.setValue=function(A){var _=Array.isArray(A);if(_||(A=A.toString().trim()),!this.el.multiple&&_)return!1;X.each(this.options,function(m,D){(_&&-1<A.indexOf(D.value)||D.value===A)&&this.change(D.idx)},this)},x.prototype.getValue=function(A,_){var m,D;return this.el.multiple?A?this.selectedIndexes.length&&(D={values:[]},X.each(this.selectedIndexes,function(I,T){D.values[I]={value:(T=this.options[T]).value,text:T.textContent}},this)):D=this.selectedValues.slice():D=A?{value:(m=this.options[this.selectedIndex]).value,text:m.textContent}:this.selectedValue,D=A&&_?JSON.stringify(D):D},x.prototype.add=function(A,_){if(A){if(this.data=this.data||[],this.items=this.items||[],this.options=this.options||[],Array.isArray(A))X.each(A,function(I,T){this.add(T,_)},this);else if("[object Object]"===Object.prototype.toString.call(A)){if(_){var m=!1;if(X.each(this.options,function(I,T){T.value.toLowerCase()===A.value.toLowerCase()&&(m=!0)}),m)return!1}var D=X.createElement("option",A);return this.data.push(A),this.mobileDevice&&this.el.add(D),this.options.push(D),D.idx=0<this.options.length?this.options.length-1:0,P.call(this,D),A.selected&&this.select(D.idx),this.setPlaceholder(),D}return this.config.pagination&&this.paginate(),!0}},x.prototype.remove=function(A){var _,m=[];Array.isArray(A)?X.each(A,function(D,I){X.isInt(I)?m.push(this.getOptionByIndex(I)):"string"==typeof I&&m.push(this.getOptionByValue(I))},this):X.isInt(A)?m.push(this.getOptionByIndex(A)):"string"==typeof A&&m.push(this.getOptionByValue(A)),m.length&&(X.each(m,function(D,I){_=I.idx,this.el.remove(I),this.options.splice(_,1),(I=this.items[_].parentNode)&&I.removeChild(this.items[_]),this.items.splice(_,1),X.each(this.options,function(T,w){w.idx=T,this.items[T].idx=T},this)},this),this.setPlaceholder(),this.config.pagination)&&this.paginate()},x.prototype.removeAll=function(){this.clear(!0),X.each(this.el.options,function(A,_){this.el.remove(_)},this),X.truncate(this.tree),this.items=[],this.options=[],this.data=[],this.navIndex=0,this.requiresPagination&&(this.requiresPagination=!1,this.pageIndex=1,this.pages=[]),this.setPlaceholder()},x.prototype.search=function(A,_){var m,D,I,T,w;if(!this.navigating)return m=!1,A||(A=this.input.value,m=!0,this.removeMessage(),X.truncate(this.tree)),D=[],I=document.createDocumentFragment(),0<(A=A.trim().toLowerCase()).length?(T=_?X.startsWith:X.includes,X.each(this.options,function(p,y){var h,u,l,d,g=this.items[y.idx];T(y.textContent.trim().toLowerCase(),A)&&!y.disabled?(D.push({text:y.textContent,value:y.value}),m&&($(g,I,this.customOption),X.removeClass(g,"excluded"),!this.customOption)&&(h=A,l=y.textContent,d=(h=new RegExp(h,"ig")).exec(l))&&(y.innerHTML="",(u=document.createElement("span")).classList.add("selectr-match"),u.textContent=d[0],y.appendChild(document.createTextNode(l.substring(0,d.index))),y.appendChild(u),y.appendChild(document.createTextNode(l.substring(h.lastIndex))))):m&&X.addClass(g,"excluded")},this),m&&(I.childElementCount?(_=this.items[this.navIndex],w=I.querySelector(".selectr-option:not(.excluded)"),this.noResults=!1,X.removeClass(_,"active"),this.navIndex=w.idx,X.addClass(w,"active")):this.config.taggable||(this.noResults=!0,this.setMessage(this.config.messages.noResults)),this.tree.appendChild(I))):k.call(this),D},x.prototype.toggle=function(){this.disabled||(this.opened?this.close():this.open())},x.prototype.open=function(){var A=this;if(!this.options.length)return!1;this.opened||this.emit("selectr.open"),this.opened=!0,this.mobileDevice||this.config.nativeDropdown?(X.addClass(this.container,"native-open"),this.config.data&&X.each(this.options,function(_,m){this.el.add(m)},this)):(X.addClass(this.container,"open"),k.call(this),this.invert(),this.tree.scrollTop=0,X.removeClass(this.container,"notice"),this.selected.setAttribute("aria-expanded",!0),this.tree.setAttribute("aria-hidden",!1),this.tree.setAttribute("aria-expanded",!0),this.config.searchable&&!this.config.taggable&&setTimeout(function(){A.input.focus(),A.input.tabIndex=0},10))},x.prototype.close=function(){var A;this.opened&&this.emit("selectr.close"),this.opened=!1,this.navigating=!1,this.mobileDevice||this.config.nativeDropdown?X.removeClass(this.container,"native-open"):(A=X.hasClass(this.container,"notice"),this.config.searchable&&!A&&(this.input.blur(),this.input.tabIndex=-1,this.searching=!1),A&&(X.removeClass(this.container,"notice"),this.notice.textContent=""),X.removeClass(this.container,"open"),X.removeClass(this.container,"native-open"),this.selected.setAttribute("aria-expanded",!1),this.tree.setAttribute("aria-hidden",!0),this.tree.setAttribute("aria-expanded",!1),X.truncate(this.tree),R.call(this))},x.prototype.enable=function(){this.disabled=!1,this.el.disabled=!1,this.selected.tabIndex=this.originalIndex,this.el.multiple&&X.each(this.tags,function(A,_){_.lastElementChild.tabIndex=0}),X.removeClass(this.container,"selectr-disabled")},x.prototype.disable=function(A){A||(this.el.disabled=!0),this.selected.tabIndex=-1,this.el.multiple&&X.each(this.tags,function(_,m){m.lastElementChild.tabIndex=-1}),this.disabled=!0,X.addClass(this.container,"selectr-disabled")},x.prototype.reset=function(){this.disabled||(this.clear(),this.setSelected(!0),X.each(this.defaultSelected,function(A,_){this.select(_)},this),this.emit("selectr.reset"))},x.prototype.clear=function(A,_){var m;this.el.multiple?this.selectedIndexes.length&&(m=this.selectedIndexes.slice(),_?this.deselect(m.slice(-1)[0]):X.each(m,function(D,I){this.deselect(I)},this)):-1<this.selectedIndex&&this.deselect(this.selectedIndex,A),this.emit("selectr.clear")},x.prototype.serialise=function(A){var _=[];return X.each(this.options,function(m,D){var I={value:D.value,text:D.textContent};D.selected&&(I.selected=!0),D.disabled&&(I.disabled=!0),_[m]=I}),A?JSON.stringify(_):_},x.prototype.serialize=function(A){return this.serialise(A)},x.prototype.setPlaceholder=function(A){A=A||this.config.placeholder||this.el.getAttribute("placeholder"),this.options.length||(A=this.config.messages.noOptions),this.placeEl.innerHTML=A},x.prototype.paginate=function(){var A;if(this.items.length)return(A=this).pages=this.items.map(function(_,m){return m%A.config.pagination==0?A.items.slice(m,m+A.config.pagination):null}).filter(function(_){return _}),this.pages},x.prototype.setMessage=function(A,_){_&&this.close(),X.addClass(this.container,"notice"),this.notice.textContent=A},x.prototype.removeMessage=function(){X.removeClass(this.container,"notice"),this.notice.innerHTML=""},x.prototype.invert=function(){var A=X.rect(this.selected),m=window.innerHeight;A.top+A.height+this.tree.parentNode.offsetHeight>m?(X.addClass(this.container,"inverted"),this.isInverted=!0):(X.removeClass(this.container,"inverted"),this.isInverted=!1),this.optsRect=X.rect(this.tree)},x.prototype.getOptionByIndex=function(A){return this.options[A]},x.prototype.getOptionByValue=function(A){for(var _=!1,m=0,D=this.options.length;m<D;m++)if(this.options[m].value.trim()===A.toString().trim()){_=this.options[m];break}return _},Z.exports=x},4188:function(Z,V,X){"use strict";X.d(V,{EX:function(){return $},WF:function(){return k},oW:function(){return P},qD:function(){return ee}});var ee=document.body,$=10485760,k=2e4,P=2147483648},2602:function(Z,V,X){"use strict";X.d(V,{w:function(){return $}});var ee=X(9791);function $(k,P,E){var R,x=3<arguments.length&&void 0!==arguments[3]&&arguments[3],A="function"==typeof(m=k).getRootNode?m.getRootNode():window,_={},m=k.getBoundingClientRect(),D=P.getBoundingClientRect(),I=document.createElement("div");function T(){if(I&&I.parentNode){for(var p in I.parentNode.removeChild(I),_)y=p,Object.prototype.hasOwnProperty.call(_,y)&&((y=_[p])&&(0,ee.removeEventListener)(A,p,y),delete _[p]);"function"==typeof E&&E(k)}var y}function w(p){(p=p.target)===I||(0,ee.isChildOf)(p,I)||T()}return I.className="jsoneditor-anchor",I.style.position="absolute",I.style.left=m.left-D.left+"px",I.style.top=m.top-D.top+"px",I.style.width=m.width-2+"px",I.style.height=m.height-2+"px",I.style.boxSizing="border-box",P.appendChild(I),_.mousedown=(0,ee.addEventListener)(A,"mousedown",w),_.mousewheel=(0,ee.addEventListener)(A,"mousewheel",w),x&&(R=null,I.onmouseover=function(){clearTimeout(R),R=null},I.onmouseout=function(){R=R||setTimeout(T,200)}),I.destroy=T,I}},7923:function(Z){Z.exports="data:application/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyICYmIGVyci5kYXRhLAogICAgICAgIGZpbGU6IGZpbGUsCiAgICAgICAgbGluZTogbGluZSwgCiAgICAgICAgY29sOiBjb2wsCiAgICAgICAgc3RhY2s6IGVyciAmJiBlcnIuc3RhY2sKICAgIH19KTsKfTsKCndpbmRvdy5ub3JtYWxpemVNb2R1bGUgPSBmdW5jdGlvbihwYXJlbnRJZCwgbW9kdWxlTmFtZSkgewogICAgLy8gbm9ybWFsaXplIHBsdWdpbiByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuaW5kZXhPZigiISIpICE9PSAtMSkgewogICAgICAgIHZhciBjaHVua3MgPSBtb2R1bGVOYW1lLnNwbGl0KCIhIik7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsIGNodW5rc1swXSkgKyAiISIgKyB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMV0pOwogICAgfQogICAgLy8gbm9ybWFsaXplIHJlbGF0aXZlIHJlcXVpcmVzCiAgICBpZiAobW9kdWxlTmFtZS5jaGFyQXQoMCkgPT0gIi4iKSB7CiAgICAgICAgdmFyIGJhc2UgPSBwYXJlbnRJZC5zcGxpdCgiLyIpLnNsaWNlKDAsIC0xKS5qb2luKCIvIik7CiAgICAgICAgbW9kdWxlTmFtZSA9IChiYXNlID8gYmFzZSArICIvIiA6ICIiKSArIG1vZHVsZU5hbWU7CiAgICAgICAgCiAgICAgICAgd2hpbGUgKG1vZHVsZU5hbWUuaW5kZXhPZigiLiIpICE9PSAtMSAmJiBwcmV2aW91cyAhPSBtb2R1bGVOYW1lKSB7CiAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IG1vZHVsZU5hbWU7CiAgICAgICAgICAgIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lLnJlcGxhY2UoL15cLlwvLywgIiIpLnJlcGxhY2UoL1wvXC5cLy8sICIvIikucmVwbGFjZSgvW15cL10rXC9cLlwuXC8vLCAiIik7CiAgICAgICAgfQogICAgfQogICAgCiAgICByZXR1cm4gbW9kdWxlTmFtZTsKfTsKCndpbmRvdy5yZXF1aXJlID0gZnVuY3Rpb24gcmVxdWlyZShwYXJlbnRJZCwgaWQpIHsKICAgIGlmICghaWQpIHsKICAgICAgICBpZCA9IHBhcmVudElkOwogICAgICAgIHBhcmVudElkID0gbnVsbDsKICAgIH0KICAgIGlmICghaWQuY2hhckF0KQogICAgICAgIHRocm93IG5ldyBFcnJvcigid29ya2VyLmpzIHJlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzIik7CgogICAgaWQgPSB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBpZCk7CgogICAgdmFyIG1vZHVsZSA9IHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdOwogICAgaWYgKG1vZHVsZSkgewogICAgICAgIGlmICghbW9kdWxlLmluaXRpYWxpemVkKSB7CiAgICAgICAgICAgIG1vZHVsZS5pbml0aWFsaXplZCA9IHRydWU7CiAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7CiAgICB9CiAgIAogICAgaWYgKCF3aW5kb3cucmVxdWlyZS50bG5zKQogICAgICAgIHJldHVybiBjb25zb2xlLmxvZygidW5hYmxlIHRvIGxvYWQgIiArIGlkKTsKICAgIAogICAgdmFyIHBhdGggPSByZXNvbHZlTW9kdWxlSWQoaWQsIHdpbmRvdy5yZXF1aXJlLnRsbnMpOwogICAgaWYgKHBhdGguc2xpY2UoLTMpICE9ICIuanMiKSBwYXRoICs9ICIuanMiOwogICAgCiAgICB3aW5kb3cucmVxdWlyZS5pZCA9IGlkOwogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7fTsgLy8gcHJldmVudCBpbmZpbml0ZSBsb29wIG9uIGJyb2tlbiBtb2R1bGVzCiAgICBpbXBvcnRTY3JpcHRzKHBhdGgpOwogICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKHBhcmVudElkLCBpZCk7Cn07CmZ1bmN0aW9uIHJlc29sdmVNb2R1bGVJZChpZCwgcGF0aHMpIHsKICAgIHZhciB0ZXN0UGF0aCA9IGlkLCB0YWlsID0gIiI7CiAgICB3aGlsZSAodGVzdFBhdGgpIHsKICAgICAgICB2YXIgYWxpYXMgPSBwYXRoc1t0ZXN0UGF0aF07CiAgICAgICAgaWYgKHR5cGVvZiBhbGlhcyA9PSAic3RyaW5nIikgewogICAgICAgICAgICByZXR1cm4gYWxpYXMgKyB0YWlsOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMpIHsKICAgICAgICAgICAgcmV0dXJuICBhbGlhcy5sb2NhdGlvbi5yZXBsYWNlKC9cLyokLywgIi8iKSArICh0YWlsIHx8IGFsaWFzLm1haW4gfHwgYWxpYXMubmFtZSk7CiAgICAgICAgfSBlbHNlIGlmIChhbGlhcyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgICB2YXIgaSA9IHRlc3RQYXRoLmxhc3RJbmRleE9mKCIvIik7CiAgICAgICAgaWYgKGkgPT09IC0xKSBicmVhazsKICAgICAgICB0YWlsID0gdGVzdFBhdGguc3Vic3RyKGkpICsgdGFpbDsKICAgICAgICB0ZXN0UGF0aCA9IHRlc3RQYXRoLnNsaWNlKDAsIGkpOwogICAgfQogICAgcmV0dXJuIGlkOwp9CndpbmRvdy5yZXF1aXJlLm1vZHVsZXMgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9OwoKd2luZG93LmRlZmluZSA9IGZ1bmN0aW9uKGlkLCBkZXBzLCBmYWN0b3J5KSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgZmFjdG9yeSA9IGRlcHM7CiAgICAgICAgaWYgKHR5cGVvZiBpZCAhPSAic3RyaW5nIikgewogICAgICAgICAgICBkZXBzID0gaWQ7CiAgICAgICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICAgICAgfQogICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICBmYWN0b3J5ID0gaWQ7CiAgICAgICAgZGVwcyA9IFtdOwogICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICB9CiAgICAKICAgIGlmICh0eXBlb2YgZmFjdG9yeSAhPSAiZnVuY3Rpb24iKSB7CiAgICAgICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgICAgIGV4cG9ydHM6IGZhY3RvcnksCiAgICAgICAgICAgIGluaXRpYWxpemVkOiB0cnVlCiAgICAgICAgfTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKCFkZXBzLmxlbmd0aCkKICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBkZXBlbmRlbmNpZXMsIHdlIGluamVjdCAicmVxdWlyZSIsICJleHBvcnRzIiBhbmQKICAgICAgICAvLyAibW9kdWxlIiBhcyBkZXBlbmRlbmNpZXMsIHRvIHByb3ZpZGUgQ29tbW9uSlMgY29tcGF0aWJpbGl0eS4KICAgICAgICBkZXBzID0gWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAibW9kdWxlIl07CgogICAgdmFyIHJlcSA9IGZ1bmN0aW9uKGNoaWxkSWQpIHsKICAgICAgICByZXR1cm4gd2luZG93LnJlcXVpcmUoaWQsIGNoaWxkSWQpOwogICAgfTsKCiAgICB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXSA9IHsKICAgICAgICBleHBvcnRzOiB7fSwKICAgICAgICBmYWN0b3J5OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIG1vZHVsZSA9IHRoaXM7CiAgICAgICAgICAgIHZhciByZXR1cm5FeHBvcnRzID0gZmFjdG9yeS5hcHBseSh0aGlzLCBkZXBzLnNsaWNlKDAsIGZhY3RvcnkubGVuZ3RoKS5tYXAoZnVuY3Rpb24oZGVwKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlcCkgewogICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kICJtb2R1bGUiIGFyZW4ndCBhY3R1YWwKICAgICAgICAgICAgICAgICAgICAvLyBkZXBlbmRlbmNpZXMsIHdlIG11c3QgaGFuZGxlIHRoZW0gc2VwZXJhdGVseS4KICAgICAgICAgICAgICAgICAgICBjYXNlICJyZXF1aXJlIjogcmV0dXJuIHJlcTsKICAgICAgICAgICAgICAgICAgICBjYXNlICJleHBvcnRzIjogcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIm1vZHVsZSI6ICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICAgICAgICAgIC8vIEJ1dCBmb3IgYWxsIG90aGVyIGRlcGVuZGVuY2llcywgd2UgY2FuIGp1c3QgZ28gYWhlYWQgYW5kCiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZSB0aGVtLgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICByZXR1cm4gcmVxKGRlcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgaWYgKHJldHVybkV4cG9ydHMpCiAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHJldHVybkV4cG9ydHM7CiAgICAgICAgICAgIHJldHVybiBtb2R1bGU7CiAgICAgICAgfQogICAgfTsKfTsKd2luZG93LmRlZmluZS5hbWQgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHRoaXMucmVxdWlyZS50bG5zW2ldID0gdG9wTGV2ZWxOYW1lc3BhY2VzW2ldOwp9OwoKd2luZG93LmluaXRTZW5kZXIgPSBmdW5jdGlvbiBpbml0U2VuZGVyKCkgewoKICAgIHZhciBFdmVudEVtaXR0ZXIgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwogICAgdmFyIG9vcCA9IHdpbmRvdy5yZXF1aXJlKCJhY2UvbGliL29vcCIpOwogICAgCiAgICB2YXIgU2VuZGVyID0gZnVuY3Rpb24oKSB7fTsKICAgIAogICAgKGZ1bmN0aW9uKCkgewogICAgICAgIAogICAgICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTsKICAgICAgICAgICAgICAgIAogICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFja0lkKSB7CiAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJjYWxsIiwKICAgICAgICAgICAgICAgIGlkOiBjYWxsYmFja0lkLAogICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgCiAgICAgICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24obmFtZSwgZGF0YSkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXZlbnQiLAogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICAKICAgIH0pLmNhbGwoU2VuZGVyLnByb3RvdHlwZSk7CiAgICAKICAgIHJldHVybiBuZXcgU2VuZGVyKCk7Cn07Cgp2YXIgbWFpbiA9IHdpbmRvdy5tYWluID0gbnVsbDsKdmFyIHNlbmRlciA9IHdpbmRvdy5zZW5kZXIgPSBudWxsOwoKd2luZG93Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHsKICAgIHZhciBtc2cgPSBlLmRhdGE7CiAgICBpZiAobXNnLmV2ZW50ICYmIHNlbmRlcikgewogICAgICAgIHNlbmRlci5fc2lnbmFsKG1zZy5ldmVudCwgbXNnLmRhdGEpOwogICAgfQogICAgZWxzZSBpZiAobXNnLmNvbW1hbmQpIHsKICAgICAgICBpZiAobWFpblttc2cuY29tbWFuZF0pCiAgICAgICAgICAgIG1haW5bbXNnLmNvbW1hbmRdLmFwcGx5KG1haW4sIG1zZy5hcmdzKTsKICAgICAgICBlbHNlIGlmICh3aW5kb3dbbXNnLmNvbW1hbmRdKQogICAgICAgICAgICB3aW5kb3dbbXNnLmNvbW1hbmRdLmFwcGx5KHdpbmRvdywgbXNnLmFyZ3MpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbW1hbmQ6IiArIG1zZy5jb21tYW5kKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5pbml0KSB7CiAgICAgICAgd2luZG93LmluaXRCYXNlVXJscyhtc2cudGxucyk7CiAgICAgICAgc2VuZGVyID0gd2luZG93LnNlbmRlciA9IHdpbmRvdy5pbml0U2VuZGVyKCk7CiAgICAgICAgdmFyIGNsYXp6ID0gdGhpcy5yZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdOwogICAgICAgIG1haW4gPSB3aW5kb3cubWFpbiA9IG5ldyBjbGF6eihzZW5kZXIpOwogICAgfQp9Owp9KSh0aGlzKTsKCmFjZS5kZWZpbmUoImFjZS9saWIvb29wIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CmV4cG9ydHMuaW5oZXJpdHMgPSBmdW5jdGlvbiAoY3Rvciwgc3VwZXJDdG9yKSB7CiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjsKICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7CiAgICAgICAgY29uc3RydWN0b3I6IHsKICAgICAgICAgICAgdmFsdWU6IGN0b3IsCiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgfQogICAgfSk7Cn07CmV4cG9ydHMubWl4aW4gPSBmdW5jdGlvbiAob2JqLCBtaXhpbikgewogICAgZm9yICh2YXIga2V5IGluIG1peGluKSB7CiAgICAgICAgb2JqW2tleV0gPSBtaXhpbltrZXldOwogICAgfQogICAgcmV0dXJuIG9iajsKfTsKZXhwb3J0cy5pbXBsZW1lbnQgPSBmdW5jdGlvbiAocHJvdG8sIG1peGluKSB7CiAgICBleHBvcnRzLm1peGluKHByb3RvLCBtaXhpbik7Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hcHBseV9kZWx0YSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpmdW5jdGlvbiB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIGVycm9yVGV4dCkgewogICAgY29uc29sZS5sb2coIkludmFsaWQgRGVsdGE6IiwgZGVsdGEpOwogICAgdGhyb3cgIkludmFsaWQgRGVsdGE6ICIgKyBlcnJvclRleHQ7Cn0KZnVuY3Rpb24gcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBwb3NpdGlvbikgewogICAgcmV0dXJuIHBvc2l0aW9uLnJvdyA+PSAwICYmIHBvc2l0aW9uLnJvdyA8IGRvY0xpbmVzLmxlbmd0aCAmJgogICAgICAgIHBvc2l0aW9uLmNvbHVtbiA+PSAwICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBkb2NMaW5lc1twb3NpdGlvbi5yb3ddLmxlbmd0aDsKfQpmdW5jdGlvbiB2YWxpZGF0ZURlbHRhKGRvY0xpbmVzLCBkZWx0YSkgewogICAgaWYgKGRlbHRhLmFjdGlvbiAhPSAiaW5zZXJ0IiAmJiBkZWx0YS5hY3Rpb24gIT0gInJlbW92ZSIpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuYWN0aW9uIG11c3QgYmUgJ2luc2VydCcgb3IgJ3JlbW92ZSciKTsKICAgIGlmICghKGRlbHRhLmxpbmVzIGluc3RhbmNlb2YgQXJyYXkpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmxpbmVzIG11c3QgYmUgYW4gQXJyYXkiKTsKICAgIGlmICghZGVsdGEuc3RhcnQgfHwgIWRlbHRhLmVuZCkKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5zdGFydC9lbmQgbXVzdCBiZSBhbiBwcmVzZW50Iik7CiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIGlmICghcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBkZWx0YS5zdGFydCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnQiKTsKICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7CiAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmICFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGVuZCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuZW5kIG11c3QgY29udGFpbmVkIGluIGRvY3VtZW50IGZvciAncmVtb3ZlJyBhY3Rpb25zIik7CiAgICB2YXIgbnVtUmFuZ2VSb3dzID0gZW5kLnJvdyAtIHN0YXJ0LnJvdzsKICAgIHZhciBudW1SYW5nZUxhc3RMaW5lQ2hhcnMgPSAoZW5kLmNvbHVtbiAtIChudW1SYW5nZVJvd3MgPT0gMCA/IHN0YXJ0LmNvbHVtbiA6IDApKTsKICAgIGlmIChudW1SYW5nZVJvd3MgIT0gZGVsdGEubGluZXMubGVuZ3RoIC0gMSB8fCBkZWx0YS5saW5lc1tudW1SYW5nZVJvd3NdLmxlbmd0aCAhPSBudW1SYW5nZUxhc3RMaW5lQ2hhcnMpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEucmFuZ2UgbXVzdCBtYXRjaCBkZWx0YSBsaW5lcyIpOwp9CmV4cG9ydHMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkb2NMaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICB2YXIgc3RhcnRDb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICB2YXIgbGluZSA9IGRvY0xpbmVzW3Jvd10gfHwgIiI7CiAgICBzd2l0Y2ggKGRlbHRhLmFjdGlvbikgewogICAgICAgIGNhc2UgImluc2VydCI6CiAgICAgICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZGVsdGEubGluZXNbMF0gKyBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtyb3csIDFdLmNvbmNhdChkZWx0YS5saW5lcyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW3Jvd107CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3cgKyBkZWx0YS5saW5lcy5sZW5ndGggLSAxXSArPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVtb3ZlIjoKICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IGRlbHRhLmVuZC5jb2x1bW47CiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkZWx0YS5lbmQucm93OwogICAgICAgICAgICBpZiAocm93ID09PSBlbmRSb3cpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBsaW5lLnN1YnN0cmluZyhlbmRDb2x1bW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZG9jTGluZXMuc3BsaWNlKHJvdywgZW5kUm93IC0gcm93ICsgMSwgbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZG9jTGluZXNbZW5kUm93XS5zdWJzdHJpbmcoZW5kQ29sdW1uKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgRXZlbnRFbWl0dGVyID0ge307CnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfTsKdmFyIHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9OwpFdmVudEVtaXR0ZXIuX2VtaXQgPQogICAgRXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZSkgewogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwgKHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB7fSk7CiAgICAgICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJzIHx8ICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7fSk7CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTsKICAgICAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycy5sZW5ndGggJiYgIWRlZmF1bHRIYW5kbGVyKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHR5cGVvZiBlICE9ICJvYmplY3QiIHx8ICFlKQogICAgICAgICAgICBlID0ge307CiAgICAgICAgaWYgKCFlLnR5cGUpCiAgICAgICAgICAgIGUudHlwZSA9IGV2ZW50TmFtZTsKICAgICAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKQogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjsKICAgICAgICBpZiAoIWUucHJldmVudERlZmF1bHQpCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDsKICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7CiAgICAgICAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpZiAoZGVmYXVsdEhhbmRsZXIgJiYgIWUuZGVmYXVsdFByZXZlbnRlZCkKICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyKGUsIHRoaXMpOwogICAgfTsKRXZlbnRFbWl0dGVyLl9zaWduYWwgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBlKSB7CiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKQogICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTsKfTsKRXZlbnRFbWl0dGVyLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHRoaXMub24oZXZlbnROYW1lLCBmdW5jdGlvbiBuZXdDYWxsYmFjaygpIHsKICAgICAgICBfc2VsZi5vZmYoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7CiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH0pOwogICAgaWYgKCFjYWxsYmFjaykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICBjYWxsYmFjayA9IHJlc29sdmU7CiAgICAgICAgfSk7CiAgICB9Cn07CkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0geyBfZGlzYWJsZWRfOiB7fSB9OwogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHsKICAgICAgICB2YXIgb2xkID0gaGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAgICAgaWYgKCFkaXNhYmxlZCkKICAgICAgICAgICAgaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdID0gZGlzYWJsZWQgPSBbXTsKICAgICAgICBkaXNhYmxlZC5wdXNoKG9sZCk7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQogICAgaGFuZGxlcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrOwp9OwpFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzOwogICAgaWYgKCFoYW5kbGVycykKICAgICAgICByZXR1cm47CiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICBpZiAoaGFuZGxlcnNbZXZlbnROYW1lXSA9PSBjYWxsYmFjaykgewogICAgICAgIGlmIChkaXNhYmxlZCkKICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsIGRpc2FibGVkLnBvcCgpKTsKICAgIH0KICAgIGVsc2UgaWYgKGRpc2FibGVkKSB7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQp9OwpFdmVudEVtaXR0ZXIub24gPQogICAgRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaywgY2FwdHVyaW5nKSB7CiAgICAgICAgdGhpcy5fZXZlbnRSZWdpc3RyeSA9IHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge307CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSkKICAgICAgICAgICAgbGlzdGVuZXJzW2NhcHR1cmluZyA/ICJ1bnNoaWZ0IiA6ICJwdXNoIl0oY2FsbGJhY2spOwogICAgICAgIHJldHVybiBjYWxsYmFjazsKICAgIH07CkV2ZW50RW1pdHRlci5vZmYgPQogICAgRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyID0KICAgICAgICBFdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwogICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOwogICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKQogICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfTsKRXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudE5hbWUpIHsKICAgIGlmICghZXZlbnROYW1lKQogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZXZlbnRSZWdpc3RyeSkKICAgICAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZGVmYXVsdEhhbmRsZXJzKQogICAgICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdID0gdW5kZWZpbmVkOwp9OwpleHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3JhbmdlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBjb21wYXJlUG9pbnRzID0gZnVuY3Rpb24gKHAxLCBwMikgewogICAgcmV0dXJuIHAxLnJvdyAtIHAyLnJvdyB8fCBwMS5jb2x1bW4gLSBwMi5jb2x1bW47Cn07CnZhciBSYW5nZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBlbmRDb2x1bW4pIHsKICAgICAgICB0aGlzLnN0YXJ0ID0gewogICAgICAgICAgICByb3c6IHN0YXJ0Um93LAogICAgICAgICAgICBjb2x1bW46IHN0YXJ0Q29sdW1uCiAgICAgICAgfTsKICAgICAgICB0aGlzLmVuZCA9IHsKICAgICAgICAgICAgcm93OiBlbmRSb3csCiAgICAgICAgICAgIGNvbHVtbjogZW5kQ29sdW1uCiAgICAgICAgfTsKICAgIH0KICAgIFJhbmdlLnByb3RvdHlwZS5pc0VxdWFsID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5lbmQucm93ID09PSByYW5nZS5lbmQucm93ICYmCiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiYKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID09PSByYW5nZS5lbmQuY29sdW1uOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gKCJSYW5nZTogWyIgKyB0aGlzLnN0YXJ0LnJvdyArICIvIiArIHRoaXMuc3RhcnQuY29sdW1uICsKICAgICAgICAgICAgIl0gLT4gWyIgKyB0aGlzLmVuZC5yb3cgKyAiLyIgKyB0aGlzLmVuZC5jb2x1bW4gKyAiXSIpOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDA7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNvbXBhcmVSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAsIGVuZCA9IHJhbmdlLmVuZCwgc3RhcnQgPSByYW5nZS5zdGFydDsKICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoZW5kLnJvdywgZW5kLmNvbHVtbik7CiAgICAgICAgaWYgKGNtcCA9PSAxKSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoY21wID09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiAtMjsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDQyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNvbXBhcmVQb2ludCA9IGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShwLnJvdywgcC5jb2x1bW4pOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jb250YWluc1JhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KSA9PSAwICYmIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLmVuZCkgPT0gMDsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7CiAgICAgICAgcmV0dXJuIChjbXAgPT0gLTEgfHwgY21wID09IDAgfHwgY21wID09IDEpOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5pc0VuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW47CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmlzU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbjsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuc2V0U3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93LnJvdzsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLnNldEVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0eXBlb2Ygcm93ID09ICJvYmplY3QiKSB7CiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuZW5kLnJvdyA9IHJvdy5yb3c7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3c7CiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmluc2lkZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHsKICAgICAgICAgICAgaWYgKHRoaXMuaXNFbmQocm93LCBjb2x1bW4pIHx8IHRoaXMuaXNTdGFydChyb3csIGNvbHVtbikpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuaW5zaWRlU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5pbnNpZGVFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhcnQocm93LCBjb2x1bW4pKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAoIXRoaXMuaXNNdWx0aUxpbmUoKSkgewogICAgICAgICAgICBpZiAocm93ID09PSB0aGlzLnN0YXJ0LnJvdykgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8IHRoaXMuc3RhcnQuY29sdW1uID8gLTEgOiAoY29sdW1uID4gdGhpcy5lbmQuY29sdW1uID8gMSA6IDApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChyb3cgPCB0aGlzLnN0YXJ0LnJvdykKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIGlmIChyb3cgPiB0aGlzLmVuZC5yb3cpCiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgIGlmICh0aGlzLnN0YXJ0LnJvdyA9PT0gcm93KQogICAgICAgICAgICByZXR1cm4gY29sdW1uID49IHRoaXMuc3RhcnQuY29sdW1uID8gMCA6IC0xOwogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT09IHJvdykKICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8PSB0aGlzLmVuZC5jb2x1bW4gPyAwIDogMTsKICAgICAgICByZXR1cm4gMDsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuY29tcGFyZVN0YXJ0ID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jb21wYXJlRW5kID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuY29tcGFyZUluc2lkZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jbGlwUm93cyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgZW5kID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLmVuZC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiBmaXJzdFJvdywgY29sdW1uOiAwIH07CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID4gbGFzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA8IGZpcnN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogZmlyc3RSb3csIGNvbHVtbjogMCB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pOwogICAgICAgIGlmIChjbXAgPT0gMCkKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogcm93LCBjb2x1bW46IGNvbHVtbiB9OwogICAgICAgIGVsc2UKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH07CiAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnQgfHwgdGhpcy5zdGFydCwgZW5kIHx8IHRoaXMuZW5kKTsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gKHRoaXMuc3RhcnQucm93ID09PSB0aGlzLmVuZC5yb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT09IHRoaXMuZW5kLmNvbHVtbik7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgIT09IHRoaXMuZW5kLnJvdyk7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHRoaXMuc3RhcnQsIHRoaXMuZW5kKTsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuY29sbGFwc2VSb3dzID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh0aGlzLmVuZC5jb2x1bW4gPT0gMCkKICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgTWF0aC5tYXgodGhpcy5zdGFydC5yb3csIHRoaXMuZW5kLnJvdyAtIDEpLCAwKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5zdGFydC5yb3csIDAsIHRoaXMuZW5kLnJvdywgMCk7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLnRvU2NyZWVuUmFuZ2UgPSBmdW5jdGlvbiAoc2Vzc2lvbikgewogICAgICAgIHZhciBzY3JlZW5Qb3NTdGFydCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpOwogICAgICAgIHZhciBzY3JlZW5Qb3NFbmQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmVuZCk7CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzY3JlZW5Qb3NTdGFydC5yb3csIHNjcmVlblBvc1N0YXJ0LmNvbHVtbiwgc2NyZWVuUG9zRW5kLnJvdywgc2NyZWVuUG9zRW5kLmNvbHVtbik7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLm1vdmVCeSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHRoaXMuc3RhcnQucm93ICs9IHJvdzsKICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiArPSBjb2x1bW47CiAgICAgICAgdGhpcy5lbmQucm93ICs9IHJvdzsKICAgICAgICB0aGlzLmVuZC5jb2x1bW4gKz0gY29sdW1uOwogICAgfTsKICAgIHJldHVybiBSYW5nZTsKfSgpKTsKUmFuZ2UuZnJvbVBvaW50cyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7CiAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTsKfTsKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGNvbXBhcmVQb2ludHM7ClJhbmdlLmNvbXBhcmVQb2ludHMgPSBmdW5jdGlvbiAocDEsIHAyKSB7CiAgICByZXR1cm4gcDEucm93IC0gcDIucm93IHx8IHAxLmNvbHVtbiAtIHAyLmNvbHVtbjsKfTsKZXhwb3J0cy5SYW5nZSA9IFJhbmdlOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvYW5jaG9yIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBvb3AgPSByZXF1aXJlKCIuL2xpYi9vb3AiKTsKdmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXI7CnZhciBBbmNob3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBBbmNob3IoZG9jLCByb3csIGNvbHVtbikgewogICAgICAgIHRoaXMuJG9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpOwogICAgICAgIHRoaXMuYXR0YWNoKGRvYyk7CiAgICAgICAgaWYgKHR5cGVvZiBjb2x1bW4gPT0gInVuZGVmaW5lZCIpCiAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocm93LnJvdywgcm93LmNvbHVtbik7CiAgICAgICAgZWxzZQogICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdywgY29sdW1uKTsKICAgIH0KICAgIEFuY2hvci5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQodGhpcy5yb3csIHRoaXMuY29sdW1uKTsKICAgIH07CiAgICBBbmNob3IucHJvdG90eXBlLmdldERvY3VtZW50ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50OwogICAgfTsKICAgIEFuY2hvci5wcm90b3R5cGUub25DaGFuZ2UgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICBpZiAoZGVsdGEuc3RhcnQucm93ID09IGRlbHRhLmVuZC5yb3cgJiYgZGVsdGEuc3RhcnQucm93ICE9IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKGRlbHRhLnN0YXJ0LnJvdyA+IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIHBvaW50ID0gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHsgcm93OiB0aGlzLnJvdywgY29sdW1uOiB0aGlzLmNvbHVtbiB9LCB0aGlzLiRpbnNlcnRSaWdodCk7CiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihwb2ludC5yb3csIHBvaW50LmNvbHVtbiwgdHJ1ZSk7CiAgICB9OwogICAgQW5jaG9yLnByb3RvdHlwZS5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbiwgbm9DbGlwKSB7CiAgICAgICAgdmFyIHBvczsKICAgICAgICBpZiAobm9DbGlwKSB7CiAgICAgICAgICAgIHBvcyA9IHsKICAgICAgICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4KICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvcyA9IHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5yb3cgPT0gcG9zLnJvdyAmJiB0aGlzLmNvbHVtbiA9PSBwb3MuY29sdW1uKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIG9sZCA9IHsKICAgICAgICAgICAgcm93OiB0aGlzLnJvdywKICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbgogICAgICAgIH07CiAgICAgICAgdGhpcy5yb3cgPSBwb3Mucm93OwogICAgICAgIHRoaXMuY29sdW1uID0gcG9zLmNvbHVtbjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZSIsIHsKICAgICAgICAgICAgb2xkOiBvbGQsCiAgICAgICAgICAgIHZhbHVlOiBwb3MKICAgICAgICB9KTsKICAgIH07CiAgICBBbmNob3IucHJvdG90eXBlLmRldGFjaCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9mZigiY2hhbmdlIiwgdGhpcy4kb25DaGFuZ2UpOwogICAgfTsKICAgIEFuY2hvci5wcm90b3R5cGUuYXR0YWNoID0gZnVuY3Rpb24gKGRvYykgewogICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2MgfHwgdGhpcy5kb2N1bWVudDsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9uKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgQW5jaG9yLnByb3RvdHlwZS4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBwb3MgPSB7fTsKICAgICAgICBpZiAocm93ID49IHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgcG9zLnJvdyA9IE1hdGgubWF4KDAsIHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcG9zLnJvdyA9IDA7CiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zLnJvdyA9IHJvdzsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IE1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsIE1hdGgubWF4KDAsIGNvbHVtbikpOwogICAgICAgIH0KICAgICAgICBpZiAoY29sdW1uIDwgMCkKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IDA7CiAgICAgICAgcmV0dXJuIHBvczsKICAgIH07CiAgICByZXR1cm4gQW5jaG9yOwp9KCkpOwpBbmNob3IucHJvdG90eXBlLiRpbnNlcnRSaWdodCA9IGZhbHNlOwpvb3AuaW1wbGVtZW50KEFuY2hvci5wcm90b3R5cGUsIEV2ZW50RW1pdHRlcik7CmZ1bmN0aW9uICRwb2ludHNJbk9yZGVyKHBvaW50MSwgcG9pbnQyLCBlcXVhbFBvaW50c0luT3JkZXIpIHsKICAgIHZhciBiQ29sSXNBZnRlciA9IGVxdWFsUG9pbnRzSW5PcmRlciA/IHBvaW50MS5jb2x1bW4gPD0gcG9pbnQyLmNvbHVtbiA6IHBvaW50MS5jb2x1bW4gPCBwb2ludDIuY29sdW1uOwogICAgcmV0dXJuIChwb2ludDEucm93IDwgcG9pbnQyLnJvdykgfHwgKHBvaW50MS5yb3cgPT0gcG9pbnQyLnJvdyAmJiBiQ29sSXNBZnRlcik7Cn0KZnVuY3Rpb24gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHBvaW50LCBtb3ZlSWZFcXVhbCkgewogICAgdmFyIGRlbHRhSXNJbnNlcnQgPSBkZWx0YS5hY3Rpb24gPT0gImluc2VydCI7CiAgICB2YXIgZGVsdGFSb3dTaGlmdCA9IChkZWx0YUlzSW5zZXJ0ID8gMSA6IC0xKSAqIChkZWx0YS5lbmQucm93IC0gZGVsdGEuc3RhcnQucm93KTsKICAgIHZhciBkZWx0YUNvbFNoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5jb2x1bW4gLSBkZWx0YS5zdGFydC5jb2x1bW4pOwogICAgdmFyIGRlbHRhU3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIHZhciBkZWx0YUVuZCA9IGRlbHRhSXNJbnNlcnQgPyBkZWx0YVN0YXJ0IDogZGVsdGEuZW5kOyAvLyBDb2xsYXBzZSBpbnNlcnQgcmFuZ2UuCiAgICBpZiAoJHBvaW50c0luT3JkZXIocG9pbnQsIGRlbHRhU3RhcnQsIG1vdmVJZkVxdWFsKSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJvdzogcG9pbnQucm93LAogICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbgogICAgICAgIH07CiAgICB9CiAgICBpZiAoJHBvaW50c0luT3JkZXIoZGVsdGFFbmQsIHBvaW50LCAhbW92ZUlmRXF1YWwpKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcm93OiBwb2ludC5yb3cgKyBkZWx0YVJvd1NoaWZ0LAogICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbiArIChwb2ludC5yb3cgPT0gZGVsdGFFbmQucm93ID8gZGVsdGFDb2xTaGlmdCA6IDApCiAgICAgICAgfTsKICAgIH0KICAgIHJldHVybiB7CiAgICAgICAgcm93OiBkZWx0YVN0YXJ0LnJvdywKICAgICAgICBjb2x1bW46IGRlbHRhU3RhcnQuY29sdW1uCiAgICB9Owp9CmV4cG9ydHMuQW5jaG9yID0gQW5jaG9yOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvZG9jdW1lbnQiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpeyJ1c2Ugc3RyaWN0IjsKdmFyIG9vcCA9IHJlcXVpcmUoIi4vbGliL29vcCIpOwp2YXIgYXBwbHlEZWx0YSA9IHJlcXVpcmUoIi4vYXBwbHlfZGVsdGEiKS5hcHBseURlbHRhOwp2YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcjsKdmFyIFJhbmdlID0gcmVxdWlyZSgiLi9yYW5nZSIpLlJhbmdlOwp2YXIgQW5jaG9yID0gcmVxdWlyZSgiLi9hbmNob3IiKS5BbmNob3I7CnZhciBEb2N1bWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIERvY3VtZW50KHRleHRPckxpbmVzKSB7CiAgICAgICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgICAgIGlmICh0ZXh0T3JMaW5lcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRleHRPckxpbmVzKSkgewogICAgICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiAwLCBjb2x1bW46IDAgfSwgdGV4dE9yTGluZXMpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0T3JMaW5lcyk7CiAgICAgICAgfQogICAgfQogICAgRG9jdW1lbnQucHJvdG90eXBlLnNldFZhbHVlID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgbGVuID0gdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdGhpcy5yZW1vdmUobmV3IFJhbmdlKDAsIDAsIGxlbiwgdGhpcy5nZXRMaW5lKGxlbikubGVuZ3RoKSk7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0IHx8ICIiKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsTGluZXMoKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuY3JlYXRlQW5jaG9yID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIG5ldyBBbmNob3IodGhpcywgcm93LCBjb2x1bW4pOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS4kZGV0ZWN0TmV3TGluZSA9IGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgdmFyIG1hdGNoID0gdGV4dC5tYXRjaCgvXi4qPyhcclxufFxyfFxuKS9tKTsKICAgICAgICB0aGlzLiRhdXRvTmV3TGluZSA9IG1hdGNoID8gbWF0Y2hbMV0gOiAiXG4iOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuZ2V0TmV3TGluZUNoYXJhY3RlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBzd2l0Y2ggKHRoaXMuJG5ld0xpbmVNb2RlKSB7CiAgICAgICAgICAgIGNhc2UgIndpbmRvd3MiOgogICAgICAgICAgICAgICAgcmV0dXJuICJcclxuIjsKICAgICAgICAgICAgY2FzZSAidW5peCI6CiAgICAgICAgICAgICAgICByZXR1cm4gIlxuIjsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRhdXRvTmV3TGluZSB8fCAiXG4iOwogICAgICAgIH0KICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuc2V0TmV3TGluZU1vZGUgPSBmdW5jdGlvbiAobmV3TGluZU1vZGUpIHsKICAgICAgICBpZiAodGhpcy4kbmV3TGluZU1vZGUgPT09IG5ld0xpbmVNb2RlKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdGhpcy4kbmV3TGluZU1vZGUgPSBuZXdMaW5lTW9kZTsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmdldE5ld0xpbmVNb2RlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLiRuZXdMaW5lTW9kZTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuaXNOZXdMaW5lID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICByZXR1cm4gKHRleHQgPT0gIlxyXG4iIHx8IHRleHQgPT0gIlxyIiB8fCB0ZXh0ID09ICJcbiIpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5nZXRMaW5lID0gZnVuY3Rpb24gKHJvdykgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lc1tyb3ddIHx8ICIiOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5nZXRMaW5lcyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lcy5zbGljZShmaXJzdFJvdywgbGFzdFJvdyArIDEpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5nZXRBbGxMaW5lcyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRMaW5lcygwLCB0aGlzLmdldExlbmd0aCgpKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuZ2V0TGVuZ3RoID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lcy5sZW5ndGg7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmdldFRleHRSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzRm9yUmFuZ2UocmFuZ2UpLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5nZXRMaW5lc0ZvclJhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgdmFyIGxpbmVzOwogICAgICAgIGlmIChyYW5nZS5zdGFydC5yb3cgPT09IHJhbmdlLmVuZC5yb3cpIHsKICAgICAgICAgICAgbGluZXMgPSBbdGhpcy5nZXRMaW5lKHJhbmdlLnN0YXJ0LnJvdykuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LmNvbHVtbiwgcmFuZ2UuZW5kLmNvbHVtbildOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgbGluZXMgPSB0aGlzLmdldExpbmVzKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2UuZW5kLnJvdyk7CiAgICAgICAgICAgIGxpbmVzWzBdID0gKGxpbmVzWzBdIHx8ICIiKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICAgICAgdmFyIGwgPSBsaW5lcy5sZW5ndGggLSAxOwogICAgICAgICAgICBpZiAocmFuZ2UuZW5kLnJvdyAtIHJhbmdlLnN0YXJ0LnJvdyA9PSBsKQogICAgICAgICAgICAgICAgbGluZXNbbF0gPSBsaW5lc1tsXS5zdWJzdHJpbmcoMCwgcmFuZ2UuZW5kLmNvbHVtbik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBsaW5lczsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuaW5zZXJ0TGluZXMgPSBmdW5jdGlvbiAocm93LCBsaW5lcykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydExpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgaW5zZXJ0RnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydEZ1bGxMaW5lcyhyb3csIGxpbmVzKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucmVtb3ZlTGluZXMgPSBmdW5jdGlvbiAoZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5yZW1vdmVMaW5lcyBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIHJlbW92ZUZ1bGxMaW5lcyBtZXRob2QgaW5zdGVhZC4iKTsKICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVGdWxsTGluZXMoZmlyc3RSb3csIGxhc3RSb3cpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5pbnNlcnROZXdMaW5lID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TmV3TGluZSBpcyBkZXByZWNhdGVkLiBVc2UgaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsnJywgJyddKSBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLCBbIiIsICIiXSk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIGlmICh0aGlzLmdldExlbmd0aCgpIDw9IDEpCiAgICAgICAgICAgIHRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIHRoaXMuJHNwbGl0KHRleHQpKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuaW5zZXJ0SW5MaW5lID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB0ZXh0KSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5wb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4gKyB0ZXh0Lmxlbmd0aCk7CiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgICBlbmQ6IGVuZCwKICAgICAgICAgICAgYWN0aW9uOiAiaW5zZXJ0IiwKICAgICAgICAgICAgbGluZXM6IFt0ZXh0XQogICAgICAgIH0sIHRydWUpOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKGVuZCk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmNsaXBwZWRQb3MgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTsKICAgICAgICBpZiAocm93ID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgcm93ID0gbGVuZ3RoOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChyb3cgPCAwKSB7CiAgICAgICAgICAgIHJvdyA9IDA7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA+PSBsZW5ndGgpIHsKICAgICAgICAgICAgcm93ID0gbGVuZ3RoIC0gMTsKICAgICAgICAgICAgY29sdW1uID0gdW5kZWZpbmVkOwogICAgICAgIH0KICAgICAgICB2YXIgbGluZSA9IHRoaXMuZ2V0TGluZShyb3cpOwogICAgICAgIGlmIChjb2x1bW4gPT0gdW5kZWZpbmVkKQogICAgICAgICAgICBjb2x1bW4gPSBsaW5lLmxlbmd0aDsKICAgICAgICBjb2x1bW4gPSBNYXRoLm1pbihNYXRoLm1heChjb2x1bW4sIDApLCBsaW5lLmxlbmd0aCk7CiAgICAgICAgcmV0dXJuIHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH07CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmNsb25lUG9zID0gZnVuY3Rpb24gKHBvcykgewogICAgICAgIHJldHVybiB7IHJvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1uIH07CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLnBvcyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB7IHJvdzogcm93LCBjb2x1bW46IGNvbHVtbiB9OwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS4kY2xpcFBvc2l0aW9uID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7CiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuZ2V0TGVuZ3RoKCk7CiAgICAgICAgaWYgKHBvc2l0aW9uLnJvdyA+PSBsZW5ndGgpIHsKICAgICAgICAgICAgcG9zaXRpb24ucm93ID0gTWF0aC5tYXgoMCwgbGVuZ3RoIC0gMSk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IHRoaXMuZ2V0TGluZShsZW5ndGggLSAxKS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBwb3NpdGlvbi5yb3cgPSBNYXRoLm1heCgwLCBwb3NpdGlvbi5yb3cpOwogICAgICAgICAgICBwb3NpdGlvbi5jb2x1bW4gPSBNYXRoLm1pbihNYXRoLm1heChwb3NpdGlvbi5jb2x1bW4sIDApLCB0aGlzLmdldExpbmUocG9zaXRpb24ucm93KS5sZW5ndGgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcG9zaXRpb247CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmluc2VydEZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChyb3csIGxpbmVzKSB7CiAgICAgICAgcm93ID0gTWF0aC5taW4oTWF0aC5tYXgocm93LCAwKSwgdGhpcy5nZXRMZW5ndGgoKSk7CiAgICAgICAgdmFyIGNvbHVtbiA9IDA7CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgbGluZXMgPSBsaW5lcy5jb25jYXQoWyIiXSk7CiAgICAgICAgICAgIGNvbHVtbiA9IDA7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IFsiIl0uY29uY2F0KGxpbmVzKTsKICAgICAgICAgICAgcm93LS07CiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoOwogICAgICAgIH0KICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH0sIGxpbmVzKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuaW5zZXJ0TWVyZ2VkTGluZXMgPSBmdW5jdGlvbiAocG9zaXRpb24sIGxpbmVzKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gewogICAgICAgICAgICByb3c6IHN0YXJ0LnJvdyArIGxpbmVzLmxlbmd0aCAtIDEsCiAgICAgICAgICAgIGNvbHVtbjogKGxpbmVzLmxlbmd0aCA9PSAxID8gc3RhcnQuY29sdW1uIDogMCkgKyBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXS5sZW5ndGgKICAgICAgICB9OwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogImluc2VydCIsCiAgICAgICAgICAgIGxpbmVzOiBsaW5lcwogICAgICAgIH0pOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKGVuZCk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyYW5nZS5zdGFydC5yb3csIHJhbmdlLnN0YXJ0LmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHRoaXMuY2xpcHBlZFBvcyhyYW5nZS5lbmQucm93LCByYW5nZS5lbmQuY29sdW1uKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHsgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCB9KQogICAgICAgIH0pOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucmVtb3ZlSW5MaW5lID0gZnVuY3Rpb24gKHJvdywgc3RhcnRDb2x1bW4sIGVuZENvbHVtbikgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIHN0YXJ0Q29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgZW5kQ29sdW1uKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHsgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCB9KQogICAgICAgIH0sIHRydWUpOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucmVtb3ZlRnVsbExpbmVzID0gZnVuY3Rpb24gKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgZmlyc3RSb3cgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBmaXJzdFJvdyksIHRoaXMuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICBsYXN0Um93ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgbGFzdFJvdyksIHRoaXMuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICB2YXIgZGVsZXRlRmlyc3ROZXdMaW5lID0gbGFzdFJvdyA9PSB0aGlzLmdldExlbmd0aCgpIC0gMSAmJiBmaXJzdFJvdyA+IDA7CiAgICAgICAgdmFyIGRlbGV0ZUxhc3ROZXdMaW5lID0gbGFzdFJvdyA8IHRoaXMuZ2V0TGVuZ3RoKCkgLSAxOwogICAgICAgIHZhciBzdGFydFJvdyA9IChkZWxldGVGaXJzdE5ld0xpbmUgPyBmaXJzdFJvdyAtIDEgOiBmaXJzdFJvdyk7CiAgICAgICAgdmFyIHN0YXJ0Q29sID0gKGRlbGV0ZUZpcnN0TmV3TGluZSA/IHRoaXMuZ2V0TGluZShzdGFydFJvdykubGVuZ3RoIDogMCk7CiAgICAgICAgdmFyIGVuZFJvdyA9IChkZWxldGVMYXN0TmV3TGluZSA/IGxhc3RSb3cgKyAxIDogbGFzdFJvdyk7CiAgICAgICAgdmFyIGVuZENvbCA9IChkZWxldGVMYXN0TmV3TGluZSA/IDAgOiB0aGlzLmdldExpbmUoZW5kUm93KS5sZW5ndGgpOwogICAgICAgIHZhciByYW5nZSA9IG5ldyBSYW5nZShzdGFydFJvdywgc3RhcnRDb2wsIGVuZFJvdywgZW5kQ29sKTsKICAgICAgICB2YXIgZGVsZXRlZExpbmVzID0gdGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csIGxhc3RSb3cgKyAxKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogcmFuZ2Uuc3RhcnQsCiAgICAgICAgICAgIGVuZDogcmFuZ2UuZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBkZWxldGVkTGluZXM7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLnJlbW92ZU5ld0xpbmUgPSBmdW5jdGlvbiAocm93KSB7CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuZ2V0TGVuZ3RoKCkgLSAxICYmIHJvdyA+PSAwKSB7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgICAgICBzdGFydDogdGhpcy5wb3Mocm93LCB0aGlzLmdldExpbmUocm93KS5sZW5ndGgpLAogICAgICAgICAgICAgICAgZW5kOiB0aGlzLnBvcyhyb3cgKyAxLCAwKSwKICAgICAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgICAgICBsaW5lczogWyIiLCAiIl0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24gKHJhbmdlLCB0ZXh0KSB7CiAgICAgICAgaWYgKCEocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZSkpCiAgICAgICAgICAgIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhyYW5nZS5zdGFydCwgcmFuZ2UuZW5kKTsKICAgICAgICBpZiAodGV4dC5sZW5ndGggPT09IDAgJiYgcmFuZ2UuaXNFbXB0eSgpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgaWYgKHRleHQgPT0gdGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2UuZW5kOwogICAgICAgIHRoaXMucmVtb3ZlKHJhbmdlKTsKICAgICAgICB2YXIgZW5kOwogICAgICAgIGlmICh0ZXh0KSB7CiAgICAgICAgICAgIGVuZCA9IHRoaXMuaW5zZXJ0KHJhbmdlLnN0YXJ0LCB0ZXh0KTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGVuZCA9IHJhbmdlLnN0YXJ0OwogICAgICAgIH0KICAgICAgICByZXR1cm4gZW5kOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5hcHBseURlbHRhcyA9IGZ1bmN0aW9uIChkZWx0YXMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbHRhcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGFzW2ldKTsKICAgICAgICB9CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLnJldmVydERlbHRhcyA9IGZ1bmN0aW9uIChkZWx0YXMpIHsKICAgICAgICBmb3IgKHZhciBpID0gZGVsdGFzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICAgIHRoaXMucmV2ZXJ0RGVsdGEoZGVsdGFzW2ldKTsKICAgICAgICB9CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmFwcGx5RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgICAgICB2YXIgaXNJbnNlcnQgPSBkZWx0YS5hY3Rpb24gPT0gImluc2VydCI7CiAgICAgICAgaWYgKGlzSW5zZXJ0ID8gZGVsdGEubGluZXMubGVuZ3RoIDw9IDEgJiYgIWRlbHRhLmxpbmVzWzBdCiAgICAgICAgICAgIDogIVJhbmdlLmNvbXBhcmVQb2ludHMoZGVsdGEuc3RhcnQsIGRlbHRhLmVuZCkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoaXNJbnNlcnQgJiYgZGVsdGEubGluZXMubGVuZ3RoID4gMjAwMDApIHsKICAgICAgICAgICAgdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEoZGVsdGEsIDIwMDAwKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGFwcGx5RGVsdGEodGhpcy4kbGluZXMsIGRlbHRhLCBkb05vdFZhbGlkYXRlKTsKICAgICAgICAgICAgdGhpcy5fc2lnbmFsKCJjaGFuZ2UiLCBkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS4kc2FmZUFwcGx5RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICB2YXIgZG9jTGVuZ3RoID0gdGhpcy4kbGluZXMubGVuZ3RoOwogICAgICAgIGlmIChkZWx0YS5hY3Rpb24gPT0gInJlbW92ZSIgJiYgZGVsdGEuc3RhcnQucm93IDwgZG9jTGVuZ3RoICYmIGRlbHRhLmVuZC5yb3cgPCBkb2NMZW5ndGgKICAgICAgICAgICAgfHwgZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiICYmIGRlbHRhLnN0YXJ0LnJvdyA8PSBkb2NMZW5ndGgpIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKGRlbHRhKTsKICAgICAgICB9CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLiRzcGxpdEFuZGFwcGx5TGFyZ2VEZWx0YSA9IGZ1bmN0aW9uIChkZWx0YSwgTUFYKSB7CiAgICAgICAgdmFyIGxpbmVzID0gZGVsdGEubGluZXM7CiAgICAgICAgdmFyIGwgPSBsaW5lcy5sZW5ndGggLSBNQVggKyAxOwogICAgICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICAgICAgdmFyIGNvbHVtbiA9IGRlbHRhLnN0YXJ0LmNvbHVtbjsKICAgICAgICBmb3IgKHZhciBmcm9tID0gMCwgdG8gPSAwOyBmcm9tIDwgbDsgZnJvbSA9IHRvKSB7CiAgICAgICAgICAgIHRvICs9IE1BWCAtIDE7CiAgICAgICAgICAgIHZhciBjaHVuayA9IGxpbmVzLnNsaWNlKGZyb20sIHRvKTsKICAgICAgICAgICAgY2h1bmsucHVzaCgiIik7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgICAgICBzdGFydDogdGhpcy5wb3Mocm93ICsgZnJvbSwgY29sdW1uKSwKICAgICAgICAgICAgICAgIGVuZDogdGhpcy5wb3Mocm93ICsgdG8sIGNvbHVtbiA9IDApLAogICAgICAgICAgICAgICAgYWN0aW9uOiBkZWx0YS5hY3Rpb24sCiAgICAgICAgICAgICAgICBsaW5lczogY2h1bmsKICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgfQogICAgICAgIGRlbHRhLmxpbmVzID0gbGluZXMuc2xpY2UoZnJvbSk7CiAgICAgICAgZGVsdGEuc3RhcnQucm93ID0gcm93ICsgZnJvbTsKICAgICAgICBkZWx0YS5zdGFydC5jb2x1bW4gPSBjb2x1bW47CiAgICAgICAgdGhpcy5hcHBseURlbHRhKGRlbHRhLCB0cnVlKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucmV2ZXJ0RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICB0aGlzLiRzYWZlQXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLmNsb25lUG9zKGRlbHRhLnN0YXJ0KSwKICAgICAgICAgICAgZW5kOiB0aGlzLmNsb25lUG9zKGRlbHRhLmVuZCksCiAgICAgICAgICAgIGFjdGlvbjogKGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiA/ICJyZW1vdmUiIDogImluc2VydCIpLAogICAgICAgICAgICBsaW5lczogZGVsdGEubGluZXMuc2xpY2UoKQogICAgICAgIH0pOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5pbmRleFRvUG9zaXRpb24gPSBmdW5jdGlvbiAoaW5kZXgsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIGZvciAodmFyIGkgPSBzdGFydFJvdyB8fCAwLCBsID0gbGluZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICAgIGluZGV4IC09IGxpbmVzW2ldLmxlbmd0aCArIG5ld2xpbmVMZW5ndGg7CiAgICAgICAgICAgIGlmIChpbmRleCA8IDApCiAgICAgICAgICAgICAgICByZXR1cm4geyByb3c6IGksIGNvbHVtbjogaW5kZXggKyBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoIH07CiAgICAgICAgfQogICAgICAgIHJldHVybiB7IHJvdzogbCAtIDEsIGNvbHVtbjogaW5kZXggKyBsaW5lc1tsIC0gMV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aCB9OwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5wb3NpdGlvblRvSW5kZXggPSBmdW5jdGlvbiAocG9zLCBzdGFydFJvdykgewogICAgICAgIHZhciBsaW5lcyA9IHRoaXMuJGxpbmVzIHx8IHRoaXMuZ2V0QWxsTGluZXMoKTsKICAgICAgICB2YXIgbmV3bGluZUxlbmd0aCA9IHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aDsKICAgICAgICB2YXIgaW5kZXggPSAwOwogICAgICAgIHZhciByb3cgPSBNYXRoLm1pbihwb3Mucm93LCBsaW5lcy5sZW5ndGgpOwogICAgICAgIGZvciAodmFyIGkgPSBzdGFydFJvdyB8fCAwOyBpIDwgcm93OyArK2kpCiAgICAgICAgICAgIGluZGV4ICs9IGxpbmVzW2ldLmxlbmd0aCArIG5ld2xpbmVMZW5ndGg7CiAgICAgICAgcmV0dXJuIGluZGV4ICsgcG9zLmNvbHVtbjsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuJHNwbGl0ID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICByZXR1cm4gdGV4dC5zcGxpdCgvXHJcbnxccnxcbi8pOwogICAgfTsKICAgIHJldHVybiBEb2N1bWVudDsKfSgpKTsKRG9jdW1lbnQucHJvdG90eXBlLiRhdXRvTmV3TGluZSA9ICIiOwpEb2N1bWVudC5wcm90b3R5cGUuJG5ld0xpbmVNb2RlID0gImF1dG8iOwpvb3AuaW1wbGVtZW50KERvY3VtZW50LnByb3RvdHlwZSwgRXZlbnRFbWl0dGVyKTsKZXhwb3J0cy5Eb2N1bWVudCA9IERvY3VtZW50OwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbGliL2xhbmciLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpeyJ1c2Ugc3RyaWN0IjsKZXhwb3J0cy5sYXN0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBhW2EubGVuZ3RoIC0gMV07Cn07CmV4cG9ydHMuc3RyaW5nUmV2ZXJzZSA9IGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgIHJldHVybiBzdHJpbmcuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKTsKfTsKZXhwb3J0cy5zdHJpbmdSZXBlYXQgPSBmdW5jdGlvbiAoc3RyaW5nLCBjb3VudCkgewogICAgdmFyIHJlc3VsdCA9ICcnOwogICAgd2hpbGUgKGNvdW50ID4gMCkgewogICAgICAgIGlmIChjb3VudCAmIDEpCiAgICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7CiAgICAgICAgaWYgKGNvdW50ID4+PSAxKQogICAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nOwogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKfTsKdmFyIHRyaW1CZWdpblJlZ2V4cCA9IC9eXHNccyovOwp2YXIgdHJpbUVuZFJlZ2V4cCA9IC9cc1xzKiQvOwpleHBvcnRzLnN0cmluZ1RyaW1MZWZ0ID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1CZWdpblJlZ2V4cCwgJycpOwp9OwpleHBvcnRzLnN0cmluZ1RyaW1SaWdodCA9IGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSh0cmltRW5kUmVnZXhwLCAnJyk7Cn07CmV4cG9ydHMuY29weU9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHsKICAgIHZhciBjb3B5ID0ge307CiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgY29weVtrZXldID0gb2JqW2tleV07CiAgICB9CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5jb3B5QXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHsKICAgIHZhciBjb3B5ID0gW107CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGFycmF5Lmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIGlmIChhcnJheVtpXSAmJiB0eXBlb2YgYXJyYXlbaV0gPT0gIm9iamVjdCIpCiAgICAgICAgICAgIGNvcHlbaV0gPSB0aGlzLmNvcHlPYmplY3QoYXJyYXlbaV0pOwogICAgICAgIGVsc2UKICAgICAgICAgICAgY29weVtpXSA9IGFycmF5W2ldOwogICAgfQogICAgcmV0dXJuIGNvcHk7Cn07CmV4cG9ydHMuZGVlcENvcHkgPSBmdW5jdGlvbiBkZWVwQ29weShvYmopIHsKICAgIGlmICh0eXBlb2Ygb2JqICE9PSAib2JqZWN0IiB8fCAhb2JqKQogICAgICAgIHJldHVybiBvYmo7CiAgICB2YXIgY29weTsKICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHsKICAgICAgICBjb3B5ID0gW107CiAgICAgICAgZm9yICh2YXIga2V5ID0gMDsga2V5IDwgb2JqLmxlbmd0aDsga2V5KyspIHsKICAgICAgICAgICAgY29weVtrZXldID0gZGVlcENvcHkob2JqW2tleV0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gY29weTsKICAgIH0KICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSAhPT0gIltvYmplY3QgT2JqZWN0XSIpCiAgICAgICAgcmV0dXJuIG9iajsKICAgIGNvcHkgPSB7fTsKICAgIGZvciAodmFyIGtleSBpbiBvYmopCiAgICAgICAgY29weVtrZXldID0gZGVlcENvcHkob2JqW2tleV0pOwogICAgcmV0dXJuIGNvcHk7Cn07CmV4cG9ydHMuYXJyYXlUb01hcCA9IGZ1bmN0aW9uIChhcnIpIHsKICAgIHZhciBtYXAgPSB7fTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbWFwW2FycltpXV0gPSAxOwogICAgfQogICAgcmV0dXJuIG1hcDsKfTsKZXhwb3J0cy5jcmVhdGVNYXAgPSBmdW5jdGlvbiAocHJvcHMpIHsKICAgIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgZm9yICh2YXIgaSBpbiBwcm9wcykgewogICAgICAgIG1hcFtpXSA9IHByb3BzW2ldOwogICAgfQogICAgcmV0dXJuIG1hcDsKfTsKZXhwb3J0cy5hcnJheVJlbW92ZSA9IGZ1bmN0aW9uIChhcnJheSwgdmFsdWUpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGFycmF5Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHZhbHVlID09PSBhcnJheVtpXSkgewogICAgICAgICAgICBhcnJheS5zcGxpY2UoaSwgMSk7CiAgICAgICAgfQogICAgfQp9OwpleHBvcnRzLmVzY2FwZVJlZ0V4cCA9IGZ1bmN0aW9uIChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvKFsuKis/XiR7fSgpfFtcXVwvXFxdKS9nLCAnXFwkMScpOwp9OwpleHBvcnRzLmVzY2FwZUhUTUwgPSBmdW5jdGlvbiAoc3RyKSB7CiAgICByZXR1cm4gKCIiICsgc3RyKS5yZXBsYWNlKC8mL2csICImIzM4OyIpLnJlcGxhY2UoLyIvZywgIiYjMzQ7IikucmVwbGFjZSgvJy9nLCAiJiMzOTsiKS5yZXBsYWNlKC88L2csICImIzYwOyIpOwp9OwpleHBvcnRzLmdldE1hdGNoT2Zmc2V0cyA9IGZ1bmN0aW9uIChzdHJpbmcsIHJlZ0V4cCkgewogICAgdmFyIG1hdGNoZXMgPSBbXTsKICAgIHN0cmluZy5yZXBsYWNlKHJlZ0V4cCwgZnVuY3Rpb24gKHN0cikgewogICAgICAgIG1hdGNoZXMucHVzaCh7CiAgICAgICAgICAgIG9mZnNldDogYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAyXSwKICAgICAgICAgICAgbGVuZ3RoOiBzdHIubGVuZ3RoCiAgICAgICAgfSk7CiAgICB9KTsKICAgIHJldHVybiBtYXRjaGVzOwp9OwpleHBvcnRzLmRlZmVycmVkQ2FsbCA9IGZ1bmN0aW9uIChmY24pIHsKICAgIHZhciB0aW1lciA9IG51bGw7CiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgICAgIGZjbigpOwogICAgfTsKICAgIHZhciBkZWZlcnJlZCA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7CiAgICAgICAgZGVmZXJyZWQuY2FuY2VsKCk7CiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IDApOwogICAgICAgIHJldHVybiBkZWZlcnJlZDsKICAgIH07CiAgICBkZWZlcnJlZC5zY2hlZHVsZSA9IGRlZmVycmVkOwogICAgZGVmZXJyZWQuY2FsbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmNhbmNlbCgpOwogICAgICAgIGZjbigpOwogICAgICAgIHJldHVybiBkZWZlcnJlZDsKICAgIH07CiAgICBkZWZlcnJlZC5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLmlzUGVuZGluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGltZXI7CiAgICB9OwogICAgcmV0dXJuIGRlZmVycmVkOwp9OwpleHBvcnRzLmRlbGF5ZWRDYWxsID0gZnVuY3Rpb24gKGZjbiwgZGVmYXVsdFRpbWVvdXQpIHsKICAgIHZhciB0aW1lciA9IG51bGw7CiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgICAgIGZjbigpOwogICAgfTsKICAgIHZhciBfc2VsZiA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7CiAgICAgICAgaWYgKHRpbWVyID09IG51bGwpCiAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgdGltZW91dCB8fCBkZWZhdWx0VGltZW91dCk7CiAgICB9OwogICAgX3NlbGYuZGVsYXkgPSBmdW5jdGlvbiAodGltZW91dCkgewogICAgICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IGRlZmF1bHRUaW1lb3V0KTsKICAgIH07CiAgICBfc2VsZi5zY2hlZHVsZSA9IF9zZWxmOwogICAgX3NlbGYuY2FsbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmNhbmNlbCgpOwogICAgICAgIGZjbigpOwogICAgfTsKICAgIF9zZWxmLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciAmJiBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gbnVsbDsKICAgIH07CiAgICBfc2VsZi5pc1BlbmRpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRpbWVyOwogICAgfTsKICAgIHJldHVybiBfc2VsZjsKfTsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3dvcmtlci9taXJyb3IiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIERvY3VtZW50ID0gcmVxdWlyZSgiLi4vZG9jdW1lbnQiKS5Eb2N1bWVudDsKdmFyIGxhbmcgPSByZXF1aXJlKCIuLi9saWIvbGFuZyIpOwogICAgCnZhciBNaXJyb3IgPSBleHBvcnRzLk1pcnJvciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgdGhpcy5zZW5kZXIgPSBzZW5kZXI7CiAgICB2YXIgZG9jID0gdGhpcy5kb2MgPSBuZXcgRG9jdW1lbnQoIiIpOwogICAgCiAgICB2YXIgZGVmZXJyZWRVcGRhdGUgPSB0aGlzLmRlZmVycmVkVXBkYXRlID0gbGFuZy5kZWxheWVkQ2FsbCh0aGlzLm9uVXBkYXRlLmJpbmQodGhpcykpOwogICAgCiAgICB2YXIgX3NlbGYgPSB0aGlzOwogICAgc2VuZGVyLm9uKCJjaGFuZ2UiLCBmdW5jdGlvbihlKSB7CiAgICAgICAgdmFyIGRhdGEgPSBlLmRhdGE7CiAgICAgICAgaWYgKGRhdGFbMF0uc3RhcnQpIHsKICAgICAgICAgICAgZG9jLmFwcGx5RGVsdGFzKGRhdGEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gMikgewogICAgICAgICAgICAgICAgdmFyIGQsIGVycjsgCiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhW2krMV0pKSB7CiAgICAgICAgICAgICAgICAgICAgZCA9IHthY3Rpb246ICJpbnNlcnQiLCBzdGFydDogZGF0YVtpXSwgbGluZXM6IGRhdGFbaSsxXX07CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGQgPSB7YWN0aW9uOiAicmVtb3ZlIiwgc3RhcnQ6IGRhdGFbaV0sIGVuZDogZGF0YVtpKzFdfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKChkLmFjdGlvbiA9PSAiaW5zZXJ0IiA/IGQuc3RhcnQgOiBkLmVuZCkucm93ID49IGRvYy4kbGluZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgZXJyID0gbmV3IEVycm9yKCJJbnZhbGlkIGRlbHRhIik7CiAgICAgICAgICAgICAgICAgICAgZXJyLmRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IF9zZWxmLiRwYXRoLAogICAgICAgICAgICAgICAgICAgICAgICBsaW5lc0xlbmd0aDogZG9jLiRsaW5lcy5sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBkLnN0YXJ0LAogICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IGQuZW5kCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZG9jLmFwcGx5RGVsdGEoZCwgdHJ1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKF9zZWxmLiR0aW1lb3V0KQogICAgICAgICAgICByZXR1cm4gZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUoX3NlbGYuJHRpbWVvdXQpOwogICAgICAgIF9zZWxmLm9uVXBkYXRlKCk7CiAgICB9KTsKfTsKCihmdW5jdGlvbigpIHsKICAgIAogICAgdGhpcy4kdGltZW91dCA9IDUwMDsKICAgIAogICAgdGhpcy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24odGltZW91dCkgewogICAgICAgIHRoaXMuJHRpbWVvdXQgPSB0aW1lb3V0OwogICAgfTsKICAgIAogICAgdGhpcy5zZXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgdGhpcy5kb2Muc2V0VmFsdWUodmFsdWUpOwogICAgICAgIHRoaXMuZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUodGhpcy4kdGltZW91dCk7CiAgICB9OwogICAgCiAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24oY2FsbGJhY2tJZCkgewogICAgICAgIHRoaXMuc2VuZGVyLmNhbGxiYWNrKHRoaXMuZG9jLmdldFZhbHVlKCksIGNhbGxiYWNrSWQpOwogICAgfTsKICAgIAogICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgfTsKICAgIAogICAgdGhpcy5pc1BlbmRpbmcgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGhpcy5kZWZlcnJlZFVwZGF0ZS5pc1BlbmRpbmcoKTsKICAgIH07CiAgICAKfSkuY2FsbChNaXJyb3IucHJvdG90eXBlKTsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbi9qc29uX3BhcnNlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCiAgICB2YXIgYXQsICAgICAvLyBUaGUgaW5kZXggb2YgdGhlIGN1cnJlbnQgY2hhcmFjdGVyCiAgICAgICAgY2gsICAgICAvLyBUaGUgY3VycmVudCBjaGFyYWN0ZXIKICAgICAgICBlc2NhcGVlID0gewogICAgICAgICAgICAnIic6ICAnIicsCiAgICAgICAgICAgICdcXCc6ICdcXCcsCiAgICAgICAgICAgICcvJzogICcvJywKICAgICAgICAgICAgYjogICAgJ1xiJywKICAgICAgICAgICAgZjogICAgJ1xmJywKICAgICAgICAgICAgbjogICAgJ1xuJywKICAgICAgICAgICAgcjogICAgJ1xyJywKICAgICAgICAgICAgdDogICAgJ1x0JwogICAgICAgIH0sCiAgICAgICAgdGV4dCwKCiAgICAgICAgZXJyb3IgPSBmdW5jdGlvbiAobSkgewoKICAgICAgICAgICAgdGhyb3cgewogICAgICAgICAgICAgICAgbmFtZTogICAgJ1N5bnRheEVycm9yJywKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG0sCiAgICAgICAgICAgICAgICBhdDogICAgICBhdCwKICAgICAgICAgICAgICAgIHRleHQ6ICAgIHRleHQKICAgICAgICAgICAgfTsKICAgICAgICB9LAoKICAgICAgICBuZXh0ID0gZnVuY3Rpb24gKGMpIHsKCiAgICAgICAgICAgIGlmIChjICYmIGMgIT09IGNoKSB7CiAgICAgICAgICAgICAgICBlcnJvcigiRXhwZWN0ZWQgJyIgKyBjICsgIicgaW5zdGVhZCBvZiAnIiArIGNoICsgIiciKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2ggPSB0ZXh0LmNoYXJBdChhdCk7CiAgICAgICAgICAgIGF0ICs9IDE7CiAgICAgICAgICAgIHJldHVybiBjaDsKICAgICAgICB9LAoKICAgICAgICBudW1iZXIgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgbnVtYmVyLAogICAgICAgICAgICAgICAgc3RyaW5nID0gJyc7CgogICAgICAgICAgICBpZiAoY2ggPT09ICctJykgewogICAgICAgICAgICAgICAgc3RyaW5nID0gJy0nOwogICAgICAgICAgICAgICAgbmV4dCgnLScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGNoID09PSAnLicpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSAnLic7CiAgICAgICAgICAgICAgICB3aGlsZSAobmV4dCgpICYmIGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGNoID09PSAnZScgfHwgY2ggPT09ICdFJykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICAgICAgaWYgKGNoID09PSAnLScgfHwgY2ggPT09ICcrJykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB3aGlsZSAoY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbnVtYmVyID0gK3N0cmluZzsKICAgICAgICAgICAgaWYgKGlzTmFOKG51bWJlcikpIHsKICAgICAgICAgICAgICAgIGVycm9yKCJCYWQgbnVtYmVyIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgc3RyaW5nID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGhleCwKICAgICAgICAgICAgICAgIGksCiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJywKICAgICAgICAgICAgICAgIHVmZmZmOwoKICAgICAgICAgICAgaWYgKGNoID09PSAnIicpIHsKICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KCkpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICciJykgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmc7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJ1xcJykgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ3UnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ZmZmZiA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSArPSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGV4ID0gcGFyc2VJbnQobmV4dCgpLCAxNik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0Zpbml0ZShoZXgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ZmZmZiA9IHVmZmZmICogMTYgKyBoZXg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh1ZmZmZik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVzY2FwZWVbY2hdID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGVzY2FwZWVbY2hdOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09ICJcbiIgfHwgY2ggPT0gIlxyIikgewogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJCYWQgc3RyaW5nIik7CiAgICAgICAgfSwKCiAgICAgICAgd2hpdGUgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB3aGlsZSAoY2ggJiYgY2ggPD0gJyAnKSB7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICB3b3JkID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgc3dpdGNoIChjaCkgewogICAgICAgICAgICBjYXNlICd0JzoKICAgICAgICAgICAgICAgIG5leHQoJ3QnKTsKICAgICAgICAgICAgICAgIG5leHQoJ3InKTsKICAgICAgICAgICAgICAgIG5leHQoJ3UnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2UnKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICBjYXNlICdmJzoKICAgICAgICAgICAgICAgIG5leHQoJ2YnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2EnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIG5leHQoJ3MnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2UnKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgY2FzZSAnbic6CiAgICAgICAgICAgICAgICBuZXh0KCduJyk7CiAgICAgICAgICAgICAgICBuZXh0KCd1Jyk7CiAgICAgICAgICAgICAgICBuZXh0KCdsJyk7CiAgICAgICAgICAgICAgICBuZXh0KCdsJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiVW5leHBlY3RlZCAnIiArIGNoICsgIiciKTsKICAgICAgICB9LAoKICAgICAgICB2YWx1ZSwgIC8vIFBsYWNlIGhvbGRlciBmb3IgdGhlIHZhbHVlIGZ1bmN0aW9uLgoKICAgICAgICBhcnJheSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBhcnJheSA9IFtdOwoKICAgICAgICAgICAgaWYgKGNoID09PSAnWycpIHsKICAgICAgICAgICAgICAgIG5leHQoJ1snKTsKICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICddJykgewogICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXk7ICAgLy8gZW1wdHkgYXJyYXkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCkgewogICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2godmFsdWUoKSk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICddJykgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCddJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnLCcpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBhcnJheSIpOwogICAgICAgIH0sCgogICAgICAgIG9iamVjdCA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBrZXksCiAgICAgICAgICAgICAgICBvYmplY3QgPSB7fTsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJ3snKSB7CiAgICAgICAgICAgICAgICBuZXh0KCd7Jyk7CiAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgaWYgKGNoID09PSAnfScpIHsKICAgICAgICAgICAgICAgICAgICBuZXh0KCd9Jyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsgICAvLyBlbXB0eSBvYmplY3QKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCkgewogICAgICAgICAgICAgICAgICAgIGtleSA9IHN0cmluZygpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnOicpOwogICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoJ0R1cGxpY2F0ZSBrZXkgIicgKyBrZXkgKyAnIicpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlKCk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd9JykgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCd9Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG5leHQoJywnKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJCYWQgb2JqZWN0Iik7CiAgICAgICAgfTsKCiAgICB2YWx1ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgd2hpdGUoKTsKICAgICAgICBzd2l0Y2ggKGNoKSB7CiAgICAgICAgY2FzZSAneyc6CiAgICAgICAgICAgIHJldHVybiBvYmplY3QoKTsKICAgICAgICBjYXNlICdbJzoKICAgICAgICAgICAgcmV0dXJuIGFycmF5KCk7CiAgICAgICAgY2FzZSAnIic6CiAgICAgICAgICAgIHJldHVybiBzdHJpbmcoKTsKICAgICAgICBjYXNlICctJzoKICAgICAgICAgICAgcmV0dXJuIG51bWJlcigpOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiBjaCA+PSAnMCcgJiYgY2ggPD0gJzknID8gbnVtYmVyKCkgOiB3b3JkKCk7CiAgICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSwgcmV2aXZlcikgewogICAgICAgIHZhciByZXN1bHQ7CgogICAgICAgIHRleHQgPSBzb3VyY2U7CiAgICAgICAgYXQgPSAwOwogICAgICAgIGNoID0gJyAnOwogICAgICAgIHJlc3VsdCA9IHZhbHVlKCk7CiAgICAgICAgd2hpdGUoKTsKICAgICAgICBpZiAoY2gpIHsKICAgICAgICAgICAgZXJyb3IoIlN5bnRheCBlcnJvciIpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHR5cGVvZiByZXZpdmVyID09PSAnZnVuY3Rpb24nID8gZnVuY3Rpb24gd2Fsayhob2xkZXIsIGtleSkgewogICAgICAgICAgICB2YXIgaywgdiwgdmFsdWUgPSBob2xkZXJba2V5XTsKICAgICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICAgIGZvciAoayBpbiB2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgaykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdiA9IHdhbGsodmFsdWUsIGspOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVtrXSA9IHY7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdmFsdWVba107CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJldml2ZXIuY2FsbChob2xkZXIsIGtleSwgdmFsdWUpOwogICAgICAgIH0oeycnOiByZXN1bHR9LCAnJykgOiByZXN1bHQ7CiAgICB9Owp9KTsKCmFjZS5kZWZpbmUoImFjZS9tb2RlL2pzb25fd29ya2VyIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCnZhciBvb3AgPSByZXF1aXJlKCIuLi9saWIvb29wIik7CnZhciBNaXJyb3IgPSByZXF1aXJlKCIuLi93b3JrZXIvbWlycm9yIikuTWlycm9yOwp2YXIgcGFyc2UgPSByZXF1aXJlKCIuL2pzb24vanNvbl9wYXJzZSIpOwoKdmFyIEpzb25Xb3JrZXIgPSBleHBvcnRzLkpzb25Xb3JrZXIgPSBmdW5jdGlvbihzZW5kZXIpIHsKICAgIE1pcnJvci5jYWxsKHRoaXMsIHNlbmRlcik7CiAgICB0aGlzLnNldFRpbWVvdXQoMjAwKTsKfTsKCm9vcC5pbmhlcml0cyhKc29uV29ya2VyLCBNaXJyb3IpOwoKKGZ1bmN0aW9uKCkgewoKICAgIHRoaXMub25VcGRhdGUgPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmRvYy5nZXRWYWx1ZSgpOwogICAgICAgIHZhciBlcnJvcnMgPSBbXTsKICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAodmFsdWUpCiAgICAgICAgICAgICAgICBwYXJzZSh2YWx1ZSk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICB2YXIgcG9zID0gdGhpcy5kb2MuaW5kZXhUb1Bvc2l0aW9uKGUuYXQtMSk7CiAgICAgICAgICAgIGVycm9ycy5wdXNoKHsKICAgICAgICAgICAgICAgIHJvdzogcG9zLnJvdywKICAgICAgICAgICAgICAgIGNvbHVtbjogcG9zLmNvbHVtbiwKICAgICAgICAgICAgICAgIHRleHQ6IGUubWVzc2FnZSwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIHRoaXMuc2VuZGVyLmVtaXQoImFubm90YXRlIiwgZXJyb3JzKTsKICAgIH07Cgp9KS5jYWxsKEpzb25Xb3JrZXIucHJvdG90eXBlKTsKCn0pOwo="},7907:function(Z,V,X){"use strict";X.d(V,{Iu:function(){return A},cC:function(){return x},m0:function(){return R}}),X(4987);var ee={en:{array:"Array",auto:"Auto",appendText:"Append",appendTitle:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",appendSubmenuTitle:"Select the type of the field to be appended",appendTitleAuto:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascending",ascendingTitle:"Sort the childs of this ${type} in ascending order",actionsMenu:"Click to open the actions menu (Ctrl+M)",cannotParseFieldError:"Cannot parse field into JSON",cannotParseValueError:"Cannot parse value into JSON",collapseAll:"Collapse all fields",compactTitle:"Compact JSON data, remove all whitespaces (Ctrl+Shift+I)",descending:"Descending",descendingTitle:"Sort the childs of this ${type} in descending order",drag:"Drag to move this field (Alt+Shift+Arrows)",duplicateKey:"duplicate key",duplicateText:"Duplicate",duplicateTitle:"Duplicate selected fields (Ctrl+D)",duplicateField:"Duplicate this field (Ctrl+D)",duplicateFieldError:"Duplicate field name",empty:"empty",expandAll:"Expand all fields",expandTitle:"Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs.",formatTitle:"Format JSON data, with proper indentation and line feeds (Ctrl+I)",insert:"Insert",insertTitle:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",insertSub:"Select the type of the field to be inserted",object:"Object",ok:"Ok",redo:"Redo (Ctrl+Shift+Z)",removeText:"Remove",removeTitle:"Remove selected fields (Ctrl+Del)",removeField:"Remove this field (Ctrl+Del)",repairTitle:"Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.",searchTitle:"Search fields and values",searchNextResultTitle:"Next result (Enter)",searchPreviousResultTitle:"Previous result (Shift + Enter)",selectNode:"Select a node...",showAll:"show all",showMore:"show more",showMoreStatus:"displaying ${visibleChilds} of ${totalChilds} items.",sort:"Sort",sortTitle:"Sort the childs of this ${type}",sortTitleShort:"Sort contents",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"String",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",extract:"Extract",extractTitle:"Extract this ${type}",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Type",typeTitle:"Change the type of this field",openUrl:"Ctrl+Click or Ctrl+Enter to open url in new window",undo:"Undo last action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',objectType:'Field type "object". An object contains an unordered set of key/value pairs.',arrayType:'Field type "array". An array contains an ordered collection of values.',stringType:'Field type "string". Field type is not determined from the value, but always returned as string.',modeEditorTitle:"Switch Editor Mode",modeCodeText:"Code",modeCodeTitle:"Switch to code highlighter",modeFormText:"Form",modeFormTitle:"Switch to form editor",modeTextText:"Text",modeTextTitle:"Switch to plain text editor",modeTreeText:"Tree",modeTreeTitle:"Switch to tree editor",modeViewText:"View",modeViewTitle:"Switch to tree view",modePreviewText:"Preview",modePreviewTitle:"Switch to preview mode",examples:"Examples",default:"Default",containsInvalidProperties:"Contains invalid properties",containsInvalidItems:"Contains invalid items"},es:{array:"Matriz",auto:"Auto",appendText:"Agregar",appendTitle:"Agregue un nuevo campo con el tipo 'auto' despu\xe9s de este campo (Ctrl + Shift + Ins)",appendSubmenuTitle:"Seleccione el tipo de campo que se agregar\xe1",appendTitleAuto:"Agregue un nuevo campo con el tipo 'auto' (Ctrl + Shift + Ins)",ascending:"Ascendente",ascendingTitle:"Ordene los elementos secundarios de este ${type} en orden ascendente",actionsMenu:"Haga clic para abrir el men\xfa de acciones (Ctrl + M)",cannotParseFieldError:"No se puede parsear el campo en JSON",cannotParseValueError:"No se puede parsear el valor en JSON",collapseAll:"Contraer todos los campos",compactTitle:"Compactar datos JSON, eliminar todos los espacios en blanco (Ctrl + Shift + I)",descending:"Descendente",descendingTitle:"Ordene los hijos de este ${type} en orden descendente",drag:"Arrastre para mover este campo (Alt + May\xfas + Flechas)",duplicateKey:"llave duplicada",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos seleccionados (Ctrl + D)",duplicateField:"Duplicar este campo (Ctrl + D)",duplicateFieldError:"Nombre de campo duplicado",empty:"vacio",expandAll:"Expandir todos los campos",expandTitle:"Haga clic para expandir/contraer este campo (Ctrl + E). \n  Ctrl+Clic para expandir/contraer incluyendo todos los ni\xf1os.",formatTitle:"Formatee los datos JSON, con la sangr\xeda y los avances de l\xednea adecuados (Ctrl + I)",insert:"Insertar",insertTitle:"Inserte un nuevo campo con el tipo 'auto' antes de este campo (Ctrl + Ins)",insertSub:"Seleccione el tipo de campo a insertar",object:"Objeto",ok:"Ok",redo:"Rehacer (Ctrl+May\xfas+Z)",removeText:"Eliminar",removeTitle:"Eliminar campos seleccionados (Ctrl+Supr)",removeField:"Eliminar este campo (Ctrl+Supr)",repairTitle:"Reparar JSON: corrija comillas y caracteres de escape, elimine comentarios y notaci\xf3n JSONP, convierta objetos JavaScript en JSON.",searchTitle:"Campos de b\xfasqueda y valores",searchNextResultTitle:"Siguiente resultado (Entrar)",searchPreviousResultTitle:"Resultado anterior (Shift + Enter)",selectNode:"Seleccione un nodo...",showAll:"mostrar todo",showMore:"mostrar m\xe1s",showMoreStatus:"mostrando ${visibleChilds} de ${totalChilds} elementos.",sort:"Ordenar",sortTitle:"Ordene los hijos de este ${type}",sortTitleShort:"Ordenar contenidos",sortFieldLabel:"Campo:",sortDirectionLabel:"Direcci\xf3n:",sortFieldTitle:"Seleccione el campo anidado por el cual ordenar la matriz u objeto",sortAscending:"Ascendente",sortAscendingTitle:"Ordenar el campo seleccionado en orden ascendente",sortDescending:"Descendente",sortDescendingTitle:"Ordenar por el campo seleccionado, en orden descendente",string:"Texto",transform:"Transformar",transformTitle:"Filtrar, ordenar o transformar los hijos de este ${type}",transformTitleShort:"Filtrar, ordenar o transformar contenidos",extract:"Extraer",extractTitle:"Extrae este ${type}",transformQueryTitle:"Ingrese una consulta JMESPath",transformWizardLabel:"Wizard",transformWizardFilter:"Filtro",transformWizardSortBy:"Ordenar por",transformWizardSelectFields:"Seleccione un campo",transformQueryLabel:"Consulta",transformPreviewLabel:"Vista Previa",type:"Tipo",typeTitle:"Cambiar el tipo de campo",openUrl:"Ctrl+Click o Ctrl+Enter para abrir la URL en una nueva ventana",undo:"Deshacer la \xfaltima acci\xf3n (Ctrl+Z)",validationCannotMove:"No se puede mover un campo a un hijo de s\xed mismo.",autoType:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',objectType:'Tipo de campo "objeto".  Un objeto contiene un conjunto desordenado de pares clave/valor.',arrayType:'Tipo de campo "matriz".  Una matriz contiene una colecci\xf3n ordenada de valores.',stringType:'Tipo de campo "cadena".  El tipo de campo no se determina a partir del valor,  pero siempre se devuelve como una cadena.',modeEditorTitle:"Cambiar modo de editor",modeCodeText:"Codigo",modeCodeTitle:"Cambiar al resaltador de c\xf3digo",modeFormText:"Formulario",modeFormTitle:"Cambiar al editor de formularios",modeTextText:"Texto",modeTextTitle:"Cambiar al editor de texto sin formato",modeTreeText:"Arbol",modeTreeTitle:"Cambiar al editor de \xe1rbol",modeViewText:"Vista",modeViewTitle:"Cambiar a la vista de \xe1rbol",modePreviewText:"Vista Previa",modePreviewTitle:"Cambiar al modo de vista previa",examples:"Ejemplos",default:"Predeterminado",containsInvalidProperties:"Contiene propiedades no validas",containsInvalidItems:"Contiene items no validos"},"zh-CN":{array:"\u6570\u7ec4",auto:"\u81ea\u52a8",appendText:"\u8ffd\u52a0",appendTitle:"\u5728\u6b64\u5b57\u6bb5\u540e\u8ffd\u52a0\u4e00\u4e2a\u7c7b\u578b\u4e3a\u201cauto\u201d\u7684\u65b0\u5b57\u6bb5 (Ctrl+Shift+Ins)",appendSubmenuTitle:"\u9009\u62e9\u8981\u8ffd\u52a0\u7684\u5b57\u6bb5\u7c7b\u578b",appendTitleAuto:"\u8ffd\u52a0\u7c7b\u578b\u4e3a\u201cauto\u201d\u7684\u65b0\u5b57\u6bb5 (Ctrl+Shift+Ins)",ascending:"\u5347\u5e8f",ascendingTitle:"\u5347\u5e8f\u6392\u5217${type}\u7684\u5b50\u8282\u70b9",actionsMenu:"\u70b9\u51fb\u6253\u5f00\u52a8\u4f5c\u83dc\u5355(Ctrl+M)",cannotParseFieldError:"\u65e0\u6cd5\u5c06\u5b57\u6bb5\u89e3\u6790\u4e3aJSON",cannotParseValueError:"\u65e0\u6cd5\u5c06\u503c\u89e3\u6790\u4e3aJSON",collapseAll:"\u7f29\u8fdb\u6240\u6709\u5b57\u6bb5",compactTitle:"\u538b\u7f29JSON\u6570\u636e\uff0c\u5220\u9664\u6240\u6709\u7a7a\u683c (Ctrl+Shift+I)",descending:"\u964d\u5e8f",descendingTitle:"\u964d\u5e8f\u6392\u5217${type}\u7684\u5b50\u8282\u70b9",drag:"\u62d6\u62fd\u79fb\u52a8\u8be5\u8282\u70b9(Alt+Shift+Arrows)",duplicateKey:"\u91cd\u590d\u952e",duplicateText:"\u590d\u5236",duplicateTitle:"\u590d\u5236\u9009\u4e2d\u5b57\u6bb5(Ctrl+D)",duplicateField:"\u590d\u5236\u8be5\u5b57\u6bb5(Ctrl+D)",duplicateFieldError:"\u91cd\u590d\u7684\u5b57\u6bb5\u540d\u79f0",empty:"\u6e05\u7a7a",expandAll:"\u5c55\u5f00\u6240\u6709\u5b57\u6bb5",expandTitle:"\u70b9\u51fb \u5c55\u5f00/\u6536\u7f29 \u8be5\u5b57\u6bb5(Ctrl+E). \nCtrl+Click \u5c55\u5f00/\u6536\u7f29 \u5305\u542b\u6240\u6709\u5b50\u8282\u70b9.",formatTitle:"\u4f7f\u7528\u9002\u5f53\u7684\u7f29\u8fdb\u548c\u6362\u884c\u7b26\u683c\u5f0f\u5316JSON\u6570\u636e (Ctrl+I)",insert:"\u63d2\u5165",insertTitle:"\u5728\u6b64\u5b57\u6bb5\u524d\u63d2\u5165\u7c7b\u578b\u4e3a\u201cauto\u201d\u7684\u65b0\u5b57\u6bb5 (Ctrl+Ins)",insertSub:"\u9009\u62e9\u8981\u63d2\u5165\u7684\u5b57\u6bb5\u7c7b\u578b",object:"\u5bf9\u8c61",ok:"Ok",redo:"\u91cd\u505a (Ctrl+Shift+Z)",removeText:"\u79fb\u9664",removeTitle:"\u79fb\u9664\u9009\u4e2d\u5b57\u6bb5 (Ctrl+Del)",removeField:"\u79fb\u9664\u8be5\u5b57\u6bb5 (Ctrl+Del)",repairTitle:"\u4fee\u590dJSON\uff1a\u4fee\u590d\u5f15\u53f7\u548c\u8f6c\u4e49\u7b26\uff0c\u5220\u9664\u6ce8\u91ca\u548cJSONP\u8868\u793a\u6cd5\uff0c\u5c06JavaScript\u5bf9\u8c61\u8f6c\u6362\u4e3aJSON\u3002",selectNode:"\u9009\u62e9\u4e00\u4e2a\u8282\u70b9...",showAll:"\u5c55\u793a\u5168\u90e8",showMore:"\u5c55\u793a\u66f4\u591a",showMoreStatus:"\u663e\u793a${totalChilds}\u7684${visibleChilds}\u9879\u76ee.",sort:"\u6392\u5e8f",sortTitle:"\u6392\u5e8f${type}\u7684\u5b50\u8282\u70b9",sortTitleShort:"\u5185\u5bb9\u6392\u5e8f",sortFieldLabel:"\u5b57\u6bb5\uff1a",sortDirectionLabel:"\u65b9\u5411\uff1a",sortFieldTitle:"\u9009\u62e9\u7528\u4e8e\u5bf9\u6570\u7ec4\u6216\u5bf9\u8c61\u6392\u5e8f\u7684\u5d4c\u5957\u5b57\u6bb5",sortAscending:"\u5347\u5e8f\u6392\u5e8f",sortAscendingTitle:"\u6309\u7167\u8be5\u5b57\u6bb5\u5347\u5e8f\u6392\u5e8f",sortDescending:"\u964d\u5e8f\u6392\u5e8f",sortDescendingTitle:"\u6309\u7167\u8be5\u5b57\u6bb5\u964d\u5e8f\u6392\u5e8f",string:"\u5b57\u7b26\u4e32",transform:"\u53d8\u6362",transformTitle:"\u7b5b\u9009\uff0c\u6392\u5e8f\uff0c\u6216\u8005\u8f6c\u6362${type}\u7684\u5b50\u8282\u70b9",transformTitleShort:"\u7b5b\u9009\uff0c\u6392\u5e8f\uff0c\u6216\u8005\u8f6c\u6362\u5185\u5bb9",extract:"\u63d0\u53d6",extractTitle:"\u63d0\u53d6\u8fd9\u4e2a ${type}",transformQueryTitle:"\u8f93\u5165JMESPath\u67e5\u8be2",transformWizardLabel:"\u5411\u5bfc",transformWizardFilter:"\u7b5b\u9009",transformWizardSortBy:"\u6392\u5e8f",transformWizardSelectFields:"\u9009\u62e9\u5b57\u6bb5",transformQueryLabel:"\u67e5\u8be2",transformPreviewLabel:"\u9884\u89c8",type:"\u7c7b\u578b",typeTitle:"\u66f4\u6539\u5b57\u6bb5\u7c7b\u578b",openUrl:"Ctrl+Click \u6216\u8005 Ctrl+Enter \u5728\u65b0\u7a97\u53e3\u6253\u5f00\u94fe\u63a5",undo:"\u64a4\u9500\u4e0a\u6b21\u52a8\u4f5c (Ctrl+Z)",validationCannotMove:"\u65e0\u6cd5\u5c06\u5b57\u6bb5\u79fb\u5165\u5176\u5b50\u8282\u70b9",autoType:'\u5b57\u6bb5\u7c7b\u578b "auto". \u5b57\u6bb5\u7c7b\u578b\u7531\u503c\u81ea\u52a8\u786e\u5b9a \u53ef\u4ee5\u4e3a string\uff0cnumber\uff0cboolean\uff0c\u6216\u8005 null.',objectType:'\u5b57\u6bb5\u7c7b\u578b "object". \u5bf9\u8c61\u5305\u542b\u4e00\u7ec4\u65e0\u5e8f\u7684\u952e/\u503c\u5bf9.',arrayType:'\u5b57\u6bb5\u7c7b\u578b "array". \u6570\u7ec4\u5305\u542b\u503c\u7684\u6709\u5e8f\u96c6\u5408.',stringType:'\u5b57\u6bb5\u7c7b\u578b "string". \u5b57\u6bb5\u7c7b\u578b\u7531\u503c\u81ea\u52a8\u786e\u5b9a\uff0c\u4f46\u59cb\u7ec8\u4f5c\u4e3a\u5b57\u7b26\u4e32\u8fd4\u56de.',modeCodeText:"\u4ee3\u7801",modeCodeTitle:"\u5207\u6362\u81f3\u4ee3\u7801\u9ad8\u4eae",modeFormText:"\u8868\u5355",modeFormTitle:"\u5207\u6362\u81f3\u8868\u5355\u7f16\u8f91",modeTextText:"\u6587\u672c",modeTextTitle:"\u5207\u6362\u81f3\u6587\u672c\u7f16\u8f91",modeTreeText:"\u6811",modeTreeTitle:"\u5207\u6362\u81f3\u6811\u7f16\u8f91",modeViewText:"\u89c6\u56fe",modeViewTitle:"\u5207\u6362\u81f3\u6811\u89c6\u56fe",modePreviewText:"\u9884\u89c8",modePreviewTitle:"\u5207\u6362\u81f3\u9884\u89c8\u6a21\u5f0f",examples:"\u4f8b\u5b50",default:"\u7f3a\u7701",containsInvalidProperties:"\u5305\u542b\u65e0\u6548\u7684\u5c5e\u6027",containsInvalidItems:"\u5305\u542b\u65e0\u6548\u9879\u76ee"},"pt-BR":{array:"Lista",auto:"Automatico",appendText:"Adicionar",appendTitle:"Adicionar novo campo com tipo 'auto' depois deste campo (Ctrl+Shift+Ins)",appendSubmenuTitle:"Selecione o tipo do campo a ser adicionado",appendTitleAuto:"Adicionar novo campo com tipo 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendente",ascendingTitle:"Organizar filhor do tipo ${type} em crescente",actionsMenu:"Clique para abrir o menu de a\xe7\xf5es (Ctrl+M)",cannotParseFieldError:"N\xe3o \xe9 poss\xedvel analisar o campo no JSON",cannotParseValueError:"N\xe3o \xe9 poss\xedvel analisar o valor em JSON",collapseAll:"Fechar todos campos",compactTitle:"Dados JSON compactos, remova todos os espa\xe7os em branco (Ctrl+Shift+I)",descending:"Descendente",descendingTitle:"Organizar o filhos do tipo ${type} em decrescente",duplicateKey:"chave duplicada",drag:"Arraste para mover este campo (Alt+Shift+Arrows)",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos selecionados (Ctrl+D)",duplicateField:"Duplicar este campo (Ctrl+D)",duplicateFieldError:"Nome do campo duplicado",empty:"vazio",expandAll:"Expandir todos campos",expandTitle:"Clique para expandir/encolher este campo (Ctrl+E). \nCtrl+Click para expandir/encolher incluindo todos os filhos.",formatTitle:"Formate dados JSON, com recuo e feeds de linha adequados (Ctrl+I)",insert:"Inserir",insertTitle:"Inserir um novo campo do tipo 'auto' antes deste campo (Ctrl+Ins)",insertSub:"Selecionar o tipo de campo a ser inserido",object:"Objeto",ok:"Ok",redo:"Refazer (Ctrl+Shift+Z)",removeText:"Remover",removeTitle:"Remover campos selecionados (Ctrl+Del)",removeField:"Remover este campo (Ctrl+Del)",repairTitle:"Repare JSON: corrija aspas e caracteres de escape, remova coment\xe1rios e nota\xe7\xe3o JSONP, transforme objetos JavaScript em JSON.",selectNode:"Selecione um n\xf3dulo...",showAll:"mostrar todos",showMore:"mostrar mais",showMoreStatus:"exibindo ${visibleChilds} de ${totalChilds} itens.",sort:"Organizar",sortTitle:"Organizar os filhos deste ${type}",sortTitleShort:"Organizar os filhos",sortFieldLabel:"Campo:",sortDirectionLabel:"Dire\xe7\xe3o:",sortFieldTitle:"Selecione um campo filho pelo qual ordenar o array ou objeto",sortAscending:"Ascendente",sortAscendingTitle:"Ordenar o campo selecionado por ordem ascendente",sortDescending:"Descendente",sortDescendingTitle:"Ordenar o campo selecionado por ordem descendente",string:"Texto",transform:"Transformar",transformTitle:"Filtrar, ordenar ou transformar os filhos deste ${type}",transformTitleShort:"Filtrar, ordenar ou transformar conte\xfados",transformQueryTitle:"Insira uma express\xe3o JMESPath",transformWizardLabel:"Assistente",transformWizardFilter:"Filtro",transformWizardSortBy:"Ordenar por",transformWizardSelectFields:"Selecionar campos",transformQueryLabel:"Express\xe3o",transformPreviewLabel:"Visualizar",type:"Tipo",typeTitle:"Mudar o tipo deste campo",openUrl:"Ctrl+Click ou Ctrl+Enter para abrir link em nova janela",undo:"Desfazer \xfaltimo a\xe7\xe3o (Ctrl+Z)",validationCannotMove:"N\xe3o pode mover um campo como filho dele mesmo",autoType:'Campo do tipo "auto". O tipo do campo \xe9 determinao automaticamente a partir do seu valor e pode ser texto, n\xfamero, verdade/falso ou nulo.',objectType:'Campo do tipo "objeto". Um objeto cont\xe9m uma lista de pares com chave e valor.',arrayType:'Campo do tipo "lista". Uma lista contem uma cole\xe7\xe3o de valores ordenados.',stringType:'Campo do tipo "string". Campo do tipo nao \xe9 determinado atrav\xe9s do seu valor, mas sempre retornara um texto.',examples:"Exemplos",default:"Revelia",containsInvalidProperties:"Cont\xe9m propriedades inv\xe1lidas",containsInvalidItems:"Cont\xe9m itens inv\xe1lidos"},tr:{array:"Dizin",auto:"Otomatik",appendText:"Ekle",appendTitle:"Bu alan\u0131n alt\u0131na 'otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",appendSubmenuTitle:"Eklenecek alan\u0131n tipini se\xe7",appendTitleAuto:"'Otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",ascending:"Artan",ascendingTitle:"${type}'\u0131n alt tiplerini artan d\xfczende s\u0131rala",actionsMenu:"Aksiyon men\xfcs\xfcn\xfc a\xe7mak i\xe7in t\u0131klay\u0131n (Ctrl+M)",collapseAll:"T\xfcm alanlar\u0131 kapat",descending:"Azalan",descendingTitle:"${type}'\u0131n alt tiplerini azalan d\xfczende s\u0131rala",drag:"Bu alan\u0131 ta\u015f\u0131mak i\xe7in s\xfcr\xfckleyin (Alt+Shift+Arrows)",duplicateKey:"Var olan anahtar",duplicateText:"A\u015fa\u011f\u0131ya kopyala",duplicateTitle:"Se\xe7ili alanlardan bir daha olu\u015ftur (Ctrl+D)",duplicateField:"Bu alandan bir daha olu\u015ftur (Ctrl+D)",duplicateFieldError:"Duplicate field name",cannotParseFieldError:"Alan JSON'a ayr\u0131\u015ft\u0131r\u0131lam\u0131yor",cannotParseValueError:"JSON'a de\u011fer ayr\u0131\u015ft\u0131r\u0131lam\u0131yor",empty:"bo\u015f",expandAll:"T\xfcm alanlar\u0131 a\xe7",expandTitle:"Bu alan\u0131 a\xe7mak/kapatmak i\xe7in t\u0131kla (Ctrl+E). \nAlt alanlarda dahil t\xfcm alanlar\u0131 a\xe7mak i\xe7in Ctrl+Click ",insert:"Ekle",insertTitle:"Bu alan\u0131n \xfcst\xfcne 'otomatik' tipinde yeni bir alan ekle (Ctrl+Ins)",insertSub:"Araya eklenecek alan\u0131n tipini se\xe7",object:"Nesne",ok:"Tamam",redo:"Yeniden yap (Ctrl+Shift+Z)",removeText:"Kald\u0131r",removeTitle:"Se\xe7ilen alanlar\u0131 kald\u0131r (Ctrl+Del)",removeField:"Bu alan\u0131 kald\u0131r (Ctrl+Del)",selectNode:"Bir nesne se\xe7...",showAll:"t\xfcm\xfcn\xfc g\xf6ster",showMore:"daha fazla g\xf6ster",showMoreStatus:"${totalChilds} alan\u0131n ${visibleChilds} alt alanlar\u0131 g\xf6steriliyor",sort:"S\u0131rala",sortTitle:"${type}'\u0131n alt alanlar\u0131n\u0131 s\u0131rala",sortTitleShort:"\u0130\xe7erikleri s\u0131rala",sortFieldLabel:"Alan:",sortDirectionLabel:"Y\xf6n:",sortFieldTitle:"Diziyi veya nesneyi s\u0131ralamak i\xe7in i\xe7 i\xe7e ge\xe7mi\u015f alan\u0131 se\xe7in",sortAscending:"Artan",sortAscendingTitle:"Se\xe7ili alan\u0131 artan d\xfczende s\u0131rala",sortDescending:"Azalan",sortDescendingTitle:"Se\xe7ili alan\u0131 azalan d\xfczende s\u0131rala",string:"Karakter Dizisi",transform:"D\xf6n\xfc\u015ft\xfcr",transformTitle:"${type}'\u0131n alt alanlar\u0131n\u0131 filtrele, s\u0131rala veya d\xf6n\xfc\u015ft\xfcr",transformTitleShort:"\u0130\xe7erikleri filterele, s\u0131rala veya d\xf6n\xfc\u015ft\xfcr",transformQueryTitle:"JMESPath sorgusu gir",transformWizardLabel:"Sihirbaz",transformWizardFilter:"Filtre",transformWizardSortBy:"S\u0131rala",transformWizardSelectFields:"Alanlar\u0131 se\xe7",transformQueryLabel:"Sorgu",transformPreviewLabel:"\xd6nizleme",type:"Tip",typeTitle:"Bu alan\u0131n tipini de\u011fi\u015ftir",openUrl:"URL'i yeni bir pencerede a\xe7mak i\xe7in Ctrl+Click veya Ctrl+Enter",undo:"Son de\u011fi\u015fikli\u011fi geri al (Ctrl+Z)",validationCannotMove:"Alt alan olarak ta\u015f\u0131nam\u0131yor",autoType:'Alan tipi "otomatik". Alan t\xfcr\xfc otomatik olarak de\u011ferden belirlenirve bir dize, say\u0131, boolean veya null olabilir.',objectType:'Alan tipi "nesne". Bir nesne, s\u0131ralanmam\u0131\u015f bir anahtar / de\u011fer \xe7ifti k\xfcmesi i\xe7erir.',arrayType:'Alan tipi "dizi". Bir dizi, d\xfczenli de\u011ferler koleksiyonu i\xe7erir.',stringType:'Alan tipi "karakter dizisi". Alan t\xfcr\xfc de\u011ferden belirlenmez,ancak her zaman karakter dizisi olarak d\xf6nd\xfcr\xfcl\xfcr.',modeCodeText:"Kod",modeCodeTitle:"Kod vurgulay\u0131c\u0131ya ge\xe7",modeFormText:"Form",modeFormTitle:"Form d\xfczenleyiciye ge\xe7",modeTextText:"Metin",modeTextTitle:"D\xfcz metin d\xfczenleyiciye ge\xe7",modeTreeText:"A\u011fa\xe7",modeTreeTitle:"A\u011fa\xe7 d\xfczenleyiciye ge\xe7",modeViewText:"G\xf6r\xfcn\xfcm",modeViewTitle:"A\u011fa\xe7 g\xf6r\xfcn\xfcm\xfcne ge\xe7",examples:"\xd6rnekler",default:"Varsay\u0131lan",containsInvalidProperties:"Ge\xe7ersiz \xf6zellikler i\xe7eriyor",containsInvalidItems:"Ge\xe7ersiz \xf6\u011feler i\xe7eriyor"},ja:{array:"\u914d\u5217",auto:"\u30aa\u30fc\u30c8",appendText:"\u8ffd\u52a0",appendTitle:'\u6b21\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b"\u30aa\u30fc\u30c8"\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0 (Ctrl+Shift+Ins)',appendSubmenuTitle:"\u8ffd\u52a0\u3059\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",appendTitleAuto:'"\u30aa\u30fc\u30c8"\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0 (Ctrl+Shift+Ins)',ascending:"\u6607\u9806",ascendingTitle:"${type}\u306e\u5b50\u8981\u7d20\u3092\u6607\u9806\u306b\u4e26\u3079\u66ff\u3048",actionsMenu:"\u30af\u30ea\u30c3\u30af\u3057\u3066\u30a2\u30af\u30b7\u30e7\u30f3\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u304f (Ctrl+M)",collapseAll:"\u3059\u3079\u3066\u3092\u6298\u308a\u305f\u305f\u3080",descending:"\u964d\u9806",descendingTitle:"${type}\u306e\u5b50\u8981\u7d20\u3092\u964d\u9806\u306b\u4e26\u3079\u66ff\u3048",drag:"\u30c9\u30e9\u30c3\u30b0\u3057\u3066\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u79fb\u52d5 (Alt+Shift+Arrows)",duplicateKey:"\u8907\u88fd\u30ad\u30fc",duplicateText:"\u8907\u88fd",duplicateTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8907\u88fd (Ctrl+D)",duplicateField:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8907\u88fd (Ctrl+D)",duplicateFieldError:"\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u304c\u91cd\u8907\u3057\u3066\u3044\u307e\u3059",cannotParseFieldError:"JSON\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u89e3\u6790\u3067\u304d\u307e\u305b\u3093",cannotParseValueError:"JSON\u306e\u5024\u3092\u89e3\u6790\u3067\u304d\u307e\u305b\u3093",empty:"\u7a7a",expandAll:"\u3059\u3079\u3066\u3092\u5c55\u958b",expandTitle:"\u30af\u30ea\u30c3\u30af\u3057\u3066\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u5c55\u958b/\u6298\u308a\u305f\u305f\u3080 (Ctrl+E). \nCtrl+Click \u3067\u3059\u3079\u3066\u306e\u5b50\u8981\u7d20\u3092\u5c55\u958b/\u6298\u308a\u305f\u305f\u3080",insert:"\u633f\u5165",insertTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u524d\u306b\u65b0\u3057\u3044\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u633f\u5165 (Ctrl+Ins)",insertSub:"\u633f\u5165\u3059\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u3092\u9078\u629e",object:"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8",ok:"\u5b9f\u884c",redo:"\u3084\u308a\u76f4\u3059 (Ctrl+Shift+Z)",removeText:"\u524a\u9664",removeTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u524a\u9664 (Ctrl+Del)",removeField:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u524a\u9664 (Ctrl+Del)",selectNode:"\u30ce\u30fc\u30c9\u3092\u9078\u629e...",showAll:"\u3059\u3079\u3066\u3092\u8868\u793a",showMore:"\u3082\u3063\u3068\u898b\u308b",showMoreStatus:"${totalChilds}\u500b\u306e\u30a2\u30a4\u30c6\u30e0\u306e\u3046\u3061 ${visibleChilds}\u500b\u3092\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002",sort:"\u4e26\u3079\u66ff\u3048",sortTitle:"${type}\u306e\u5b50\u8981\u7d20\u3092\u4e26\u3079\u66ff\u3048",sortTitleShort:"\u4e26\u3079\u66ff\u3048",sortFieldLabel:"\u30d5\u30a3\u30fc\u30eb\u30c9:",sortDirectionLabel:"\u9806\u5e8f:",sortFieldTitle:"\u914d\u5217\u307e\u305f\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4e26\u3073\u66ff\u3048\u308b\u305f\u3081\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u9078\u629e",sortAscending:"\u6607\u9806",sortAscendingTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6607\u9806\u306b\u4e26\u3073\u66ff\u3048",sortDescending:"\u964d\u9806",sortDescendingTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u964d\u9806\u306b\u4e26\u3073\u66ff\u3048",string:"\u6587\u5b57\u5217",transform:"\u5909\u63db",transformTitle:"${type}\u306e\u5b50\u8981\u7d20\u3092\u30d5\u30a3\u30eb\u30bf\u30fc\u30fb\u4e26\u3073\u66ff\u3048\u30fb\u5909\u63db\u3059\u308b",transformTitleShort:"\u5185\u5bb9\u3092\u30d5\u30a3\u30eb\u30bf\u30fc\u30fb\u4e26\u3073\u66ff\u3048\u30fb\u5909\u63db\u3059\u308b",extract:"\u62bd\u51fa",extractTitle:"${type}\u3092\u62bd\u51fa",transformQueryTitle:"JMESPath\u30af\u30a8\u30ea\u3092\u5165\u529b",transformWizardLabel:"\u30a6\u30a3\u30b6\u30fc\u30c9",transformWizardFilter:"\u30d5\u30a3\u30eb\u30bf\u30fc",transformWizardSortBy:"\u4e26\u3073\u66ff\u3048",transformWizardSelectFields:"\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u9078\u629e",transformQueryLabel:"\u30af\u30a8\u30ea",transformPreviewLabel:"\u30d7\u30ec\u30d3\u30e5\u30fc",type:"\u578b",typeTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u3092\u5909\u66f4",openUrl:"Ctrl+Click \u307e\u305f\u306f Ctrl+Enter \u3067 \u65b0\u898f\u30a6\u30a3\u30f3\u30c9\u30a6\u3067URL\u3092\u958b\u304f",undo:"\u5143\u306b\u623b\u3059 (Ctrl+Z)",validationCannotMove:"\u5b50\u8981\u7d20\u306b\u79fb\u52d5\u3067\u304d\u307e\u305b\u3093 ",autoType:"\u30aa\u30fc\u30c8\uff1a \u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u306f\u5024\u304b\u3089\u81ea\u52d5\u7684\u306b\u6c7a\u5b9a\u3055\u308c\u307e\u3059\u3002 (\u6587\u5b57\u5217\u30fb\u6570\u5024\u30fb\u30d6\u30fc\u30eb\u30fbnull)",objectType:"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff1a \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u9806\u5e8f\u304c\u6c7a\u307e\u3063\u3066\u3044\u306a\u3044\u30ad\u30fc\u3068\u5024\u306e\u30da\u30a2\u7d44\u307f\u5408\u308f\u305b\u3067\u3059\u3002",arrayType:"\u914d\u5217\uff1a \u914d\u5217\u306f\u9806\u5e8f\u304c\u6c7a\u307e\u3063\u3066\u3044\u308b\u5024\u306e\u96c6\u5408\u4f53\u3067\u3059\u3002",stringType:"\u6587\u5b57\u5217\uff1a \u30d5\u30a3\u30fc\u30eb\u30c9\u578b\u306f\u5024\u304b\u3089\u6c7a\u5b9a\u3055\u308c\u307e\u305b\u3093\u304c\u3001\u5e38\u306b\u6587\u5b57\u5217\u3068\u3057\u3066\u8fd4\u3055\u308c\u307e\u3059\u3002",modeCodeText:"\u30b3\u30fc\u30c9\u30e2\u30fc\u30c9",modeCodeTitle:"\u30cf\u30a4\u30e9\u30a4\u30c8\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modeFormText:"\u30d5\u30a9\u30fc\u30e0\u30e2\u30fc\u30c9",modeFormTitle:"\u30d5\u30a9\u30fc\u30e0\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modeTextText:"\u30c6\u30ad\u30b9\u30c8\u30e2\u30fc\u30c9",modeTextTitle:"\u30c6\u30ad\u30b9\u30c8\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modeTreeText:"\u30c4\u30ea\u30fc\u30e2\u30fc\u30c9",modeTreeTitle:"\u30c4\u30ea\u30fc\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modeViewText:"\u30d3\u30e5\u30fc\u30e2\u30fc\u30c9",modeViewTitle:"\u30d3\u30e5\u30fc\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modePreviewText:"\u30d7\u30ec\u30d3\u30e5\u30fc",modePreviewTitle:"\u30d7\u30ec\u30d3\u30e5\u30fc\u306b\u5207\u308a\u66ff\u3048",examples:"\u4f8b",default:"\u30c7\u30d5\u30a9\u30eb\u30c8",containsInvalidProperties:"\u7121\u52b9\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059",containsInvalidItems:"\u7121\u52b9\u306a\u30a2\u30a4\u30c6\u30e0\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059"},"fr-FR":{array:"Liste",auto:"Auto",appendText:"Ajouter",appendTitle:"Ajouter un champ de type 'auto' apr\xe8s ce champ (Ctrl+Shift+Ins)",appendSubmenuTitle:"S\xe9lectionner le type du champ \xe0 ajouter",appendTitleAuto:"Ajouter un champ de type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendant",ascendingTitle:"Trier les enfants de ce ${type} par ordre ascendant",actionsMenu:"Ouvrir le menu des actions (Ctrl+M)",collapseAll:"Regrouper",descending:"Descendant",descendingTitle:"Trier les enfants de ce ${type} par ordre descendant",drag:"D\xe9placer (Alt+Shift+Arrows)",duplicateKey:"Dupliquer la cl\xe9",duplicateText:"Dupliquer",duplicateTitle:"Dupliquer les champs s\xe9lectionn\xe9s (Ctrl+D)",duplicateField:"Dupliquer ce champ (Ctrl+D)",duplicateFieldError:"Dupliquer le nom de champ",cannotParseFieldError:"Champ impossible \xe0 parser en JSON",cannotParseValueError:"Valeur impossible \xe0 parser en JSON",empty:"vide",expandAll:"\xc9tendre",expandTitle:"\xc9tendre/regrouper ce champ (Ctrl+E). \nCtrl+Click pour \xe9tendre/regrouper avec tous les champs.",insert:"Ins\xe9rer",insertTitle:"Ins\xe9rer un champ de type 'auto' avant ce champ (Ctrl+Ins)",insertSub:"S\xe9lectionner le type de champ \xe0 ins\xe9rer",object:"Objet",ok:"Ok",redo:"Rejouer (Ctrl+Shift+Z)",removeText:"Supprimer",removeTitle:"Supprimer les champs s\xe9lectionn\xe9s (Ctrl+Del)",removeField:"Supprimer ce champ (Ctrl+Del)",searchTitle:"Rechercher champs et valeurs",searchNextResultTitle:"R\xe9sultat suivant (Enter)",searchPreviousResultTitle:"R\xe9sultat pr\xe9c\xe9dent (Shift + Enter)",selectNode:"S\xe9lectionner un n\u0153ud...",showAll:"voir tout",showMore:"voir plus",showMoreStatus:"${visibleChilds} \xe9l\xe9ments affich\xe9s de ${totalChilds}.",sort:"Trier",sortTitle:"Trier les champs de ce ${type}",sortTitleShort:"Trier",sortFieldLabel:"Champ:",sortDirectionLabel:"Direction:",sortFieldTitle:"S\xe9lectionner les champs permettant de trier les listes et objet",sortAscending:"Ascendant",sortAscendingTitle:"Trier les champs s\xe9lectionn\xe9s par ordre ascendant",sortDescending:"Descendant",sortDescendingTitle:"Trier les champs s\xe9lectionn\xe9s par ordre descendant",string:"Cha\xeene",transform:"Transformer",transformTitle:"Filtrer, trier, or transformer les enfants de ce ${type}",transformTitleShort:"Filtrer, trier ou transformer le contenu",extract:"Extraire",extractTitle:"Extraire ce ${type}",transformQueryTitle:"Saisir une requ\xeate JMESPath",transformWizardLabel:"Assistant",transformWizardFilter:"Filtrer",transformWizardSortBy:"Trier par",transformWizardSelectFields:"S\xe9lectionner les champs",transformQueryLabel:"Requ\xeate",transformPreviewLabel:"Pr\xe9visualisation",type:"Type",typeTitle:"Changer le type de ce champ",openUrl:"Ctrl+Click ou Ctrl+Enter pour ouvrir l'url dans une autre fen\xeatre",undo:"Annuler la derni\xe8re action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Champe de type "auto". Ce type de champ est automatiquement d\xe9termin\xe9 en fonction de la valeur et peut \xeatre de type "cha\xeene", "nombre", "bool\xe9en" ou null.',objectType:'Champ de type "objet". Un objet contient un ensemble non ordonn\xe9 de paires cl\xe9/valeur.',arrayType:'Champ de type "liste". Une liste contient une collection ordonn\xe9e de valeurs.',stringType:'Champ de type "cha\xeene". Ce type de champ n\'est pas d\xe9termin\xe9 en fonction de la valeur, mais retourne syst\xe9matiquement une cha\xeene de caract\xe8res.',modeEditorTitle:"Changer mode d'\xe9dition",modeCodeText:"Code",modeCodeTitle:"Activer surlignage code",modeFormText:"Formulaire",modeFormTitle:"Activer formulaire",modeTextText:"Texte",modeTextTitle:"Activer \xe9diteur texte",modeTreeText:"Arbre",modeTreeTitle:"Activer \xe9diteur arbre",modeViewText:"Lecture seule",modeViewTitle:"Activer vue arbre",modePreviewText:"Pr\xe9visualisation",modePreviewTitle:"Activer mode pr\xe9visualiser",examples:"Exemples",default:"D\xe9faut",containsInvalidProperties:"Contient des propri\xe9t\xe9s non valides",containsInvalidItems:"Contient des \xe9l\xe9ments invalides"},de:{array:"Auflistung",auto:"Auto",appendText:"anh\xe4ngen",appendTitle:"F\xfcgen Sie nach diesem Feld ein neues Feld mit dem Typ 'auto' ein (Strg+Umschalt+Ein)",appendSubmenuTitle:"W\xe4hlen Sie den Typ des neuen Feldes",appendTitleAuto:"Ein neues Feld vom Typ 'auto' hinzuf\xfcgen (Strg+Umschalt+Ein)",ascending:"Aufsteigend",ascendingTitle:"Sortieren Sie die Elemente dieses ${type} in aufsteigender Reihenfolge",actionsMenu:"Klicken Sie zum \xd6ffnen des Aktionsmen\xfcs (Strg+M)",cannotParseFieldError:"Feld kann nicht in JSON geparst werden",cannotParseValueError:"Wert kann nicht in JSON geparst werden",collapseAll:"Alle Felder zuklappen",compactTitle:"JSON-Daten verdichten, alle Leerzeichen entfernen (Strg+Umschalt+\\)",descending:"Absteigend",descendingTitle:"Sortieren Sie die Elemente dieses ${type} in absteigender Reihenfolge",drag:"Ziehen, um dieses Feld zu verschieben (Alt+Umschalt+Pfeile)",duplicateKey:"Doppelter Schl\xfcssel",duplicateText:"Duplikat",duplicateTitle:"Ausgew\xe4hlte Felder duplizieren (Strg+D)",duplicateField:"Dieses Feld duplizieren (Strg+D)",duplicateFieldError:"Doppelter Feldname",empty:"leer",expandAll:"Alle Felder anzeigen",expandTitle:"Klicken Sie, um dieses Feld zu erweitern/zu kollabieren (Strg+E). \nStrg+Klicken Sie, um dieses Feld einschlie\xdflich aller Elemente zu erweitern/zu kollabieren.",formatTitle:"JSON-Daten mit korrekter Einr\xfcckung und Zeilenvorsch\xfcben formatieren (Strg+\\)",insert:"einf\xfcgen",insertTitle:"F\xfcgen Sie vor diesem Feld ein neues Feld mit dem Typ 'auto' ein (Strg+Einfg)",insertSub:"W\xe4hlen Sie den Typ des neuen Feldes",object:"Objekt",ok:"Ok",redo:"Wiederholen (Strg+Umschalt+Z)",removeText:"entfernen",removeTitle:"Ausgew\xe4hlte Felder entfernen (Strg+Entf)",removeField:"Dieses Feld entfernen (Strg+Entf)",repairTitle:"JSON reparieren: Anf\xfchrungszeichen und Escape-Zeichen korrigieren, Kommentare und JSONP-Notation entfernen, JavaScript-Objekte in JSON umwandeln.",searchTitle:"Suchfelder und Werte",searchNextResultTitle:"N\xe4chstes Ergebnis (Enter)",searchPreviousResultTitle:"Vorheriges Ergebnis (Umschalt + Eingabe)",selectNode:"W\xe4hlen Sie einen Knoten aus...",showAll:"alle anzeigen",showMore:"mehr anzeigen",showMoreStatus:"Anzeige von ${visibleChilds} von ${totalChilds}-Elementen.",sort:"Sortieren",sortTitle:"Sortieren Sie die Elemente dieses ${type}",sortTitleShort:"Inhalt sortieren",sortFieldLabel:"Feld:",sortDirectionLabel:"Richtung:",sortFieldTitle:"W\xe4hlen Sie das verschachtelte Feld, nach dem das Array oder Objekt sortiert werden soll.",sortAscending:"Aufsteigend",sortAscendingTitle:"Sortieren Sie das ausgew\xe4hlte Feld in aufsteigender Reihenfolge",sortDescending:"Absteigend",sortDescendingTitle:"Sortieren Sie das ausgew\xe4hlte Feld in absteigender Reihenfolge",string:"Zeichenfolge",transform:"Verwandeln",transformTitle:"Die Elemente dieses ${type} filtern, sortieren oder transformieren",transformTitleShort:"Inhalte filtern, sortieren oder transformieren",extract:"Auszug",extractTitle:"Extrahieren Sie diesen ${type}",transformQueryTitle:"Eine JMESPath-Abfrage eingeben",transformWizardLabel:"Zauberer",transformWizardFilter:"Filter",transformWizardSortBy:"Sortieren nach",transformWizardSelectFields:"Felder ausw\xe4hlen",transformQueryLabel:"Anfrage",transformPreviewLabel:"Vorschau",type:"Geben Sie  ein.",typeTitle:"\xc4ndern Sie den Typ dieses Feldes",openUrl:"Strg+Klicken oder Strg+Eingabe, um die URL in einem neuen Fenster zu \xf6ffnen",undo:"Letzte Aktion r\xfcckg\xe4ngig machen (Strg+Z)",validationCannotMove:"Kann ein Feld nicht in ein Kind seiner selbst verschieben",autoType:'Feldtyp "auto". Der Feldtyp wird automatisch aus dem Wert bestimmt und kann ein String, eine Zahl, boolesch oder null sein.',objectType:'Feldtyp "Objekt". Ein Objekt enth\xe4lt eine ungeordnete Menge von Schl\xfcssel/Wert-Paaren.',arrayType:'Feldtyp "Array". Ein Array enth\xe4lt eine geordnete Sammlung von Werten.',stringType:'Feldtyp "Zeichenfolge". Der Feldtyp wird nicht aus dem Wert bestimmt, sondern immer als Zeichenfolge zur\xfcckgegeben.',modeEditorTitle:"Editor-Modus umschalten",modeCodeText:"Code",modeCodeTitle:"Umschalten auf Code-Highlighter",modeFormText:"Formular",modeFormTitle:"Zum Formular-Editor wechseln",modeTextText:"Text",modeTextTitle:"Zum Editor f\xfcr einfachen Text wechseln",modeTreeText:"Baum",modeTreeTitle:"Zum Baum-Editor wechseln",modeViewText:"Siehe",modeViewTitle:"Zur Baumansicht wechseln",modePreviewText:"Vorschau",modePreviewTitle:"In den Vorschau-Modus wechseln",examples:"Beispiele",default:"Standardm\xe4\xdfig",containsInvalidProperties:"Enth\xe4lt ung\xfcltige Eigenschaften",containsInvalidItems:"Enth\xe4lt ung\xfcltige Elemente"},ru:{array:"\u041c\u0430\u0441\u0441\u0438\u0432",auto:"\u0410\u0432\u0442\u043e",appendText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",appendTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0441 \u0442\u0438\u043f\u043e\u043c '\u0430\u0432\u0442\u043e' \u043f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044f (Ctrl+Shift+Ins)",appendSubmenuTitle:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0438\u043f \u043f\u043e\u043b\u044f \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f",appendTitleAuto:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0441 \u0442\u0438\u043f\u043e\u043c '\u0430\u0432\u0442\u043e' (Ctrl+Shift+Ins)",ascending:"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",ascendingTitle:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c ${type} \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",actionsMenu:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 (Ctrl+M)",cannotParseFieldError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435 \u0432 JSON",cannotParseValueError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 JSON",collapseAll:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0432\u0441\u0435",compactTitle:"\u041c\u0438\u043d\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f JSON (Ctrl+Shift+I)",descending:"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",descendingTitle:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c ${type} \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",drag:"\u041f\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044f (Alt+Shift+Arrows)",duplicateKey:"\u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0449\u0438\u0439\u0441\u044f \u043a\u043b\u044e\u0447",duplicateText:"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c",duplicateTitle:"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0439 (Ctrl+D)",duplicateField:"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435 (Ctrl+D)",duplicateFieldError:"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044f",empty:"\u043f\u0443\u0441\u0442\u043e\u0439",expandAll:"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0432\u0441\u0435",expandTitle:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u044f/\u0441\u043a\u0440\u044b\u0442\u0438\u044f \u043f\u043e\u043b\u044f (Ctrl+E)\n\u0438\u043b\u0438 Ctrl+Click \u0434\u043b\u044f \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u044f/\u0441\u043a\u0440\u044b\u0442\u0438\u044f \u0432\u0441\u0435\u0445 \u043f\u043e\u0442\u043e\u043c\u043a\u043e\u0432.",formatTitle:"\u0424\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 JSON (Ctrl+I)",insert:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c",insertTitle:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0441 \u0442\u0438\u043f\u043e\u043c '\u0430\u0432\u0442\u043e' \u043f\u0435\u0440\u0435\u0434 \u044d\u0442\u0438\u043c \u043f\u043e\u043b\u0435\u043c (Ctrl+Ins)",insertSub:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0438\u043f \u043f\u043e\u043b\u044f \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u0432\u043a\u0438",object:"\u041e\u0431\u044a\u0435\u043a\u0442",ok:"\u041e\u041a",redo:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c (Ctrl+Shift+Z)",removeText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",removeTitle:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044f (Ctrl+Del)",removeField:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u0435 (Ctrl+Del)",repairTitle:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 JSON: \u0438\u0441\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u0432\u044b\u0447\u043a\u0438 \u0438 escape-\u0441\u0438\u043c\u0432\u043e\u043b\u044b, \u0443\u0434\u0430\u043b\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u0438 \u043d\u043e\u0442\u0430\u0446\u0438\u044e JSONP, \u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u0443\u0439\u0442\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b JavaScript \u0432 JSON.",searchTitle:"\u041f\u043e\u0438\u0441\u043a",searchNextResultTitle:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 (Enter)",searchPreviousResultTitle:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 (Shift + Enter)",selectNode:"\u0412\u044b\u0431\u043e\u0440 \u0443\u0437\u043b\u0430...",showAll:"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435",showMore:"\u0431\u043e\u043b\u044c\u0448\u0435",showMoreStatus:"${visibleChilds} \u0438\u0437 ${totalChilds}",sort:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430",sortTitle:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e\u0442\u043e\u043c\u043a\u043e\u0432 \u0442\u0438\u043f\u0430 ${type}",sortTitleShort:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0433\u043e",sortFieldLabel:"\u041f\u043e\u043b\u0435:",sortDirectionLabel:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435:",sortFieldTitle:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u0434\u043b\u044f \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438 \u043c\u0430\u0441\u0441\u0438\u0432\u0430 \u0438\u043b\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u0430",sortAscending:"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",sortAscendingTitle:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0440\u044f \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",sortDescending:"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",sortDescendingTitle:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0440\u044f \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",string:"\u0421\u0442\u0440\u043e\u043a\u0430",transform:"\u041c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f",transformTitle:"\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f, \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0438\u043b\u0438 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0442\u0438\u043f\u0430 ${type}",transformTitleShort:"\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f, \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0438\u043b\u0438 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445",extract:"\u0418\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0435",extractTitle:"\u0418\u0437\u0432\u043b\u0435\u0447\u044c \u0442\u0438\u043f ${type}",transformQueryTitle:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 JMESpath \u0437\u0430\u043f\u0440\u043e\u0441",transformWizardLabel:"\u041c\u0430\u0441\u0442\u0435\u0440",transformWizardFilter:"\u0424\u0438\u043b\u044c\u0442\u0440",transformWizardSortBy:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430",transformWizardSelectFields:"\u041f\u043e\u043b\u044f",transformQueryLabel:"\u0417\u0430\u043f\u0440\u043e\u0441",transformPreviewLabel:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",type:"\u0422\u0438\u043f",typeTitle:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0438\u043f \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044f",openUrl:"Ctrl+Click \u0438\u043b\u0438 Ctrl+Enter \u0434\u043b\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f url \u0432 \u043d\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435",undo:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c (Ctrl+Z)",validationCannotMove:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u043e \u0432 \u043f\u043e\u0442\u043e\u043c\u043a\u0430",autoType:"\u0422\u0438\u043f \u043f\u043e\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044e \u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439, \u0447\u0438\u0441\u043b\u043e\u043c, \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 null.",objectType:"\u041e\u0431\u044a\u0435\u043a\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0435\u0443\u043f\u043e\u0440\u044f\u0434\u043e\u0447\u0435\u043d\u043d\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u043f\u0430\u0440 \u043a\u043b\u044e\u0447/\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435.",arrayType:"\u041c\u0430\u0441\u0441\u0438\u0432 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0443\u043f\u043e\u0440\u044f\u0434\u043e\u0447\u0435\u043d\u043d\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439.",stringType:"\u0422\u0438\u043f \u043f\u043e\u043b\u044f \u043d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u0438\u0437 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u043d\u043e \u0432\u0441\u0435\u0433\u0434\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u0441\u0442\u0440\u043e\u043a\u0430.",modeEditorTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0440\u0435\u0436\u0438\u043c\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430",modeCodeText:"\u041a\u043e\u0434",modeCodeTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430 \u043a\u043e\u0434\u0430",modeFormText:"\u0424\u043e\u0440\u043c\u0430",modeFormTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u0444\u043e\u0440\u043c\u044b",modeTextText:"\u0422\u0435\u043a\u0441\u0442",modeTextTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430 \u0442\u0435\u043a\u0441\u0442\u0430",modeTreeText:"\u0414\u0435\u0440\u0435\u0432\u043e",modeTreeTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430 \u0434\u0435\u0440\u0435\u0432\u0430",modeViewText:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0434\u0435\u0440\u0435\u0432\u0430",modeViewTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0434\u0435\u0440\u0435\u0432\u0430",modePreviewText:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",modePreviewTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430",examples:"\u041f\u0440\u0438\u043c\u0435\u0440\u044b",default:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e",containsInvalidProperties:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",containsInvalidItems:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b"},ko:{array:"\ubc30\uc5f4",auto:"\uc790\ub3d9",appendText:"\ucd94\uac00",appendTitle:'\uc120\ud0dd\ud55c \uc694\uc18c \uc544\ub798\uc5d0 "\uc790\ub3d9" \uc694\uc18c\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4. (Ctrl + Shift + Ins)',appendSubmenuTitle:"\ucd94\uac00\ud560 \uc694\uc18c\uc758 \uc720\ud615\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.",appendTitleAuto:'"\uc790\ub3d9" \uc694\uc18c\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4. (Ctrl + Shift + Ins)',ascending:"\uc624\ub984\ucc28\uc21c",ascendingTitle:"\uc120\ud0dd\ud55c ${type}\uc758 \ud558\uc704 \uc694\uc18c\ub97c \uc624\ub984\ucc28\uc21c \uc815\ub82c\ud569\ub2c8\ub2e4.",actionsMenu:"\uba54\ub274 \uc5f4\uae30 (Ctrl + M)",cannotParseFieldError:"JSON\uc758 \uc694\uc18c\ub97c \ud574\uc11d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",cannotParseValueError:"JSON\uc758 \uac12\uc744 \ud574\uc11d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",collapseAll:"\ubaa8\ub450 \uc811\uae30",compactTitle:"\ubaa8\ub4e0 \uacf5\ubc31\uc744 \uc81c\uac70\ud558\uc5ec JSON \ub370\uc774\ud130\ub97c \uc791\uac8c \ub9cc\ub4ed\ub2c8\ub2e4. (Ctrl + Shift + I)",descending:"\ub0b4\ub9bc\ucc28\uc21c",descendingTitle:"\uc120\ud0dd\ud55c ${type}\uc758 \ud558\uc704 \uc694\uc18c\ub97c \ub0b4\ub9bc\ucc28\uc21c\uc73c\ub85c \uc815\ub82c",drag:"\ub4dc\ub798\uadf8\ud558\uc5ec \uc694\uc18c\ub97c \uc774\ub3d9\ud569\ub2c8\ub2e4. (Alt + Shift + Arrows)",duplicateKey:"\ubcf5\uc81c\ud0a4",duplicateText:"\ubcf5\uc81c",duplicateTitle:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \ubcf5\uc81c\ud569\ub2c8\ub2e4. (Ctrl + D)",duplicateField:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \ubcf5\uc81c\ud569\ub2c8\ub2e4. (Ctrl + D)",duplicateFieldError:"\uc694\uc18c \uc774\ub984\uc774 \uc911\ubcf5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",empty:"\ube44\uc5b4\uc788\uc74c",expandAll:"\ubaa8\ub450 \uc5f4\uae30",expandTitle:"\ud074\ub9ad\ud558\uc5ec \uc694\uc18c\ub97c \uc5f4\uac70\ub098 \ub2eb\uc2b5\ub2c8\ub2e4. (Ctrl + E) \nCtrl + Click\uc73c\ub85c \ubaa8\ub4e0 \ud558\uc704 \uc694\uc18c\ub97c \uc5f4\uac70\ub098 \ub2eb\uc2b5\ub2c8\ub2e4.",formatTitle:"\uc801\uc808\ud55c \ub4e4\uc5ec\uc4f0\uae30 \ubc0f \uc904\ubc14\uafc8\uc73c\ub85c JSON \ub370\uc774\ud130\ub97c \uc815\ud615\ud654\ud569\ub2c8\ub2e4. (Ctrl + I)",insert:"\uc0bd\uc785",insertTitle:"\uc120\ud0dd\ud55c \uc694\uc18c \uc704\uc5d0 \uc0c8\uc694\uc18c\ub97c \uc0bd\uc785\ud569\ub2c8\ub2e4. (Ctrl + Ins)",insertSub:"\uc0bd\uc785\ud560 \uc694\uc18c\uc758 \uc720\ud615\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.",object:"\uac1d\uccb4",ok:"\ud655\uc778",redo:"\ub2e4\uc2dc \uc2e4\ud589 (Ctrl + Shift + Z)",removeText:"\uc0ad\uc81c",removeTitle:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \uc0ad\uc81c\ud569\ub2c8\ub2e4. (Ctrl + Del)",removeField:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \uc0ad\uc81c\ud569\ub2c8\ub2e4. (Ctrl + Del)",repairTitle:"JSON \uad50\uc815: JSON \ub0b4\uc758 \uc8fc\uc11d\uacfc JSONP \ud45c\uae30\ubc95\uc744 \uc9c0\uc6b0\uace0 \ub530\uc634\ud45c\uc640 \uc774\uc2a4\ucf00\uc774\ud504 \ubb38\uc790\ub97c \uc218\uc815\ud569\ub2c8\ub2e4.",searchTitle:"\uc694\uc18c \ub610\ub294 \uac12 \ucc3e\uae30",searchNextResultTitle:"\ub2e4\uc74c\uc73c\ub85c \ucc3e\uae30 (Enter)",searchPreviousResultTitle:"\uc774\uc804\uc73c\ub85c \ucc3e\uae30 (Shift + Enter)",selectNode:"\uc694\uc18c\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694...",showAll:"\ubaa8\ub450\ubcf4\uae30",showMore:"\ub354\ubcf4\uae30",showMoreStatus:"${totalChilds} \uac1c\uc758 \ud56d\ubaa9 \uc911 ${visibleChilds} \uac1c\ub97c \ud45c\uc2dc\ud569\ub2c8\ub2e4.",sort:"\uc815\ub82c",sortTitle:"\uc120\ud0dd\ud55c ${type}\uc758 \ud558\uc704 \uc694\uc18c\ub97c \uc815\ub82c\ud569\ub2c8\ub2e4.",sortTitleShort:"\uc815\ub82c",sortFieldLabel:"\uc694\uc18c:",sortDirectionLabel:"\uc21c\uc11c:",sortFieldTitle:"\ubc30\uc5f4\uc774\ub098 \uac1d\uccb4\ub97c \uc815\ub82c\ud558\ub294 \uc694\uc18c\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.",sortAscending:"\uc624\ub984\ucc28\uc21c",sortAscendingTitle:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \uc624\ub984\ucc28\uc21c\uc73c\ub85c \uc815\ub82c\ud569\ub2c8\ub2e4.",sortDescending:"\ub0b4\ub9bc\ucc28\uc21c",sortDescendingTitle:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \ub0b4\ub9bc\ucc28\uc21c\uc73c\ub85c \uc815\ub82c\ud569\ub2c8\ub2e4.",string:"\ubb38\uc790",transform:"\ubcc0\ud658",transformTitle:"\uc120\ud0dd\ud55c ${type}\uc758 \ud558\uc704 \uc694\uc18c\ub97c \ud544\ud130\ud558\uac70\ub098 \uc815\ub82c \ub610\ub294 \ubcc0\ud658\ud569\ub2c8\ub2e4.",transformTitleShort:"\ub0b4\uc6a9\uc744 \ud544\ud130\ud558\uac70\ub098 \uc815\ub82c \ub610\ub294 \ubcc0\ud658\ud569\ub2c8\ub2e4.",extract:"\ucd94\ucd9c",extractTitle:"\uc120\ud0dd\ud55c ${type}\uc758 \uac12\uc744 \ucd5c\uc0c1\uc704\uc5d0 \uc704\uce58\uc2dc\ud0b5\ub2c8\ub2e4.",transformQueryTitle:"JMESPath \ucffc\ub9ac\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",transformWizardLabel:"\ub9c8\ubc95\uc0ac",transformWizardFilter:"\ud544\ud130",transformWizardSortBy:"\uc815\ub82c",transformWizardSelectFields:"\uc694\uc18c\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.",transformQueryLabel:"\ucffc\ub9ac",transformPreviewLabel:"\ubbf8\ub9ac\ubcf4\uae30",type:"\uc720\ud615",typeTitle:"\uc120\ud0dd\ud55c \uc694\uc18c\uc758 \uc720\ud615\uc744 \ubcc0\uacbd\ud569\ub2c8\ub2e4.",openUrl:"Ctrl + Click \ub610\ub294 Ctrl + Enter\ub85c \uc0c8 \ucc3d\uc5d0\uc11c URL \uc5f4\uae30",undo:"\uc2e4\ud589 \ucde8\uc18c (Ctrl + Z)",validationCannotMove:"\ud558\uc704 \uc694\uc18c\ub85c \uc774\ub3d9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",autoType:"\uc790\ub3d9: \uc694\uc18c\uc758 \ud615\uc2dd\uc774 \uac12\uc758 \uc720\ud615\uc73c\ub85c \uacb0\uc815\ub429\ub2c8\ub2e4. \ubb38\uc790, \uc22b\uc790, \ubd80\uc6b8, \ub610\ub294 null\ub9cc \ud5c8\uc6a9\ub429\ub2c8\ub2e4.",objectType:"\uac1d\uccb4: \uc21c\uc11c\ub300\ub85c \ub098\uc5f4\ub418\uc9c0 \uc54a\uc740 \uc774\ub984/\uac12 \uc30d\uc73c\ub85c \uc774\ub8e8\uc5b4\uc9c4 \uc9d1\ud569\uc785\ub2c8\ub2e4.",arrayType:"\ubc30\uc5f4: \uc21c\uc11c\ub300\ub85c \ub098\uc5f4\ub41c \uac12\uc758 \uc9d1\ud569\uc785\ub2c8\ub2e4.",stringType:"\ubb38\uc790: \uc694\uc18c\uc758 \uc720\ud615\uc774 \uac12\uc5d0\uc11c \uacb0\uc815\ub418\uc9c0 \uc54a\uc9c0\ub9cc \ud56d\uc0c1 \ubb38\uc790\ub85c \ubc18\ud658\ub429\ub2c8\ub2e4.",modeEditorTitle:"\ud3b8\uc9d1\uae30 \uc720\ud615 \ubcc0\uacbd",modeCodeText:"\ucf54\ub4dc",modeCodeTitle:"\ud615\uc2dd \uad50\uc815\uc744 \ub3c4\uc640\uc8fc\ub294 \uae30\ub2a5\uc774 \ud3ec\ud568\ub41c \ubb38\uc790 \ud3b8\uc9d1\uae30",modeFormText:"\uc785\ub825 \uc591\uc2dd",modeFormTitle:"\uc815\ud574\uc9c4 \uc694\uc18c\uc5d0 \uac12\uc744 \uc785\ub825\ud558\ub294 \ud3b8\uc9d1\uae30",modeTextText:"\ubb38\uc790",modeTextTitle:"\ub2e8\uc21c \ubb38\uc790 \ud3b8\uc9d1\uae30",modeTreeText:"\ud2b8\ub9ac",modeTreeTitle:"\ud2b8\ub9ac \uad6c\uc870\ub85c \ud45c\uc2dc\ub418\ub294 \ud3b8\uc9d1\uae30",modeViewText:"\ubcf4\uae30",modeViewTitle:"\uc77d\uae30\uc804\uc6a9 \ud2b8\ub9ac \uad6c\uc870\ub85c JSON\uc744 \ud45c\uc2dc",modePreviewText:"\ubbf8\ub9ac\ubcf4\uae30",modePreviewTitle:"\uc77d\uae30\uc804\uc6a9 \ubb38\uc790\ub85c JSON\uc744 \ud45c\uc2dc",examples:"\uc608\uc81c",default:"\uae30\ubcf8\uac12",containsInvalidProperties:"\uc798\ubabb\ub41c \uc18d\uc131\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.",containsInvalidItems:"\uc798\ubabb\ub41c \ud56d\ubaa9\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4"}},$=Object.keys(ee),k="en",P="undefined"!=typeof navigator?navigator.language||navigator.userLanguage:void 0,E=$.find(function(_){return _===P})||k;function R(_){var m;_&&((m=$.find(function(D){return D===_}))?E=m:console.error("Language not found"))}function x(_){if(_)for(var m in _)!function(D){$.find(function(I){return I===D})||$.push(D),ee[D]=Object.assign({},ee.en,ee[D],_[D])}(m)}function A(_,m,D){var I=ee[D=D||E][_]||ee.en[_]||_;if(m)for(var T in m)I=I.replace("${"+T+"}",m[T]);return I}},6056:function(Z,ee,X){"use strict";X.d(ee,{J:function(){return E},r:function(){return P}}),ee=X(5156);var $=X.n(ee),k=X(9791);function P(R,D){var A,_=D.sort,m=D.filter,I=(D=D.projection,"");return m?(A="@"!==m.field?["0"].concat((0,k.parsePath)("."+m.field)):["0"],A="string"==typeof(0,k.get)(R,A)?m.value:(0,k.parseString)(m.value),I+="[? "+m.field+" "+m.relation+" `"+JSON.stringify(A)+"`]"):I+=Array.isArray(R)?"[*]":"@",_&&(I+="desc"===_.direction?" | reverse(sort_by(@, &"+_.field+"))":" | sort_by(@, &"+_.field+")"),D&&("]"!==I[I.length-1]&&(I+=" | [*]"),1===D.fields.length?I+="."+D.fields[0]:1<D.fields.length&&(I+=".{"+D.fields.map(function(T){var w=T.split(".");return w[w.length-1]+": "+T}).join(", ")+"}")),I}function E(R,x){return $().search(R,x)}},4987:function(){function Z(V){void 0===V||"remove"in V||Object.defineProperty(V,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){void 0!==this.parentNode&&this.parentNode.removeChild(this)}})}"undefined"!=typeof Element&&(void 0!==window.Element&&Z(window.Element.prototype),void 0!==window.CharacterData&&Z(window.CharacterData.prototype),void 0!==window.DocumentType)&&Z(window.DocumentType.prototype),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(V){for(var X=0;X<this.length;X++)if(V.call(this,this[X],X,this))return X;return-1},configurable:!0,writable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(V){return this[V=this.findIndex(V)]},configurable:!0,writable:!0}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})},341:function(Z,p,w){"use strict";w.r(p),w.d(p,{previewModeMixins:function(){return y}});var ee=w(1262),$=w(4188),k=w(6436),P=w(2474);function E(h){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(h)}function R(h,u){for(var l=0;l<u.length;l++){var d=u[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(h,(g=function(f,v){if("object"!==E(f)||null===f)return f;var C=f[Symbol.toPrimitive];if(void 0===C)return String(f);if("object"!==E(C=C.call(f,v)))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}(g=d.key,"string"),"symbol"===E(g)?g:String(g)),d)}var g}var x=function(){function h(g,f,v){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.onChange=g,this.calculateItemSize=f||function(){return 1},this.limit=v,this.items=[],this.index=-1}var u,l;return u=h,(l=[{key:"add",value:function(g){for(;this._calculateHistorySize()>this.limit&&1<this.items.length;)this.items.shift(),this.index--;this.items=this.items.slice(0,this.index+1),this.items.push(g),this.index++,this.onChange()}},{key:"_calculateHistorySize",value:function(){var g=this.calculateItemSize,f=0;return this.items.forEach(function(v){f+=g(v)}),f}},{key:"undo",value:function(){if(this.canUndo())return this.index--,this.onChange(),this.items[this.index]}},{key:"redo",value:function(){if(this.canRedo())return this.index++,this.onChange(),this.items[this.index]}},{key:"canUndo",value:function(){return 0<this.index}},{key:"canRedo",value:function(){return this.index<this.items.length-1}},{key:"clear",value:function(){this.items=[],this.index=-1,this.onChange()}}])&&R(u.prototype,l),Object.defineProperty(u,"prototype",{writable:!1}),h}(),A=w(7907),_=w(6056),m=w(6617),D=w(6210),I=w(2558),T=(p=w(8458),w(9791)),y=(w=p.textModeMixins[0].mixin,p={create:function(d){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=(void 0===u.statusBar&&(u.statusBar=!0),u.mainMenuBar=!1!==u.mainMenuBar,u.enableSort=!1!==u.enableSort,u.enableTransform=!1!==u.enableTransform,u.createQuery=u.createQuery||_.r,u.executeQuery=u.executeQuery||_.J,this.indentation="number"==typeof(this.options=u).indentation?Number(u.indentation):2,(0,A.cC)(this.options.languages),(0,A.m0)(this.options.language),this.mode="preview",this);this.container=d,this.dom={},this.json=void 0,this.text="",this._debouncedValidate=(0,T.debounce)(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=d.clientWidth,this.height=d.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-preview",this.frame.onclick=function(g){g.preventDefault()},this.frameFocusTracker=new P.R(d={target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null}),this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.dom.busy=document.createElement("div"),this.dom.busy.className="jsoneditor-busy",this.dom.busyContent=document.createElement("span"),this.dom.busyContent.textContent="busy...",this.dom.busy.appendChild(this.dom.busyContent),this.content.appendChild(this.dom.busy),this.dom.previewContent=document.createElement("pre"),this.dom.previewContent.className="jsoneditor-preview",this.dom.previewText=document.createTextNode(""),this.dom.previewContent.appendChild(this.dom.previewText),this.content.appendChild(this.dom.previewContent),this.options.mainMenuBar&&((0,T.addClassName)(this.content,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),(d=document.createElement("button")).type="button",d.className="jsoneditor-format",d.title=(0,A.Iu)("formatTitle"),this.menu.appendChild(d),d.onclick=function(){l.executeWithBusyMessage(function(){try{l.format()}catch(g){l._onError(g)}},"formatting...")},(d=document.createElement("button")).type="button",d.className="jsoneditor-compact",d.title=(0,A.Iu)("compactTitle"),this.menu.appendChild(d),d.onclick=function(){l.executeWithBusyMessage(function(){try{l.compact()}catch(g){l._onError(g)}},"compacting...")},this.options.enableSort&&((d=document.createElement("button")).type="button",d.className="jsoneditor-sort",d.title=(0,A.Iu)("sortTitleShort"),d.onclick=function(){l._showSortModal()},this.menu.appendChild(d)),this.options.enableTransform&&((d=document.createElement("button")).type="button",d.title=(0,A.Iu)("transformTitleShort"),d.className="jsoneditor-transform",d.onclick=function(){l._showTransformModal()},this.dom.transform=d,this.menu.appendChild(d)),(d=document.createElement("button")).type="button",d.className="jsoneditor-repair",d.title=(0,A.Iu)("repairTitle"),this.menu.appendChild(d),!(d.onclick=function(){void 0===l.json&&l.executeWithBusyMessage(function(){try{l.repair()}catch(g){l._onError(g)}},"repairing...")})!==this.options.history&&(this.history=new x(function(){l.dom.undo.disabled=!l.history.canUndo(),l.dom.redo.disabled=!l.history.canRedo()},function(g){return 2*g.text.length},$.oW),(d=document.createElement("button")).type="button",d.className="jsoneditor-undo jsoneditor-separator",d.title=(0,A.Iu)("undo"),d.onclick=function(){var g=l.history.undo();g&&l._applyHistory(g)},this.menu.appendChild(d),this.dom.undo=d,(d=document.createElement("button")).type="button",d.className="jsoneditor-redo",d.title=(0,A.Iu)("redo"),d.onclick=function(){var g=l.history.redo();g&&l._applyHistory(g)},this.menu.appendChild(d),this.dom.redo=d,this.history.onChange()),this.options)&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new m.x(this.menu,this.options.modes,this.options.mode,function(g){try{l.setMode(g),l.modeSwitcher.focus()}catch(f){l._onError(f)}})),d=Array.isArray(this.options.showErrorTable)?this.options.showErrorTable.includes(this.mode):!0===this.options.showErrorTable,this.errorTable=new k.Q({errorTableVisible:d,onToggleVisibility:function(){l.validate()},onFocusLine:null,onChangeHeight:function(g){l.content.style.marginBottom=-(g=g+(l.dom.statusBar?l.dom.statusBar.clientHeight:0)+1)+"px",l.content.style.paddingBottom=g+"px"}}),this.frame.appendChild(this.content),this.frame.appendChild(this.errorTable.getErrorTable()),this.container.appendChild(this.frame),u.statusBar&&((0,T.addClassName)(this.content,"has-status-bar"),d=document.createElement("div"),(this.dom.statusBar=d).className="jsoneditor-statusbar",this.frame.appendChild(d),this.dom.fileSizeInfo=document.createElement("span"),this.dom.fileSizeInfo.className="jsoneditor-size-info",this.dom.fileSizeInfo.innerText="",d.appendChild(this.dom.fileSizeInfo),this.dom.arrayInfo=document.createElement("span"),this.dom.arrayInfo.className="jsoneditor-size-info",this.dom.arrayInfo.innerText="",d.appendChild(this.dom.arrayInfo),d.appendChild(this.errorTable.getErrorCounter()),d.appendChild(this.errorTable.getWarningIcon()),d.appendChild(this.errorTable.getErrorIcon())),this._renderPreview(),this.setSchema(this.options.schema,this.options.schemaRefs)},_renderPreview:function(){var h=this.getText();this.dom.previewText.nodeValue=(0,T.limitCharacters)(h,$.WF),this.dom.fileSizeInfo&&(this.dom.fileSizeInfo.innerText="Size: "+(0,T.formatSize)(h.length)),this.dom.arrayInfo&&(this.dom.arrayInfo.innerText=Array.isArray(this.json)?"Array: "+this.json.length+" items":"")},_onChange:function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(h){console.error("Error in onChange callback: ",h)}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get())}catch(h){console.error("Error in onChangeJSON callback: ",h)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(h){console.error("Error in onChangeText callback: ",h)}}},p._showSortModal=function(){var h=this;this.executeWithBusyMessage(function(){var u=h.options.modalAnchor||$.qD,l=h.get();h._renderPreview(),(0,D.showSortModal)(u,l,function(d){h.executeWithBusyMessage(function(){var g,f,v;g=l,f=d,Array.isArray(g)&&(v=(0,T.sort)(g,f.path,f.direction),h.sortedBy=f,h._setAndFireOnChange(v)),(0,T.isObject)(g)&&(v=(0,T.sortObjectKeys)(g,f.direction),h.sortedBy=f,h._setAndFireOnChange(v))},"sorting...")},h.sortedBy)},"parsing...")},p._showTransformModal=function(){var h=this;this.executeWithBusyMessage(function(){var u=(g=h.options).createQuery,l=g.executeQuery,d=g.modalAnchor,g=g.queryDescription,f=h.get();h._renderPreview(),(0,I.showTransformModal)({container:d||$.qD,json:f,queryDescription:g,createQuery:u,executeQuery:l,onTransform:function(v){h.executeWithBusyMessage(function(){var C=l(f,v);h._setAndFireOnChange(C)},"transforming...")}})},"parsing...")},p.destroy=function(){this.frame&&this.container&&this.frame.parentNode===this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this._debouncedValidate=null,this.history&&(this.history.clear(),this.history=null),this.frameFocusTracker.destroy()},p.compact=function(){var h=this.get(),u=JSON.stringify(h);this._setTextAndFireOnChange(u,h)},p.format=function(){var h=this.get(),u=JSON.stringify(h,null,this.indentation);this._setTextAndFireOnChange(u,h)},p.repair=function(){var h=this.getText();try{var u=(0,ee.K)(h);this._setTextAndFireOnChange(u)}catch(l){}},p.focus=function(){this.dom.transform.focus()},p.set=function(h){this.history&&this.history.clear(),this._set(h)},p.update=function(h){this._set(h)},p._set=function(h){this.text=void 0,this.json=h,this._renderPreview(),this._pushHistory(),this._debouncedValidate()},p._setAndFireOnChange=function(h){this._set(h),this._onChange()},p.get=function(){var h;return void 0===this.json&&(h=this.getText(),this.json=(0,T.parse)(h)),this.json},p.getText=function(){return void 0===this.text&&(this.text=JSON.stringify(this.json,null,this.indentation),!0===this.options.escapeUnicode)&&(this.text=(0,T.escapeUnicodeChars)(this.text)),this.text},p.setText=function(h){this.history&&this.history.clear(),this._setText(h)},p.updateText=function(h){this.getText()!==h&&this._setText(h)},p._setText=function(h,u){var l;this.text=!0===this.options.escapeUnicode?(0,T.escapeUnicodeChars)(h):h,this.json=u,this._renderPreview(),void 0===this.json?(l=this).executeWithBusyMessage(function(){try{l.json=l.get(),l._renderPreview(),l._pushHistory()}catch(d){}},"parsing..."):this._pushHistory(),this._debouncedValidate()},p._setTextAndFireOnChange=function(h,u){this._setText(h,u),this._onChange()},p._applyHistory=function(h){this.json=h.json,this.text=h.text,this._renderPreview(),this._debouncedValidate()},p._pushHistory=function(){this.history&&this.history.add({text:this.text,json:this.json})},p.executeWithBusyMessage=function(h,u){var l;this.getText().length>$.EX?((0,T.addClassName)((l=this).frame,"busy"),l.dom.busyContent.innerText=u,setTimeout(function(){h(),(0,T.removeClassName)(l.frame,"busy"),l.dom.busyContent.innerText=""},100)):h()},p.validate=w.validate,p._renderErrors=w._renderErrors,[{mode:"preview",mixin:p,data:"json"}])},6210:function(Z,ee,X){"use strict";X.r(ee),X.d(ee,{showSortModal:function(){return E}}),ee=X(483);var $=X.n(ee),k=X(7907),P=X(9791);function E(R,T,A,_){var m=Array.isArray(T)?(0,P.getChildPaths)(T):[""],D=_&&_.path&&(0,P.contains)(m,_.path)?_.path:m[0],I=_&&_.direction||"asc";T='<div class="pico-modal-contents"><div class="pico-modal-header">'+(0,k.Iu)("sort")+"</div><form><table><tbody><tr>  <td>"+(0,k.Iu)("sortFieldLabel")+' </td>  <td class="jsoneditor-modal-input">  <div class="jsoneditor-select-wrapper">    <select id="field" title="'+(0,k.Iu)("sortFieldTitle")+'">    </select>  </div>  </td></tr><tr>  <td>'+(0,k.Iu)("sortDirectionLabel")+' </td>  <td class="jsoneditor-modal-input">  <div id="direction" class="jsoneditor-button-group"><input type="button" value="'+(0,k.Iu)("sortAscending")+'" title="'+(0,k.Iu)("sortAscendingTitle")+'" data-value="asc" class="jsoneditor-button-first jsoneditor-button-asc"/><input type="button" value="'+(0,k.Iu)("sortDescending")+'" title="'+(0,k.Iu)("sortDescendingTitle")+'" data-value="desc" class="jsoneditor-button-last jsoneditor-button-desc"/>  </div>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+(0,k.Iu)("ok")+'" /></td></tr></tbody></table></form></div>',$()({parent:R,content:T,overlayClass:"jsoneditor-modal-overlay",overlayStyles:{backgroundColor:"rgb(1,1,1)",opacity:.3},modalClass:"jsoneditor-modal jsoneditor-modal-sort"}).afterCreate(function(w){var p=w.modalElem().querySelector("form"),y=w.modalElem().querySelector("#ok"),h=w.modalElem().querySelector("#field"),u=w.modalElem().querySelector("#direction");function l(d){u.value=d,u.className="jsoneditor-button-group jsoneditor-button-group-value-"+u.value}m.forEach(function(d){var g,f=document.createElement("option");f.text=""===(g=d)?"@":"."===g[0]?g.slice(1):g,f.value=d,h.appendChild(f)}),h.value=D||m[0],l(I||"asc"),u.onclick=function(d){l(d.target.getAttribute("data-value"))},y.onclick=function(d){d.preventDefault(),d.stopPropagation(),w.close(),A({path:h.value,direction:u.value})},p&&(p.onsubmit=y.onclick)}).afterClose(function(w){w.destroy()}).show()}},2558:function(Z,$,X){"use strict";X.r($),X.d($,{showTransformModal:function(){return D}}),$=X(483);var ee=X.n($),k=($=X(3879),X.n($)),P=X(7907);function E(I){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(I)}function R(I,T,w,p){if("boolean"==typeof I||I instanceof Boolean||null===I||"number"==typeof I||I instanceof Number||"string"==typeof I||I instanceof String||I instanceof Date)return JSON.stringify(I);if(Array.isArray(I)){for(var y=I,h=T,u=w,l=p,d=h?u+h:void 0,g=h?"[\n":"[",f=0;f<y.length;f++){var v=y[f];if(h&&(g+=d),g+=void 0!==v&&"function"!=typeof v?R(v,h,d,l):"null",f<y.length-1&&(g+=h?",\n":","),g.length>l)return g+"..."}return g+(h?"\n"+u+"]":"]")}if(I&&"object"===E(I)){var C,S=I,O=T,N=(u=w,p),z=O?u+O:void 0,K=!0,Q=O?"{\n":"{";if("function"==typeof S.toJSON)return R(S.toJSON(),O,u,N);for(C in S)if(Object.prototype.hasOwnProperty.call(S,C)&&(K?K=!1:Q+=O?",\n":",",(Q=(Q+=O?z+'"'+C+'": ':'"'+C+'":')+R(S[C],O,z,N)).length>N))return Q+"...";return Q+(O?"\n"+u+"}":"}")}}function x(I,T){for(var w="";0<T--;)w+=I;return w}var A=X(9791),_=X(4188);function D(d){var T=d.container,w=d.json,p=void 0===(p=d.queryDescription)?'Enter a <a href="http://jmespath.org" target="_blank">JMESPath</a> query to filter, sort, or transform the JSON data.<br/>To learn JMESPath, go to <a href="http://jmespath.org/tutorial.html" target="_blank">the interactive tutorial</a>.':p,y=d.createQuery,h=d.executeQuery,u=d.onTransform,l=w;d='<label class="pico-modal-contents"><div class="pico-modal-header">'+(0,P.Iu)("transform")+"</div><p>"+p+'</p><div class="jsoneditor-jmespath-label">'+(0,P.Iu)("transformWizardLabel")+' </div><div id="wizard" class="jsoneditor-jmespath-block jsoneditor-jmespath-wizard">  <table class="jsoneditor-jmespath-wizard-table">    <tbody>      <tr>        <th>'+(0,P.Iu)("transformWizardFilter")+'</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-filter-field" >            <select id="filterField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-relation" >            <select id="filterRelation">              <option value="==">==</option>              <option value="!=">!=</option>              <option value="<">&lt;</option>              <option value="<=">&lt;=</option>              <option value=">">&gt;</option>              <option value=">=">&gt;=</option>            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-value" >            <input type="text" class="value" placeholder="value..." id="filterValue" />          </div>        </td>      </tr>      <tr>        <th>'+(0,P.Iu)("transformWizardSortBy")+'</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-sort-field">            <select id="sortField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-sort-order" >            <select id="sortOrder">              <option value="asc">Ascending</option>              <option value="desc">Descending</option>            </select>          </div>        </td>      </tr>      <tr id="selectFieldsPart">        <th>'+(0,P.Iu)("transformWizardSelectFields")+'</th>        <td class="jsoneditor-jmespath-filter">          <select class="jsoneditor-jmespath-select-fields" id="selectFields" multiple></select>        </td>      </tr>    </tbody>  </table></div><div class="jsoneditor-jmespath-label">'+(0,P.Iu)("transformQueryLabel")+' </div><div class="jsoneditor-jmespath-block">  <textarea id="query"             rows="4"             autocomplete="off"             autocorrect="off"             autocapitalize="off"             spellcheck="false"            title="'+(0,P.Iu)("transformQueryTitle")+'">[*]</textarea></div><div class="jsoneditor-jmespath-label">'+(0,P.Iu)("transformPreviewLabel")+' </div><div class="jsoneditor-jmespath-block">  <textarea id="preview"       class="jsoneditor-transform-preview"      readonly> </textarea></div><div class="jsoneditor-jmespath-block jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+(0,P.Iu)("ok")+'" autofocus /></div></div>',ee()({parent:T,content:d,overlayClass:"jsoneditor-modal-overlay",overlayStyles:{backgroundColor:"rgb(1,1,1)",opacity:.3},modalClass:"jsoneditor-modal jsoneditor-modal-transform",focus:!1}).afterCreate(function(g){var f=g.modalElem(),oe=f.querySelector("#wizard"),v=f.querySelector("#ok"),C=f.querySelector("#filterField"),S=f.querySelector("#filterRelation"),O=f.querySelector("#filterValue"),N=f.querySelector("#sortField"),z=f.querySelector("#sortOrder"),K=f.querySelector("#selectFields"),Q=f.querySelector("#query"),ue=f.querySelector("#preview");Array.isArray(l)||(oe.style.fontStyle="italic",oe.textContent="(wizard not available for objects, only for arrays)"),(0,A.getChildPaths)(w).forEach(function(ke){var xe;ke=W(ke),((xe=document.createElement("option")).text=ke,xe.value=ke,C.appendChild(xe),xe=document.createElement("option")).text=ke,xe.value=ke,N.appendChild(xe)}),0<(oe=(0,A.getChildPaths)(w,!0).filter(function(Ae){return""!==Ae})).length?oe.forEach(function(ke){ke=W(ke);var xe=document.createElement("option");xe.text=ke,xe.value=ke,K.appendChild(xe)}):(oe=f.querySelector("#selectFieldsPart"))&&(oe.style.display="none"),oe=new(k())(C,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."});var pe=new(k())(S,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"compare..."}),F=new(k())(N,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),U=new(k())(z,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"order..."}),Y=new(k())(K,{multiple:!0,clearable:!0,defaultSelected:!1,placeholder:"select fields..."});function W(Ae){return""===Ae?"@":"."===Ae[0]?Ae.slice(1):Ae}oe.on("selectr.change",he),pe.on("selectr.change",he),O.oninput=he,F.on("selectr.change",he),U.on("selectr.change",he),Y.on("selectr.change",he),f.querySelector(".pico-modal-contents").onclick=function(Ae){"A"!==Ae.target.nodeName&&Ae.preventDefault()};var ne=(0,A.debounce)(function(){try{var Ae=h(l,Q.value);ue.className="jsoneditor-transform-preview",ue.value=(ke=Ae,Ee=_.WF,"number"==typeof(xe=2)?10<xe?ie=x(" ",10):1<=xe&&(ie=x(" ",xe)):"string"==typeof xe&&""!==xe&&(ie=xe),(xe=R(ke,ie,"",Ee)).length>Ee?(ke=xe,("number"==typeof(ie=Ee)?ke.slice(0,ie):ke)+"..."):xe),v.disabled=!1}catch(de){ue.className="jsoneditor-transform-preview jsoneditor-error",ue.value=de.toString(),v.disabled=!0}var ke,xe,Ee,ie},300);function fe(Ae,ke){try{Q.value=y(Ae,ke),v.disabled=!1,ne()}catch(xe){Ae='Error: an error happened when executing "createQuery": '+(xe.message||xe.toString()),Q.value="",v.disabled=!0,ue.className="jsoneditor-transform-preview jsoneditor-error",ue.value=Ae}}function he(){var Ae={};if(C.value&&S.value&&O.value&&(Ae.filter={field:C.value,relation:S.value,value:O.value}),N.value&&z.value&&(Ae.sort={field:N.value,direction:z.value}),K.value){for(var xe=[],Ee=0;Ee<K.options.length;Ee++)K.options[Ee].selected&&xe.push(K.options[Ee].value);Ae.projection={fields:xe}}fe(w,Ae)}Q.oninput=ne,v.onclick=function(Ae){Ae.preventDefault(),Ae.stopPropagation(),g.close(),u(Q.value)},fe(w,{}),setTimeout(function(){Q.select(),Q.focus(),Q.selectionStart=3,Q.selectionEnd=3})}).afterClose(function(g){g.destroy()}).show()}},8458:function(Z,u,X){"use strict";X.r(u),X.d(u,{textModeMixins:function(){return g}});var ee=X(1262),$=(u=X(8170),X.n(u)),k=X(4188),P=X(6436),E=X(2474),R=X(7907),x=X(6056),A=X(6617),_=X(6210),m=X(2558),D=X(9125),I=X(7026),T=X(9791);function w(f){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(f)}function p(f,v){for(var C=0;C<v.length;C++){var S=v[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,(O=function(N,z){if("object"!==w(N)||null===N)return N;var K=N[Symbol.toPrimitive];if(void 0===K)return String(N);if("object"!==w(K=K.call(N,z)))return K;throw new TypeError("@@toPrimitive must return a primitive value.")}(O=S.key,"string"),"symbol"===w(O)?O:String(O)),S)}var O}var y=function(){function f(O,N){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.schema=O,this.schemaRefs=N||{},this.suggestions={},this.suggestionsRefs={},this._buildSuggestions()}var v,C;return v=f,(C=[{key:"_buildSuggestions",value:function(){for(var O in this._handleSchemaEntry("",this.schema,this.suggestions),this.schemaRefs)this.suggestionsRefs[O]={},this._handleSchemaEntry("",this.schemaRefs[O],this.suggestionsRefs[O])}},{key:"_handleRef",value:function(O,N,z){z[O]=z[O]||{},z[O].refs=z[O].refs||[],z[O].refs=(0,T.uniqueMergeArrays)(z[O].refs,[N])}},{key:"_handleSchemaEntry",value:function(O,N,z){if(N)if(N.$ref)this._handleRef(O,N.$ref,z);else{var K=this._checkOfConditon(N);if(K)this._handleOfCondition(O,N[K],z);else switch(N.type){case"object":this._handleObject(O,N,z);break;case"string":case"number":case"integer":this._handlePrimitive(O,N,z);break;case"boolean":this._handleBoolean(O,N,z);break;case"array":this._handleArray(O,N,z)}}else console.error("SchemaTextCompleter: schema node is missing for path",O)}},{key:"_handleObject",value:function(O,N,z){var K,Q=this;(0,T.isObject)(N.properties)&&(K=Object.keys(N.properties),z[O]=z[O]||{},z[O].props=z[O].props||[],z[O].props=(0,T.uniqueMergeArrays)(z[O].props,K),K.forEach(function(ue){(0,T.asyncExec)(function(){Q._handleSchemaEntry("".concat(O,"/").concat(ue),N.properties[ue],z)})}))}},{key:"_handlePrimitive",value:function(O,N,z){z[O]=z[O]||{},(0,T.isArray)(N.examples)&&(z[O].examples=z[O].examples||[],z[O].examples=(0,T.uniqueMergeArrays)(z[O].examples,N.examples)),(0,T.isArray)(N.enum)&&(z[O].enum=z[O].enum||[],z[O].enum=(0,T.uniqueMergeArrays)(z[O].enum,N.enum))}},{key:"_handleBoolean",value:function(O,N,z){z[O]||(z[O]={bool:[!0,!1]})}},{key:"_handleArray",value:function(O,N,z){var K=this;N.items&&(0,T.asyncExec)(function(){K._handleSchemaEntry("".concat(O,"/\\d+"),N.items,z)})}},{key:"_handleOfCondition",value:function(O,N,z){var K=this;N&&N.length&&N.forEach(function(Q){(0,T.asyncExec)(function(){K._handleSchemaEntry(O,Q,z)})})}},{key:"_checkOfConditon",value:function(O){if(O)return O.oneOf?"oneOf":O.anyOf?"anyOf":O.allOf?"allOf":void 0}},{key:"getCompletions",value:function(O,N,z,K,Q){var ue=this;try{var oe=I.parse(N.getValue()).pointers||{};Object.keys(oe).forEach(function(F){(0,T.asyncExec)(function(){var Y,W;(null==(W=oe[F].key)?void 0:W.line)===z.row&&z.column>=oe[F].key.column&&z.column<=oe[F].keyEnd.column&&(Y=F.slice(0,F.lastIndexOf("/"))),(Y=(null==(W=oe[F].value)?void 0:W.line)===z.row&&(null==(W=oe[F].value)?void 0:W.line)===(null==(W=oe[F].valueEnd)?void 0:W.line)&&z.column>=oe[F].value.column&&z.column<=oe[F].valueEnd.column?F:Y)&&(W=function U(ne,fe,he){var Ae,ke=Object.keys(fe).reduce(function(de,me){return new RegExp("^".concat(he).concat(me)).test(ne)&&(!de||de.length<me.length)?me:de});if("string"==typeof ke){if(null!=(Ae=fe[ke])&&null!=(Ae=Ae.refs)&&Ae.length){var xe,Ee={};for(xe in fe[ke].refs){var ie=fe[ke].refs[xe];ue.suggestionsRefs[ie]&&(null!=(ie=U(ne,ue.suggestionsRefs[ie],"".concat(he).concat(ke)))&&ie.enum&&(Ee.enum=(0,T.uniqueMergeArrays)(Ee.enum,ie.enum)),null!=ie&&ie.examples&&(Ee.examples=(0,T.uniqueMergeArrays)(Ee.examples,ie.examples)),null!=ie&&ie.bool&&(Ee.bool=(0,T.uniqueMergeArrays)(Ee.bool,ie.bool)),null!=ie)&&ie.props&&(Ee.props=(0,T.uniqueMergeArrays)(Ee.props,ie.props))}return Ee}if(new RegExp("^".concat(he).concat(ke,"$")).test(ne))return fe[ke]}}(Y,ue.suggestions,""),function(F){function U(ne){var fe,he={props:"property",enum:"enum",bool:"boolean",examples:"examples"};F&&null!=(fe=F[ne])&&fe.length&&(Y=Y.concat(F[ne].map(function(Ae){return{caption:Ae+"",meta:"schema [".concat(he[ne],"]"),score:W++,value:Ae+""}})))}var Y=[],W=0;U("props"),U("enum"),U("bool"),U("examples"),Y.length&&Q(null,Y)}(W))})})}catch(F){}}}])&&p(v.prototype,C),Object.defineProperty(v,"prototype",{writable:!1}),f}();function h(f){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(f)}var l="ace/theme/jsoneditor";function d(){try{this.format()}catch(f){}}(u={}).create=function(K){var v,C,S,O=this,N=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Q=(void 0===N.statusBar&&(N.statusBar=!0),N.mainMenuBar=!1!==N.mainMenuBar,N.enableSort=!1!==N.enableSort,N.enableTransform=!1!==N.enableTransform,N.createQuery=N.createQuery||x.r,N.executeQuery=N.executeQuery||x.J,N.showErrorTable=void 0!==N.showErrorTable?N.showErrorTable:["text","preview"],this.indentation="number"==typeof(this.options=N).indentation?Number(N.indentation):2,(0,R.cC)(this.options.languages),(0,R.m0)(this.options.language),N.ace||$()),z=(this.mode="code"===N.mode?"code":"text","code"===this.mode&&void 0===Q&&(this.mode="text",console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")),this.theme=N.theme||l,this.theme===l&&Q&&(0,D.O)(),N.onTextSelectionChange&&this.onTextSelectionChange(N.onTextSelectionChange),this);this.container=K,this.dom={},this.aceEditor=void 0,this.textarea=void 0,this.validateSchema=null,this.annotations=[],this.lastSchemaErrors=void 0,this._debouncedValidate=(0,T.debounce)(this._validateAndCatch.bind(this),this.DEBOUNCE_INTERVAL),this.width=K.clientWidth,this.height=K.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.frame.onclick=function(ue){ue.preventDefault()},this.frame.onkeydown=function(ue){z._onKeyDown(ue)},this.frameFocusTracker=new E.R(K={target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null}),this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.options.mainMenuBar&&((0,T.addClassName)(this.content,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),(K=document.createElement("button")).type="button",K.className="jsoneditor-format",K.title=(0,R.Iu)("formatTitle"),this.menu.appendChild(K),K.onclick=function(){try{z.format(),z._onChange()}catch(ue){z._onError(ue)}},(K=document.createElement("button")).type="button",K.className="jsoneditor-compact",K.title=(0,R.Iu)("compactTitle"),this.menu.appendChild(K),K.onclick=function(){try{z.compact(),z._onChange()}catch(ue){z._onError(ue)}},this.options.enableSort&&((K=document.createElement("button")).type="button",K.className="jsoneditor-sort",K.title=(0,R.Iu)("sortTitleShort"),K.onclick=function(){z._showSortModal()},this.menu.appendChild(K)),this.options.enableTransform&&((K=document.createElement("button")).type="button",K.title=(0,R.Iu)("transformTitleShort"),K.className="jsoneditor-transform",K.onclick=function(){z._showTransformModal()},this.menu.appendChild(K)),(K=document.createElement("button")).type="button",K.className="jsoneditor-repair",K.title=(0,R.Iu)("repairTitle"),this.menu.appendChild(K),K.onclick=function(){try{z.repair(),z._onChange()}catch(ue){z._onError(ue)}},"code"===this.mode&&((K=document.createElement("button")).type="button",K.className="jsoneditor-undo jsoneditor-separator",K.title=(0,R.Iu)("undo"),K.onclick=function(){O.aceEditor.getSession().getUndoManager().undo()},this.menu.appendChild(K),this.dom.undo=K,(K=document.createElement("button")).type="button",K.className="jsoneditor-redo",K.title=(0,R.Iu)("redo"),K.onclick=function(){O.aceEditor.getSession().getUndoManager().redo()},this.menu.appendChild(K),this.dom.redo=K),this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new A.x(this.menu,this.options.modes,this.options.mode,function(ue){try{z.setMode(ue),z.modeSwitcher.focus()}catch(oe){z._onError(oe)}})),"code"===this.mode)&&((v=document.createElement("a")).appendChild(document.createTextNode("powered by ace")),v.href="https://ace.c9.io/",v.target="_blank",v.className="jsoneditor-poweredBy",v.onclick=function(){window.open(v.href,v.target,"noreferrer")},this.menu.appendChild(v)),K=this.options.onEditable&&h("function"===this.options.onEditable)&&!this.options.onEditable({}),this.frame.appendChild(this.content),this.container.appendChild(this.frame),"code"===this.mode?(this.editorDom=document.createElement("div"),this.editorDom.style.height="100%",this.editorDom.style.width="100%",this.content.appendChild(this.editorDom),S=(Q=Q.edit(this.editorDom)).getSession(),Q.$blockScrolling=1/0,Q.setTheme(this.theme),Q.setOptions({readOnly:K}),Q.setShowPrintMargin(!1),Q.setFontSize("14px"),S.setMode("ace/mode/json"),S.setTabSize(this.indentation),S.setUseSoftTabs(!0),S.setUseWrapMode(!0),C=S.setAnnotations,S.setAnnotations=function(ue){C.call(this,ue&&ue.length?ue:z.annotations)},Q.commands.bindKey("Ctrl-L",null),Q.commands.bindKey("Command-L",null),Q.commands.bindKey("Ctrl-\\",null),Q.commands.bindKey("Command-\\",null),Q.commands.bindKey("Ctrl-Shift-\\",null),Q.commands.bindKey("Command-Shift-\\",null),(this.aceEditor=Q).on("change",this._onChange.bind(this)),Q.on("changeSelection",this._onSelect.bind(this))):((S=document.createElement("textarea")).className="jsoneditor-text",S.spellcheck=!1,this.content.appendChild(S),this.textarea=S,this.textarea.readOnly=K,null===this.textarea.oninput?this.textarea.oninput=this._onChange.bind(this):this.textarea.onchange=this._onChange.bind(this),S.onselect=this._onSelect.bind(this),S.onmousedown=this._onMouseDown.bind(this),S.onblur=this._onBlur.bind(this)),this._updateHistoryButtons(),Q=Array.isArray(this.options.showErrorTable)?this.options.showErrorTable.includes(this.mode):!0===this.options.showErrorTable,this.errorTable=new P.Q({errorTableVisible:Q,onToggleVisibility:function(){z._validateAndCatch()},onFocusLine:function(ue){z.isFocused=!0,isNaN(ue)||z.setTextSelection({row:ue,column:1},{row:ue,column:1e3})},onChangeHeight:function(ue){z.content.style.marginBottom=-(ue=ue+(z.dom.statusBar?z.dom.statusBar.clientHeight:0)+1)+"px",z.content.style.paddingBottom=ue+"px"}}),this.frame.appendChild(this.errorTable.getErrorTable()),N.statusBar&&((0,T.addClassName)(this.content,"has-status-bar"),this.curserInfoElements={},K=document.createElement("div"),(this.dom.statusBar=K).className="jsoneditor-statusbar",this.frame.appendChild(K),(S=document.createElement("span")).className="jsoneditor-curserinfo-label",S.innerText="Ln:",(Q=document.createElement("span")).className="jsoneditor-curserinfo-val",Q.innerText="1",K.appendChild(S),K.appendChild(Q),(N=document.createElement("span")).className="jsoneditor-curserinfo-label",N.innerText="Col:",(S=document.createElement("span")).className="jsoneditor-curserinfo-val",S.innerText="1",K.appendChild(N),K.appendChild(S),this.curserInfoElements.colVal=S,this.curserInfoElements.lnVal=Q,(N=document.createElement("span")).className="jsoneditor-curserinfo-label",N.innerText="characters selected",N.style.display="none",(S=document.createElement("span")).className="jsoneditor-curserinfo-count",S.innerText="0",S.style.display="none",this.curserInfoElements.countLabel=N,this.curserInfoElements.countVal=S,K.appendChild(S),K.appendChild(N),K.appendChild(this.errorTable.getErrorCounter()),K.appendChild(this.errorTable.getWarningIcon()),K.appendChild(this.errorTable.getErrorIcon())),this.setSchema(this.options.schema,this.options.schemaRefs)},u._onSchemaChange=function(f,v){this.aceEditor&&(this.options.allowSchemaSuggestions&&f?(this.aceEditor.setOption("enableBasicAutocompletion",[new y(f,v)]),this.aceEditor.setOption("enableLiveAutocompletion",!0)):(this.aceEditor.setOption("enableBasicAutocompletion",void 0),this.aceEditor.setOption("enableLiveAutocompletion",!1)))},u._onChange=function(){var f=this;if(!this.onChangeDisabled){if(setTimeout(function(){f._updateHistoryButtons&&f._updateHistoryButtons()}),this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(v){console.error("Error in onChange callback: ",v)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(v){console.error("Error in onChangeText callback: ",v)}}},u._updateHistoryButtons=function(){var f;this.aceEditor&&this.dom.undo&&this.dom.redo&&(f=this.aceEditor.getSession().getUndoManager())&&f.hasUndo&&f.hasRedo&&(this.dom.undo.disabled=!f.hasUndo(),this.dom.redo.disabled=!f.hasRedo())},u._showSortModal=function(){try{var f=this,v=this.options.modalAnchor||k.qD,C=this.get();(0,_.showSortModal)(v,C,function(S){var O;Array.isArray(C)&&(O=(0,T.sort)(C,S.path,S.direction),f.sortedBy=S,f.update(O)),(0,T.isObject)(C)&&(O=(0,T.sortObjectKeys)(C,S.direction),f.sortedBy=S,f.update(O))},f.sortedBy)}catch(S){this._onError(S)}},u._showTransformModal=function(){var f=this;try{var v=this.options,C=v.modalAnchor,S=v.createQuery,O=v.executeQuery,N=v.queryDescription,z=this.get();(0,m.showTransformModal)({container:C||k.qD,json:z,queryDescription:N,createQuery:S,executeQuery:O,onTransform:function(K){K=O(z,K),f.update(K)}})}catch(K){this._onError(K)}},u._onSelect=function(){this._updateCursorInfo(),this._emitSelectionChange()},u._onKeyDown=function(f){var v=!1;73===(f.which||f.keyCode)&&f.ctrlKey&&(f.shiftKey?this.compact():this.format(),this._onChange(),v=!0),v&&(f.preventDefault(),f.stopPropagation()),this._updateCursorInfo(),this._emitSelectionChange()},u._onMouseDown=function(){this._updateCursorInfo(),this._emitSelectionChange()},u._onBlur=function(){var f=this;setTimeout(function(){f.isFocused||(f._updateCursorInfo(),f._emitSelectionChange()),f.isFocused=!1})},u._updateCursorInfo=function(){var f,v,C,S,O,N=this;function z(){N.curserInfoElements.countVal.innerText!==O&&(N.curserInfoElements.countVal.innerText=O,N.curserInfoElements.countVal.style.display=O?"inline":"none",N.curserInfoElements.countLabel.style.display=O?"inline":"none"),N.curserInfoElements.lnVal.innerText=C,N.curserInfoElements.colVal.innerText=S}this.textarea?setTimeout(function(){var K=(0,T.getInputSelection)(N.textarea);K.startIndex!==K.endIndex&&(O=K.endIndex-K.startIndex),S=(O&&N.cursorInfo&&N.cursorInfo.line===K.end.row&&N.cursorInfo.column===K.end.column?(C=K.start.row,K.start):(C=K.end.row,K.end)).column,N.cursorInfo={line:C,column:S,count:O},N.options.statusBar&&z()},0):this.aceEditor&&this.curserInfoElements&&(f=this.aceEditor.getCursorPosition(),v=this.aceEditor.getSelectedText(),N.cursorInfo={line:C=f.row+1,column:S=f.column+1,count:O=v.length},this.options.statusBar)&&z()},u._emitSelectionChange=function(){var f;this._selectionChangedHandler&&(f=this.getTextSelection(),this._selectionChangedHandler(f.start,f.end,f.text))},u._refreshAnnotations=function(){var f,v=this.aceEditor&&this.aceEditor.getSession();v&&(f=v.getAnnotations().filter(function(C){return"error"===C.type}),v.setAnnotations(f))},u.destroy=function(){this.aceEditor&&(this.aceEditor.destroy(),this.aceEditor=null),this.frame&&this.container&&this.frame.parentNode===this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.textarea=null,this._debouncedValidate=null,this.frameFocusTracker.destroy()},u.compact=function(){var f=this.get();f=JSON.stringify(f),this.updateText(f)},u.format=function(){var f=this.get();f=JSON.stringify(f,null,this.indentation),this.updateText(f)},u.repair=function(){var f=this.getText();try{var v=(0,ee.K)(f);this.updateText(v)}catch(C){}},u.focus=function(){this.textarea&&this.textarea.focus(),this.aceEditor&&this.aceEditor.focus()},u.resize=function(){this.aceEditor&&this.aceEditor.resize(!1)},u.set=function(f){this.setText(JSON.stringify(f,null,this.indentation))},u.update=function(f){this.updateText(JSON.stringify(f,null,this.indentation))},u.get=function(){var f=this.getText();return(0,T.parse)(f)},u.getText=function(){return this.textarea?this.textarea.value:this.aceEditor?this.aceEditor.getValue():""},u._setText=function(O,v){var C,S=this;O=!0===this.options.escapeUnicode?(0,T.escapeUnicodeChars)(O):O,this.textarea&&(this.textarea.value=O),this.aceEditor&&(this.onChangeDisabled=!0,this.aceEditor.setValue(O,-1),this.onChangeDisabled=!1,v&&(C=this,setTimeout(function(){C.aceEditor&&C.aceEditor.session.getUndoManager().reset()})),setTimeout(function(){S._updateHistoryButtons&&S._updateHistoryButtons()})),this._debouncedValidate()},u.setText=function(f){this._setText(f,!0)},u.updateText=function(f){this.getText()!==f&&this._setText(f,!1)},u.validate=function(){var f,v=this,C=[],S=[];try{var O=this.get(),N=(this.validateSchema&&!this.validateSchema(O)&&(C=this.validateSchema.errors.map(function(K){return K.type="validation",(0,T.improveSchemaError)(K)})),this.validationSequence=(this.validationSequence||0)+1,this),z=this.validationSequence;return function(K,Q){if(!Q)return Promise.resolve([]);try{var ue=Q(K);return((0,T.isPromise)(ue)?ue:Promise.resolve(ue)).then(function(oe){return Array.isArray(oe)?oe.filter(function(pe){var F=(0,T.isValidValidationError)(pe);return F||console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:',pe),F}).map(function(pe){return{dataPath:(0,T.stringifyPath)(pe.path),message:pe.message,type:"customValidation"}}):[]})}catch(oe){return Promise.reject(oe)}}(O,this.options.onValidate).then(function(K){return z===N.validationSequence&&(K=C.concat(S).concat(K),N._renderErrors(K),"function"==typeof v.options.onValidationError&&(0,T.isValidationErrorChanged)(K,v.lastSchemaErrors)&&v.options.onValidationError.call(v,K),v.lastSchemaErrors=K),v.lastSchemaErrors})}catch(K){return this.getText()&&((O=/\w*line\s*(\d+)\w*/g.exec(K.message))&&(f=+O[1]),S=[{type:"error",message:K.message.replace(/\n/g,"<br>"),line:f}]),this._renderErrors(S),"function"==typeof this.options.onValidationError&&(0,T.isValidationErrorChanged)(S,this.lastSchemaErrors)&&this.options.onValidationError.call(this,S),this.lastSchemaErrors=S,Promise.resolve(this.lastSchemaErrors)}},u._validateAndCatch=function(){this.validate().catch(function(f){console.error("Error running validation:",f)})},u._renderErrors=function(f){var C=this.getText(),v=[];f.reduce(function(S,O){return"string"==typeof O.dataPath&&-1===S.indexOf(O.dataPath)&&S.push(O.dataPath),S},v),C=(0,T.getPositionForPath)(C,v),this.aceEditor&&(this.annotations=C.map(function(S){var O=f.filter(function(z){return z.dataPath===S.path}),N=O.map(function(z){return z.message}).join("\n");return N?{row:S.line,column:S.column,text:"Schema validation error"+(1!==O.length?"s":"")+": \n"+N,type:"warning",source:"jsoneditor"}:{}}),this._refreshAnnotations()),this.errorTable.setErrors(f,C),this.aceEditor&&this.aceEditor.resize(!1)},u.getTextSelection=function(){var f,v,C,S={};return this.textarea?(C=(0,T.getInputSelection)(this.textarea),this.cursorInfo&&this.cursorInfo.line===C.end.row&&this.cursorInfo.column===C.end.column?(S.start=C.end,S.end=C.start):S=C,{start:S.start,end:S.end,text:this.textarea.value.substring(C.startIndex,C.endIndex)}):this.aceEditor?(C=this.aceEditor.getSelection(),f=this.aceEditor.getSelectedText(),v=C.getRange(),(C=C.getSelectionLead()).row===v.end.row&&C.column===v.end.column?S=v:(S.start=v.end,S.end=v.start),{start:{row:S.start.row+1,column:S.start.column+1},end:{row:S.end.row+1,column:S.end.column+1},text:f}):void 0},u.onTextSelectionChange=function(f){"function"==typeof f&&(this._selectionChangedHandler=(0,T.debounce)(f,this.DEBOUNCE_INTERVAL))},u.setTextSelection=function(f,v){var C,S,O;f&&v&&(this.textarea?(C=(0,T.getIndexForPosition)(this.textarea,f.row,f.column),O=(0,T.getIndexForPosition)(this.textarea,v.row,v.column),-1<C&&-1<O&&(this.textarea.setSelectionRange?(this.textarea.focus(),this.textarea.setSelectionRange(C,O)):this.textarea.createTextRange&&((S=this.textarea.createTextRange()).collapse(!0),S.moveEnd("character",O),S.moveStart("character",C),S.select()),O=(this.textarea.value.match(/\n/g)||[]).length+1,this.textarea.scrollTop=(S=f.row*(C=this.textarea.scrollHeight/O))>this.textarea.clientHeight?S-this.textarea.clientHeight/2:0)):this.aceEditor&&(this.aceEditor.selection.setRange(O={start:{row:f.row-1,column:f.column-1},end:{row:v.row-1,column:v.column-1}}),this.aceEditor.scrollToLine(f.row-1,!0)))};var g=[{mode:"text",mixin:u,data:"text",load:d},{mode:"code",mixin:u,data:"text",load:d}]},8038:function(Z,Ae,xe){"use strict";xe.r(Ae),xe.d(Ae,{treeModeMixins:function(){return Ee}});var ee={start:function(ie,de,me){return 0===de.indexOf(ie)},contain:function(ie,de,me){return-1<de.indexOf(ie)}},$=xe(897),k=xe(2474);function P(ie){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(ie)}function E(ie,de){for(var me=0;me<de.length;me++){var Ce=de[me];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(ie,(re=function(le,ve){if("object"!==P(le)||null===le)return le;var we=le[Symbol.toPrimitive];if(void 0===we)return String(le);if("object"!==P(we=we.call(le,"string")))return we;throw new TypeError("@@toPrimitive must return a primitive value.")}(re=Ce.key),"symbol"===P(re)?re:String(re)),Ce)}var re}var R=function(){function ie(){if(!(this instanceof ie))throw new TypeError("Cannot call a class as a function");this.locked=!1}var de,me;return de=ie,(me=[{key:"highlight",value:function(re){this.locked||(this.node!==re&&(this.node&&this.node.setHighlight(!1),this.node=re,this.node.setHighlight(!0)),this._cancelUnhighlight())}},{key:"unhighlight",value:function(){var re;this.locked||(re=this).node&&(this._cancelUnhighlight(),this.unhighlightTimer=setTimeout(function(){re.node.setHighlight(!1),re.node=void 0,re.unhighlightTimer=void 0},0))}},{key:"_cancelUnhighlight",value:function(){this.unhighlightTimer&&(clearTimeout(this.unhighlightTimer),this.unhighlightTimer=void 0)}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}}])&&E(de.prototype,me),Object.defineProperty(de,"prototype",{writable:!1}),ie}(),x=xe(7907),A=xe(6056),_=xe(6617),m=(Ae=xe(233),xe.n(Ae)),D=xe(2602),I=xe(9791),T=xe(6210),w=xe(2558),p=xe(4188);function y(ie){return function(de){if(Array.isArray(de))return d(de)}(ie)||function(de){if("undefined"!=typeof Symbol&&null!=de[Symbol.iterator]||null!=de["@@iterator"])return Array.from(de)}(ie)||l(ie)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(ie,de){return function(me){if(Array.isArray(me))return me}(ie)||function(me,Ce){var re=null==me?null:"undefined"!=typeof Symbol&&me[Symbol.iterator]||me["@@iterator"];if(null!=re){var le,ve,we,Pe,Ue=[],dt=!0,xt=!1;try{if(we=(re=re.call(me)).next,0===Ce){if(Object(re)!==re)return;dt=!1}else for(;!(dt=(le=we.call(re)).done)&&(Ue.push(le.value),Ue.length!==Ce);dt=!0);}catch(Zt){xt=!0,ve=Zt}finally{try{if(!dt&&null!=re.return&&(Pe=re.return(),Object(Pe)!==Pe))return}finally{if(xt)throw ve}}return Ue}}(ie,de)||l(ie,de)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(ie,de){var me,Ce,re,le,ve="undefined"!=typeof Symbol&&ie[Symbol.iterator]||ie["@@iterator"];if(ve)return Ce=!(me=!0),{s:function(){ve=ve.call(ie)},n:function(){var we=ve.next();return me=we.done,we},e:function(we){Ce=!0,re=we},f:function(){try{me||null==ve.return||ve.return()}finally{if(Ce)throw re}}};if(Array.isArray(ie)||(ve=l(ie))||de&&ie&&"number"==typeof ie.length)return ve&&(ie=ve),le=0,{s:de=function(){},n:function(){return le>=ie.length?{done:!0}:{done:!1,value:ie[le++]}},e:function(we){throw we},f:de};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(ie,de){var me;if(ie)return"string"==typeof ie?d(ie,de):"Map"===(me="Object"===(me=Object.prototype.toString.call(ie).slice(8,-1))&&ie.constructor?ie.constructor.name:me)||"Set"===me?Array.from(ie):"Arguments"===me||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me)?d(ie,de):void 0}function d(ie,de){(null==de||de>ie.length)&&(de=ie.length);for(var me=0,Ce=new Array(de);me<de;me++)Ce[me]=ie[me];return Ce}function g(ie){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(ie)}function f(ie,de){for(var me=0;me<de.length;me++){var Ce=de[me];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(ie,(re=function(le,ve){if("object"!==g(le)||null===le)return le;var we=le[Symbol.toPrimitive];if(void 0===we)return String(le);if("object"!==g(we=we.call(le,"string")))return we;throw new TypeError("@@toPrimitive must return a primitive value.")}(re=Ce.key),"symbol"===g(re)?re:String(re)),Ce)}var re}var v=function(){function ie(re,le){if(!(this instanceof ie))throw new TypeError("Cannot call a class as a function");this.editor=re,this.dom={},this.expanded=!1,le&&le instanceof Object?(this.setField(le.field,le.fieldEditable),"value"in le&&this.setValue(le.value,le.type),"internalValue"in le&&this.setInternalValue(le.internalValue)):(this.setField(""),this.setValue(null)),this._debouncedOnChangeValue=(0,I.debounce)(this._onChangeValue.bind(this),ie.prototype.DEBOUNCE_INTERVAL),this._debouncedOnChangeField=(0,I.debounce)(this._onChangeField.bind(this),ie.prototype.DEBOUNCE_INTERVAL),this.visibleChilds=this.getMaxVisibleChilds()}var de,me;return de=ie,(me=[{key:"getMaxVisibleChilds",value:function(){return this.editor&&this.editor.options&&this.editor.options.maxVisibleChilds?this.editor.options.maxVisibleChilds:C}},{key:"_updateEditability",value:function(){var re,le;this.editable={field:!0,value:!0},this.editor&&(this.editable.field="tree"===this.editor.options.mode,this.editable.value="view"!==this.editor.options.mode,"tree"!==this.editor.options.mode&&"form"!==this.editor.options.mode||"function"!=typeof this.editor.options.onEditable||(re=this.getValue.bind(this),"boolean"==typeof(le=this.editor.options.onEditable({field:this.field,get value(){return re()},path:this.getPath()}))?(this.editable.field=le,this.editable.value=le):"object"===g(le)&&null!==le?("boolean"==typeof le.field&&(this.editable.field=le.field),"boolean"==typeof le.value&&(this.editable.value=le.value)):(console.error("Invalid return value for function onEditable.","Actual value:",le,".","Either a boolean or object { field: boolean, value: boolean } expected."),this.editable.field=!1,this.editable.value=!1)))}},{key:"getPath",value:function(){for(var re=this,le=[];re;){var ve=re.getName();void 0!==ve&&le.unshift(ve),re=re.parent}return le}},{key:"getInternalPath",value:function(){for(var re=this,le=[];re;)re.parent&&le.unshift(re.getIndex()),re=re.parent;return le}},{key:"getName",value:function(){return this.parent?"array"!==this.parent.type?this.field:this.index:void 0}},{key:"findNodeByPath",value:function(re){if(re){if(0===re.length)return this;if(re.length&&this.childs&&this.childs.length)for(var le=0;le<this.childs.length;++le)if(""+re[0]==""+this.childs[le].getName())return this.childs[le].findNodeByPath(re.slice(1))}}},{key:"findNodeByInternalPath",value:function(re){if(re){for(var we=this,le=0;le<re.length&&we;le++)we=we.childs[re[le]];return we}}},{key:"serialize",value:function(){return{value:this.getValue(),path:this.getPath()}}},{key:"findNode",value:function(re){for(var le=(0,I.parsePath)(re),ve=this;ve&&0<le.length;)!function(){var we=le.shift();if("number"==typeof we){if("array"!==ve.type)throw new Error("Cannot get child node at index "+we+": node is no array");ve=ve.childs[we]}else{if("object"!==ve.type)throw new Error("Cannot get child node "+we+": node is no object");ve=ve.childs.filter(function(Pe){return Pe.field===we})[0]}}();return ve}},{key:"findParents",value:function(){for(var re=[],le=this.parent;le;)re.unshift(le),le=le.parent;return re}},{key:"setError",value:function(re,le){this.error=re,this.errorChild=le,this.dom&&this.dom.tr&&this.updateError()}},{key:"updateError",value:function(){var re=this,le=this.fieldError||this.valueError||this.error,ve=this.dom.tdError;if(le&&this.dom&&this.dom.tr){(0,I.addClassName)(this.dom.tr,"jsoneditor-validation-error"),ve||(ve=document.createElement("td"),this.dom.tdError=ve,this.dom.tdValue.parentNode.appendChild(ve));var we=document.createElement("button"),Pe=(we.type="button",we.className="jsoneditor-button jsoneditor-schema-error",function(){re.dom.popupAnchor&&re.dom.popupAnchor.destroy()}),Ue=function(){delete re.dom.popupAnchor},dt=function(tn){var en=re.editor.frame;re.dom.popupAnchor=(0,D.w)(we,re.editor.getPopupAnchor(),Ue,tn),tn=we.getBoundingClientRect(),en=120<en.getBoundingClientRect().width-tn.x?"jsoneditor-above":"jsoneditor-left",(tn=document.createElement("div")).className="jsoneditor-popover "+en,tn.appendChild(document.createTextNode(le.message)),re.dom.popupAnchor.appendChild(tn)},xt=(we.onmouseover=function(){re.dom.popupAnchor||dt(!0)},we.onfocus=function(){Pe(),dt(!1)},we.onblur=function(){Pe()},this.errorChild);for(xt&&(we.onclick=function(){xt.findParents().forEach(function(Zt){Zt.expand(!1)}),xt.scrollTo(function(){xt.focus()})});ve.firstChild;)ve.removeChild(ve.firstChild);ve.appendChild(we)}else this.dom.tr&&(0,I.removeClassName)(this.dom.tr,"jsoneditor-validation-error"),ve&&(this.dom.tdError.parentNode.removeChild(this.dom.tdError),delete this.dom.tdError)}},{key:"getIndex",value:function(){var re;return this.parent?-1!==(re=this.parent.childs.indexOf(this))?re:null:-1}},{key:"setParent",value:function(re){this.parent=re}},{key:"setField",value:function(re,le){this.field=re,this.previousField=re,this.fieldEditable=!0===le}},{key:"getField",value:function(){return void 0===this.field&&this._getDomField(),this.field}},{key:"setValue",value:function(re,le){var ve,we,Pe,Ue,dt,xt,Zt=this.childs;if(this.type=this._getType(re),le&&le!==this.type){if("string"!==le||"auto"!==this.type)throw new Error('Type mismatch: cannot cast value of type "'+this.type+' to the specified type "'+le+'"');this.type=le}if("array"===this.type){for(this.childs||(this.childs=[]),ve=0;ve<re.length;ve++)void 0===(dt=re[ve])||dt instanceof Function||(ve<this.childs.length?((Pe=this.childs[ve]).fieldEditable=!1,Pe.index=ve,Pe.setValue(dt)):(Pe=new ie(this.editor,{value:dt}),Ue=ve<this.getMaxVisibleChilds(),this.appendChild(Pe,Ue,!1)));for(we=this.childs.length;we>=re.length;we--)this.removeChild(this.childs[we],!1)}else if("object"===this.type){for(this.childs||(this.childs=[]),we=this.childs.length-1;0<=we;we--)N(re,this.childs[we].field)||this.removeChild(this.childs[we],!1);for(var en in ve=0,re)N(re,en)&&(void 0===(dt=re[en])||dt instanceof Function||((xt=this.findChildByProperty(en))?(xt.setField(en,!0),xt.setValue(dt)):(xt=new ie(this.editor,{field:en,value:dt}),en=ve<this.getMaxVisibleChilds(),this.appendChild(xt,en,!1))),ve++);!(this.value="")===this.editor.options.sortObjectKeys&&this.sort([],"asc",!1)}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=re;Array.isArray(Zt)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value}},{key:"setInternalValue",value:function(re){var le,ve,we,Pe,Ue,dt=this.childs;if(this.type=re.type,"array"===re.type){for(this.childs||(this.childs=[]),Pe=0;Pe<re.childs.length;Pe++)void 0===(le=re.childs[Pe])||le instanceof Function||(Pe<this.childs.length?((ve=this.childs[Pe]).fieldEditable=!1,ve.index=Pe,ve.setInternalValue(le)):(ve=new ie(this.editor,{internalValue:le}),we=Pe<this.getMaxVisibleChilds(),this.appendChild(ve,we,!1)));for(Ue=this.childs.length;Ue>=re.childs.length;Ue--)this.removeChild(this.childs[Ue],!1)}else if("object"===re.type){for(this.childs||(this.childs=[]),Pe=0;Pe<re.childs.length;Pe++)void 0===(le=re.childs[Pe])||le instanceof Function||(Pe<this.childs.length?(delete(ve=this.childs[Pe]).index,ve.setField(le.field,!0),ve.setInternalValue(le.value)):(ve=new ie(this.editor,{field:le.field,internalValue:le.value}),we=Pe<this.getMaxVisibleChilds(),this.appendChild(ve,we,!1)));for(Ue=this.childs.length;Ue>=re.childs.length;Ue--)this.removeChild(this.childs[Ue],!1)}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=re.value;Array.isArray(dt)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value}},{key:"recreateDom",value:function(){var re;this.dom&&this.dom.tr&&this.dom.tr.parentNode?(re=this._detachFromDom(),this.clearDom(),this._attachToDom(re)):this.clearDom()}},{key:"getValue",value:function(){var re,le;return"array"===this.type?(re=[],this.childs.forEach(function(ve){re.push(ve.getValue())}),re):"object"===this.type?(le={},this.childs.forEach(function(ve){le[ve.getField()]=ve.getValue()}),le):(void 0===this.value&&this._getDomValue(),this.value)}},{key:"getInternalValue",value:function(){return"array"===this.type?{type:this.type,childs:this.childs.map(function(re){return re.getInternalValue()})}:"object"===this.type?{type:this.type,childs:this.childs.map(function(re){return{field:re.getField(),value:re.getInternalValue()}})}:(void 0===this.value&&this._getDomValue(),{type:this.type,value:this.value})}},{key:"getLevel",value:function(){return this.parent?this.parent.getLevel()+1:0}},{key:"getNodePath",value:function(){var re=this.parent?this.parent.getNodePath():[];return re.push(this),re}},{key:"clone",value:function(){var re,le;return(re=new ie(this.editor)).type=this.type,re.field=this.field,re.fieldInnerText=this.fieldInnerText,re.fieldEditable=this.fieldEditable,re.previousField=this.previousField,re.value=this.value,re.valueInnerText=this.valueInnerText,re.previousValue=this.previousValue,re.expanded=this.expanded,re.visibleChilds=this.visibleChilds,this.childs?(le=[],this.childs.forEach(function(ve){(ve=ve.clone()).setParent(re),le.push(ve)}),re.childs=le):re.childs=void 0,re}},{key:"expand",value:function(re){this.childs&&(this.expanded=!0,this.dom.expand&&(this.dom.expand.className="jsoneditor-button jsoneditor-expanded"),this.showChilds(),!1!==re&&this.childs.forEach(function(le){le.expand(re)}),this.updateDom({recurse:!1}))}},{key:"collapse",value:function(re){this.childs&&(this.hideChilds(),!1!==re&&this.childs.forEach(function(le){le.collapse(re)}),this.dom.expand&&(this.dom.expand.className="jsoneditor-button jsoneditor-collapsed"),this.expanded=!1,this.updateDom({recurse:!1}))}},{key:"showChilds",value:function(){if((re=this.childs)&&this.expanded){var re,le=(re=this.dom.tr)?re.parentNode:void 0;if(le){for(var ve=this.getAppendDom(),we=(ve.parentNode||((Pe=re.nextSibling)?le.insertBefore(ve,Pe):le.appendChild(ve)),Math.min(this.childs.length,this.visibleChilds)),Pe=this._getNextTr(),Ue=0;Ue<we;Ue++){var dt=this.childs[Ue];dt.getDom().parentNode||le.insertBefore(dt.getDom(),Pe),dt.showChilds()}re=this.getShowMoreDom(),Pe=this._getNextTr(),re.parentNode||le.insertBefore(re,Pe),this.showMore.updateDom()}}}},{key:"_getNextTr",value:function(){return this.showMore&&this.showMore.getDom().parentNode?this.showMore.getDom():this.append&&this.append.getDom().parentNode?this.append.getDom():void 0}},{key:"hide",value:function(re){var le=this.dom.tr,ve=le?le.parentNode:void 0;ve&&ve.removeChild(le),this.dom.popupAnchor&&this.dom.popupAnchor.destroy(),this.hideChilds(re)}},{key:"hideChilds",value:function(re){var le;this.childs&&this.expanded&&((le=this.getAppendDom()).parentNode&&le.parentNode.removeChild(le),this.childs.forEach(function(ve){ve.hide()}),(le=this.getShowMoreDom()).parentNode&&le.parentNode.removeChild(le),re&&!re.resetVisibleChilds||(this.visibleChilds=this.getMaxVisibleChilds()))}},{key:"_updateCssClassName",value:function(){var re,le;this.dom.field&&this.editor&&this.editor.options&&"function"==typeof this.editor.options.onClassName&&this.dom.tree&&((0,I.removeAllClassNames)(this.dom.tree),re=this.getValue.bind(this),le=this.editor.options.onClassName({path:this.getPath(),field:this.field,get value(){return re()}})||"",(0,I.addClassName)(this.dom.tree,"jsoneditor-values "+le))}},{key:"recursivelyUpdateCssClassesOnNodes",value:function(){if(this._updateCssClassName(),Array.isArray(this.childs))for(var re=0;re<this.childs.length;re++)this.childs[re].recursivelyUpdateCssClassesOnNodes()}},{key:"expandTo",value:function(){for(var re=this.parent;re;)re.expanded||re.expand(),re=re.parent}},{key:"appendChild",value:function(re,le,ve){var we,Pe;this._hasChilds()&&(re.setParent(this),re.fieldEditable="object"===this.type,"array"===this.type&&(re.index=this.childs.length),"object"===this.type&&void 0===re.field&&re.setField(""),this.childs.push(re),this.expanded&&!1!==le&&(le=re.getDom(),Pe=(we=this._getNextTr())?we.parentNode:void 0,we&&Pe&&Pe.insertBefore(le,we),re.showChilds(),this.visibleChilds++),!1!==ve)&&(this.updateDom({updateIndexes:!0}),re.updateDom({recurse:!0}))}},{key:"moveBefore",value:function(re,le,ve){var we,Pe;this._hasChilds()&&((we=this.dom.tr?this.dom.tr.parentNode:void 0)&&((Pe=document.createElement("tr")).style.height=we.clientHeight+"px",we.appendChild(Pe)),re.parent&&re.parent.removeChild(re),le instanceof z||!le?this.childs.length+1>this.visibleChilds?this.insertBefore(re,this.childs[this.visibleChilds-1],ve):this.appendChild(re,!0,ve):this.insertBefore(re,le,ve),we)&&Pe&&we.removeChild(Pe)}},{key:"insertBefore",value:function(re,le,ve){if(this._hasChilds()){if(this.visibleChilds++,"object"===this.type&&void 0===re.field&&re.setField(""),le===this.append)re.setParent(this),re.fieldEditable="object"===this.type,this.childs.push(re);else{var we=this.childs.indexOf(le);if(-1===we)throw new Error("Node not found");re.setParent(this),re.fieldEditable="object"===this.type,this.childs.splice(we,0,re)}var Pe;this.expanded&&(we=re.getDom(),Pe=(le=le.getDom())?le.parentNode:void 0,le&&Pe&&Pe.insertBefore(we,le),re.showChilds(),this.showChilds()),!1!==ve&&(this.updateDom({updateIndexes:!0}),re.updateDom({recurse:!0}))}}},{key:"insertAfter",value:function(re,le){this._hasChilds()&&(le=this.childs.indexOf(le),(le=this.childs[le+1])?this.insertBefore(re,le):this.appendChild(re))}},{key:"search",value:function(re,le){Array.isArray(le)||(le=[]);var ve=re?re.toLowerCase():void 0;return delete this.searchField,delete this.searchValue,void 0!==this.field&&le.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.field).toLowerCase().indexOf(ve)&&(this.searchField=!0,le.push({node:this,elem:"field"})),this._updateDomField()),this._hasChilds()?this.childs&&this.childs.forEach(function(we){we.search(re,le)}):void 0!==this.value&&le.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.value).toLowerCase().indexOf(ve)&&(this.searchValue=!0,le.push({node:this,elem:"value"})),this._updateDomValue()),le}},{key:"scrollTo",value:function(re){this.expandPathToNode(),this.dom.tr&&this.dom.tr.parentNode&&this.editor.scrollTo(this.dom.tr.offsetTop,re)}},{key:"expandPathToNode",value:function(){for(var re=this;re&&re.parent;){for(var le="array"===re.parent.type?re.index:re.parent.childs.indexOf(re);re.parent.visibleChilds<le+1;)re.parent.visibleChilds+=this.getMaxVisibleChilds();re.parent.expand(!1),re=re.parent}}},{key:"focus",value:function(re){if(ie.focusElement=re,this.dom.tr&&this.dom.tr.parentNode){var le=this.dom;switch(re){case"drag":(le.drag||le.menu).focus();break;case"menu":le.menu.focus();break;case"expand":this._hasChilds()?le.expand.focus():le.field&&this.fieldEditable?(le.field.focus(),(0,I.selectContentEditable)(le.field)):le.value&&!this._hasChilds()?(le.value.focus(),(0,I.selectContentEditable)(le.value)):le.menu.focus();break;case"field":le.field&&this.fieldEditable?(le.field.focus(),(0,I.selectContentEditable)(le.field)):le.value&&!this._hasChilds()?(le.value.focus(),(0,I.selectContentEditable)(le.value)):(this._hasChilds()?le.expand:le.menu).focus();break;default:le.select?le.select.focus():le.value&&!this._hasChilds()?(le.value.focus(),(0,I.selectContentEditable)(le.value)):le.field&&this.fieldEditable?(le.field.focus(),(0,I.selectContentEditable)(le.field)):(this._hasChilds()?le.expand:le.menu).focus()}}}},{key:"containsNode",value:function(re){if(this===re)return!0;var le=this.childs;if(le)for(var ve=0,we=le.length;ve<we;ve++)if(le[ve].containsNode(re))return!0;return!1}},{key:"removeChild",value:function(re,le){if(this.childs){var ve=this.childs.indexOf(re);if(-1!==ve)return ve<this.visibleChilds&&this.expanded&&this.visibleChilds--,re.hide(),delete re.searchField,delete re.searchValue,(re=this.childs.splice(ve,1)[0]).parent=null,!1!==le&&this.updateDom({updateIndexes:!0}),re}}},{key:"_remove",value:function(re){this.removeChild(re)}},{key:"changeType",value:function(re){var le,ve=this.type;ve!==re&&("string"!==re&&"auto"!==re||"string"!==ve&&"auto"!==ve?(le=this._detachFromDom(),this.clearDom(),"object"===(this.type=re)?(this.childs||(this.childs=[]),this.childs.forEach(function(we){we.clearDom(),delete we.index,we.fieldEditable=!0,void 0===we.field&&(we.field="")}),"string"!==ve&&"auto"!==ve||(this.expanded=!0)):"array"===re?(this.childs||(this.childs=[]),this.childs.forEach(function(we,Pe){we.clearDom(),we.fieldEditable=!1,we.index=Pe}),"string"!==ve&&"auto"!==ve||(this.expanded=!0)):this.expanded=!1,this._attachToDom(le)):this.type=re,"auto"!==re&&"string"!==re||(this.value="string"===re?String(this.value):(0,I.parseString)(String(this.value)),this.focus()),this.updateDom({updateIndexes:!0}))}},{key:"deepEqual",value:function(re){var le;if("array"===this.type){if(!Array.isArray(re)||this.childs.length!==re.length)return!1;for(le=0;le<this.childs.length;le++)if(!this.childs[le].deepEqual(re[le]))return!1}else if("object"===this.type){if("object"!==g(re)||!re)return!1;var ve=Object.keys(re);if(this.childs.length!==ve.length)return!1;for(le=0;le<ve.length;le++){var we=this.childs[le];if(we.field!==ve[le]||!we.deepEqual(re[we.field]))return!1}}else if(this.value!==re)return!1;return!0}},{key:"_getDomValue",value:function(){if(this._clearValueError(),this.dom.value&&"array"!==this.type&&"object"!==this.type&&(this.valueInnerText=(0,I.getInnerText)(this.dom.value),""===this.valueInnerText)&&""!==this.dom.value.innerHTML&&(this.dom.value.textContent=""),void 0!==this.valueInnerText)try{var re,le;(le="string"===this.type?this._unescapeHTML(this.valueInnerText):(re=this._unescapeHTML(this.valueInnerText),(0,I.parseString)(re)))!==this.value&&(this.value=le,this._debouncedOnChangeValue())}catch(ve){this._setValueError((0,x.Iu)("cannotParseValueError"))}}},{key:"_setValueError",value:function(re){this.valueError={message:re},this.updateError()}},{key:"_clearValueError",value:function(){this.valueError&&(this.valueError=null,this.updateError())}},{key:"_setFieldError",value:function(re){this.fieldError={message:re},this.updateError()}},{key:"_clearFieldError",value:function(){this.fieldError&&(this.fieldError=null,this.updateError())}},{key:"_onChangeValue",value:function(){var re,le=this.editor.getDomSelection(),ve=(le.range&&(ve=(0,I.textDiff)(String(this.value),String(this.previousValue)),le.range.startOffset=ve.start,le.range.endOffset=ve.end),this.editor.getDomSelection());ve.range&&(re=(0,I.textDiff)(String(this.previousValue),String(this.value)),ve.range.startOffset=re.start,ve.range.endOffset=re.end),this.editor._onAction("editValue",{path:this.getInternalPath(),oldValue:this.previousValue,newValue:this.value,oldSelection:le,newSelection:ve}),this.previousValue=this.value}},{key:"_onChangeField",value:function(){var re=this.editor.getDomSelection(),le=this.previousField||"",ve=(re.range&&(ve=(0,I.textDiff)(this.field,le),re.range.startOffset=ve.start,re.range.endOffset=ve.end),this.editor.getDomSelection());ve.range&&(le=(0,I.textDiff)(le,this.field),ve.range.startOffset=le.start,ve.range.endOffset=le.end),this.editor._onAction("editField",{parentPath:this.parent.getInternalPath(),index:this.getIndex(),oldValue:this.previousField,newValue:this.field,oldSelection:re,newSelection:ve}),this.previousField=this.field}},{key:"_updateDomValue",value:function(){var re=this.dom.value;if(re){var le=["jsoneditor-value"],ve=this.value,we="auto"===this.type?(0,I.getType)(ve):this.type,Pe="string"===we&&(0,I.isUrl)(ve);if(le.push("jsoneditor-"+we),Pe&&le.push("jsoneditor-url"),""===String(this.value)&&"array"!==this.type&&"object"!==this.type&&le.push("jsoneditor-empty"),this.searchValueActive&&le.push("jsoneditor-highlight-active"),this.searchValue&&le.push("jsoneditor-highlight"),re.className=le.join(" "),re.title="array"===we||"object"===we?this.type+" containing "+(le=this.childs?this.childs.length:0)+" items":Pe&&this.editable.value?(0,x.Iu)("openUrl"):"","boolean"===we&&this.editable.value?(this.dom.checkbox||(this.dom.checkbox=document.createElement("input"),this.dom.checkbox.type="checkbox",this.dom.tdCheckbox=document.createElement("td"),this.dom.tdCheckbox.className="jsoneditor-tree",this.dom.tdCheckbox.appendChild(this.dom.checkbox),this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox,this.dom.tdValue)),this.dom.checkbox.checked=this.value):this.dom.tdCheckbox&&(this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox),delete this.dom.tdCheckbox,delete this.dom.checkbox),this.enum&&this.editable.value?(this.dom.select||(this.dom.select=document.createElement("select"),this.id=this.field+"_"+(new Date).getUTCMilliseconds(),this.dom.select.id=this.id,this.dom.select.name=this.dom.select.id,(le=document.createElement("option")).value="",le.textContent="--",this.dom.select.appendChild(le),this._updateEnumOptions(),this.dom.tdSelect=document.createElement("td"),this.dom.tdSelect.className="jsoneditor-tree",this.dom.tdSelect.appendChild(this.dom.select),this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect,this.dom.tdValue)),this.dom.select.value=-1!==this.enum.indexOf(this.value)?this.value:"",!this.schema||N(this.schema,"oneOf")||N(this.schema,"anyOf")||N(this.schema,"allOf")?delete this.valueFieldHTML:(this.valueFieldHTML=this.dom.tdValue.innerHTML,this.dom.tdValue.style.visibility="hidden",this.dom.tdValue.textContent="")):this.dom.tdSelect&&(this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect),delete this.dom.tdSelect,delete this.dom.select,this.dom.tdValue.innerHTML=this.valueFieldHTML,this.dom.tdValue.style.visibility="",delete this.valueFieldHTML,this.dom.tdValue.appendChild(this.dom.value)),this.editor.options.colorPicker&&"string"==typeof ve&&(0,I.isValidColor)(ve)?(this.dom.color||(this.dom.color=document.createElement("div"),this.dom.color.className="jsoneditor-color",this.dom.tdColor=document.createElement("td"),this.dom.tdColor.className="jsoneditor-tree",this.dom.tdColor.appendChild(this.dom.color),this.dom.tdValue.parentNode.insertBefore(this.dom.tdColor,this.dom.tdValue)),(0,I.addClassName)(this.dom.value,"jsoneditor-color-value"),(this.editable.value?I.removeClassName:I.addClassName)(this.dom.color,"jsoneditor-color-readonly"),this.dom.color.style.backgroundColor=ve):this._deleteDomColor(),this._showTimestampTag()){if(this.dom.date||(this.dom.date=document.createElement("div"),this.dom.date.className="jsoneditor-date",this.dom.value.parentNode.appendChild(this.dom.date)),Pe=null,Pe="function"==typeof this.editor.options.timestampFormat?this.editor.options.timestampFormat({field:this.field,value:this.value,path:this.getPath()}):Pe){for(;this.dom.date.firstChild;)this.dom.date.removeChild(this.dom.date.firstChild);this.dom.date.appendChild(document.createTextNode(Pe))}else this.dom.date.textContent=new Date(ve).toISOString();this.dom.date.title=new Date(ve).toString()}else this.dom.date&&(this.dom.date.parentNode.removeChild(this.dom.date),delete this.dom.date);(0,I.stripFormatting)(re),this._updateDomDefault()}}},{key:"_updateEnumOptions",value:function(){if(this.enum&&this.dom.select){this.dom.select.innerHTML="";for(var re=0;re<this.enum.length;re++){var le=document.createElement("option");le.value=this.enum[re],le.textContent=this.enum[re],this.dom.select.appendChild(le)}}}},{key:"_deleteDomColor",value:function(){this.dom.color&&(this.dom.tdColor.parentNode.removeChild(this.dom.tdColor),delete this.dom.tdColor,delete this.dom.color,(0,I.removeClassName)(this.dom.value,"jsoneditor-color-value"))}},{key:"_updateDomField",value:function(){var re,le=this.dom.field;le&&((re=(0,I.makeFieldTooltip)(this.schema,this.editor.options.language))&&(le.title=re),(""===String(this.field)&&this.parent&&"array"!==this.parent.type?I.addClassName:I.removeClassName)(le,"jsoneditor-empty"),(this.searchFieldActive?I.addClassName:I.removeClassName)(le,"jsoneditor-highlight-active"),(this.searchField?I.addClassName:I.removeClassName)(le,"jsoneditor-highlight"),(0,I.stripFormatting)(le))}},{key:"_getDomField",value:function(re){if(this._clearFieldError(),this.dom.field&&this.fieldEditable&&(this.fieldInnerText=(0,I.getInnerText)(this.dom.field),""===this.fieldInnerText)&&""!==this.dom.field.innerHTML&&(this.dom.field.textContent=""),void 0!==this.fieldInnerText)try{var le=this._unescapeHTML(this.fieldInnerText),ve=this.parent.getFieldNames(this);-1!==ve.indexOf(le)?re?(le=(0,I.findUniqueName)(le,ve))!==this.field&&(this.field=le,this._debouncedOnChangeField()):this._setFieldError((0,x.Iu)("duplicateFieldError")):le!==this.field&&(this.field=le,this._debouncedOnChangeField())}catch(we){this._setFieldError((0,x.Iu)("cannotParseFieldError"))}}},{key:"_updateDomDefault",value:function(){var re;this.schema&&void 0!==this.schema.default&&!this._hasChilds()&&(re=this.dom.select||this.dom.value)&&(this.value===this.schema.default?(re.title=(0,x.Iu)("default"),(0,I.addClassName)(re,"jsoneditor-is-default"),I.removeClassName):(re.removeAttribute("title"),(0,I.removeClassName)(re,"jsoneditor-is-default"),I.addClassName))(re,"jsoneditor-is-not-default")}},{key:"_showTimestampTag",value:function(){var re,le;return"number"==typeof this.value&&("function"==typeof(re=this.editor.options.timestampTag)?"boolean"==typeof(le=re({field:this.field,value:this.value,path:this.getPath()}))?le:(0,I.isTimestamp)(this.field,this.value):!0===re&&(0,I.isTimestamp)(this.field,this.value))}},{key:"clearDom",value:function(){this.dom={}}},{key:"getDom",value:function(){var re,le,ve=this.dom;return ve.tr||(this._updateEditability(),ve.tr=document.createElement("tr"),"tree"===(ve.tr.node=this).editor.options.mode&&(le=document.createElement("td"),this.editable.field&&this.parent&&((re=document.createElement("button")).type="button",(ve.drag=re).className="jsoneditor-button jsoneditor-dragarea",re.title=(0,x.Iu)("drag"),le.appendChild(re)),ve.tr.appendChild(le),re=document.createElement("td"),(le=document.createElement("button")).type="button",(ve.menu=le).className="jsoneditor-button jsoneditor-contextmenu-button",le.title=(0,x.Iu)("actionsMenu"),re.appendChild(ve.menu),ve.tr.appendChild(re)),le=document.createElement("td"),ve.tr.appendChild(le),ve.tree=this._createDomTree(),le.appendChild(ve.tree),this.updateDom({updateIndexes:!0})),ve.tr}},{key:"isVisible",value:function(){return this.dom&&this.dom.tr&&this.dom.tr.parentNode||!1}},{key:"isDescendantOf",value:function(re){for(var le=this.parent;le;){if(le===re)return!0;le=le.parent}return!1}},{key:"_createDomField",value:function(){return document.createElement("div")}},{key:"setHighlight",value:function(re){this.dom.tr&&((re?I.addClassName:I.removeClassName)(this.dom.tr,"jsoneditor-highlight"),this.append&&this.append.setHighlight(re),this.childs)&&this.childs.forEach(function(le){le.setHighlight(re)})}},{key:"setSelected",value:function(re,le){this.selected=re,this.dom.tr&&((re?I.addClassName:I.removeClassName)(this.dom.tr,"jsoneditor-selected"),(le?I.addClassName:I.removeClassName)(this.dom.tr,"jsoneditor-first"),this.append&&this.append.setSelected(re),this.showMore&&this.showMore.setSelected(re),this.childs)&&this.childs.forEach(function(ve){ve.setSelected(re)})}},{key:"updateValue",value:function(re){this.value=re,this.previousValue=re,this.valueError=void 0,this.updateDom()}},{key:"updateField",value:function(re){this.field=re,this.previousField=re,this.fieldError=void 0,this.updateDom()}},{key:"updateDom",value:function(re){var le,ve;(ve=this.dom.tree)&&(ve.style.marginLeft=24*this.getLevel()+"px"),(ve=this.dom.field)&&(this.fieldEditable?(ve.contentEditable=this.editable.field,ve.spellcheck=!1,ve.className="jsoneditor-field"):(ve.contentEditable=!1,ve.className="jsoneditor-readonly"),le=void 0!==this.index?this.index:void 0!==this.field?this.field:(le=this.editor.options.schema?ie._findSchema(this.editor.options.schema,this.editor.options.schemaRefs||{},this.getPath()):void 0)&&le.title?le.title:this._hasChilds()?this.type:"",le=this._escapeHTML(le),document.activeElement!==ve&&le!==this._unescapeHTML((0,I.getInnerText)(ve))&&(ve.innerHTML=le),this._updateSchema(),this._updateEnumOptions()),(ve=this.dom.value)&&("array"===this.type||"object"===this.type?this.updateNodeName():(le=this._escapeHTML(this.value),document.activeElement!==ve&&le!==this._unescapeHTML((0,I.getInnerText)(ve))&&(ve.innerHTML=le))),(ve=this.dom.tr)&&("array"===this.type||"object"===this.type?((0,I.addClassName)(ve,"jsoneditor-expandable"),this.expanded?((0,I.addClassName)(ve,"jsoneditor-expanded"),(0,I.removeClassName)(ve,"jsoneditor-collapsed")):((0,I.addClassName)(ve,"jsoneditor-collapsed"),(0,I.removeClassName)(ve,"jsoneditor-expanded"))):((0,I.removeClassName)(ve,"jsoneditor-expandable"),(0,I.removeClassName)(ve,"jsoneditor-expanded"),(0,I.removeClassName)(ve,"jsoneditor-collapsed"))),this._updateDomField(),this._updateDomValue(),re&&!0===re.updateIndexes&&this._updateDomIndexes(),re&&!0===re.recurse&&this.childs&&this.childs.forEach(function(we){we.updateDom(re)}),this.error&&this.updateError(),this.append&&this.append.updateDom(),this.showMore&&this.showMore.updateDom(),this._updateCssClassName()}},{key:"_updateSchema",value:function(){this.editor&&this.editor.options&&(this.schema=this.editor.options.schema?ie._findSchema(this.editor.options.schema,this.editor.options.schemaRefs||{},this.getPath()):null,this.schema?this.enum=ie._findEnum(this.schema):delete this.enum)}},{key:"_updateDomIndexes",value:function(){var le=this.childs;this.dom.value&&le&&("array"===this.type?le.forEach(function(ve,we){ve.index=we,(ve=ve.dom.field)&&(ve.textContent=we)}):"object"===this.type&&le.forEach(function(ve){void 0!==ve.index&&(delete ve.index,void 0===ve.field)&&(ve.field="")}))}},{key:"_createDomValue",value:function(){var re;return"array"===this.type?(re=document.createElement("div")).textContent="[...]":"object"===this.type?(re=document.createElement("div")).textContent="{...}":(!this.editable.value&&(0,I.isUrl)(this.value)?(re=document.createElement("a")).href=this.value:((re=document.createElement("div")).contentEditable=this.editable.value,re.spellcheck=!1),re.innerHTML=this._escapeHTML(this.value)),re}},{key:"_createDomExpandButton",value:function(){var re=document.createElement("button");return re.type="button",this._hasChilds()?(re.className=this.expanded?"jsoneditor-button jsoneditor-expanded":"jsoneditor-button jsoneditor-collapsed",re.title=(0,x.Iu)("expandTitle")):(re.className="jsoneditor-button jsoneditor-invisible",re.title=""),re}},{key:"_createDomTree",value:function(){var re=this.dom,le=document.createElement("table"),we=document.createElement("tbody"),ve=(le.style.borderCollapse="collapse",le.className="jsoneditor-values",le.appendChild(we),document.createElement("tr"));return((((we.appendChild(ve),we=document.createElement("td")).className="jsoneditor-tree",ve.appendChild(we),re.expand=this._createDomExpandButton(),we.appendChild(re.expand),re.tdExpand=we,we=document.createElement("td")).className="jsoneditor-tree",ve.appendChild(we),re.field=this._createDomField(),we.appendChild(re.field),re.tdField=we,we=document.createElement("td")).className="jsoneditor-tree",ve.appendChild(we),"object"!==this.type&&"array"!==this.type&&(we.appendChild(document.createTextNode(":")),we.className="jsoneditor-separator"),re.tdSeparator=we,we=document.createElement("td")).className="jsoneditor-tree",ve.appendChild(we),re.value=this._createDomValue(),we.appendChild(re.value),re.tdValue=we,le}},{key:"onEvent",value:function(re){var le,ve=re.type,we=re.target||re.srcElement,Pe=this.dom,Ue=this,dt=this._hasChilds(),xt=(we!==Pe.drag&&we!==Pe.menu||("mouseover"===ve?this.editor.highlighter.highlight(this):"mouseout"===ve&&this.editor.highlighter.unhighlight()),"click"===ve&&we===Pe.menu&&((le=Ue.editor.highlighter).highlight(Ue),le.lock(),(0,I.addClassName)(Pe.menu,"jsoneditor-selected"),this.showContextMenu(Pe.menu,function(){(0,I.removeClassName)(Pe.menu,"jsoneditor-selected"),le.unlock(),le.unhighlight()})),"click"===ve&&we===Pe.expand&&dt&&this._onExpand(Kt=re.ctrlKey),"click"!==ve||re.target!==Ue.dom.tdColor&&re.target!==Ue.dom.color||!this.editable.value||this._showColorPicker(),"change"===ve&&we===Pe.checkbox&&(this.dom.value.textContent=String(!this.value),this._getDomValue(),this._updateDomDefault()),"change"===ve&&we===Pe.select&&(this.dom.value.innerHTML=this._escapeHTML(Pe.select.value),this._getDomValue(),this._updateDomValue()),Pe.value);if(we===xt)switch(ve){case"blur":case"change":this._getDomValue(),this._clearValueError(),this._updateDomValue();var Zt=this._escapeHTML(this.value);Zt!==this._unescapeHTML((0,I.getInnerText)(xt))&&(xt.innerHTML=Zt);break;case"input":case"keyup":this._getDomValue(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"click":re.ctrlKey&&this.editable.value&&(0,I.isUrl)(this.value)&&(re.preventDefault(),window.open(this.value,"_blank","noreferrer"));break;case"cut":case"paste":setTimeout(function(){Ue._getDomValue(),Ue._updateDomValue()},1)}var en=Pe.field;if(we===en)switch(ve){case"blur":this._getDomField(!0),this._updateDomField();var tn=this._escapeHTML(this.field);tn!==this._unescapeHTML((0,I.getInnerText)(en))&&(en.innerHTML=tn);break;case"input":this._getDomField(),this._updateSchema(),this._updateDomField(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"keyup":this._getDomField(),this._updateDomField();break;case"cut":case"paste":setTimeout(function(){Ue._getDomField(),Ue._updateDomField()},1)}var Kt=Pe.tree;Kt&&we===Kt.parentNode&&"click"===ve&&!re.hasMoved&&((void 0!==re.offsetX?re.offsetX<24*(this.getLevel()+1):re.pageX<(0,I.getAbsoluteLeft)(Pe.tdSeparator))||dt?en&&((0,I.setEndOfContentEditable)(en),en.focus()):xt&&!this.enum&&((0,I.setEndOfContentEditable)(xt),xt.focus())),(we!==Pe.tdExpand||dt)&&we!==Pe.tdField&&we!==Pe.tdSeparator||"click"!==ve||re.hasMoved||en&&((0,I.setEndOfContentEditable)(en),en.focus()),"keydown"===ve&&this.onKeyDown(re),"function"==typeof this.editor.options.onEvent&&this._onEvent(re)}},{key:"_onEvent",value:function(re){var le=(ve=re.target)===this.dom.field,ve=ve===this.dom.value||ve===this.dom.checkbox||ve===this.dom.select;(le||ve)&&(le={field:this.getField(),path:this.getPath()},ve&&!this._hasChilds()&&(le.value=this.getValue()),this.editor.options.onEvent(le,re))}},{key:"onKeyDown",value:function(re){var le,ve,we,Pe,Ue,dt,xt,Zt,en,tn,Kt,On,Dn,un,_t=re.which||re.keyCode,Yt=re.target||re.srcElement,Nn=re.ctrlKey,_n=re.shiftKey,Ut=re.altKey,tt=!1,lt="tree"===this.editor.options.mode,$t=0<this.editor.multiselection.nodes.length?this.editor.multiselection.nodes:[this],Mn=$t[0],si=$t[$t.length-1];13===_t?Yt===this.dom.value?this.editable.value&&!re.ctrlKey||(0,I.isUrl)(this.value)&&(window.open(this.value,"_blank","noreferrer"),tt=!0):Yt===this.dom.expand&&this._hasChilds()&&(this._onExpand(Dn=re.ctrlKey),Yt.focus(),tt=!0):68===_t?Nn&&lt&&(ie.onDuplicate($t),tt=!0):69===_t?Nn&&(this._onExpand(_n),Yt.focus(),tt=!0):77===_t&&lt?Nn&&(this.showContextMenu(Yt),tt=!0):46===_t&&lt?Nn&&(ie.onRemove($t),tt=!0):45===_t&&lt?Nn&&!_n?(this._onInsertBefore(),tt=!0):Nn&&_n&&(this._onInsertAfter(),tt=!0):35===_t?Ut&&((Dn=this._lastNode())&&Dn.focus(ie.focusElement||this._getElementName(Yt)),tt=!0):36===_t?Ut&&((Dn=this._firstNode())&&Dn.focus(ie.focusElement||this._getElementName(Yt)),tt=!0):37===_t?Ut&&!_n?((Dn=this._previousElement(Yt))&&this.focus(this._getElementName(Dn)),tt=!0):Ut&&_n&&lt&&(Dn=si.expanded?(Dn=si.getAppendDom())?Dn.nextSibling:void 0:si.getDom().nextSibling)&&(Kt=ie.getNodeFromTarget(Dn),On=ie.getNodeFromTarget(Dn=Dn.nextSibling),Kt)&&Kt instanceof z&&1!==si.parent.childs.length&&On&&On.parent&&(ve=this.editor.getDomSelection(),we=(Pe=Mn.parent).childs[si.getIndex()+1]||Pe.append,Ue=Mn.getIndex(),dt=On.getIndex(),xt=Pe.getInternalPath(),Zt=On.parent.getInternalPath(),$t.forEach(function(Ge){On.parent.moveBefore(Ge,On)}),this.focus(ie.focusElement||this._getElementName(Yt)),this.editor._onAction("moveNodes",{count:$t.length,fieldNames:$t.map(O),oldParentPath:Pe.getInternalPath(),newParentPath:Mn.parent.getInternalPath(),oldIndex:we.getIndex(),newIndex:Mn.getIndex(),oldIndexRedo:Ue,newIndexRedo:dt,oldParentPathRedo:xt,newParentPathRedo:Zt,oldSelection:ve,newSelection:this.editor.getDomSelection()})):38===_t?Ut&&!_n?((le=this._previousNode())&&(this.editor.deselect(!0),le.focus(ie.focusElement||this._getElementName(Yt))),tt=!0):!Ut&&Nn&&_n&&lt?((le=this._previousNode())&&((tn=this.editor.multiselection).start=tn.start||this,tn.end=le,en=this.editor._findTopLevelNodes(tn.start,tn.end),this.editor.select(en),le.focus("field")),tt=!0):Ut&&_n&&lt&&((le=Mn._previousNode())&&le.parent&&(ve=this.editor.getDomSelection(),we=(Pe=Mn.parent).childs[si.getIndex()+1]||Pe.append,Ue=Mn.getIndex(),dt=le.getIndex(),xt=Pe.getInternalPath(),Zt=le.parent.getInternalPath(),$t.forEach(function(Ge){le.parent.moveBefore(Ge,le)}),this.focus(ie.focusElement||this._getElementName(Yt)),this.editor._onAction("moveNodes",{count:$t.length,fieldNames:$t.map(O),oldParentPath:Pe.getInternalPath(),newParentPath:Mn.parent.getInternalPath(),oldIndex:we.getIndex(),newIndex:Mn.getIndex(),oldIndexRedo:Ue,newIndexRedo:dt,oldParentPathRedo:xt,newParentPathRedo:Zt,oldSelection:ve,newSelection:this.editor.getDomSelection()})),tt=!0):39===_t?Ut&&!_n?((Dn=this._nextElement(Yt))&&this.focus(this._getElementName(Dn)),tt=!0):Ut&&_n&&lt&&(Dn=Mn.getDom().previousSibling)&&(le=ie.getNodeFromTarget(Dn))&&le.parent&&!le.isVisible()&&(ve=this.editor.getDomSelection(),we=(Pe=Mn.parent).childs[si.getIndex()+1]||Pe.append,Ue=Mn.getIndex(),dt=le.getIndex(),xt=Pe.getInternalPath(),Zt=le.parent.getInternalPath(),$t.forEach(function(Ge){le.parent.moveBefore(Ge,le)}),this.focus(ie.focusElement||this._getElementName(Yt)),this.editor._onAction("moveNodes",{count:$t.length,fieldNames:$t.map(O),oldParentPath:Pe.getInternalPath(),newParentPath:Mn.parent.getInternalPath(),oldIndex:we.getIndex(),newIndex:Mn.getIndex(),oldIndexRedo:Ue,newIndexRedo:dt,oldParentPathRedo:xt,newParentPathRedo:Zt,oldSelection:ve,newSelection:this.editor.getDomSelection()})):40===_t&&(Ut&&!_n?((Kt=this._nextNode())&&(this.editor.deselect(!0),Kt.focus(ie.focusElement||this._getElementName(Yt))),tt=!0):!Ut&&Nn&&_n&&lt?((Kt=this._nextNode())&&((tn=this.editor.multiselection).start=tn.start||this,tn.end=Kt,en=this.editor._findTopLevelNodes(tn.start,tn.end),this.editor.select(en),Kt.focus("field")),tt=!0):Ut&&_n&&lt&&((un=(Kt=(Kt=(Kt=si.expanded?si.append?si.append._nextNode():void 0:si._nextNode())&&!Kt.isVisible()?Kt.parent.showMore:Kt)&&Kt instanceof z?si:Kt)&&(Kt._nextNode()||Kt.parent.append))&&un.parent&&(ve=this.editor.getDomSelection(),we=(Pe=Mn.parent).childs[si.getIndex()+1]||Pe.append,Ue=Mn.getIndex(),dt=un.getIndex(),xt=Pe.getInternalPath(),Zt=un.parent.getInternalPath(),$t.forEach(function(Ge){un.parent.moveBefore(Ge,un)}),this.focus(ie.focusElement||this._getElementName(Yt)),this.editor._onAction("moveNodes",{count:$t.length,fieldNames:$t.map(O),oldParentPath:Pe.getInternalPath(),newParentPath:Mn.parent.getInternalPath(),oldParentPathRedo:xt,newParentPathRedo:Zt,oldIndexRedo:Ue,newIndexRedo:dt,oldIndex:we.getIndex(),newIndex:Mn.getIndex(),oldSelection:ve,newSelection:this.editor.getDomSelection()})),tt=!0)),tt&&(re.preventDefault(),re.stopPropagation())}},{key:"_onExpand",value:function(re){var le,ve,we;re&&(we=(ve=(le=this.dom.tr.parentNode).parentNode).scrollTop,ve.removeChild(le)),this.expanded?this.collapse(re):this.expand(re),re&&(ve.appendChild(le),ve.scrollTop=we),"function"==typeof this.editor.options.onExpand&&this.editor.options.onExpand({path:this.getPath(),isExpand:this.expanded,recursive:re})}},{key:"_showColorPicker",value:function(){var re,le;"function"==typeof this.editor.options.onColorPicker&&this.dom.color&&((re=this)._deleteDomColor(),re.updateDom(),le=(0,D.w)(this.dom.color,this.editor.getPopupAnchor()),this.editor.options.onColorPicker(le,this.value,function(ve){"string"==typeof ve&&ve!==re.value&&(re._deleteDomColor(),re.value=ve,re.updateDom(),re._debouncedOnChangeValue())}))}},{key:"getFieldNames",value:function(re){return"object"===this.type?this.childs.filter(function(le){return le!==re}).map(function(le){return le.field}):[]}},{key:"_onInsertBefore",value:function(Pe,Ue,dt){var we=this.editor.getDomSelection();(Pe=new ie(this.editor,{field:void 0!==Pe?Pe:"",value:void 0!==Ue?Ue:"",type:dt})).expand(!0),Ue=this.getInternalPath(),this.parent.insertBefore(Pe,this),this.editor.highlighter.unhighlight(),Pe.focus("field"),dt=this.editor.getDomSelection(),this.editor._onAction("insertBeforeNodes",{nodes:[Pe],paths:[Pe.getInternalPath()],beforePath:Ue,parentPath:this.parent.getInternalPath(),oldSelection:we,newSelection:dt})}},{key:"_onInsertAfter",value:function(Pe,Ue,ve){var we=this.editor.getDomSelection();(Pe=new ie(this.editor,{field:void 0!==Pe?Pe:"",value:void 0!==Ue?Ue:"",type:ve})).expand(!0),this.parent.insertAfter(Pe,this),this.editor.highlighter.unhighlight(),Pe.focus("field"),Ue=this.editor.getDomSelection(),this.editor._onAction("insertAfterNodes",{nodes:[Pe],paths:[Pe.getInternalPath()],afterPath:this.getInternalPath(),parentPath:this.parent.getInternalPath(),oldSelection:we,newSelection:Ue})}},{key:"_onAppend",value:function(Pe,Ue,ve){var we=this.editor.getDomSelection();(Pe=new ie(this.editor,{field:void 0!==Pe?Pe:"",value:void 0!==Ue?Ue:"",type:ve})).expand(!0),this.parent.appendChild(Pe),this.editor.highlighter.unhighlight(),Pe.focus("field"),Ue=this.editor.getDomSelection(),this.editor._onAction("appendNodes",{nodes:[Pe],paths:[Pe.getInternalPath()],parentPath:this.parent.getInternalPath(),oldSelection:we,newSelection:Ue})}},{key:"_onChangeType",value:function(re){var le,ve,we=this.type;re!==we&&(le=this.editor.getDomSelection(),this.changeType(re),ve=this.editor.getDomSelection(),this.editor._onAction("changeType",{path:this.getInternalPath(),oldType:we,newType:re,oldSelection:le,newSelection:ve}))}},{key:"sort",value:function(re,le){var ve,we,Pe=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];"string"==typeof re&&(re=(0,I.parsePath)(re)),this._hasChilds()&&(this.hideChilds(),ve=this.childs,this.childs=this.childs.concat(),we="desc"===le?-1:1,this.childs.sort("object"===this.type?function(Ue,dt){return we*m()(Ue.field,dt.field)}:function(xt,Zt){return xt=xt.getNestedChild(re),Zt=Zt.getNestedChild(re),xt?Zt?(Zt=Zt.value,"string"!=typeof(xt=xt.value)&&"string"!=typeof Zt?Zt<xt?we:xt<Zt?-we:0:we*m()(xt,Zt)):-we:we}),this._updateDomIndexes(),this.showChilds(),!0===Pe)&&this.editor._onAction("sort",{path:this.getInternalPath(),oldChilds:ve,newChilds:this.childs})}},{key:"update",value:function(re){var le=this.getInternalValue();this.setValue(re),this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:le,newValue:this.getInternalValue()})}},{key:"_detachFromDom",value:function(){var re=this.dom.tr?this.dom.tr.parentNode:void 0,le=(le=this.expanded?this.getAppendDom():this.getDom())&&le.parentNode?le.nextSibling:void 0;return this.hide({resetVisibleChilds:!1}),{table:re,nextTr:le}}},{key:"_attachToDom",value:function(re){re.table&&(re.nextTr?re.table.insertBefore(this.getDom(),re.nextTr):re.table.appendChild(this.getDom())),this.expanded&&this.showChilds()}},{key:"transform",value:function(re){if(this._hasChilds()){this.hideChilds();try{var le=this.getInternalValue(),ve=this.getValue(),we=this.editor.options.executeQuery(ve,re),Pe=(this.setValue(we),this.getInternalValue());this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:le,newValue:Pe}),this.showChilds()}catch(Ue){this.showChilds(),this.editor._onError(Ue)}}}},{key:"extract",value:function(){this.editor.node.hideChilds(),this.hideChilds();try{var re=this.editor.node.getInternalValue(),le=(this.editor._setRoot(this),this.editor.node.getInternalValue());this.editor._onAction("transform",{path:this.editor.node.getInternalPath(),oldValue:re,newValue:le})}catch(ve){this.editor._onError(ve)}finally{this.updateDom({recurse:!0}),this.showChilds()}}},{key:"getNestedChild",value:function(re){for(var le=0,ve=this;ve&&le<re.length;)ve=ve.findChildByProperty(re[le]),le++;return ve}},{key:"findChildByProperty",value:function(re){if("object"===this.type)return this.childs.find(function(le){return le.field===re})}},{key:"getAppendDom",value:function(){return this.append||(this.append=new z(this.editor),this.append.setParent(this)),this.append.getDom()}},{key:"getShowMoreDom",value:function(){return this.showMore||(this.showMore=new Q(this.editor,this)),this.showMore.getDom()}},{key:"nextSibling",value:function(){var re=this.parent.childs.indexOf(this);return this.parent.childs[re+1]||this.parent.append}},{key:"_previousNode",value:function(){var re=null,le=this.getDom();if(le&&le.parentNode)for(var ve=le;re=ie.getNodeFromTarget(ve=ve.previousSibling),ve&&re&&re instanceof z&&!re.isVisible(););return re}},{key:"_nextNode",value:function(){var re=null,le=this.getDom();if(le&&le.parentNode)for(var ve=le;re=ie.getNodeFromTarget(ve=ve.nextSibling),ve&&re&&re instanceof z&&!re.isVisible(););return re}},{key:"_firstNode",value:function(){var re=null,le=this.getDom();return le&&le.parentNode&&(re=ie.getNodeFromTarget(le=le.parentNode.firstChild)),re}},{key:"_lastNode",value:function(){var re=null,le=this.getDom();if(le&&le.parentNode){var ve=le.parentNode.lastChild;for(re=ie.getNodeFromTarget(ve);ve&&re&&!re.isVisible();)re=ie.getNodeFromTarget(ve=ve.previousSibling)}return re}},{key:"_previousElement",value:function(re){var le=this.dom;switch(re){case le.value:if(this.fieldEditable)return le.field;case le.field:if(this._hasChilds())return le.expand;case le.expand:return le.menu;case le.menu:if(le.drag)return le.drag;default:return null}}},{key:"_nextElement",value:function(re){var le=this.dom;switch(re){case le.drag:return le.menu;case le.menu:if(this._hasChilds())return le.expand;case le.expand:if(this.fieldEditable)return le.field;case le.field:if(!this._hasChilds())return le.value;default:return null}}},{key:"_getElementName",value:function(re){var le=this;return Object.keys(this.dom).find(function(ve){return le.dom[ve]===re})}},{key:"_hasChilds",value:function(){return"array"===this.type||"object"===this.type}},{key:"addTemplates",value:function(re,le){var ve=this,we=ve.editor.options.templates;null!=we&&(we.length&&re.push({type:"separator"}),we.forEach(function(Pe){re.push({text:Pe.text,className:Pe.className||"jsoneditor-type-object",title:Pe.title,click:(le?function(Ue,dt){ve._onAppend(Ue,dt)}:function(Ue,dt){ve._onInsertBefore(Ue,dt)}).bind(this,Pe.field,Pe.value)})}))}},{key:"showContextMenu",value:function(re,le){var ve,we=this,Pe=[];this.editable.value&&Pe.push({text:(0,x.Iu)("type"),title:(0,x.Iu)("typeTitle"),className:"jsoneditor-type-"+this.type,submenu:[{text:(0,x.Iu)("auto"),className:"jsoneditor-type-auto"+("auto"===this.type?" jsoneditor-selected":""),title:(0,x.Iu)("autoType"),click:function(){we._onChangeType("auto")}},{text:(0,x.Iu)("array"),className:"jsoneditor-type-array"+("array"===this.type?" jsoneditor-selected":""),title:(0,x.Iu)("arrayType"),click:function(){we._onChangeType("array")}},{text:(0,x.Iu)("object"),className:"jsoneditor-type-object"+("object"===this.type?" jsoneditor-selected":""),title:(0,x.Iu)("objectType"),click:function(){we._onChangeType("object")}},{text:(0,x.Iu)("string"),className:"jsoneditor-type-string"+("string"===this.type?" jsoneditor-selected":""),title:(0,x.Iu)("stringType"),click:function(){we._onChangeType("string")}}]}),this._hasChilds()&&(this.editor.options.enableSort&&Pe.push({text:(0,x.Iu)("sort"),title:(0,x.Iu)("sortTitle",{type:this.type}),className:"jsoneditor-sort-asc",click:function(){we.showSortModal()}}),this.editor.options.enableTransform&&Pe.push({text:(0,x.Iu)("transform"),title:(0,x.Iu)("transformTitle",{type:this.type}),className:"jsoneditor-transform",click:function(){we.showTransformModal()}}),this.parent)&&Pe.push({text:(0,x.Iu)("extract"),title:(0,x.Iu)("extractTitle",{type:this.type}),className:"jsoneditor-extract",click:function(){we.extract()}}),this.parent&&this.parent._hasChilds()&&(Pe.length&&Pe.push({type:"separator"}),we===(ve=we.parent.childs)[ve.length-1]&&(ve=[{text:(0,x.Iu)("auto"),className:"jsoneditor-type-auto",title:(0,x.Iu)("autoType"),click:function(){we._onAppend("","","auto")}},{text:(0,x.Iu)("array"),className:"jsoneditor-type-array",title:(0,x.Iu)("arrayType"),click:function(){we._onAppend("",[])}},{text:(0,x.Iu)("object"),className:"jsoneditor-type-object",title:(0,x.Iu)("objectType"),click:function(){we._onAppend("",{})}},{text:(0,x.Iu)("string"),className:"jsoneditor-type-string",title:(0,x.Iu)("stringType"),click:function(){we._onAppend("","","string")}}],we.addTemplates(ve,!0),Pe.push({text:(0,x.Iu)("appendText"),title:(0,x.Iu)("appendTitle"),submenuTitle:(0,x.Iu)("appendSubmenuTitle"),className:"jsoneditor-append",click:function(){we._onAppend("","","auto")},submenu:ve})),ve=[{text:(0,x.Iu)("auto"),className:"jsoneditor-type-auto",title:(0,x.Iu)("autoType"),click:function(){we._onInsertBefore("","","auto")}},{text:(0,x.Iu)("array"),className:"jsoneditor-type-array",title:(0,x.Iu)("arrayType"),click:function(){we._onInsertBefore("",[])}},{text:(0,x.Iu)("object"),className:"jsoneditor-type-object",title:(0,x.Iu)("objectType"),click:function(){we._onInsertBefore("",{})}},{text:(0,x.Iu)("string"),className:"jsoneditor-type-string",title:(0,x.Iu)("stringType"),click:function(){we._onInsertBefore("","","string")}}],we.addTemplates(ve,!1),Pe.push({text:(0,x.Iu)("insert"),title:(0,x.Iu)("insertTitle"),submenuTitle:(0,x.Iu)("insertSub"),className:"jsoneditor-insert",click:function(){we._onInsertBefore("","","auto")},submenu:ve}),this.editable.field)&&(Pe.push({text:(0,x.Iu)("duplicateText"),title:(0,x.Iu)("duplicateField"),className:"jsoneditor-duplicate",click:function(){ie.onDuplicate(we)}}),Pe.push({text:(0,x.Iu)("removeText"),title:(0,x.Iu)("removeField"),className:"jsoneditor-remove",click:function(){ie.onRemove(we)}})),this.editor.options.onCreateMenu&&(ve=we.getPath(),Pe=this.editor.options.onCreateMenu(Pe,{type:"single",path:ve,paths:[ve]})),new $.x(Pe,{close:le}).show(re,this.editor.getPopupAnchor())}},{key:"showSortModal",value:function(){var re=this,le=this.editor.options.modalAnchor||p.qD,ve=this.getValue();(0,T.showSortModal)(le,ve,function(we){var Pe=(0,I.parsePath)(Pe=we.path);re.sortedBy=we,re.sort(Pe,we.direction)},re.sortedBy)}},{key:"showTransformModal",value:function(){var re=this,le=(Pe=this.editor.options).modalAnchor,ve=Pe.createQuery,we=Pe.executeQuery,Pe=Pe.queryDescription,Ue=this.getValue();(0,w.showTransformModal)({container:le||p.qD,json:Ue,queryDescription:Pe,createQuery:ve,executeQuery:we,onTransform:function(dt){re.transform(dt)}})}},{key:"_getType",value:function(re){return re instanceof Array?"array":re instanceof Object?"object":"string"==typeof re&&"string"!=typeof(0,I.parseString)(re)?"string":"auto"}},{key:"_escapeHTML",value:function(re){return"string"!=typeof re?String(re):(re=String(re).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ {2}/g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),re=(re=JSON.stringify(re)).substring(1,re.length-1),!0===this.editor.options.escapeUnicode?(0,I.escapeUnicodeChars)(re):re)}},{key:"_unescapeHTML",value:function(re){return re='"'+this._escapeJSON(re)+'"',(0,I.parse)(re).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"&")}},{key:"_escapeJSON",value:function(re){for(var le="",ve=0;ve<re.length;){var we=re.charAt(ve);"\n"===we?le+="\\n":"\\"===we?(le+=we,ve++,""!==(we=re.charAt(ve))&&-1!=='"\\/bfnrtu'.indexOf(we)||(le+="\\"),le+=we):le+='"'===we?'\\"':we,ve++}return le}},{key:"updateNodeName",value:function(){var re=this.childs?this.childs.length:0;if("object"===this.type||"array"===this.type){if(this.editor.options.onNodeName)try{var le=this.getValue.bind(this),ve=this.editor.options.onNodeName({path:this.getPath(),size:re,type:this.type,get value(){return le()}})}catch(we){console.error("Error in onNodeName callback: ",we)}this.dom.value.textContent="object"===this.type?"{"+(ve||re)+"}":"["+(ve||re)+"]"}}},{key:"recursivelyUpdateNodeName",value:function(){if(this.expanded&&(this.updateNodeName(),"undefined"!==this.childs))for(var re in this.childs)this.childs[re].recursivelyUpdateNodeName()}}])&&f(de.prototype,me),Object.defineProperty(de,"prototype",{writable:!1}),ie}(),C=(v.prototype.DEBOUNCE_INTERVAL=150,v.prototype.MAX_SEARCH_RESULTS=999,100);function S(ie){return ie.getInternalPath()}function O(ie){return ie.getField()}function N(ie,de){return Object.prototype.hasOwnProperty.call(ie,de)}v.focusElement=void 0,v.select=function(ie){setTimeout(function(){(0,I.selectContentEditable)(ie)},0)},v.onDragStart=function(ie,de){if(!Array.isArray(ie))return v.onDragStart([ie],de);var me,Ce,re,le,ve;0!==ie.length&&(Ce=ie[ie.length-1],re=(me=ie[0]).parent,ve=v.getNodeFromTarget(de.target),le=me.editor,ve=(0,I.getAbsoluteTop)(ve.dom.tr)-(0,I.getAbsoluteTop)(me.dom.tr),le.mousemove||(le.mousemove=(0,I.addEventListener)(de.view,"mousemove",function(we){v.onDrag(ie,we)})),le.mouseup||(le.mouseup=(0,I.addEventListener)(de.view,"mouseup",function(we){v.onDragEnd(ie,we)})),le.highlighter.lock(),le.drag={oldCursor:document.body.style.cursor,oldSelection:le.getDomSelection(),oldPaths:ie.map(S),oldParent:re,oldNextNode:re.childs[Ce.getIndex()+1]||re.append,oldParentPathRedo:re.getInternalPath(),oldIndexRedo:me.getIndex(),mouseX:de.pageX,offsetY:ve,level:me.getLevel()},document.body.style.cursor="move",de.preventDefault())},v.onDrag=function(ie,de){if(!Array.isArray(ie))return v.onDrag([ie],de);if(0!==ie.length){var me,Ce,re,le,ve,we=ie[0].editor,Pe=de.pageY-we.drag.offsetY,Ue=de.pageX,dt=!1,xt=ie[0],Zt=xt.dom.tr,en=(0,I.getAbsoluteTop)(Zt),tn=Zt.offsetHeight;if(Pe<en){for(un=Zt;_t=v.getNodeFromTarget(un=un.previousSibling),re=un?(0,I.getAbsoluteTop)(un):0,un&&Pe<re;);(_t=_t&&!_t.parent?void 0:_t)||(un=(Zt=Zt.parentNode.firstChild)?Zt.nextSibling:void 0,(_t=v.getNodeFromTarget(un))===xt&&(_t=void 0)),!(_t=_t&&_t.isVisible()&&(re=(un=_t.dom.tr)?(0,I.getAbsoluteTop)(un):0)+tn<Pe?void 0:_t)||!1!==we.options.limitDragging&&_t.parent!==ie[0].parent||(ie.forEach(function(Nn){_t.parent.moveBefore(Nn,_t)}),dt=!0)}else{var Kt=ie[ie.length-1];if(tn=(Zt=Kt.expanded&&Kt.append?Kt.append.getDom():Kt.dom.tr)?Zt.nextSibling:void 0){for(le=(0,I.getAbsoluteTop)(tn),me=tn;Ce=v.getNodeFromTarget(me),me&&(ve=me.nextSibling?(0,I.getAbsoluteTop)(me.nextSibling):0,ve=me?ve-le:0,Ce&&Ce.parent.childs.length===ie.length&&Ce.parent.childs[ie.length-1]===Kt&&(en+=27),me=me.nextSibling),me&&en+ve<Pe;);if(Ce&&Ce.parent){tn=Ue-we.drag.mouseX,tn=Math.round(tn/24/2);for(var On=we.drag.level+tn,Dn=Ce.getLevel(),un=Ce.dom.tr&&Ce.dom.tr.previousSibling;Dn<On&&un;){var _t=v.getNodeFromTarget(un),Yt=ie.some(function(_n){return _n===_t||_t.isDescendantOf(_n)});if(!Yt){if(!(_t instanceof z)||(Yt=_t.parent.childs).length===ie.length&&Yt[ie.length-1]===Kt)break;Dn=(Ce=v.getNodeFromTarget(un)).getLevel()}un=un.previousSibling}(Ce=Ce instanceof z&&!Ce.isVisible()&&Ce.parent.showMore.isVisible()?Ce._nextNode():Ce)&&(!1===we.options.limitDragging||Ce.parent===ie[0].parent)&&Ce.dom.tr&&Ce.dom.tr!==Zt.nextSibling&&(ie.forEach(function(Nn){Ce.parent.moveBefore(Nn,Ce)}),dt=!0)}}}dt&&(we.drag.mouseX=Ue,we.drag.level=xt.getLevel()),we.startAutoScroll(Pe),de.preventDefault()}},v.onDragEnd=function(ie,de){if(!Array.isArray(ie))return v.onDrag([ie],de);var me,Ce,re,le,ve,we,Pe,Ue,dt;0!==ie.length&&(me=(we=ie[0]).editor,we&&we.dom.menu&&we.dom.menu.focus(),Ce=me.drag.oldParent.getInternalPath(),re=we.parent.getInternalPath(),le=me.drag.oldParent===we.parent,ve=me.drag.oldNextNode.getIndex(),we=we.getIndex(),Pe=me.drag.oldParentPathRedo,Ue=me.drag.oldIndexRedo,dt=le&&Ue<we?we+ie.length:we,le&&Ue===we||me._onAction("moveNodes",{count:ie.length,fieldNames:ie.map(O),oldParentPath:Ce,newParentPath:re,oldIndex:ve,newIndex:we,oldIndexRedo:Ue,newIndexRedo:dt,oldParentPathRedo:Pe,newParentPathRedo:null,oldSelection:me.drag.oldSelection,newSelection:me.getDomSelection()}),document.body.style.cursor=me.drag.oldCursor,me.highlighter.unlock(),ie.forEach(function(xt){xt.updateDom(),de.target!==xt.dom.drag&&de.target!==xt.dom.menu&&me.highlighter.unhighlight()}),delete me.drag,me.mousemove&&((0,I.removeEventListener)(de.view,"mousemove",me.mousemove),delete me.mousemove),me.mouseup&&((0,I.removeEventListener)(de.view,"mouseup",me.mouseup),delete me.mouseup),me.stopAutoScroll(),de.preventDefault())},v._findEnum=function(ie){return ie.enum?ie.enum:(ie=ie.oneOf||ie.anyOf||ie.allOf)&&0<(ie=ie.filter(function(de){return de.enum})).length?ie[0].enum:null},v._findSchema=function(ie,de,me){for(var Ce=3<arguments.length&&void 0!==arguments[3]?arguments[3]:ie,re=me.slice(1,me.length),le=me[0],ve=[Ce],we=0,Pe=[Ce.oneOf,Ce.anyOf,Ce.allOf];we<Pe.length;we++){var Ue=Pe[we];Array.isArray(Ue)&&(ve=ve.concat(Ue))}var dt,xt=u(ve);try{for(xt.s();!(dt=xt.n()).done;){if("$ref"in(Ce=dt.value)&&"string"==typeof Ce.$ref){var Zt,en=Ce.$ref;if(en in de)Ce=de[en];else{if(!en.startsWith("#/")){if(1===(null==(Zt=en.match(/#\//g))?void 0:Zt.length)){var tn,Kt,On,Dn=h(en.split("#/"),2),un=Dn[0];if(un in de)return tn=de[un],Kt={$ref:"#/".concat(Dn[1])},(On=[]).push(le),0<re.length&&On.push.apply(On,y(re)),v._findSchema(tn,de,On,Kt)}throw Error("Unable to resolve reference ".concat(en))}var Yt,Nn=en.substring(2).split("/"),_n=(Ce=ie,u(Nn));try{for(_n.s();!(Yt=_n.n()).done;){var Ut=Yt.value;if(!(Ut in Ce))throw Error("Unable to resolve reference ".concat(en));Ce=Ce[Ut]}}catch($t){_n.e($t)}finally{_n.f()}}}if(void 0===le)return Ce;if("string"==typeof le){if("object"===g(Ce.properties)&&null!==Ce.properties&&le in Ce.properties)return v._findSchema(ie,de,re,Ce=Ce.properties[le]);if("object"===g(Ce.patternProperties)&&null!==Ce.patternProperties)for(var tt in Ce.patternProperties)if(le.match(tt))return v._findSchema(ie,de,re,Ce=Ce.patternProperties[tt]);if("object"===g(Ce.additionalProperties))return v._findSchema(ie,de,re,Ce=Ce.additionalProperties)}else if("number"==typeof le&&"object"===g(Ce.items)&&null!==Ce.items)return v._findSchema(ie,de,re,Ce=Ce.items)}}catch(lt){xt.e(lt)}finally{xt.f()}return null},v.onRemove=function(ie){if(!Array.isArray(ie))return v.onRemove([ie]);var de,me,Ce,re,le,ve;ie&&0<ie.length&&(de=(Ce=ie[0]).parent,me=Ce.editor,Ce=Ce.getIndex(),me.highlighter.unhighlight(),re=me.getDomSelection(),v.blurNodes(ie),le=me.getDomSelection(),ve=ie.map(S),ie.forEach(function(we){we.parent._remove(we)}),me._onAction("removeNodes",{nodes:ie,paths:ve,parentPath:de.getInternalPath(),index:Ce,oldSelection:re,newSelection:le}))},v.onDuplicate=function(ie){if(!Array.isArray(ie))return v.onDuplicate([ie]);var de,me,Ce,re,le,ve,we;ie&&0<ie.length&&(me=(de=ie[ie.length-1]).parent,(Ce=de.editor).deselect(Ce.multiselection.nodes),re=Ce.getDomSelection(),le=de,ve=ie.map(function(Pe){var Ue,dt=Pe.clone();return"object"===Pe.parent.type&&(Ue=Pe.parent.getFieldNames(),dt.field=(0,I.findUniqueName)(Pe.field,Ue)),me.insertAfter(dt,le),le=dt}),1===ie.length?"object"===ve[0].parent.type?(ve[0].dom.field.innerHTML=ie[0]._escapeHTML(ie[0].field),ve[0].focus("field")):ve[0].focus():Ce.select(ve),we=Ce.getDomSelection(),Ce._onAction("duplicateNodes",{paths:ie.map(S),clonePaths:ve.map(S),afterPath:de.getInternalPath(),parentPath:me.getInternalPath(),oldSelection:re,newSelection:we}))},v.getNodeFromTarget=function(ie){for(;ie;){if(ie.node)return ie.node;ie=ie.parentNode}},v.targetIsColorPicker=function(ie){var de=v.getNodeFromTarget(ie);if(de)for(var me=ie&&ie.parentNode;me;){if(me===de.dom.color)return!0;me=me.parentNode}return!1},v.blurNodes=function(ie){var de,me;Array.isArray(ie)?(de=(me=ie[0]).parent,me=me.getIndex(),(de.childs[me+ie.length]?de.childs[me+ie.length]:de.childs[me-1]||de).focus()):v.blurNodes([ie])},(K.prototype=new v).getDom=function(){var ie=this.dom;if(ie.tr)return ie.tr;this._updateEditability();var de=document.createElement("tr"),me=(de.className="jsoneditor-append",de.node=this,ie.tr=de,"tree"===this.editor.options.mode&&(ie.tdDrag=document.createElement("td"),Ce=document.createElement("td"),ie.tdMenu=Ce,(me=document.createElement("button")).type="button",me.className="jsoneditor-button jsoneditor-contextmenu-button",me.title="Click to open the actions menu (Ctrl+M)",ie.menu=me,Ce.appendChild(ie.menu)),document.createElement("td")),Ce=document.createElement("div");return Ce.appendChild(document.createTextNode("("+(0,x.Iu)("empty")+")")),Ce.className="jsoneditor-readonly",me.appendChild(Ce),ie.td=me,ie.text=Ce,this.updateDom(),de},K.prototype.getPath=function(){return null},K.prototype.getIndex=function(){return null},K.prototype.updateDom=function(ie){var de=this.dom,me=de.td,Ce=(me&&(me.style.paddingLeft=24*this.getLevel()+26+"px"),(Ce=de.text)&&(Ce.firstChild.nodeValue="("+(0,x.Iu)("empty")+" "+this.parent.type+")"),de.tr);this.isVisible()?de.tr.firstChild||(de.tdDrag&&Ce.appendChild(de.tdDrag),de.tdMenu&&Ce.appendChild(de.tdMenu),Ce.appendChild(me)):de.tr.firstChild&&(de.tdDrag&&Ce.removeChild(de.tdDrag),de.tdMenu&&Ce.removeChild(de.tdMenu),Ce.removeChild(me))},K.prototype.isVisible=function(){return 0===this.parent.childs.length},K.prototype.showContextMenu=function(ie,de){var me,Ce=this,re=[{text:(0,x.Iu)("auto"),className:"jsoneditor-type-auto",title:(0,x.Iu)("autoType"),click:function(){Ce._onAppend("","","auto")}},{text:(0,x.Iu)("array"),className:"jsoneditor-type-array",title:(0,x.Iu)("arrayType"),click:function(){Ce._onAppend("",[])}},{text:(0,x.Iu)("object"),className:"jsoneditor-type-object",title:(0,x.Iu)("objectType"),click:function(){Ce._onAppend("",{})}},{text:(0,x.Iu)("string"),className:"jsoneditor-type-string",title:(0,x.Iu)("stringType"),click:function(){Ce._onAppend("","","string")}}];Ce.addTemplates(re,!0),re=[{text:(0,x.Iu)("appendText"),title:(0,x.Iu)("appendTitleAuto"),submenuTitle:(0,x.Iu)("appendSubmenuTitle"),className:"jsoneditor-insert",click:function(){Ce._onAppend("","","auto")},submenu:re}],this.editor.options.onCreateMenu&&(me=Ce.parent.getPath(),re=this.editor.options.onCreateMenu(re,{type:"append",path:me,paths:[me]})),new $.x(re,{close:de}).show(ie,this.editor.getPopupAnchor())},K.prototype.onEvent=function(ie){var de,me=ie.type,Ce=ie.target||ie.srcElement,re=this.dom;Ce===re.menu&&("mouseover"===me?this.editor.highlighter.highlight(this.parent):"mouseout"===me&&this.editor.highlighter.unhighlight()),"click"===me&&Ce===re.menu&&((de=this.editor.highlighter).highlight(this.parent),de.lock(),(0,I.addClassName)(re.menu,"jsoneditor-selected"),this.showContextMenu(re.menu,function(){(0,I.removeClassName)(re.menu,"jsoneditor-selected"),de.unlock(),de.unhighlight()})),"keydown"===me&&this.onKeyDown(ie)};var z=K;function K(ie){this.editor=ie,this.dom={}}(ue.prototype=new v).getDom=function(){var ie,de,me,Ce,re,le;return this.dom.tr||(this._updateEditability(),this.dom.tr||(de=(ie=this).parent,(re=document.createElement("a")).appendChild(document.createTextNode((0,x.Iu)("showMore"))),re.href="#",re.onclick=function(ve){return de.visibleChilds=Math.floor(de.visibleChilds/de.getMaxVisibleChilds()+1)*de.getMaxVisibleChilds(),ie.updateDom(),de.showChilds(),ve.preventDefault(),!1},(le=document.createElement("a")).appendChild(document.createTextNode((0,x.Iu)("showAll"))),le.href="#",le.onclick=function(ve){return de.visibleChilds=1/0,ie.updateDom(),de.showChilds(),ve.preventDefault(),!1},me=document.createElement("div"),Ce=document.createTextNode(this._getShowMoreText()),me.className="jsoneditor-show-more",me.appendChild(Ce),me.appendChild(re),me.appendChild(document.createTextNode(". ")),me.appendChild(le),me.appendChild(document.createTextNode(". ")),(re=document.createElement("td")).appendChild(me),le=document.createElement("tr"),"tree"===this.editor.options.mode&&(le.appendChild(document.createElement("td")),le.appendChild(document.createElement("td"))),le.appendChild(re),le.className="jsoneditor-show-more",this.dom.tr=le,this.dom.moreContents=me,this.dom.moreText=Ce),this.updateDom()),this.dom.tr},ue.prototype.updateDom=function(ie){var de;this.isVisible()?(this.dom.tr.node=this.parent.childs[this.parent.visibleChilds],this.dom.tr.parentNode||(de=this.parent._getNextTr())&&de.parentNode.insertBefore(this.dom.tr,de),this.dom.moreText.nodeValue=this._getShowMoreText(),this.dom.moreContents.style.marginLeft=24*(this.getLevel()+1)+"px"):this.dom.tr&&this.dom.tr.parentNode&&this.dom.tr.parentNode.removeChild(this.dom.tr)},ue.prototype._getShowMoreText=function(){return(0,x.Iu)("showMoreStatus",{visibleChilds:this.parent.visibleChilds,totalChilds:this.parent.childs.length})+" "},ue.prototype.isVisible=function(){return this.parent.expanded&&this.parent.childs.length>this.parent.visibleChilds},ue.prototype.onEvent=function(ie){"keydown"===ie.type&&this.onKeyDown(ie)};var Q=ue;function ue(ie,de){this.editor=ie,this.parent=de,this.dom={}}function oe(ie){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(ie)}function pe(ie,de){for(var me=0;me<de.length;me++){var Ce=de[me];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(ie,(re=function(le,ve){if("object"!==oe(le)||null===le)return le;var we=le[Symbol.toPrimitive];if(void 0===we)return String(le);if("object"!==oe(we=we.call(le,"string")))return we;throw new TypeError("@@toPrimitive must return a primitive value.")}(re=Ce.key),"symbol"===oe(re)?re:String(re)),Ce)}var re}var F=function(){function ie(re){if(!(this instanceof ie))throw new TypeError("Cannot call a class as a function");function le(ve){return re.node.findNodeByInternalPath(ve)}this.editor=re,this.history=[],this.index=-1,this.clear(),this.actions={editField:{undo:function(ve){le(ve.parentPath).childs[ve.index].updateField(ve.oldValue)},redo:function(ve){le(ve.parentPath).childs[ve.index].updateField(ve.newValue)}},editValue:{undo:function(ve){le(ve.path).updateValue(ve.oldValue)},redo:function(ve){le(ve.path).updateValue(ve.newValue)}},changeType:{undo:function(ve){le(ve.path).changeType(ve.oldType)},redo:function(ve){le(ve.path).changeType(ve.newType)}},appendNodes:{undo:function(ve){var we=le(ve.parentPath);ve.paths.map(le).forEach(function(Pe){we.removeChild(Pe)})},redo:function(ve){var we=le(ve.parentPath);ve.nodes.forEach(function(Pe){we.appendChild(Pe)})}},insertBeforeNodes:{undo:function(ve){var we=le(ve.parentPath);ve.paths.map(le).forEach(function(Pe){we.removeChild(Pe)})},redo:function(ve){var we=le(ve.parentPath),Pe=le(ve.beforePath);ve.nodes.forEach(function(Ue){we.insertBefore(Ue,Pe)})}},insertAfterNodes:{undo:function(ve){var we=le(ve.parentPath);ve.paths.map(le).forEach(function(Pe){we.removeChild(Pe)})},redo:function(ve){var we=le(ve.parentPath),Pe=le(ve.afterPath);ve.nodes.forEach(function(Ue){we.insertAfter(Ue,Pe),Pe=Ue})}},removeNodes:{undo:function(ve){var we=le(ve.parentPath),Pe=we.childs[ve.index]||we.append;ve.nodes.forEach(function(Ue){we.insertBefore(Ue,Pe)})},redo:function(ve){var we=le(ve.parentPath);ve.paths.map(le).forEach(function(Pe){we.removeChild(Pe)})}},duplicateNodes:{undo:function(ve){var we=le(ve.parentPath);ve.clonePaths.map(le).forEach(function(Pe){we.removeChild(Pe)})},redo:function(ve){var we=le(ve.parentPath),Pe=le(ve.afterPath);ve.paths.map(le).forEach(function(Ue){var dt,xt=Ue.clone();"object"===we.type&&(dt=we.getFieldNames(),xt.field=(0,I.findUniqueName)(Ue.field,dt)),we.insertAfter(xt,Pe),Pe=xt})}},moveNodes:{undo:function(ve){var we=le(ve.oldParentPath),Pe=le(ve.newParentPath),Ue=we.childs[ve.oldIndex]||we.append;Pe.childs.slice(ve.newIndex,ve.newIndex+ve.count).forEach(function(dt,xt){dt.field=ve.fieldNames[xt],we.moveBefore(dt,Ue)}),null===ve.newParentPathRedo&&(ve.newParentPathRedo=Pe.getInternalPath())},redo:function(ve){var we=le(ve.oldParentPathRedo),Pe=le(ve.newParentPathRedo),Ue=Pe.childs[ve.newIndexRedo]||Pe.append;we.childs.slice(ve.oldIndexRedo,ve.oldIndexRedo+ve.count).forEach(function(dt,xt){dt.field=ve.fieldNames[xt],Pe.moveBefore(dt,Ue)})}},sort:{undo:function(ve){var we=le(ve.path);we.hideChilds(),we.childs=ve.oldChilds,we.updateDom({updateIndexes:!0}),we.showChilds()},redo:function(ve){var we=le(ve.path);we.hideChilds(),we.childs=ve.newChilds,we.updateDom({updateIndexes:!0}),we.showChilds()}},transform:{undo:function(ve){le(ve.path).setInternalValue(ve.oldValue)},redo:function(ve){le(ve.path).setInternalValue(ve.newValue)}}}}var de,me;return de=ie,(me=[{key:"onChange",value:function(){}},{key:"add",value:function(re,le){this.index++,this.history[this.index]={action:re,params:le,timestamp:new Date},this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1),this.onChange()}},{key:"clear",value:function(){this.history=[],this.index=-1,this.onChange()}},{key:"canUndo",value:function(){return 0<=this.index}},{key:"canRedo",value:function(){return this.index<this.history.length-1}},{key:"undo",value:function(){if(this.canUndo()){var re=this.history[this.index];if(re){var le=this.actions[re.action];if(le&&le.undo){if(le.undo(re.params),re.params.oldSelection)try{this.editor.setDomSelection(re.params.oldSelection)}catch(ve){console.error(ve)}}else console.error(new Error('unknown action "'+re.action+'"'))}this.index--,this.onChange()}}},{key:"redo",value:function(){if(this.canRedo()){this.index++;var re=this.history[this.index];if(re){var le=this.actions[re.action];if(le&&le.redo){if(le.redo(re.params),re.params.newSelection)try{this.editor.setDomSelection(re.params.newSelection)}catch(ve){console.error(ve)}}else console.error(new Error('unknown action "'+re.action+'"'))}this.onChange()}}},{key:"destroy",value:function(){this.editor=null,this.history=[],this.index=-1}}])&&pe(de.prototype,me),Object.defineProperty(de,"prototype",{writable:!1}),ie}();function U(ie){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(ie)}function Y(ie,de){for(var me=0;me<de.length;me++){var Ce=de[me];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(ie,(re=function(le,ve){if("object"!==U(le)||null===le)return le;var we=le[Symbol.toPrimitive];if(void 0===we)return String(le);if("object"!==U(we=we.call(le,"string")))return we;throw new TypeError("@@toPrimitive must return a primitive value.")}(re=Ce.key),"symbol"===U(re)?re:String(re)),Ce)}var re}var W=function(){function ie(Ue,we){if(!(this instanceof ie))throw new TypeError("Cannot call a class as a function");var ve=this,Pe=(this.editor=Ue,this.timeout=void 0,this.delay=200,this.lastText=void 0,this.results=null,this.dom={},this.dom.container=we,Ue=document.createElement("div"),(this.dom.wrapper=Ue).className="jsoneditor-search",we.appendChild(Ue),we=document.createElement("div"),(this.dom.results=we).className="jsoneditor-results",Ue.appendChild(we),we=document.createElement("div"),((this.dom.input=we).className="jsoneditor-frame",we.title=(0,x.Iu)("searchTitle"),Ue.appendChild(we),Ue=document.createElement("button")).type="button",Ue.className="jsoneditor-refresh",we.appendChild(Ue),document.createElement("input"));((Pe.type="text",(this.dom.search=Pe).oninput=function(dt){ve._onDelayedSearch(dt)},Pe.onchange=function(dt){ve._onSearch()},Pe.onkeydown=function(dt){ve._onKeyDown(dt)},Pe.onkeyup=function(dt){ve._onKeyUp(dt)},Ue.onclick=function(dt){Pe.select()},we.appendChild(Pe),Ue=document.createElement("button")).type="button",Ue.title=(0,x.Iu)("searchNextResultTitle"),Ue.className="jsoneditor-next",Ue.onclick=function(){ve.next()},we.appendChild(Ue),Ue=document.createElement("button")).type="button",Ue.title=(0,x.Iu)("searchPreviousResultTitle"),Ue.className="jsoneditor-previous",Ue.onclick=function(){ve.previous()},we.appendChild(Ue)}var de,me;return de=ie,(me=[{key:"next",value:function(re){var le;this.results&&((le=null!==this.resultIndex?this.resultIndex+1:0)>this.results.length-1&&(le=0),this._setActiveResult(le,re))}},{key:"previous",value:function(re){var le,ve;this.results&&(le=this.results.length-1,this._setActiveResult(ve=(ve=null!==this.resultIndex?this.resultIndex-1:le)<0?le:ve,re))}},{key:"_setActiveResult",value:function(re,le){var ve,we,Pe;this.activeResult&&(ve=this.activeResult.node,"field"===this.activeResult.elem?delete ve.searchFieldActive:delete ve.searchValueActive,ve.updateDom()),this.results&&this.results[re]?(this.resultIndex=re,we=this.results[this.resultIndex].node,"field"===(Pe=this.results[this.resultIndex].elem)?we.searchFieldActive=!0:we.searchValueActive=!0,this.activeResult=this.results[this.resultIndex],we.updateDom(),we.scrollTo(function(){le&&we.focus(Pe)})):(this.resultIndex=void 0,this.activeResult=void 0)}},{key:"_clearDelay",value:function(){void 0!==this.timeout&&(clearTimeout(this.timeout),delete this.timeout)}},{key:"_onDelayedSearch",value:function(re){this._clearDelay();var le=this;this.timeout=setTimeout(function(ve){le._onSearch()},this.delay)}},{key:"_onSearch",value:function(re){var le;if(this._clearDelay(),(le=0<(le=this.dom.search.value).length?le:void 0)!==this.lastText||re){this.lastText=le,this.results=this.editor.search(le),re=this.results[0]?this.results[0].node.MAX_SEARCH_RESULTS:1/0;var ve=0;if(this.activeResult)for(var we=0;we<this.results.length;we++)if(this.results[we].node===this.activeResult.node){ve=we;break}this._setActiveResult(ve,!1),this.dom.results.textContent=void 0!==le?0===(le=this.results.length)?"no\xa0results":1===le?"1\xa0result":re<le?re+"+\xa0results":le+"\xa0results":""}}},{key:"_onKeyDown",value:function(re){var le=re.which;27===le?(this.dom.search.value="",this._onSearch(),re.preventDefault(),re.stopPropagation()):13===le&&(re.ctrlKey?this._onSearch(!0):re.shiftKey?this.previous():this.next(),re.preventDefault(),re.stopPropagation())}},{key:"_onKeyUp",value:function(re){var le=re.keyCode;27!==le&&13!==le&&this._onDelayedSearch(re)}},{key:"clear",value:function(){this.dom.search.value="",this._onSearch()}},{key:"forceSearch",value:function(){this._onSearch(!0)}},{key:"isEmpty",value:function(){return""===this.dom.search.value}},{key:"destroy",value:function(){this.editor=null,this.dom.container.removeChild(this.dom.wrapper),this.dom=null,this.results=null,this.activeResult=null,this._clearDelay()}}])&&Y(de.prototype,me),Object.defineProperty(de,"prototype",{writable:!1}),ie}();function ne(ie){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(ie)}function fe(ie,de){for(var me=0;me<de.length;me++){var Ce=de[me];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(ie,(re=function(le,ve){if("object"!==ne(le)||null===le)return le;var we=le[Symbol.toPrimitive];if(void 0===we)return String(le);if("object"!==ne(we=we.call(le,"string")))return we;throw new TypeError("@@toPrimitive must return a primitive value.")}(re=Ce.key),"symbol"===ne(re)?re:String(re)),Ce)}var re}var he=function(){function ie(re,le){if(!(this instanceof ie))throw new TypeError("Cannot call a class as a function");re&&(this.root=le,this.path=document.createElement("div"),this.path.className="jsoneditor-treepath",this.path.setAttribute("tabindex",0),this.contentMenuClicked=!1,re.appendChild(this.path),this.reset())}var de,me;return de=ie,(me=[{key:"reset",value:function(){this.path.textContent=(0,x.Iu)("selectNode")}},{key:"setPath",value:function(re){var le=this;this.path.textContent="",re&&re.length&&re.forEach(function(ve,we){var Pe,Ue=document.createElement("span");Ue.className="jsoneditor-treepath-element",Ue.innerText=ve.name,Ue.onclick=function(dt){this.selectionCallback&&this.selectionCallback(dt)}.bind(le,ve),le.path.appendChild(Ue),ve.children.length&&((Pe=document.createElement("span")).className="jsoneditor-treepath-seperator",Pe.textContent="\u25ba",Pe.onclick=function(){le.contentMenuClicked=!0;var dt=[];ve.children.forEach(function(xt){dt.push({text:xt.name,className:"jsoneditor-type-modes"+(re[we+1]+1&&re[we+1].name===xt.name?" jsoneditor-selected":""),click:function(Zt,en){this.contextMenuCallback&&this.contextMenuCallback(Zt,en)}.bind(le,ve,xt.name)})}),new $.x(dt,{limitHeight:!0}).show(Pe,le.root,!0)},le.path.appendChild(Pe)),we===re.length-1&&(Ue=(Pe||Ue).getBoundingClientRect().right,le.path.offsetWidth<Ue&&(le.path.scrollLeft=Ue),le.path.scrollLeft)&&((Ue=document.createElement("span")).className="jsoneditor-treepath-show-all-btn",Ue.title="show all path",Ue.textContent="...",Ue.onclick=function(dt){(le.contentMenuClicked=!1,I.addClassName)(le.path,"show-all"),le.path.style.width=le.path.parentNode.getBoundingClientRect().width-10+"px",le.path.onblur=function(){le.contentMenuClicked?(le.contentMenuClicked=!1,le.path.focus()):((0,I.removeClassName)(le.path,"show-all"),le.path.onblur=void 0,le.path.style.width="",le.setPath(dt))}}.bind(le,re),le.path.insertBefore(Ue,le.path.firstChild))})}},{key:"onSectionSelected",value:function(re){"function"==typeof re&&(this.selectionCallback=re)}},{key:"onContextMenuItemSelected",value:function(re){"function"==typeof re&&(this.contextMenuCallback=re)}}])&&fe(de.prototype,me),Object.defineProperty(de,"prototype",{writable:!1}),ie}(),ke=(Ae=xe(8037),xe.n(Ae)),Ee=((xe={}).create=function(ie,de){if(!ie)throw new Error("No container element provided.");function me(Ut){var tt,lt;document.createRange?((tt=document.createRange()).selectNodeContents(Ut),tt.collapse(!1),(lt=window.getSelection()).removeAllRanges(),lt.addRange(tt)):document.selection&&((tt=document.body.createTextRange()).moveToElementText(Ut),tt.collapse(!1),tt.select())}function Ce(Ut){return void 0===Pe&&((Pe=document.createElement("span")).style.visibility="hidden",Pe.style.position="fixed",Pe.style.outline="0",Pe.style.margin="0",Pe.style.padding="0",Pe.style.border="0",Pe.style.left="0",Pe.style.whiteSpace="pre",Pe.style.fontSize=dt,Pe.style.fontFamily=xt,Pe.style.fontWeight="normal",document.body.appendChild(Pe)),Pe.textContent=Ut,Pe.getBoundingClientRect().right}function re(){this.style.backgroundColor="#ddd"}function le(){this.style.backgroundColor=""}function ve(){un.hide(),un.onmouseselection(this.__hint,un.rs)}var we,Pe,Ue,dt,xt,Zt,en,tn,Kt,On,Dn,un,_t,Yt,Nn,_n;this.container=ie,this.dom={},this.highlighter=new R,this.selection=void 0,this.multiselection={nodes:[]},this.validateSchema=null,this.validationSequence=0,this.errorNodes=[],this.lastSchemaErrors=void 0,this.node=null,this.focusTarget=null,this._setOptions(de),de.autocomplete&&(this.autocomplete=((we=(we=de.autocomplete)||{}).filter=we.filter||"start",we.trigger=we.trigger||"keydown",we.confirmKeys=we.confirmKeys||[39,35,9],we.caseSensitive=we.caseSensitive||!1,xt=dt="",(Zt=document.createElement("div")).style.position="relative",Zt.style.outline="0",Zt.style.border="0",Zt.style.margin="0",Zt.style.padding="0",(en=document.createElement("div")).className="autocomplete dropdown",en.style.position="absolute",en.style.visibility="hidden",tn=en,Kt=[],Dn=-1,Yt=un={rs:_t={onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},startFrom:On=0,options:[],element:null,elementHint:null,elementStyle:null,wrapper:Zt,show:function(Ut,tt,lt){var $t=this;this.startFrom=tt,this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null),""===dt&&(dt=window.getComputedStyle(Ut).getPropertyValue("font-size")),""===xt&&(xt=window.getComputedStyle(Ut).getPropertyValue("font-family")),en.style.marginLeft="0",en.style.marginTop=Ut.getBoundingClientRect().height+"px",this.options=lt.map(String),this.element!==Ut&&(this.element=Ut,this.elementStyle={zIndex:this.element.style.zIndex,position:this.element.style.position,backgroundColor:this.element.style.backgroundColor,borderColor:this.element.style.borderColor}),this.element.style.zIndex=3,this.element.style.position="relative",this.element.style.backgroundColor="transparent",this.element.style.borderColor="transparent",this.elementHint=Ut.cloneNode(),this.elementHint.className="autocomplete hint",this.elementHint.style.zIndex=2,this.elementHint.style.position="absolute",this.elementHint.onfocus=function(){$t.element.focus()},this.element.addEventListener&&(this.element.removeEventListener("keydown",Nn),this.element.addEventListener("keydown",Nn,!1),this.element.removeEventListener("blur",_n),this.element.addEventListener("blur",_n,!1)),Zt.appendChild(this.elementHint),Zt.appendChild(en),Ut.parentElement.appendChild(Zt),this.repaint(Ut)},setText:function(Ut){this.element.innerText=Ut},getText:function(){return this.element.innerText},hideDropDown:function(){this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null,Yt.hide(),this.element.style.zIndex=this.elementStyle.zIndex,this.element.style.position=this.elementStyle.position,this.element.style.backgroundColor=this.elementStyle.backgroundColor,this.element.style.borderColor=this.elementStyle.borderColor)},repaint:function(tt){tt=(tt=tt.innerText).replace("\n","");var lt=this.options.length,$t=tt.substring(this.startFrom);Ue=tt.substring(0,this.startFrom);for(var Mn=0;Mn<lt;Mn++){var si=this.options[Mn];if(!we.caseSensitive&&0===si.toLowerCase().indexOf($t.toLowerCase())||we.caseSensitive&&0===si.indexOf($t)){this.elementHint.innerText=Ue+$t+si.substring($t.length),this.elementHint.realInnerText=Ue+si;break}}en.style.left=Ce(Ue)+"px",Yt.refresh($t,this.options),this.elementHint.style.width=Ce(this.elementHint.innerText)+10+"px","hidden"!==en.style.visibility&&(this.elementHint.style.width=Ce(this.elementHint.innerText)+en.clientWidth+"px")}},hide:function(){tn.style.visibility="hidden"},refresh:function(Ut,tt){tn.style.visibility="hidden",On=0,tn.textContent="";var $t=window.innerHeight||document.documentElement.clientHeight,lt=(si=tn.parentNode.getBoundingClientRect()).top-6,Mn=($t=$t-si.bottom-6,Kt=[],"function"==typeof we.filter?we.filter:ee[we.filter]),si=Mn?tt.filter(function(Ge){return Mn(we.caseSensitive?Ut:Ut.toLowerCase(),we.caseSensitive?Ge:Ge.toLowerCase(),we)}):[];0===(Kt=si.map(function(Ge){var ct=document.createElement("div"),Mt=(ct.className="item",ct.onmouseover=re,ct.onmouseout=le,ct.onmousedown=ve,ct.__hint=Ge,ct.textContent="",ct.appendChild(document.createTextNode(Ge.substring(0,Ut.length))),document.createElement("b"));return Mt.appendChild(document.createTextNode(Ge.substring(Ut.length))),ct.appendChild(Mt),tn.appendChild(ct),ct})).length||1===Kt.length&&(Ut.toLowerCase()===Kt[0].__hint.toLowerCase()&&!we.caseSensitive||Ut===Kt[0].__hint&&we.caseSensitive)||Kt.length<2||(un.highlight(0),3*$t<lt?(tn.style.maxHeight=lt+"px",tn.style.top="",tn.style.bottom="100%"):(tn.style.top="100%",tn.style.bottom="",tn.style.maxHeight=$t+"px"),tn.style.visibility="visible")},highlight:function(Ut){-1!==Dn&&Kt[Dn]&&(Kt[Dn].className="item"),Kt[Ut].className="item hover",Dn=Ut},move:function(Ut){return"hidden"===tn.style.visibility?"":(On+Ut!==-1&&On+Ut!==Kt.length&&un.highlight(On+=Ut),Kt[On].__hint)},onmouseselection:function(){}},Nn=function(Ut){var tt=(Ut=Ut||window.event).keyCode;if(null!=this.elementHint&&33!==tt&&34!==tt)if(27===tt)_t.hideDropDown(),_t.element.focus(),Ut.preventDefault(),Ut.stopPropagation();else{var lt,$t=($t=this.element.innerText).replace("\n","");if(0<=we.confirmKeys.indexOf(tt))9===tt&&0===this.elementHint.innerText.length&&_t.onTab(),0<this.elementHint.innerText.length&&this.element.innerText!==this.elementHint.realInnerText&&(this.element.innerText=this.elementHint.realInnerText,_t.hideDropDown(),me(this.element),9===tt)&&(_t.element.focus(),Ut.preventDefault(),Ut.stopPropagation());else if(13===tt)if(0===this.elementHint.innerText.length)_t.onEnter();else{var Mn="hidden"===en.style.visibility;if(Yt.hide(),Mn)return _t.hideDropDown(),_t.element.focus(),void _t.onEnter();this.element.innerText=this.elementHint.realInnerText,_t.hideDropDown(),me(this.element),Ut.preventDefault(),Ut.stopPropagation()}else 40===tt?(Mn=$t.substring(this.startFrom),""===(lt=Yt.move(1))&&_t.onArrowDown(),this.elementHint.innerText=Ue+Mn+lt.substring(Mn.length),this.elementHint.realInnerText=Ue+lt,Ut.preventDefault(),Ut.stopPropagation()):38===tt&&(Mn=$t.substring(this.startFrom),""===(lt=Yt.move(-1))&&_t.onArrowUp(),this.elementHint.innerText=Ue+Mn+lt.substring(Mn.length),this.elementHint.realInnerText=Ue+lt,Ut.preventDefault(),Ut.stopPropagation())}}.bind(_t),_n=function(Ut){_t.hideDropDown()},Yt.onmouseselection=function(Ut,tt){tt.element.innerText=tt.elementHint.innerText=Ue+Ut,tt.hideDropDown(),window.setTimeout(function(){tt.element.focus(),me(tt.element)},1)},_t)),this.options.history&&"view"!==this.options.mode&&(this.history=new F(this)),this._createFrame(),this._createTable()},xe.destroy=function(){this.frame&&this.container&&this.frame.parentNode===this.container&&(this.container.removeChild(this.frame),this.frame=null),this.container=null,this.dom=null,this.clear(),this.node=null,this.focusTarget=null,this.selection=null,this.multiselection=null,this.errorNodes=null,this.validateSchema=null,this._debouncedValidate=null,this.history&&(this.history.destroy(),this.history=null),this.searchBox&&(this.searchBox.destroy(),this.searchBox=null),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.frameFocusTracker.destroy()},xe._setOptions=function(ie){var de=this;this.options={search:!0,history:!0,mode:"tree",name:void 0,schema:null,schemaRefs:null,autocomplete:null,navigationBar:!0,mainMenuBar:!0,limitDragging:!1,onSelectionChange:null,colorPicker:!0,onColorPicker:function(me,Ce,re){var le;ke()?(le=me.getBoundingClientRect().top,le=(0,I.getWindow)(me).innerHeight-le<300&&300<le,new(ke())({parent:me,color:Ce,popup:le?"top":"bottom",onDone:function(ve){ve=1===ve.rgba[3]?ve.hex.substr(0,7):ve.hex,re(ve)}}).show()):console.warn("Cannot open color picker: the `vanilla-picker` library is not included in the bundle. Either use the full bundle or implement your own color picker using `onColorPicker`.")},timestampTag:!0,timestampFormat:null,createQuery:A.r,executeQuery:A.J,onEvent:null,enableSort:!0,enableTransform:!0},ie&&(Object.keys(ie).forEach(function(me){de.options[me]=ie[me]}),null==ie.limitDragging)&&null!=ie.schema&&(this.options.limitDragging=!0),this.setSchema(this.options.schema,this.options.schemaRefs),this._debouncedValidate=(0,I.debounce)(this._validateAndCatch.bind(this),this.DEBOUNCE_INTERVAL),ie.onSelectionChange&&this.onSelectionChange(ie.onSelectionChange),(0,x.cC)(this.options.languages),(0,x.m0)(this.options.language)},xe.set=function(ie){ie instanceof Function||void 0===ie?this.clear():(this.content.removeChild(this.table),ie=new v(this,ie={field:this.options.name,value:ie}),this._setRoot(ie),this._validateAndCatch(),this.node.expand(!1),this.content.appendChild(this.table)),this.history&&this.history.clear(),this.searchBox&&this.searchBox.clear()},xe.update=function(ie){var de,me;this.node.deepEqual(ie)||(de=this.getSelection(),this.onChangeDisabled=!0,this.node.update(ie),this.onChangeDisabled=!1,this._validateAndCatch(),this.searchBox&&!this.searchBox.isEmpty()&&this.searchBox.forceSearch(),de&&de.start&&de.end&&(ie=this.node.findNodeByPath(de.start.path),me=this.node.findNodeByPath(de.end.path),ie)&&me?this.setSelection(de.start,de.end):this.setSelection({},{}))},xe.get=function(){if(this.node)return this.node.getValue()},xe.getText=function(){return JSON.stringify(this.get())},xe.setText=function(ie){try{this.set((0,I.parse)(ie))}catch(de){ie=(0,I.tryJsonRepair)(ie),this.set((0,I.parse)(ie))}},xe.updateText=function(ie){try{this.update((0,I.parse)(ie))}catch(de){ie=(0,I.tryJsonRepair)(ie),this.update((0,I.parse)(ie))}},xe.setName=function(ie){this.options.name=ie,this.node&&this.node.updateField(this.options.name)},xe.getName=function(){return this.options.name},xe.focus=function(){var ie=this.scrollableContent.querySelector("[contenteditable=true]");ie?ie.focus():this.node.dom.expand?this.node.dom.expand.focus():this.node.dom.menu?this.node.dom.menu.focus():(ie=this.frame.querySelector("button"))&&ie.focus()},xe.clear=function(){this.node&&(this.node.hide(),delete this.node),this.treePath&&this.treePath.reset()},xe._setRoot=function(ie){this.clear(),(this.node=ie).setParent(null),ie.setField(this.getName(),!1),delete ie.index,this.tbody.appendChild(ie.getDom())},xe.search=function(ie){var de;return this.node?(this.content.removeChild(this.table),de=this.node.search(ie),this.content.appendChild(this.table)):de=[],de},xe.expandAll=function(){this.node&&(this.content.removeChild(this.table),this.node.expand(),this.content.appendChild(this.table))},xe.collapseAll=function(){this.node&&(this.content.removeChild(this.table),this.node.collapse(),this.content.appendChild(this.table))},xe.expand=function(ie){var de;ie&&(de=this.node?this.node.findNodeByPath(ie.path):null)&&(ie.isExpand?de.expand(ie.recursive):de.collapse(ie.recursive))},xe._onAction=function(ie,de){this.history&&this.history.add(ie,de),this._onChange()},xe._onChange=function(){if(!this.onChangeDisabled){var ie;if(this.selection=this.getDomSelection(),this._debouncedValidate(),this.treePath&&((ie=this.node&&this.selection?this.node.findNodeByInternalPath(this.selection.path):this.multiselection?this.multiselection.nodes[0]:void 0)?this._updateTreePath(ie.getNodePath()):this.treePath.reset()),this.options.onChange)try{this.options.onChange()}catch(de){console.error("Error in onChange callback: ",de)}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get())}catch(de){console.error("Error in onChangeJSON callback: ",de)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(de){console.error("Error in onChangeText callback: ",de)}if(this.options.onClassName&&this.node.recursivelyUpdateCssClassesOnNodes(),this.options.onNodeName&&this.node.childs)try{this.node.recursivelyUpdateNodeName()}catch(de){console.error("Error in onNodeName callback: ",de)}}},xe.validate=function(){var ie=this,de=this.node;if(de){var me=de.getValue(),Ce=[];this.validateSchema&&!this.validateSchema(me)&&(Ce=this.validateSchema.errors.map(function(ve){return(0,I.improveSchemaError)(ve)}).map(function(ve){return{node:de.findNode(ve.dataPath),error:ve,type:"validation"}}).filter(function(ve){return null!=ve.node}));try{this.validationSequence++;var re=this,le=this.validationSequence;return this._validateCustom(me).then(function(ve){return le===re.validationSequence&&(ve=[].concat(Ce,ve||[]),re._renderValidationErrors(ve),"function"==typeof ie.options.onValidationError&&(0,I.isValidationErrorChanged)(ve,ie.lastSchemaErrors)&&ie.options.onValidationError.call(ie,ve),ie.lastSchemaErrors=ve),ie.lastSchemaErrors})}catch(ve){return Promise.reject(ve)}}},xe._validateAndCatch=function(){this.validate().catch(function(ie){console.error("Error running validation:",ie)})},xe._renderValidationErrors=function(ie){this.errorNodes&&this.errorNodes.forEach(function(me){me.setError(null)});var de=ie.reduce(function(me,Ce){return Ce.node.findParents().filter(function(re){return!me.some(function(le){return le[0]===re})}).map(function(re){return[re,Ce.node]}).concat(me)},[]);this.errorNodes=de.map(function(me){return{node:me[0],child:me[1],error:{message:(0,x.Iu)("object"===me[0].type?"containsInvalidProperties":"containsInvalidItems")}}}).concat(ie).map(function(me){return me.node.setError(me.error,me.child),me.node})},xe._validateCustom=function(ie){try{var de,me;if(this.options.onValidate)return de=this.node,me=this.options.onValidate(ie),((0,I.isPromise)(me)?me:Promise.resolve(me)).then(function(Ce){return Array.isArray(Ce)?Ce.filter(function(re){var le=(0,I.isValidValidationError)(re);return le||console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:',re),le}).map(function(re){var le;try{le=re&&re.path?de.findNodeByPath(re.path):null}catch(ve){}return le||console.warn("Ignoring validation error: node not found. Path:",re.path,"Error:",re),{node:le,error:re,type:"customValidation"}}).filter(function(re){return re&&re.node&&re.error&&re.error.message}):null})}catch(Ce){return Promise.reject(Ce)}return Promise.resolve(null)},xe.refresh=function(){this.node&&this.node.updateDom({recurse:!0})},xe.startAutoScroll=function(ie){var de=this,me=this.scrollableContent,Ce=(0,I.getAbsoluteTop)(me),re=me.clientHeight,le=Ce+re;this.autoScrollStep=ie<Ce+24&&0<me.scrollTop?(Ce+24-ie)/3:le-24<ie&&re+me.scrollTop<me.scrollHeight?(le-24-ie)/3:void 0,this.autoScrollStep?this.autoScrollTimer||(this.autoScrollTimer=setInterval(function(){de.autoScrollStep?me.scrollTop-=de.autoScrollStep:de.stopAutoScroll()},50)):this.stopAutoScroll()},xe.stopAutoScroll=function(){this.autoScrollTimer&&(clearTimeout(this.autoScrollTimer),delete this.autoScrollTimer),this.autoScrollStep&&delete this.autoScrollStep},xe.setDomSelection=function(ie){var de,me,Ce;ie&&("scrollTop"in ie&&this.scrollableContent&&(this.scrollableContent.scrollTop=ie.scrollTop),ie.paths?(de=this,me=ie.paths.map(function(re){return de.node.findNodeByInternalPath(re)}),this.select(me)):(Ce=(me=ie.path?this.node.findNodeByInternalPath(ie.path):null)&&ie.domName?me.dom[ie.domName]:null,ie.range&&Ce?(ie=Object.assign({},ie.range,{container:Ce}),(0,I.setSelectionOffset)(ie)):me&&me.focus()))},xe.getDomSelection=function(){var ie=v.getNodeFromTarget(this.focusTarget),de=this.focusTarget,me=ie?Object.keys(ie.dom).find(function(re){return ie.dom[re]===de}):null,Ce=(0,I.getSelectionOffset)();return(Ce=(Ce=Ce&&"DIV"!==Ce.container.nodeName?null:Ce)&&Ce.container!==de?null:Ce)&&delete Ce.container,{path:ie?ie.getInternalPath():null,domName:me,range:Ce,paths:0<this.multiselection.length?this.multiselection.nodes.map(function(re){return re.getInternalPath()}):null,scrollTop:this.scrollableContent?this.scrollableContent.scrollTop:0}},xe.scrollTo=function(ie,de){var me,Ce,re,le,ve=this.scrollableContent;ve?((me=this).animateTimeout&&(clearTimeout(me.animateTimeout),delete me.animateTimeout),me.animateCallback&&(me.animateCallback(!1),delete me.animateCallback),re=ve.scrollHeight-(Ce=ve.clientHeight),le=Math.min(Math.max(ie-Ce/4,0),re),function we(){var Pe=le-(Pe=ve.scrollTop);3<Math.abs(Pe)?(ve.scrollTop+=Pe/3,me.animateCallback=de,me.animateTimeout=setTimeout(we,50)):(de&&de(!0),ve.scrollTop=le,delete me.animateTimeout,delete me.animateCallback)}()):de&&de(!1)},xe._createFrame=function(){var ie=this,de=(this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.container.appendChild(this.frame),this.contentOuter=document.createElement("div"),this.contentOuter.className="jsoneditor-outer",this);function me(we){de._onEvent&&de._onEvent(we)}var Ce,re,le,ve={target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null};this.frameFocusTracker=new k.R(ve),this.frame.onclick=function(we){var Pe=we.target;me(we),"BUTTON"===Pe.nodeName&&we.preventDefault()},this.frame.oninput=me,this.frame.onchange=me,this.frame.onkeydown=me,this.frame.onkeyup=me,this.frame.oncut=me,this.frame.onpaste=me,this.frame.onmousedown=me,this.frame.onmouseup=me,this.frame.onmouseover=me,this.frame.onmouseout=me,(0,I.addEventListener)(this.frame,"focus",me,!0),(0,I.addEventListener)(this.frame,"blur",me,!0),this.frame.onfocusin=me,this.frame.onfocusout=me,this.options.mainMenuBar&&((0,I.addClassName)(this.contentOuter,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),(ve=document.createElement("button")).type="button",ve.className="jsoneditor-expand-all",ve.title=(0,x.Iu)("expandAll"),ve.onclick=function(){de.expandAll(),"function"==typeof ie.options.onExpand&&ie.options.onExpand({path:[],isExpand:!0,recursive:!0})},this.menu.appendChild(ve),(ve=document.createElement("button")).type="button",ve.title=(0,x.Iu)("collapseAll"),ve.className="jsoneditor-collapse-all",ve.onclick=function(){de.collapseAll(),"function"==typeof ie.options.onExpand&&ie.options.onExpand({path:[],isExpand:!1,recursive:!0})},this.menu.appendChild(ve),this.options.enableSort&&((ve=document.createElement("button")).type="button",ve.className="jsoneditor-sort",ve.title=(0,x.Iu)("sortTitleShort"),ve.onclick=function(){de.node.showSortModal()},this.menu.appendChild(ve)),this.options.enableTransform&&((ve=document.createElement("button")).type="button",ve.title=(0,x.Iu)("transformTitleShort"),ve.className="jsoneditor-transform",ve.onclick=function(){de.node.showTransformModal()},this.menu.appendChild(ve)),this.history&&((Ce=document.createElement("button")).type="button",Ce.className="jsoneditor-undo jsoneditor-separator",Ce.title=(0,x.Iu)("undo"),Ce.onclick=function(){de._onUndo()},this.menu.appendChild(Ce),this.dom.undo=Ce,(re=document.createElement("button")).type="button",re.className="jsoneditor-redo",re.title=(0,x.Iu)("redo"),re.onclick=function(){de._onRedo()},this.menu.appendChild(re),this.dom.redo=re,this.history.onChange=function(){Ce.disabled=!de.history.canUndo(),re.disabled=!de.history.canRedo()},this.history.onChange()),this.options&&this.options.modes&&this.options.modes.length&&((le=this).modeSwitcher=new _.x(this.menu,this.options.modes,this.options.mode,function(we){try{le.setMode(we),le.modeSwitcher.focus()}catch(Pe){le._onError(Pe)}})),this.options.search)&&(this.searchBox=new W(this,this.menu)),this.options.navigationBar&&(this.navBar=document.createElement("div"),this.navBar.className="jsoneditor-navigation-bar nav-bar-empty",this.frame.appendChild(this.navBar),this.treePath=new he(this.navBar,this.getPopupAnchor()),this.treePath.onSectionSelected(this._onTreePathSectionSelected.bind(this)),this.treePath.onContextMenuItemSelected(this._onTreePathMenuItemSelected.bind(this)))},xe._onUndo=function(){this.history&&(this.history.undo(),this._onChange())},xe._onRedo=function(){this.history&&(this.history.redo(),this._onChange())},xe._onEvent=function(ie){if(!v.targetIsColorPicker(ie.target)){var de,me=v.getNodeFromTarget(ie.target);if("keydown"===ie.type&&this._onKeyDown(ie),me&&"focus"===ie.type&&(this.focusTarget=ie.target,this.options.autocomplete)&&"focus"===this.options.autocomplete.trigger&&this._showAutoComplete(ie.target),"mousedown"===ie.type&&this._startDragDistance(ie),"mousemove"!==ie.type&&"mouseup"!==ie.type&&"click"!==ie.type||this._updateDragDistance(ie),me&&this.options&&this.options.navigationBar&&me&&("keydown"===ie.type||"mousedown"===ie.type)&&(de=this,setTimeout(function(){de._updateTreePath(me.getNodePath())})),me&&me.selected){if("click"===ie.type){if(ie.target===me.dom.menu)return void this.showContextMenu(ie.target);ie.hasMoved||this.deselect()}"mousedown"===ie.type&&v.onDragStart(this.multiselection.nodes,ie)}else"mousedown"===ie.type&&(0,I.hasParentNode)(ie.target,this.content)&&(this.deselect(),me&&ie.target===me.dom.drag?v.onDragStart(me,ie):me&&(ie.target===me.dom.field||ie.target===me.dom.value||ie.target===me.dom.select)||this._onMultiSelectStart(ie));me&&me.onEvent(ie)}},xe._updateTreePath=function(ie){var de;function me(Ce){return Ce.parent?"array"===Ce.parent.type?Ce.index:Ce.field:Ce.field||Ce.type}ie&&ie.length?((0,I.removeClassName)(this.navBar,"nav-bar-empty"),de=[],ie.forEach(function(Ce){var re={name:me(Ce),node:Ce,children:[]};Ce.childs&&Ce.childs.length&&Ce.childs.forEach(function(le){re.children.push({name:me(le),node:le})}),de.push(re)}),this.treePath.setPath(de)):(0,I.addClassName)(this.navBar,"nav-bar-empty")},xe._onTreePathSectionSelected=function(ie){ie&&ie.node&&(ie.node.expandTo(),ie.node.focus())},xe._onTreePathMenuItemSelected=function(ie,de){ie&&ie.children.length&&(ie=ie.children.find(function(me){return me.name===de}))&&ie.node&&(this._updateTreePath(ie.node.getNodePath()),ie.node.expandTo(),ie.node.focus())},xe._startDragDistance=function(ie){this.dragDistanceEvent={initialTarget:ie.target,initialPageX:ie.pageX,initialPageY:ie.pageY,dragDistance:0,hasMoved:!1}},xe._updateDragDistance=function(ie){this.dragDistanceEvent||this._startDragDistance(ie);var de=ie.pageX-this.dragDistanceEvent.initialPageX,me=ie.pageY-this.dragDistanceEvent.initialPageY;return this.dragDistanceEvent.dragDistance=Math.sqrt(de*de+me*me),this.dragDistanceEvent.hasMoved=this.dragDistanceEvent.hasMoved||10<this.dragDistanceEvent.dragDistance,ie.dragDistance=this.dragDistanceEvent.dragDistance,ie.hasMoved=this.dragDistanceEvent.hasMoved,ie.dragDistance},xe._onMultiSelectStart=function(ie){var de,me=v.getNodeFromTarget(ie.target);"tree"===this.options.mode&&void 0===this.options.onEditable&&(this.multiselection={start:me||null,end:null,nodes:[]},this._startDragDistance(ie),(de=this).mousemove||(this.mousemove=(0,I.addEventListener)(ie.view,"mousemove",function(Ce){de._onMultiSelect(Ce)})),this.mouseup||(this.mouseup=(0,I.addEventListener)(ie.view,"mouseup",function(Ce){de._onMultiSelectEnd(Ce)})),ie.preventDefault())},xe._onMultiSelect=function(ie){var de;ie.preventDefault(),this._updateDragDistance(ie),ie.hasMoved&&((ie=v.getNodeFromTarget(ie.target))&&(null==this.multiselection.start&&(this.multiselection.start=ie),this.multiselection.end=ie),this.deselect(),de=this.multiselection.end||this.multiselection.start,ie=this.multiselection.start)&&de&&(this.multiselection.nodes=this._findTopLevelNodes(ie,de),this.multiselection.nodes&&this.multiselection.nodes.length&&(this.multiselection.direction=this.multiselection.start===(ie=this.multiselection.nodes[0])||this.multiselection.start.isDescendantOf(ie)?"down":"up"),this.select(this.multiselection.nodes))},xe._onMultiSelectEnd=function(ie){var de=this.multiselection.nodes[0];de&&de.dom.menu&&de.dom.menu.focus(),this.multiselection.start=null,this.multiselection.end=null,this.mousemove&&((0,I.removeEventListener)(ie.view,"mousemove",this.mousemove),delete this.mousemove),this.mouseup&&((0,I.removeEventListener)(ie.view,"mouseup",this.mouseup),delete this.mouseup)},xe.deselect=function(ie){var de=!!this.multiselection.nodes.length;this.multiselection.nodes.forEach(function(me){me.setSelected(!1)}),this.multiselection.nodes=[],ie&&(this.multiselection.start=null,this.multiselection.end=null),de&&this._selectionChangedHandler&&this._selectionChangedHandler()},xe.select=function(ie){if(!Array.isArray(ie))return this.select([ie]);var de;ie&&(this.deselect(),this.multiselection.nodes=ie.slice(0),de=ie[0],ie.forEach(function(me){me.expandPathToNode(),me.setSelected(!0,me===de)}),this._selectionChangedHandler)&&(ie=this.getSelection(),this._selectionChangedHandler(ie.start,ie.end))},xe._findTopLevelNodes=function(ve,we){for(var me=ve.getNodePath(),Ce=we.getNodePath(),re=0;re<me.length&&me[re]===Ce[re];)re++;ve=me[re-1];var le,Pe=Ce[re];return(we=me[re])&&Pe||(ve.parent?ve=(Pe=we=ve).parent:(we=ve.childs[0],Pe=ve.childs[ve.childs.length-1])),ve&&we&&Pe?(we=ve.childs.indexOf(we),Pe=ve.childs.indexOf(Pe),le=Math.min(we,Pe),we=Math.max(we,Pe),ve.childs.slice(le,we+1)):[]},xe._showAutoComplete=function(ie){var de,me=v.getNodeFromTarget(ie),Ce="";0<=ie.className.indexOf("jsoneditor-value")&&(Ce="value"),""!==(Ce=0<=ie.className.indexOf("jsoneditor-field")?"field":Ce)&&(de=this,setTimeout(function(){var re;me&&("focus"===de.options.autocomplete.trigger||0<ie.innerText.length)&&null!==(re=de.options.autocomplete.getOptions(ie.innerText,me.getPath(),Ce,me.editor))?"function"==typeof re.then?re.then(function(le){null===le?de.autocomplete.hideDropDown():le.options?de.autocomplete.show(ie,le.startFrom,le.options):de.autocomplete.show(ie,0,le)}).catch(function(le){console.error(le)}):re.options?de.autocomplete.show(ie,re.startFrom,re.options):de.autocomplete.show(ie,0,re):de.autocomplete.hideDropDown()},50))},xe._onKeyDown=function(ie){var de,me=ie.which||ie.keyCode,Ce=ie.altKey,re=ie.ctrlKey,le=ie.metaKey,ve=ie.shiftKey,we=!1,Pe=this.focusTarget;9===me&&(de=this,setTimeout(function(){de.focusTarget!==Pe&&(0,I.selectContentEditable)(de.focusTarget)},0)),this.searchBox&&(re&&70===me?(this.searchBox.dom.search.focus(),this.searchBox.dom.search.select(),we=!0):(114===me||re&&71===me)&&(ve?this.searchBox.previous(!0):this.searchBox.next(!0),we=!0)),this.history&&(re&&!ve&&90===me?(this._onUndo(),we=!0):re&&ve&&90===me&&(this._onRedo(),we=!0)),!this.options.autocomplete||we||re||Ce||le||1!==ie.key.length&&8!==me&&46!==me||(we=!1,this._showAutoComplete(ie.target)),we&&(ie.preventDefault(),ie.stopPropagation())},xe._createTable=function(){var ie;this.options.navigationBar&&(0,I.addClassName)(this.contentOuter,"has-nav-bar"),this.scrollableContent=document.createElement("div"),this.scrollableContent.className="jsoneditor-tree",this.contentOuter.appendChild(this.scrollableContent),this.content=document.createElement("div"),this.content.className="jsoneditor-tree-inner",this.scrollableContent.appendChild(this.content),this.table=document.createElement("table"),this.table.className="jsoneditor-tree",this.content.appendChild(this.table),this.colgroupContent=document.createElement("colgroup"),"tree"===this.options.mode&&((ie=document.createElement("col")).width="24px",this.colgroupContent.appendChild(ie)),(ie=document.createElement("col")).width="24px",this.colgroupContent.appendChild(ie),ie=document.createElement("col"),this.colgroupContent.appendChild(ie),this.table.appendChild(this.colgroupContent),this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.frame.appendChild(this.contentOuter)},xe.showContextMenu=function(ie,de){var me,Ce=[],re=this.multiselection.nodes.slice();Ce.push({text:(0,x.Iu)("duplicateText"),title:(0,x.Iu)("duplicateTitle"),className:"jsoneditor-duplicate",click:function(){v.onDuplicate(re)}}),Ce.push({text:(0,x.Iu)("remove"),title:(0,x.Iu)("removeTitle"),className:"jsoneditor-remove",click:function(){v.onRemove(re)}}),this.options.onCreateMenu&&(me=re.map(function(le){return le.getPath()}),Ce=this.options.onCreateMenu(Ce,{type:"multiple",path:me[0],paths:me})),new $.x(Ce,{close:de}).show(ie,this.getPopupAnchor())},xe.getPopupAnchor=function(){return this.options.popupAnchor||this.frame},xe.getSelection=function(){var ie,de,me={start:null,end:null};return this.multiselection.nodes&&this.multiselection.nodes.length&&this.multiselection.nodes.length&&(ie=this.multiselection.nodes[0],de=this.multiselection.nodes[this.multiselection.nodes.length-1],"down"===this.multiselection.direction?(me.start=ie.serialize(),me.end=de.serialize()):(me.start=de.serialize(),me.end=ie.serialize())),me},xe.onSelectionChange=function(ie){"function"==typeof ie&&(this._selectionChangedHandler=(0,I.debounce)(ie,this.DEBOUNCE_INTERVAL))},xe.setSelection=function(ie,de){ie&&ie.dom&&ie.range&&(console.warn("setSelection/getSelection usage for text selection is deprecated and should not be used, see documentation for supported selection options"),this.setDomSelection(ie)),(ie=this._getNodeInstancesByRange(ie,de)).forEach(function(me){me.expandTo()}),this.select(ie)},xe._getNodeInstancesByRange=function(ie,de){ie&&ie.path&&(me=this.node.findNodeByPath(ie.path),de)&&de.path&&(Ce=this.node.findNodeByPath(de.path));var me,Ce,re=[];if(me instanceof v)if(Ce instanceof v&&Ce!==me)if(me.parent===Ce.parent){de=me.getIndex()<Ce.getIndex()?(ie=me,Ce):(ie=Ce,me);var le=ie;for(re.push(le);le=le.nextSibling(),re.push(le),le&&le!==de;);}else re=this._findTopLevelNodes(me,Ce);else re.push(me);return re},xe.getNodesByRange=function(me,de){me=this._getNodeInstancesByRange(me,de);var Ce=[];return me.forEach(function(re){Ce.push(re.serialize())}),Ce},[{mode:"tree",mixin:xe,data:"json"},{mode:"view",mixin:xe,data:"json"},{mode:"form",mixin:xe,data:"json"}])},2744:function(Z,V,X){V.tryRequireAjv=function(){try{return X(8903)}catch(ee){}}},9125:function(Z,V,X){V.O=function(){try{X(4864)}catch(ee){console.error(ee)}}},9791:function(Z,ee,X){"use strict";X.r(ee),X.d(ee,{addClassName:function(){return S},addEventListener:function(){return Ae},asyncExec:function(){return Mn},clear:function(){return h},compileJSONPointer:function(){return dt},contains:function(){return tt},debounce:function(){return le},escapeUnicodeChars:function(){return w},extend:function(){return y},findUniqueName:function(){return Kt},formatSize:function(){return Nn},get:function(){return tn},getAbsoluteLeft:function(){return v},getAbsoluteTop:function(){return C},getChildPaths:function(){return On},getColorCSS:function(){return xt},getIndexForPosition:function(){return Pe},getInnerText:function(){return U},getInputSelection:function(){return we},getInternetExplorerVersion:function(){return ne},getPositionForPath:function(){return Ue},getSelection:function(){return ue},getSelectionOffset:function(){return pe},getType:function(){return u},getWindow:function(){return f},hasParentNode:function(){return W},improveSchemaError:function(){return de},insideRect:function(){return re},isArray:function(){return g},isChildOf:function(){return xe},isFirefox:function(){return he},isObject:function(){return Ut},isPromise:function(){return me},isTimestamp:function(){return Yt},isUrl:function(){return d},isValidColor:function(){return Zt},isValidValidationError:function(){return Ce},isValidationErrorChanged:function(){return lt},limitCharacters:function(){return _n},makeFieldTooltip:function(){return en},parse:function(){return I},parsePath:function(){return Ee},parseString:function(){return _t},removeAllClassNames:function(){return O},removeClassName:function(){return N},removeEventListener:function(){return ke},removeReturnsAndSurroundingWhitespace:function(){return Y},selectContentEditable:function(){return Q},setEndOfContentEditable:function(){return K},setSelection:function(){return oe},setSelectionOffset:function(){return F},sort:function(){return Dn},sortObjectKeys:function(){return un},stringifyPath:function(){return ie},stripFormatting:function(){return z},textDiff:function(){return ve},tryJsonRepair:function(){return T},uniqueMergeArrays:function(){return $t},validate:function(){return p}}),X(4987),ee=X(233);var $=X.n(ee),k=X(1262),P=X(6589),E=X(7026),R=X(7907);function A(Ge,ct){(null==ct||ct>Ge.length)&&(ct=Ge.length);for(var Mt=0,vn=new Array(ct);Mt<ct;Mt++)vn[Mt]=Ge[Mt];return vn}function _(Ge){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ct){return typeof ct}:function(ct){return ct&&"function"==typeof Symbol&&ct.constructor===Symbol&&ct!==Symbol.prototype?"symbol":typeof ct})(Ge)}function I(Ge){try{return JSON.parse(Ge)}catch(ct){throw p(Ge),ct}}function T(Ge){try{return(0,k.K)(Ge)}catch(ct){return Ge}}function w(Ge){return Ge.replace(/[\u007F-\uFFFF]/g,function(ct){return"\\u"+("0000"+ct.charCodeAt(0).toString(16)).slice(-4)})}function p(Ge){(void 0!==P?P:JSON).parse(Ge)}function y(Ge,ct){for(var Mt in ct)si(ct,Mt)&&(Ge[Mt]=ct[Mt]);return Ge}function h(Ge){for(var ct in Ge)si(Ge,ct)&&delete Ge[ct];return Ge}function u(Ge){return null===Ge?"null":void 0===Ge?"undefined":Ge instanceof Number||"number"==typeof Ge?"number":Ge instanceof String||"string"==typeof Ge?"string":Ge instanceof Boolean||"boolean"==typeof Ge?"boolean":Ge instanceof RegExp?"regexp":g(Ge)?"array":"object"}var l=/^https?:\/\/\S+$/;function d(Ge){return("string"==typeof Ge||Ge instanceof String)&&l.test(Ge)}function g(Ge){return"[object Array]"===Object.prototype.toString.call(Ge)}function f(Ge){return Ge.ownerDocument.defaultView}function v(Ge){return Ge.getBoundingClientRect().left+window.pageXOffset||document.scrollLeft||0}function C(Ge){return Ge.getBoundingClientRect().top+window.pageYOffset||document.scrollTop||0}function S(Ge,ct){var Mt=Ge.className.split(" ");-1===Mt.indexOf(ct)&&(Mt.push(ct),Ge.className=Mt.join(" "))}function O(Ge){Ge.className=""}function N(Ge,vn){var Mt=Ge.className.split(" ");-1!==(vn=Mt.indexOf(vn))&&(Mt.splice(vn,1),Ge.className=Mt.join(" "))}function z(Ge){for(var ct=Ge.childNodes,Mt=0,vn=ct.length;Mt<vn;Mt++){var jn=ct[Mt],Bn=(jn.style&&jn.removeAttribute("style"),jn.attributes);if(Bn)for(var Di=Bn.length-1;0<=Di;Di--){var Er=Bn[Di];!0===Er.specified&&jn.removeAttribute(Er.name)}z(jn)}}function K(Ge){var ct;document.createRange&&((ct=document.createRange()).selectNodeContents(Ge),ct.collapse(!1),(Ge=window.getSelection()).removeAllRanges(),Ge.addRange(ct))}function Q(Ge){var ct;Ge&&"DIV"===Ge.nodeName&&window.getSelection&&document.createRange&&((ct=document.createRange()).selectNodeContents(Ge),(Ge=window.getSelection()).removeAllRanges(),Ge.addRange(ct))}function ue(){if(window.getSelection){var Ge=window.getSelection();if(Ge.getRangeAt&&Ge.rangeCount)return Ge.getRangeAt(0)}return null}function oe(Ge){var ct;Ge&&window.getSelection&&((ct=window.getSelection()).removeAllRanges(),ct.addRange(Ge))}function pe(){var Ge=ue();return Ge&&"startOffset"in Ge&&"endOffset"in Ge&&Ge.startContainer&&Ge.startContainer===Ge.endContainer?{startOffset:Ge.startOffset,endOffset:Ge.endOffset,container:Ge.startContainer.parentNode}:null}function F(Ge){var ct;document.createRange&&window.getSelection&&window.getSelection()&&(ct=document.createRange(),Ge.container.firstChild||Ge.container.appendChild(document.createTextNode("")),ct.setStart(Ge.container.firstChild,Ge.startOffset),ct.setEnd(Ge.container.firstChild,Ge.endOffset),oe(ct))}function U(Ge,ct){var Mt;if(void 0===ct&&(ct={_text:"",flush:function(){var Vr=this._text;return this._text="",Vr},set:function(Vr){this._text=Vr}}),Ge.nodeValue)return""!==(Mt=Y(Ge.nodeValue))?ct.flush()+Mt:"";if(Ge.hasChildNodes()){for(var vn=Ge.childNodes,jn="",Bn=0,Di=vn.length;Bn<Di;Bn++){var Er,oo=vn[Bn];"DIV"===oo.nodeName||"P"===oo.nodeName?((Er=(Er=vn[Bn-1])?Er.nodeName:void 0)&&"DIV"!==Er&&"P"!==Er&&"BR"!==Er&&(""!==jn&&(jn+="\n"),ct.flush()),jn+=U(oo,ct),ct.set("\n")):"BR"===oo.nodeName?(jn+=ct.flush(),ct.set("\n")):jn+=U(oo,ct)}return jn}return""}function Y(Ge){return Ge.replace(/(\b|^)\s*(\b|$)/g,function(ct){return/\n/.exec(ct)?"":ct})}function W(Ge,ct){for(var Mt=Ge?Ge.parentNode:void 0;Mt;){if(Mt===ct)return!0;Mt=Mt.parentNode}return!1}function ne(){var Ge;return-1===fe&&(Ge=-1,"undefined"!=typeof navigator&&"Microsoft Internet Explorer"===navigator.appName&&null!=/MSIE ([0-9]+[.0-9]+)/.exec(navigator.userAgent)&&(Ge=parseFloat(RegExp.$1)),fe=Ge),fe}var fe=-1;function he(){return"undefined"!=typeof navigator&&-1!==navigator.userAgent.indexOf("Firefox")}function Ae(Ge,ct,Mt,vn){return Ge.addEventListener?(void 0===vn&&(vn=!1),"mousewheel"===ct&&he()&&(ct="DOMMouseScroll"),Ge.addEventListener(ct,Mt,vn),Mt):Ge.attachEvent?(Ge.attachEvent("on"+ct,vn=function(){return Mt.call(Ge,window.event)}),vn):void 0}function ke(Ge,ct,Mt,vn){Ge.removeEventListener?(void 0===vn&&(vn=!1),"mousewheel"===ct&&he()&&(ct="DOMMouseScroll"),Ge.removeEventListener(ct,Mt,vn)):Ge.detachEvent&&Ge.detachEvent("on"+ct,Mt)}function xe(Ge,ct){for(var Mt=Ge.parentNode;Mt;){if(Mt===ct)return!0;Mt=Mt.parentNode}return!1}function Ee(Ge){var ct=[],Mt=0;function vn(Bn){for(var Di="";void 0!==Ge[Mt]&&Ge[Mt]!==Bn;)Di+=Ge[Mt],Mt++;if(Ge[Mt]!==Bn)throw new Error("Invalid JSON path: unexpected end, character "+Bn+" expected");return Di}for(;void 0!==Ge[Mt];)if("."===Ge[Mt])Mt++,ct.push(function(){for(var Bn="";void 0!==Ge[Mt]&&/[\w$]/.test(Ge[Mt]);)Bn+=Ge[Mt],Mt++;if(""===Bn)throw new Error("Invalid JSON path: property name expected at index "+Mt);return Bn}());else{if("["!==Ge[Mt])throw new Error('Invalid JSON path: unexpected character "'+Ge[Mt]+'" at index '+Mt);if("'"===Ge[++Mt]||'"'===Ge[Mt]){var jn=Ge[Mt];if(Mt++,ct.push(vn(jn)),Ge[Mt]!==jn)throw new Error("Invalid JSON path: closing quote ' expected at index "+Mt);Mt++}else{if(0===(jn=vn("]").trim()).length)throw new Error("Invalid JSON path: array value expected at index "+Mt);jn="*"===jn?jn:JSON.parse(jn),ct.push(jn)}if("]"!==Ge[Mt])throw new Error("Invalid JSON path: closing bracket ] expected at index "+Mt);Mt++}return ct}function ie(Ge){return Ge.map(function(ct){return"number"==typeof ct?"["+ct+"]":"string"==typeof ct&&ct.match(/^[A-Za-z0-9_$]+$/)?"."+ct:'["'+ct+'"]'}).join("")}function de(Ge){var ct,Mt;return"enum"===Ge.keyword&&Array.isArray(Ge.schema)&&(Mt=Ge.schema)&&(5<(Mt=Mt.map(function(vn){return JSON.stringify(vn)})).length&&(ct=["("+(Mt.length-5)+" more...)"],(Mt=Mt.slice(0,5)).push(ct)),Ge.message="should be equal to one of: "+Mt.join(", ")),"additionalProperties"===Ge.keyword&&(Ge.message="should NOT have additional property: "+Ge.params.additionalProperty),Ge}function me(Ge){return Ge&&"function"==typeof Ge.then&&"function"==typeof Ge.catch}function Ce(Ge){return"object"===_(Ge)&&Array.isArray(Ge.path)&&"string"==typeof Ge.message}function re(Ge,ct,Mt){return ct.left-(Mt=void 0!==Mt?Mt:0)>=Ge.left&&ct.right+Mt<=Ge.right&&ct.top-Mt>=Ge.top&&ct.bottom+Mt<=Ge.bottom}function le(Ge,ct,Mt){var vn;return function(){var jn=this,Bn=arguments,Di=Mt&&!vn;clearTimeout(vn),vn=setTimeout(function(){vn=null,Mt||Ge.apply(jn,Bn)},ct),Di&&Ge.apply(jn,Bn)}}function ve(Ge,ct){for(var Mt=ct.length,vn=0,jn=Ge.length,Bn=ct.length;ct.charAt(vn)===Ge.charAt(vn)&&vn<Mt;)vn++;for(;ct.charAt(Bn-1)===Ge.charAt(jn-1)&&vn<Bn&&0<jn;)Bn--,jn--;return{start:vn,end:Bn}}function we(Ge){var ct,Mt,vn,jn,Bn=0,Di=0;return"number"==typeof Ge.selectionStart&&"number"==typeof Ge.selectionEnd?(Bn=Ge.selectionStart,Di=Ge.selectionEnd):(jn=document.selection.createRange())&&jn.parentElement()===Ge&&(vn=Ge.value.length,ct=Ge.value.replace(/\r\n/g,"\n"),(Mt=Ge.createTextRange()).moveToBookmark(jn.getBookmark()),(jn=Ge.createTextRange()).collapse(!1),-1<Mt.compareEndPoints("StartToEnd",jn)?Bn=Di=vn:(Bn=-Mt.moveStart("character",-vn),Bn+=ct.slice(0,Bn).split("\n").length-1,-1<Mt.compareEndPoints("EndToEnd",jn)?Di=vn:(Di=-Mt.moveEnd("character",-vn),Di+=ct.slice(0,Di).split("\n").length-1))),{startIndex:Bn,endIndex:Di,start:Er(Bn),end:Er(Di)};function Er(oo){return{row:((oo=Ge.value.substring(0,oo)).match(/\n/g)||[]).length+1,column:oo.length-oo.lastIndexOf("\n")}}}function Pe(vn,ct,Mt){return vn=vn.value||"",0<ct&&0<Mt?(vn=vn.split("\n",ct),ct=Math.min(vn.length,ct),Mt=Math.min(vn[ct-1].length,Mt-1),Mt=1===ct?Mt:Mt+1,vn.slice(0,ct-1).join("\n").length+Mt):-1}function Ue(Ge,ct){var Mt,vn=[];if(ct&&ct.length){try{Mt=E.parse(Ge)}catch(jn){return vn}ct.forEach(function(jn){var Bn=dt(Ee(jn));(Bn=Mt.pointers[Bn])&&vn.push({path:jn,line:Bn.key?Bn.key.line:Bn.value?Bn.value.line:0,column:Bn.key?Bn.key.column:Bn.value?Bn.value.column:0})})}return vn}function dt(Ge){return Ge.map(function(ct){return"/"+String(ct).replace(/~/g,"~0").replace(/\//g,"~1")}).join("")}function xt(Ge){var ct=document.createElement("div");return ct.style.color=Ge,ct.style.color.split(/\s+/).join("").toLowerCase()||null}function Zt(Ge){return!!xt(Ge)}function en(Ge,ct){var Mt;return Ge?(Mt="",Ge.title&&(Mt+=Ge.title),Ge.description&&(0<Mt.length&&(Mt+="\n"),Mt+=Ge.description),Ge.default&&(0<Mt.length&&(Mt+="\n\n"),Mt=(Mt+=(0,R.Iu)("default",void 0,ct)+"\n")+JSON.stringify(Ge.default,null,2)),Array.isArray(Ge.examples)&&0<Ge.examples.length&&(0<Mt.length&&(Mt+="\n\n"),Mt+=(0,R.Iu)("examples",void 0,ct)+"\n",Ge.examples.forEach(function(vn,jn){Mt+=JSON.stringify(vn,null,2),jn!==Ge.examples.length-1&&(Mt+="\n")})),Mt):""}function tn(Ge,ct){for(var Mt=Ge,vn=0;vn<ct.length&&null!=Mt;vn++)Mt=Mt[ct[vn]];return Mt}function Kt(Ge,ct){for(var Mt=Ge.replace(/ \(copy( \d+)?\)$/,""),vn=Mt,jn=1;-1!==ct.indexOf(vn);)vn=Mt+" (copy"+(1<jn?" "+jn:"")+")",jn++;return vn}function On(Ge,ct){var Mt={};if(Array.isArray(Ge))for(var vn=Math.min(Ge.length,1e4),jn=0;jn<vn;jn++)!function Bn(Di,Er,oo,Vr){(Array.isArray(Di)||Ut(Di))&&!Vr||(Er[oo||""]=!0),Ut(Di)&&Object.keys(Di).forEach(function(oa){Bn(Di[oa],Er,oo+"."+oa,Vr)})}(Ge[jn],Mt,"",ct);else Mt[""]=!0;return Object.keys(Mt).sort()}function Dn(Ge,Bn,Mt){var vn=Bn&&"."!==Bn?Ee(Bn):[],jn="desc"===Mt?-1:1;return(Bn=Ge.slice()).sort(function(Di,Er){return Di=tn(Di,vn),Er=tn(Er,vn),jn*(Er<Di?1:Di<Er?-1:0)}),Bn}function un(Ge,vn){var Mt="desc"===vn?-1:1,jn=(vn=Object.keys(Ge).sort(function(Bn,Di){return Mt*$()(Bn,Di)}),{});return vn.forEach(function(Bn){jn[Bn]=Ge[Bn]}),jn}function _t(Ge){var ct,Mt;return""===Ge?"":"null"===(ct=Ge.toLowerCase())?null:"true"===ct||"false"!==ct&&(ct=Number(Ge),Mt=parseFloat(Ge),isNaN(ct)||isNaN(Mt)?Ge:ct)}function Yt(Ge,ct){return"number"==typeof ct&&9466848e5<ct&&isFinite(ct)&&Math.floor(ct)===ct&&!isNaN(new Date(ct).valueOf())}function Nn(Ge){return Ge<900?Ge.toFixed()+" B":(Ge/=1e3)<900?Ge.toFixed(1)+" KB":(Ge/=1e3)<900?Ge.toFixed(1)+" MB":(Ge/=1e3)<900?Ge.toFixed(1)+" GB":(Ge/1e3).toFixed(1)+" TB"}function _n(Ge,ct){return Ge.length<=ct?Ge:Ge.slice(0,ct)+"..."}function Ut(Ge){return"object"===_(Ge)&&null!==Ge&&!Array.isArray(Ge)}function tt(Ge,ct){return-1!==Ge.indexOf(ct)}function lt(Ge,ct){if(ct||Ge){if(ct&&!Ge||!ct&&Ge||ct.length!==Ge.length)return!0;for(var Mt=0;Mt<Ge.length;++Mt){var vn=function(jn){if(!ct.find("error"===Ge[jn].type?function(Di){return Di.line===Ge[jn].line}:function(Di){return Di.dataPath===Ge[jn].dataPath&&Di.schemaPath===Ge[jn].schemaPath}))return{v:!0}}(Mt);if("object"===_(vn))return vn.v}}return!1}function $t(Ge,ct){return Ge=null!=Ge&&Ge.length?Ge:[],ct=null!=ct&&ct.length?ct:[],function x(Ge){return function(ct){if(Array.isArray(ct))return A(ct)}(Ge)||function(ct){if("undefined"!=typeof Symbol&&null!=ct[Symbol.iterator]||null!=ct["@@iterator"])return Array.from(ct)}(Ge)||function(ct,Mt){var vn;if(ct)return"string"==typeof ct?A(ct,void 0):"Map"===(vn="Object"===(vn=Object.prototype.toString.call(ct).slice(8,-1))&&ct.constructor?ct.constructor.name:vn)||"Set"===vn?Array.from(ct):"Arguments"===vn||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(vn)?A(ct,void 0):void 0}(Ge)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(Ge.concat(ct)))}function Mn(Ge){setTimeout(Ge)}function si(Ge,ct){return Object.prototype.hasOwnProperty.call(Ge,ct)}},8037:function(Z,V,X){var ee;if(window.Picker)ee=window.Picker;else try{ee=X(4049)}catch($){}Z.exports=ee},6225:function(Z,V,X){function ee(_,m){var D,I;return m=A(_,m),(_=E.modules[m])||("function"==typeof(_=E.payloads[m])&&(D={id:m,uri:"",exports:I={},packaged:!0},I=_(function(T,w){return R(m,T,w)},I,D)||D.exports,E.modules[m]=I,delete E.payloads[m]),_=E.modules[m]=I||_),_}var $,k,P,E,R,x,A;Z=X.nmd(Z),(P=function(){return this}())||"undefined"==typeof window||(P=window),(E=function(_,m,D){"string"!=typeof _?E.original?E.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace()):(2==arguments.length&&(D=m),E.modules[_]||(E.payloads[_]=D,E.modules[_]=null))}).modules={},E.payloads={},R=function(_,m,D){if("string"==typeof m){var I=ee(_,m);if(null!=I)return D&&D(),I}else if("[object Array]"===Object.prototype.toString.call(m)){for(var T=[],w=0,p=m.length;w<p;++w){var y=ee(_,m[w]);if(null==y&&x.original)return;T.push(y)}return D&&D.apply(null,T)||!0}},x=function(_,m){var D=R("",_,m);return null==D&&x.original?x.original.apply(this,arguments):D},A=function(_,m){var D;if(-1!==m.indexOf("!"))return D=m.split("!"),A(_,D[0])+"!"+A(_,D[1]);if("."==m.charAt(0))for(m=_.split("/").slice(0,-1).join("/")+"/"+m;-1!==m.indexOf(".")&&I!=m;){var I=m;m=m.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return m},k=P,($="ace")&&(P[$]||(P[$]={}),k=P[$]),k.define&&k.define.packaged||(E.original=k.define,k.define=E,k.define.packaged=!0),k.require&&k.require.packaged||(x.original=k.require,k.require=x,k.require.packaged=!0),ace.define("ace/lib/es6-shim",["require","exports","module"],function(_,m,D){function I(T,w,p){Object.defineProperty(T,w,{value:p,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||I(String.prototype,"startsWith",function(T,w){return this.lastIndexOf(T,w=w||0)===w}),String.prototype.endsWith||I(String.prototype,"endsWith",function(T,w){return(void 0===w||w>this.length)&&(w=this.length),-1!==(T=this.indexOf(T,w-=T.length))&&T===w}),String.prototype.repeat||I(String.prototype,"repeat",function(T){for(var w="",p=this;0<T;)1&T&&(w+=p),(T>>=1)&&(p+=p);return w}),String.prototype.includes||I(String.prototype,"includes",function(T,w){return-1!=this.indexOf(T,w)}),Object.assign||(Object.assign=function(T){if(null==T)throw new TypeError("Cannot convert undefined or null to object");for(var w=Object(T),p=1;p<arguments.length;p++){var y=arguments[p];null!=y&&Object.keys(y).forEach(function(h){w[h]=y[h]})}return w}),Object.values||(Object.values=function(T){return Object.keys(T).map(function(w){return T[w]})}),Array.prototype.find||I(Array.prototype,"find",function(T){for(var w=this.length,p=arguments[1],y=0;y<w;y++){var h=this[y];if(T.call(p,h,y,this))return h}}),Array.prototype.findIndex||I(Array.prototype,"findIndex",function(T){for(var w=this.length,p=arguments[1],y=0;y<w;y++)if(T.call(p,this[y],y,this))return y}),Array.prototype.includes||I(Array.prototype,"includes",function(T,w){return-1!=this.indexOf(T,w)}),Array.prototype.fill||I(Array.prototype,"fill",function(T){for(var y,w=this.length>>>0,p=(y=arguments[1]>>0)<0?Math.max(w+y,0):Math.min(y,w),h=(y=void 0===(y=arguments[2])?w:y>>0)<0?Math.max(w+y,0):Math.min(y,w);p<h;)this[p]=T,p++;return this}),Array.of||I(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(_,m,D){"use strict";_("./es6-shim")}),ace.define("ace/lib/lang",["require","exports","module"],function(_,m,D){"use strict";m.last=function(w){return w[w.length-1]},m.stringReverse=function(w){return w.split("").reverse().join("")},m.stringRepeat=function(w,p){for(var y="";0<p;)1&p&&(y+=w),(p>>=1)&&(w+=w);return y};var I=/^\s\s*/,T=/\s\s*$/;m.stringTrimLeft=function(w){return w.replace(I,"")},m.stringTrimRight=function(w){return w.replace(T,"")},m.copyObject=function(w){var p,y={};for(p in w)y[p]=w[p];return y},m.copyArray=function(w){for(var p=[],y=0,h=w.length;y<h;y++)p[y]=w[y]&&"object"==typeof w[y]?this.copyObject(w[y]):w[y];return p},m.deepCopy=function w(p){if("object"!=typeof p||!p)return p;if(Array.isArray(p))for(var y=[],h=0;h<p.length;h++)y[h]=w(p[h]);else{if("[object Object]"!==Object.prototype.toString.call(p))return p;for(var h in y={},p)y[h]=w(p[h])}return y},m.arrayToMap=function(w){for(var p={},y=0;y<w.length;y++)p[w[y]]=1;return p},m.createMap=function(w){var p,y=Object.create(null);for(p in w)y[p]=w[p];return y},m.arrayRemove=function(w,p){for(var y=0;y<=w.length;y++)p===w[y]&&w.splice(y,1)},m.escapeRegExp=function(w){return w.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},m.escapeHTML=function(w){return(""+w).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},m.getMatchOffsets=function(w,p){var y=[];return w.replace(p,function(h){y.push({offset:arguments[arguments.length-2],length:h.length})}),y},m.deferredCall=function(w){function p(){h=null,w()}function y(u){return y.cancel(),h=setTimeout(p,u||0),y}var h=null;return(y.schedule=y).call=function(){return this.cancel(),w(),y},y.cancel=function(){return clearTimeout(h),h=null,y},y.isPending=function(){return h},y},m.delayedCall=function(w,p){function y(){u=null,w()}function h(l){null==u&&(u=setTimeout(y,l||p))}var u=null;return h.delay=function(l){u&&clearTimeout(u),u=setTimeout(y,l||p)},(h.schedule=h).call=function(){this.cancel(),w()},h.cancel=function(){u&&clearTimeout(u),u=null},h.isPending=function(){return u},h}}),ace.define("ace/lib/useragent",["require","exports","module"],function(_,m,D){"use strict";m.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},m.getOS=function(){return m.isMac?m.OS.MAC:m.isLinux?m.OS.LINUX:m.OS.WINDOWS};var w="object"==typeof navigator?navigator:{},I=(/mac|win|linux/i.exec(w.platform)||["other"])[0].toLowerCase(),T=w.userAgent||"";w=w.appName||"",m.isWin="win"==I,m.isMac="mac"==I,m.isLinux="linux"==I,m.isIE="Microsoft Internet Explorer"==w||0<=w.indexOf("MSAppHost")?parseFloat((T.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((T.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),m.isOldIE=m.isIE&&m.isIE<9,m.isGecko=m.isMozilla=T.match(/ Gecko\/\d+/),m.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),m.isWebKit=parseFloat(T.split("WebKit/")[1])||void 0,m.isChrome=parseFloat(T.split(" Chrome/")[1])||void 0,m.isEdge=parseFloat(T.split(" Edge/")[1])||void 0,m.isAIR=0<=T.indexOf("AdobeAIR"),m.isAndroid=0<=T.indexOf("Android"),m.isChromeOS=0<=T.indexOf(" CrOS "),m.isIOS=/iPad|iPhone|iPod/.test(T)&&!window.MSStream,m.isIOS&&(m.isMac=!0),m.isMobile=m.isIOS||m.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(w,m,D){"use strict";w=w("./useragent");var I,T,p=(m.buildDom=function u(l,d,g){if("string"==typeof l&&l)return N=document.createTextNode(l),d&&d.appendChild(N),N;if(!Array.isArray(l))return l&&l.appendChild&&d&&d.appendChild(l),l;if("string"!=typeof l[0]||!l[0]){for(var f=[],v=0;v<l.length;v++){var C=u(l[v],d,g);C&&f.push(C)}return f}var S=document.createElement(l[0]),O=l[1],N=1;for(v=N=O&&"object"==typeof O&&!Array.isArray(O)?2:N;v<l.length;v++)u(l[v],S,g);return 2==N&&Object.keys(O).forEach(function(z){var K=O[z];"class"===z?S.className=Array.isArray(K)?K.join(" "):K:"function"==typeof K||"value"==z||"$"==z[0]?S[z]=K:"ref"===z?g&&(g[K]=S):"style"===z?"string"==typeof K&&(S.style.cssText=K):null!=K&&S.setAttribute(z,K)}),d&&d.appendChild(S),S},m.getDocumentHead=function(u){return(u=u||document).head||u.getElementsByTagName("head")[0]||u.documentElement},m.createElement=function(u,l){return document.createElementNS?document.createElementNS(l||"http://www.w3.org/1999/xhtml",u):document.createElement(u)},m.removeChildren=function(u){u.innerHTML=""},m.createTextNode=function(u,l){return(l?l.ownerDocument:document).createTextNode(u)},m.createFragment=function(u){return(u?u.ownerDocument:document).createDocumentFragment()},m.hasCssClass=function(u,l){return-1!==(u.className+"").split(/\s+/g).indexOf(l)},m.addCssClass=function(u,l){m.hasCssClass(u,l)||(u.className+=" "+l)},m.removeCssClass=function(u,l){for(var d=u.className.split(/\s+/g);;){var g=d.indexOf(l);if(-1==g)break;d.splice(g,1)}u.className=d.join(" ")},m.toggleCssClass=function(u,l){for(var d=u.className.split(/\s+/g),g=!0;;){var f=d.indexOf(l);if(-1==f)break;g=!1,d.splice(f,1)}return g&&d.push(l),u.className=d.join(" "),g},m.setCssClass=function(u,l,d){d?m.addCssClass(u,l):m.removeCssClass(u,l)},m.hasCssString=function(u,l){var d,g=0;if(d=(l=l||document).querySelectorAll("style"))for(;g<d.length;)if(d[g++].id===u)return!0},m.removeElementById=function(u,l){(l=l||document).getElementById(u)&&l.getElementById(u).remove()},[]);function y(){var u=p;p=null,u&&u.forEach(function(l){h(l[0],l[1])})}function h(u,l,d){if("undefined"!=typeof document){if(p)if(d)y();else if(!1===d)return p.push([u,l]);if(!I){var g=d;if(d=(g=d&&d.getRootNode&&(g=d.getRootNode())&&g!=d?g:document).ownerDocument||g,l&&m.hasCssString(l,g))return null;l&&(u+="\n/*# sourceURL=ace/css/"+l+" */");var f=m.createElement("style");f.appendChild(d.createTextNode(u)),l&&(f.id=l),(g=g==d?m.getDocumentHead(d):g).insertBefore(f,g.firstChild)}}}m.useStrictCSP=function(u){0==(I=u)?y():p=p||[]},m.importCssString=h,m.importCssStylsheet=function(u,l){m.buildDom(["link",{rel:"stylesheet",href:u}],m.getDocumentHead(l))},m.scrollbarWidth=function(g){var l=m.createElement("ace_inner"),d=(l.style.width="100%",l.style.minWidth="0px",l.style.height="200px",l.style.display="block",m.createElement("ace_outer"));if((v=d.style).position="absolute",v.left="-10000px",v.overflow="hidden",v.width="200px",v.minWidth="0px",v.height="150px",v.display="block",d.appendChild(l),!(g=g&&g.documentElement||document&&document.documentElement))return 0;g.appendChild(d);var v,f=l.offsetWidth;return f===(v.overflow="scroll",v=l.offsetWidth)&&(v=d.clientWidth),g.removeChild(d),f-v},m.computedStyle=function(u,l){return window.getComputedStyle(u,"")||{}},m.setStyle=function(u,l,d){u[l]!==d&&(u[l]=d)},m.HAS_CSS_ANIMATION=!1,m.HAS_CSS_TRANSFORMS=!1,m.HI_DPI=!w.isWin||"undefined"!=typeof window&&1.5<=window.devicePixelRatio,w.isChromeOS&&(m.HI_DPI=!1),"undefined"!=typeof document&&(T=document.createElement("div"),m.HI_DPI&&void 0!==T.style.transform&&(m.HAS_CSS_TRANSFORMS=!0),w.isEdge||void 0===T.style.animationName||(m.HAS_CSS_ANIMATION=!0),T=null),m.translate=m.HAS_CSS_TRANSFORMS?function(u,l,d){u.style.transform="translate("+Math.round(l)+"px, "+Math.round(d)+"px)"}:function(u,l,d){u.style.top=Math.round(d)+"px",u.style.left=Math.round(l)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(_,m,D){"use strict";var I=_("./dom");m.get=function(T,w){var p=new XMLHttpRequest;p.open("GET",T,!0),p.onreadystatechange=function(){4===p.readyState&&w(p.responseText)},p.send(null)},m.loadScript=function(T,w){var p=I.getDocumentHead(),y=document.createElement("script");y.src=T,p.appendChild(y),y.onload=y.onreadystatechange=function(h,u){!u&&y.readyState&&"loaded"!=y.readyState&&"complete"!=y.readyState||(y=y.onload=y.onreadystatechange=null,u)||w()}},m.qualifyURL=function(T){var w=document.createElement("a");return w.href=T,w.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(_,m,D){"use strict";m.inherits=function(I,T){I.super_=T,I.prototype=Object.create(T.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}})},m.mixin=function(I,T){for(var w in T)I[w]=T[w];return I},m.implement=function(I,T){m.mixin(I,T)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(_,m,D){"use strict";function I(){this.propagationStopped=!0}function T(){this.defaultPrevented=!0}var w={};w._emit=w._dispatchEvent=function(p,y){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var u=this._defaultHandlers[p];if((h=this._eventRegistry[p]||[]).length||u){(y="object"==typeof y&&y?y:{}).type||(y.type=p),y.stopPropagation||(y.stopPropagation=I),y.preventDefault||(y.preventDefault=T);for(var h=h.slice(),l=0;l<h.length&&(h[l](y,this),!y.propagationStopped);l++);return u&&!y.defaultPrevented?u(y,this):void 0}},w._signal=function(p,y){if(h=(this._eventRegistry||{})[p])for(var h=h.slice(),u=0;u<h.length;u++)h[u](y,this)},w.once=function(p,y){var h=this;if(this.on(p,function u(){h.off(p,u),y.apply(null,arguments)}),!y)return new Promise(function(u){y=u})},w.setDefaultHandler=function(p,y){var h,u,l=this._defaultHandlers;(l=l||(this._defaultHandlers={_disabled_:{}}))[p]&&(u=l[p],(h=l._disabled_[p])||(l._disabled_[p]=h=[]),h.push(u),-1!=(u=h.indexOf(y)))&&h.splice(u,1),l[p]=y},w.removeDefaultHandler=function(p,y){var h,u=this._defaultHandlers;u&&(h=u._disabled_[p],u[p]==y?h&&this.setDefaultHandler(p,h.pop()):h&&-1!=(u=h.indexOf(y))&&h.splice(u,1))},w.on=w.addEventListener=function(p,y,h){this._eventRegistry=this._eventRegistry||{};var u=this._eventRegistry[p];return-1==(u=u||(this._eventRegistry[p]=[])).indexOf(y)&&u[h?"unshift":"push"](y),y},w.off=w.removeListener=w.removeEventListener=function(p,y){this._eventRegistry=this._eventRegistry||{},(p=this._eventRegistry[p])&&-1!==(y=p.indexOf(y))&&p.splice(y,1)},w.removeAllListeners=function(p){p||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[p]=void 0),this._defaultHandlers&&(this._defaultHandlers[p]=void 0)},m.EventEmitter=w}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(w,m,D){var I,T=w("./oop"),p=(w=w("./event_emitter").EventEmitter,{setOptions:function(l){Object.keys(l).forEach(function(d){this.setOption(d,l[d])},this)},getOptions:function(l){var d,g={};return l?Array.isArray(l)||(g=l,l=Object.keys(g)):(d=this.$options,l=Object.keys(d).filter(function(f){return!d[f].hidden})),l.forEach(function(f){g[f]=this.getOption(f)},this),g},setOption:function(l,d){var g;if(this["$"+l]!==d)return(g=this.$options[l])?g.forwardTo?this[g.forwardTo]&&this[g.forwardTo].setOption(l,d):(g.handlesSet||(this["$"+l]=d),void(g&&g.set&&g.set.call(this,d))):y('misspelled option "'+l+'"')},getOption:function(l){var d=this.$options[l];return d?d.forwardTo?this[d.forwardTo]&&this[d.forwardTo].getOption(l):d&&d.get?d.get.call(this):this["$"+l]:y('misspelled option "'+l+'"')}});function y(l){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}u.prototype.defineOptions=function(l,d,g){return l.$options||(this.$defaultOptions[d]=l.$options={}),Object.keys(g).forEach(function(f){var v=g[f];(v="string"==typeof v?{forwardTo:v}:v).name||(v.name=f),"initialValue"in(l.$options[v.name]=v)&&(l["$"+v.name]=v.initialValue)}),T.implement(l,p),this},u.prototype.resetOptions=function(l){Object.keys(l.$options).forEach(function(d){var g=l.$options[d];"value"in g&&l.setOption(d,g.value)})},u.prototype.setDefaultValue=function(l,d,g){if(!l){for(l in this.$defaultOptions)if(this.$defaultOptions[l][d])break;if(!this.$defaultOptions[l][d])return!1}var f=this.$defaultOptions[l]||(this.$defaultOptions[l]={});f[d]&&(f.forwardTo?this.setDefaultValue(f.forwardTo,d,g):f[d].value=g)},u.prototype.setDefaultValues=function(l,d){Object.keys(d).forEach(function(g){this.setDefaultValue(l,g,d[g])},this)},u.prototype.setMessages=function(l){I=l},u.prototype.nls=function(l,d){return l=I&&I[l]||l,d?l.replace(/\$(\$|[\d]+)/g,function(g,f){return"$"==f?"$":d[f]}):l};var h=u;function u(){this.$defaultOptions={}}h.prototype.warn=y,h.prototype.reportError=function(l,d){var g=new Error(l);g.data=d,"object"==typeof console&&console.error&&console.error(g),setTimeout(function(){throw g})},T.implement(h.prototype,w),m.AppConfig=h}),ace.define("ace/theme/textmate.css",["require","exports","module"],function(_,m,D){D.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],function(_,m,D){"use strict";m.isDark=!1,m.cssClass="ace-tm",m.cssText=_("./textmate.css"),m.$id="ace/theme/textmate",_("../lib/dom").importCssString(m.cssText,m.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(_,m,D){var I=_("./lib/lang"),T=_("./lib/net"),w=_("./lib/dom"),p=_("./lib/app_config").AppConfig,y=(D.exports=m=new p,{packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null}),h=(m.get=function(l){if(y.hasOwnProperty(l))return y[l];throw new Error("Unknown config key: "+l)},m.set=function(l,d){if(y.hasOwnProperty(l))y[l]=d;else if(0==this.setDefaultValue("",l,d))throw new Error("Unknown config key: "+l);"useStrictCSP"==l&&w.useStrictCSP(d)},m.all=function(){return I.copyObject(y)},m.$modes={},m.moduleUrl=function(l,d){var g,f,v;return y.$moduleUrls[l]||(l=l.split("/"),g="snippets"==(d=d||l[l.length-2]||"")?"/":"-",f=l[l.length-1],"worker"==d&&"-"==g&&(v=new RegExp("^"+d+"[\\-_]|[\\-_]"+d+"$","g"),f=f.replace(v,"")),(!f||f==d)&&1<l.length&&(f=l[l.length-2]),null==(v=y[d+"Path"])?v=y.basePath:"/"==g&&(d=g=""),v&&"/"!=v.slice(-1)&&(v+="/"),v+d+g+f+this.get("suffix"))},m.setModuleUrl=function(l,d){return y.$moduleUrls[l]=d},function(l,d){return"ace/theme/textmate"===l||"./theme/textmate"===l?d(null,_("./theme/textmate")):console.error("loader is not configured")}),u=(m.setLoader=function(l){h=l},m.dynamicModules=Object.create(null),m.$loading={},m.loadModule=function(l,d){function g(C){if(C&&!m.$loading[l])return d&&d(C);if(m.$loading[l]||(m.$loading[l]=[]),m.$loading[l].push(d),!(1<m.$loading[l].length)){let O=function(){h(l,function(N,z){m._emit("load.module",{name:l,module:z});var K=m.$loading[l];m.$loading[l]=null,K.forEach(function(Q){Q&&Q(z)})})};if(!m.get("packaged"))return O();T.loadScript(m.moduleUrl(l,v),O),u()}}var f,v;if(Array.isArray(l)&&(v=l[0],l=l[1]),m.dynamicModules[l])m.dynamicModules[l]().then(function(C){g(C.default?C.default:C)});else{try{f=_(l)}catch(C){}g(f)}},m.setModuleLoader=function(l,d){m.dynamicModules[l]=d},function(){y.basePath||y.workerPath||y.modePath||y.themePath||Object.keys(y.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),u=function(){})});m.version="1.20.0"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(_,m,D){"use strict";_("./lib/fixoldbrowsers");var I=_("./config"),T=(I.setLoader(function(p,y){_([p],function(h){y(null,h)})}),function(){return this||"undefined"!=typeof window&&window}());function w(p){if(T&&T.document){I.set("packaged",p||_.packaged||D.packaged||T.define&&X.amdD.packaged);for(var y,h={},u="",l=(p=document.currentScript||document._currentScript)&&p.ownerDocument||document,d=(p&&p.src&&(u=p.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||""),l.getElementsByTagName("script")),g=0;g<d.length;g++){var f=d[g],v=f.src||f.getAttribute("src");if(v){for(var C=f.attributes,S=0,O=C.length;S<O;S++){var N=C[S];0===N.name.indexOf("data-ace-")&&(h[N.name.replace(/^data-ace-/,"").replace(/-(.)/g,function(K,Q){return Q.toUpperCase()})]=N.value)}(f=v.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/))&&(u=f[1])}}for(y in u&&(h.base=h.base||u,h.packaged=!0),h.basePath=h.base,h.workerPath=h.workerPath||h.base,h.modePath=h.modePath||h.base,h.themePath=h.themePath||h.base,delete h.base,h)void 0!==h[y]&&I.set(y,h[y])}}D.exports=function(p){I.init=w,p.require=_,p.define=X.amdD},w(!0)}),ace.define("ace/range",["require","exports","module"],function(_,m,D){"use strict";T.prototype.isEqual=function(w){return this.start.row===w.start.row&&this.end.row===w.end.row&&this.start.column===w.start.column&&this.end.column===w.end.column},T.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},T.prototype.contains=function(w,p){return 0==this.compare(w,p)},T.prototype.compareRange=function(p){var y=p.end;return p=p.start,1==(y=this.compare(y.row,y.column))?1==(y=this.compare(p.row,p.column))?2:0==y?1:0:-1==y?-2:-1==(y=this.compare(p.row,p.column))?-1:1==y?42:0},T.prototype.comparePoint=function(w){return this.compare(w.row,w.column)},T.prototype.containsRange=function(w){return 0==this.comparePoint(w.start)&&0==this.comparePoint(w.end)},T.prototype.intersects=function(w){return-1==(w=this.compareRange(w))||0==w||1==w},T.prototype.isEnd=function(w,p){return this.end.row==w&&this.end.column==p},T.prototype.isStart=function(w,p){return this.start.row==w&&this.start.column==p},T.prototype.setStart=function(w,p){"object"==typeof w?(this.start.column=w.column,this.start.row=w.row):(this.start.row=w,this.start.column=p)},T.prototype.setEnd=function(w,p){"object"==typeof w?(this.end.column=w.column,this.end.row=w.row):(this.end.row=w,this.end.column=p)},T.prototype.inside=function(w,p){return 0==this.compare(w,p)&&!this.isEnd(w,p)&&!this.isStart(w,p)},T.prototype.insideStart=function(w,p){return 0==this.compare(w,p)&&!this.isEnd(w,p)},T.prototype.insideEnd=function(w,p){return 0==this.compare(w,p)&&!this.isStart(w,p)},T.prototype.compare=function(w,p){return this.isMultiLine()||w!==this.start.row?w<this.start.row?-1:w>this.end.row?1:this.start.row===w?p>=this.start.column?0:-1:this.end.row!==w||p<=this.end.column?0:1:p<this.start.column?-1:p>this.end.column?1:0},T.prototype.compareStart=function(w,p){return this.start.row==w&&this.start.column==p?-1:this.compare(w,p)},T.prototype.compareEnd=function(w,p){return this.end.row==w&&this.end.column==p?1:this.compare(w,p)},T.prototype.compareInside=function(w,p){return this.end.row==w&&this.end.column==p?1:this.start.row==w&&this.start.column==p?-1:this.compare(w,p)},T.prototype.clipRows=function(w,p){var y,h;return this.end.row>p?y={row:p+1,column:0}:this.end.row<w&&(y={row:w,column:0}),this.start.row>p?h={row:p+1,column:0}:this.start.row<w&&(h={row:w,column:0}),T.fromPoints(h||this.start,y||this.end)},T.prototype.extend=function(w,p){var y,h,u=this.compare(w,p);return 0==u?this:(-1==u?y={row:w,column:p}:h={row:w,column:p},T.fromPoints(y||this.start,h||this.end))},T.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},T.prototype.isMultiLine=function(){return this.start.row!==this.end.row},T.prototype.clone=function(){return T.fromPoints(this.start,this.end)},T.prototype.collapseRows=function(){return new T(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},T.prototype.toScreenRange=function(y){var p=y.documentToScreenPosition(this.start);return y=y.documentToScreenPosition(this.end),new T(p.row,p.column,y.row,y.column)},T.prototype.moveBy=function(w,p){this.start.row+=w,this.start.column+=p,this.end.row+=w,this.end.column+=p};var I=T;function T(w,p,y,h){this.start={row:w,column:p},this.end={row:y,column:h}}I.fromPoints=function(w,p){return new I(w.row,w.column,p.row,p.column)},I.comparePoints=function(w,p){return w.row-p.row||w.column-p.column},I.comparePoints=function(w,p){return w.row-p.row||w.column-p.column},m.Range=I}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(_,m,D){"use strict";var I=_("./oop"),T=function(){var w,p,y={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(p in y.PRINTABLE_KEYS[173]="-",y.FUNCTION_KEYS)w=y.FUNCTION_KEYS[p].toLowerCase(),y[w]=parseInt(p,10);for(p in y.PRINTABLE_KEYS)w=y.PRINTABLE_KEYS[p].toLowerCase(),y[w]=parseInt(p,10);I.mixin(y,y.MODIFIER_KEYS),I.mixin(y,y.PRINTABLE_KEYS),I.mixin(y,y.FUNCTION_KEYS),y.enter=y.return,y.escape=y.esc,y.del=y.delete;for(var h=["cmd","ctrl","alt","shift"],u=Math.pow(2,h.length);u--;)y.KEY_MODS[u]=h.filter(function(l){return u&y.KEY_MODS[l]}).join("-")+"-";return y.KEY_MODS[0]="",y.KEY_MODS[-1]="input-",y}();I.mixin(m,T),m.keyCodeToString=function(w){var p=T[w];return(p="string"!=typeof p?String.fromCharCode(w):p).toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(_,m,D){"use strict";var I,T=_("./keys"),w=_("./useragent"),p=null,y=0;function h(){if(null==I){I=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){I={passive:!1}}})}catch(S){}}return I}function u(S,O,N){this.elem=S,this.type=O,this.callback=N}function l(S){return 0|(S.ctrlKey?1:0)|(S.altKey?2:0)|(S.shiftKey?4:0)|(S.metaKey?8:0)}u.prototype.destroy=function(){f(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var d,g=m.addListener=function(S,O,N,z){S.addEventListener(O,N,h()),z&&z.$toDestroy.push(new u(S,O,N))},f=m.removeListener=function(S,O,N){S.removeEventListener(O,N,h())};function v(S,O,N){var z=l(O);if(!w.isMac&&p){if(O.getModifierState&&(O.getModifierState("OS")||O.getModifierState("Win"))&&(z|=8),p.altGr){if(3==(3&z))return;p.altGr=0}18!==N&&17!==N||(K="location"in O?O.location:O.keyLocation,17===N&&1===K?1==p[N]&&(y=O.timeStamp):18===N&&3===z&&2===K&&O.timeStamp-y<50&&(p.altGr=!0))}if(N in T.MODIFIER_KEYS&&(N=-1),!z&&13===N){var K="location"in O?O.location:O.keyLocation;if(3===K&&(S(O,z,-N),O.defaultPrevented))return}if(w.isChromeOS&&8&z){if(S(O,z,N),O.defaultPrevented)return;z&=-9}return!!(z||N in T.FUNCTION_KEYS||N in T.PRINTABLE_KEYS)&&S(O,z,N)}function C(){p=Object.create(null)}m.stopEvent=function(S){return m.stopPropagation(S),m.preventDefault(S),!1},m.stopPropagation=function(S){S.stopPropagation&&S.stopPropagation()},m.preventDefault=function(S){S.preventDefault&&S.preventDefault()},m.getButton=function(S){return"dblclick"==S.type?0:"contextmenu"==S.type||w.isMac&&S.ctrlKey&&!S.altKey&&!S.shiftKey?2:S.button},m.capture=function(S,O,N){var z=S&&S.ownerDocument||document;function K(Q){O&&O(Q),N&&N(Q),f(z,"mousemove",O),f(z,"mouseup",K),f(z,"dragstart",K)}return g(z,"mousemove",O),g(z,"mouseup",K),g(z,"dragstart",K),K},m.addMouseWheelListener=function(S,O,N){g(S,"wheel",function(z){var K=z.deltaX||0,Q=z.deltaY||0;switch(z.deltaMode){case z.DOM_DELTA_PIXEL:z.wheelX=.15*K,z.wheelY=.15*Q;break;case z.DOM_DELTA_LINE:z.wheelX=15*K,z.wheelY=15*Q;break;case z.DOM_DELTA_PAGE:z.wheelX=150*K,z.wheelY=150*Q}O(z)},N)},m.addMultiMouseDownListener=function(S,O,N,z,K){var Q,ue,oe,pe=0,F={2:"dblclick",3:"tripleclick",4:"quadclick"};function U(Y){var W;if(0!==m.getButton(Y)?pe=0:1<Y.detail&&!(4<++pe)||(pe=1),w.isIE&&(W=5<Math.abs(Y.clientX-Q)||5<Math.abs(Y.clientY-ue),oe&&!W||(pe=1),oe&&clearTimeout(oe),oe=setTimeout(function(){oe=null},O[pe-1]||600),1==pe)&&(Q=Y.clientX,ue=Y.clientY),Y._clicks=pe,N[z]("mousedown",Y),4<pe)pe=0;else if(1<pe)return N[z](F[pe],Y)}(S=Array.isArray(S)?S:[S]).forEach(function(Y){g(Y,"mousedown",U,K)})},m.getModifierString=function(S){return T.KEY_MODS[l(S)]},m.addCommandKeyListener=function(S,O,N){var z,K;w.isOldGecko||w.isOpera&&!("KeyboardEvent"in window)?(z=null,g(S,"keydown",function(Q){z=Q.keyCode},N),g(S,"keypress",function(Q){return v(O,Q,z)},N)):(K=null,g(S,"keydown",function(Q){p[Q.keyCode]=(p[Q.keyCode]||0)+1;var ue=v(O,Q,Q.keyCode);return K=Q.defaultPrevented,ue},N),g(S,"keypress",function(Q){K&&(Q.ctrlKey||Q.altKey||Q.shiftKey||Q.metaKey)&&(m.stopEvent(Q),K=null)},N),g(S,"keyup",function(Q){p[Q.keyCode]=null},N),p||(C(),g(window,"focus",C)))},"object"==typeof window&&window.postMessage&&!w.isOldIE&&(d=1,m.nextTick=function(S,O){O=O||window;var z="zero-timeout-message-"+d++;g(O,"message",function N(K){K.data==z&&(m.stopPropagation(K),f(O,"message",N),S())}),O.postMessage(z,"*")}),m.$idleBlocked=!1,m.onIdle=function(S,O){return setTimeout(function N(){m.$idleBlocked?setTimeout(N,100):S()},O)},m.$idleBlockId=null,m.blockIdle=function(S){m.$idleBlockId&&clearTimeout(m.$idleBlockId),m.$idleBlocked=!0,m.$idleBlockId=setTimeout(function(){m.$idleBlocked=!1},S||100)},m.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),m.nextFrame=m.nextFrame?m.nextFrame.bind(window):function(S){setTimeout(S,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(_,m,D){"use strict";var I;D.exports={lineMode:!1,pasteCancelled:function(){return!!(I&&I>Date.now()-50)||(I=!1)},cancel:function(){I=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(_,m,D){"use strict";var I=_("../lib/event"),T=_("../config").nls,w=_("../lib/useragent"),p=_("../lib/dom"),y=_("../lib/lang"),h=_("../clipboard"),u=w.isChrome<18,l=w.isIE,d=63<w.isChrome,g=_("../lib/keys"),f=g.KEY_MODS,v=w.isIOS,C=v?/\s/:/\n/,S=w.isMobile;m.TextInput=function(O,N){var z=p.createElement("textarea"),K=(z.className="ace_text-input",z.setAttribute("wrap","off"),z.setAttribute("autocorrect","off"),z.setAttribute("autocapitalize","off"),z.setAttribute("spellcheck",!1),z.style.opacity="0",O.insertBefore(z,O.firstChild),!1),Q=!1,ue=!1,oe=!1,pe="",F=(S||(z.style.fontSize="1px"),!1),U=!1,Y="",W=0,ne=0,fe=0;try{var he=document.activeElement===z}catch(_t){}this.setAriaOptions=function(_t){_t.activeDescendant?(z.setAttribute("aria-haspopup","true"),z.setAttribute("aria-autocomplete",_t.inline?"both":"list"),z.setAttribute("aria-activedescendant",_t.activeDescendant)):(z.setAttribute("aria-haspopup","false"),z.setAttribute("aria-autocomplete","both"),z.removeAttribute("aria-activedescendant")),_t.role&&z.setAttribute("role",_t.role)},this.setAriaLabel=function(){var _t;N.session&&N.renderer.enableKeyboardAccessibility?(_t=N.session.selection.cursor.row,z.setAttribute("aria-roledescription",T("editor")),z.setAttribute("aria-label",T("Cursor at row $0",[_t+1]))):(z.removeAttribute("aria-roledescription"),z.removeAttribute("aria-label"))},this.setAriaOptions({role:"textbox"}),this.setAriaLabel(),I.addListener(z,"blur",function(_t){U||(N.onBlur(_t),he=!1,S&&!v&&document.removeEventListener("selectionchange",xe))},N),I.addListener(z,"focus",function(_t){if(!U){if(he=!0,w.isEdge)try{if(!document.hasFocus())return}catch(Yt){}N.onFocus(_t),w.isEdge?setTimeout(Ae):Ae(),S&&!v&&document.addEventListener("selectionchange",xe)}},N),this.$focusScroll=!1,this.focus=function(){if(this.setAriaLabel(),pe||d||"browser"==this.$focusScroll)return z.focus({preventScroll:!0});var _t=z.style.top;z.style.position="fixed",z.style.top="0px";try{var Yt=0!=z.getBoundingClientRect().top}catch(Ut){return}var Nn=[];if(Yt)for(var _n=z.parentElement;_n&&1==_n.nodeType;)Nn.push(_n),_n.setAttribute("ace_nocontext",!0),_n=!_n.parentElement&&_n.getRootNode?_n.getRootNode().host:_n.parentElement;z.focus({preventScroll:!0}),Yt&&Nn.forEach(function(Ut){Ut.removeAttribute("ace_nocontext")}),setTimeout(function(){z.style.position="","0px"==z.style.top&&(z.style.top=_t)},0)},this.blur=function(){z.blur()},this.isFocused=function(){return he},N.on("beforeEndOperation",function(){var _t=N.curOp,Yt=_t&&_t.command&&_t.command.name;"insertstring"!=Yt&&(Yt=Yt&&(_t.docChanged||_t.selectionChanged),ue&&Yt&&(Y=z.value="",Ue()),Ae())});var Ae=v?function(_t){var Yt;!he||K&&!_t||oe||((Yt="\n ab"+(_t=_t||"")+"cde fg\n")!=z.value&&(z.value=Y=Yt),Yt=4+(_t.length||(N.selection.isEmpty()?0:1)),4==W&&ne==Yt||z.setSelectionRange(4,Yt),W=4,ne=Yt)}:function(){if(!ue&&!oe&&(he||Ce)){ue=!0;var _t,Yt,Nn=0,_n=0,Ut="",tt=(N.session&&(Nn=(tt=(_t=N.selection).getRange()).start.column,_n=tt.end.column,Ut=N.session.getLine(_t=_t.cursor.row),tt.start.row!=_t?(Yt=N.session.getLine(_t-1),Nn=tt.start.row<_t-1?0:Nn,_n+=Yt.length+1,Ut=Yt+"\n"+Ut):tt.end.row!=_t?(Yt=N.session.getLine(_t+1),_n=tt.end.row>_t+1?Yt.length:_n,_n+=Ut.length+1,Ut=Ut+"\n"+Yt):S&&0<_t&&(Ut="\n"+Ut,_n+=1,Nn+=1),400<Ut.length)&&(Nn<400&&_n<400?Ut=Ut.slice(0,400):(Ut="\n",Nn==_n?Nn=_n=0:(Nn=0,_n=1))),Ut+"\n\n");if(tt!=Y&&(z.value=Y=tt,W=ne=tt.length),Ce&&(W=z.selectionStart,ne=z.selectionEnd),ne!=_n||W!=Nn||z.selectionEnd!=ne)try{z.setSelectionRange(Nn,_n),W=Nn,ne=_n}catch(lt){}ue=!1}},ke=(this.resetSelection=Ae,he&&N.onFocus(),function(_t){return 0===_t.selectionStart&&_t.selectionEnd>=Y.length&&_t.value===Y&&Y&&_t.selectionEnd!==ne});function xe(_t){if(z&&z.parentNode||document.removeEventListener("selectionchange",xe),!ue&&z.selectionStart===z.selectionEnd)for(var Yt=z.selectionStart-W,Nn=ne-W,_n=(0<Yt?Yt=Math.max(Yt-Nn,1):0===Yt&&Nn&&(Yt=-1),Math.abs(Yt)),Ut=0<Yt?g.right:g.left,tt=0;tt<_n;tt++)N.onCommandKey({},0,Ut)}function Ee(_t){we(_t,!0)}function ie(_t){we(_t,!1)}function de(_t){var Yt=ve(_t);h.pasteCancelled()||("string"==typeof Yt?(Yt&&N.onPaste(Yt,_t),w.isIE&&setTimeout(Ae),I.preventDefault(_t)):(z.value="",Q=!0))}var me=null,Ce=(this.setInputHandler=function(_t){me=_t},!(this.getInputHandler=function(){return me})),re=function(_t,Yt){if(Ce=Ce&&!1,Q)return Ae(),_t&&N.onPaste(_t),Q=!1,"";for(var Nn=z.selectionStart,_n=z.selectionEnd,Ut=W,tt=Y.length-ne,lt=_t,$t=_t.length-Nn,Mn=_t.length-_n,si=0;0<Ut&&Y[si]==_t[si];)si++,Ut--;for(lt=lt.slice(si),si=1;0<tt&&Y.length-si>W-1&&Y[Y.length-si]==_t[_t.length-si];)si++,tt--;$t-=si-1,Mn-=si-1;var Ge=lt.length-si+1;return Ge<0&&(Ut=-Ge,Ge=0),lt=lt.slice(0,Ge),Yt||lt||$t||Ut||tt||Mn?(Ge=!(oe=!0),w.isAndroid&&". "==lt&&(lt="  ",Ge=!0),lt&&!Ut&&!tt&&!$t&&!Mn||F?N.onTextInput(lt):N.onTextInput(lt,{extendLeft:Ut,extendRight:tt,restoreStart:$t,restoreEnd:Mn}),oe=!1,Y=_t,W=Nn,ne=_n,fe=Mn,Ge?"\n":lt):""},le=function(Yt){if(ue)return Pe();if(Yt&&Yt.inputType){if("historyUndo"==Yt.inputType)return N.execCommand("undo");if("historyRedo"==Yt.inputType)return N.execCommand("redo")}var Nn=re(Yt=z.value,!0);(500<Yt.length||C.test(Nn)||S&&W<1&&W==ne)&&Ae()},ve=function(_t,Yt,Nn){var _n=_t.clipboardData||window.clipboardData;if(_n&&!u){var Ut=l||Nn?"Text":"text/plain";try{return Yt?!1!==_n.setData(Ut,Yt):_n.getData(Ut)}catch(tt){if(!Nn)return ve(tt,Yt,!0)}}},we=function(_t,Yt){var Nn=N.getCopyText();if(!Nn)return I.preventDefault(_t);ve(_t,Nn)?(v&&(Ae(Nn),K=Nn,setTimeout(function(){K=!1},10)),Yt?N.onCut():N.onCopy(),I.preventDefault(_t)):(K=!0,z.value=Nn,z.select(),setTimeout(function(){K=!1,Ae(),Yt?N.onCut():N.onCopy()}))},Pe=(I.addCommandKeyListener(z,N.onCommandKey.bind(N),N),I.addListener(z,"select",function(_t){ue||(K?K=!1:ke(z)?(N.selectAll(),Ae()):S&&z.selectionStart!=W&&Ae())},N),I.addListener(z,"input",le,N),I.addListener(z,"cut",Ee,N),I.addListener(z,"copy",ie,N),I.addListener(z,"paste",de,N),"oncut"in z&&"oncopy"in z&&"onpaste"in z||I.addListener(O,"keydown",function(_t){if((!w.isMac||_t.metaKey)&&_t.ctrlKey)switch(_t.keyCode){case 67:ie(_t);break;case 86:de(_t);break;case 88:Ee(_t)}},N),function(){var _t;if(ue&&N.onCompositionUpdate&&!N.$readOnly)return F?dt():void(ue.useTextareaForIME?N.onCompositionUpdate(z.value):(_t=z.value,re(_t),ue.markerRange&&(ue.context&&(ue.markerRange.start.column=ue.selectionStart=ue.context.compositionStartOffset),ue.markerRange.end.column=ue.markerRange.start.column+ne-ue.selectionStart+fe)))}),Ue=function(_t){N.onCompositionEnd&&!N.$readOnly&&(ue=!1,N.onCompositionEnd(),N.off("mousedown",dt),_t)&&le()};function dt(){U=!0,z.blur(),z.focus(),U=!1}var xt,Zt=y.delayedCall(Pe,50).schedule.bind(null,null);function en(){clearTimeout(xt),xt=setTimeout(function(){pe&&(z.style.cssText=pe,pe=""),N.renderer.$isMousePressed=!1,N.renderer.$keepTextAreaAtCursor&&N.renderer.$moveTextAreaToCursor()},0)}function tn(_t){N.textInput.onContextMenu(_t),en()}if(I.addListener(z,"compositionstart",function(_t){ue||!N.onCompositionStart||N.$readOnly||(ue={},F)||(_t.data&&(ue.useTextareaForIME=!1),setTimeout(Pe,0),N._signal("compositionStart"),N.on("mousedown",dt),(_t=N.getSelectionRange()).end.row=_t.start.row,_t.end.column=_t.start.column,ue.markerRange=_t,ue.selectionStart=W,N.onCompositionStart(ue),ue.useTextareaForIME?(Y=z.value="",ne=W=0):(z.msGetInputContext&&(ue.context=z.msGetInputContext()),z.getInputContext&&(ue.context=z.getInputContext())))},N),I.addListener(z,"compositionupdate",Pe,N),I.addListener(z,"keyup",function(_t){27==_t.keyCode&&z.value.length<z.selectionStart&&(ue||(Y=z.value),W=ne=-1,Ae()),Zt()},N),I.addListener(z,"keydown",Zt,N),I.addListener(z,"compositionend",Ue,N),this.getElement=function(){return z},this.setCommandMode=function(_t){F=_t,z.readOnly=!1},this.setReadOnly=function(_t){F||(z.readOnly=_t)},this.setCopyWithEmptySelection=function(_t){},this.onContextMenu=function(_t){Ce=!0,Ae(),N._emit("nativecontextmenu",{target:N,domEvent:_t}),this.moveToMouse(_t,!0)},this.moveToMouse=function(_t,_n){function Nn(Mn){p.translate(z,Mn.clientX-lt-2,Math.min(Mn.clientY-tt-2,$t))}pe=pe||z.style.cssText,z.style.cssText=(_n?"z-index:100000;":"")+(w.isIE?"opacity:0.1;":"")+"text-indent: -"+(W+ne)*N.renderer.characterWidth*.5+"px;",_n=N.container.getBoundingClientRect();var Ut=p.computedStyle(N.container),tt=_n.top+(parseInt(Ut.borderTopWidth)||0),lt=_n.left+(parseInt(_n.borderLeftWidth)||0),$t=_n.bottom-tt-z.clientHeight-2;Nn(_t),"mousedown"==_t.type&&(N.renderer.$isMousePressed=!0,clearTimeout(xt),w.isWin)&&I.capture(N.container,Nn,en)},this.onContextMenuClose=en,I.addListener(z,"mouseup",tn,N),I.addListener(z,"mousedown",function(_t){_t.preventDefault(),en()},N),I.addListener(N.renderer.scroller,"contextmenu",tn,N),I.addListener(z,"contextmenu",tn,N),v){let _t=function(Yt){var Nn,_n,Ut,tt;document.activeElement!==On||un||ue||Kt.$mouseHandler.isMousePressed||K||(_n=On.selectionEnd,Ut=null,(tt=0)==(Nn=On.selectionStart)?Ut=g.up:1==Nn?Ut=g.home:ne<_n&&"\n"==Y[_n]?Ut=g.end:Nn<W&&" "==Y[Nn-1]?(Ut=g.left,tt=f.option):Nn<W||Nn==W&&ne!=W&&Nn==_n?Ut=g.left:ne<_n&&2<Y.slice(0,_n).split("\n").length?Ut=g.down:ne<_n&&" "==Y[_n-1]?(Ut=g.right,tt=f.option):(ne<_n||_n==ne&&ne!=W&&Nn==_n)&&(Ut=g.right),Nn!==_n&&(tt|=f.shift),Ut&&(!Kt.onCommandKey({},tt,Ut)&&Kt.commands&&(Ut=g.keyCodeToString(Ut),tt=Kt.commands.findKeyCommand(tt,Ut))&&Kt.execCommand(tt),W=Nn,ne=_n,Ae("")))};var Kt=N,On=z,Dn=null,un=!1;On.addEventListener("keydown",function(Yt){Dn&&clearTimeout(Dn),un=!0},!0),On.addEventListener("keyup",function(Yt){Dn=setTimeout(function(){un=!1},100)},!0),document.addEventListener("selectionchange",_t),Kt.on("destroy",function(){document.removeEventListener("selectionchange",_t)})}this.destroy=function(){z.parentElement&&z.parentElement.removeChild(z)}},m.$setUserAgentForTests=function(O,N){S=O,v=N}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(T,m,D){"use strict";var I=T("../lib/useragent");function w(y){y.$clickSelection=null;var h=y.editor;h.setDefaultHandler("mousedown",this.onMouseDown.bind(y)),h.setDefaultHandler("dblclick",this.onDoubleClick.bind(y)),h.setDefaultHandler("tripleclick",this.onTripleClick.bind(y)),h.setDefaultHandler("quadclick",this.onQuadClick.bind(y)),h.setDefaultHandler("mousewheel",this.onMouseWheel.bind(y)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(u){y[u]=this[u]},this),y.selectByLines=this.extendSelectionBy.bind(y,"getLineRange"),y.selectByWords=this.extendSelectionBy.bind(y,"getWordRange")}function p(y,h){return(y.start.row==y.end.row?2*h.column-y.start.column-y.end.column:y.start.row!=y.end.row-1||y.start.column||y.end.column?2*h.row-y.start.row-y.end.row:h.column-4)<0?{cursor:y.start,anchor:y.end}:{cursor:y.end,anchor:y.start}}(w.prototype.onMouseDown=function(y){var h=y.inSelection(),u=y.getDocumentPosition(),l=(this.mousedownEvent=y,this.editor),d=y.getButton();if(0!==d)!l.getSelectionRange().isEmpty()&&1!=d||l.selection.moveToPosition(u),2==d&&(l.textInput.onContextMenu(y.domEvent),I.isMozilla||y.preventDefault());else{if(this.mousedownEvent.time=Date.now(),!h||l.isFocused()||(l.focus(),!this.$focusTimeout)||this.$clickSelection||l.inMultiSelectMode)return this.captureMouse(y),this.startSelect(u,1<y.domEvent._clicks),y.preventDefault();this.setState("focusWait"),this.captureMouse(y)}},w.prototype.startSelect=function(y,h){y=y||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var u=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?u.selection.selectToPosition(y):h||u.selection.moveToPosition(y),h||this.select(),u.setStyle("ace_selecting"),this.setState("select"))},w.prototype.select=function(){var y,h=this.editor,u=h.renderer.screenToTextCoordinates(this.x,this.y);this.$clickSelection&&(y=-1==(y=this.$clickSelection.comparePoint(u))?this.$clickSelection.end:1==y?this.$clickSelection.start:(u=(y=p(this.$clickSelection,u)).cursor,y.anchor),h.selection.setSelectionAnchor(y.row,y.column)),h.selection.selectToPosition(u),h.renderer.scrollCursorIntoView()},w.prototype.extendSelectionBy=function(f){var h,u,l,d=this.editor,g=d.renderer.screenToTextCoordinates(this.x,this.y);f=d.selection[f](g.row,g.column),this.$clickSelection&&(u=this.$clickSelection.comparePoint(f.start),h=this.$clickSelection.comparePoint(f.end),-1==u&&h<=0?(l=this.$clickSelection.end,f.end.row==g.row&&f.end.column==g.column||(g=f.start)):1==h&&0<=u?(l=this.$clickSelection.start,f.start.row==g.row&&f.start.column==g.column||(g=f.end)):l=-1==u&&1==h?(g=f.end,f.start):(g=(u=p(this.$clickSelection,g)).cursor,u.anchor),d.selection.setSelectionAnchor(l.row,l.column)),d.selection.selectToPosition(g),d.renderer.scrollCursorIntoView()},w.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},w.prototype.focusWait=function(){l=this.mousedownEvent.x,y=this.mousedownEvent.y,u=this.x,h=this.y;var y,h,u=Math.sqrt(Math.pow(u-l,2)+Math.pow(h-y,2)),l=Date.now();(0<u||l-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},w.prototype.onDoubleClick=function(h){h=h.getDocumentPosition();var u=this.editor,l=u.session.getBracketRange(h);l?(l.isEmpty()&&(l.start.column--,l.end.column++),this.setState("select")):(l=u.selection.getWordRange(h.row,h.column),this.setState("selectByWords")),this.$clickSelection=l,this.select()},w.prototype.onTripleClick=function(h){h=h.getDocumentPosition();var u=this.editor,l=(this.setState("selectByLines"),u.getSelectionRange());l.isMultiLine()&&l.contains(h.row,h.column)?(this.$clickSelection=u.selection.getLineRange(l.start.row),this.$clickSelection.end=u.selection.getLineRange(l.end.row).end):this.$clickSelection=u.selection.getLineRange(h.row),this.select()},w.prototype.onQuadClick=function(y){var h=this.editor;h.selectAll(),this.$clickSelection=h.getSelectionRange(),this.setState("selectAll")},w.prototype.onMouseWheel=function(y){var h,u,l,d,g,f,v;if(!y.getAccelKey())return y.getShiftKey()&&y.wheelY&&!y.wheelX&&(y.wheelX=y.wheelY,y.wheelY=0),h=this.editor,this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0}),d=(v=(l=y.domEvent.timeStamp)-(u=this.$lastScroll).t)?y.wheelX/v:u.vx,g=v?y.wheelY/v:u.vy,v<550&&(d=(d+u.vx)/2,g=(g+u.vy)/2),v=!1,1<=(f=Math.abs(d/g))&&h.renderer.isScrollableBy(y.wheelX*y.speed,0)&&(v=!0),(v=!!(f<=1&&h.renderer.isScrollableBy(0,y.wheelY*y.speed))||v)?u.allowed=l:l-u.allowed<550&&(Math.abs(d)<=1.5*Math.abs(u.vx)&&Math.abs(g)<=1.5*Math.abs(u.vy)?(v=!0,u.allowed=l):u.allowed=0),u.t=l,u.vx=d,u.vy=g,v?(h.renderer.scrollBy(y.wheelX*y.speed,y.wheelY*y.speed),y.stop()):void 0},T=w).prototype.selectEnd=T.prototype.selectByLinesEnd,T.prototype.selectAllEnd=T.prototype.selectByLinesEnd,T.prototype.selectByWordsEnd=T.prototype.selectByLinesEnd,m.DefaultHandlers=T}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/range"],function(h,m,D){"use strict";var I,f=this&&this.__extends||(I=function(C,S){return(I=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(O,N){O.__proto__=N}:function(O,N){for(var z in N)Object.prototype.hasOwnProperty.call(N,z)&&(O[z]=N[z])}))(C,S)},function(C,S){if("function"!=typeof S&&null!==S)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function O(){this.constructor=C}I(C,S),C.prototype=null===S?Object.create(S):(O.prototype=S.prototype,new O)}),T=this&&this.__values||function(C){var S="function"==typeof Symbol&&Symbol.iterator,O=S&&C[S],N=0;if(O)return O.call(C);if(C&&"number"==typeof C.length)return{next:function(){return{value:(C=C&&N>=C.length?void 0:C)&&C[N++],done:!C}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")},w=h("./lib/dom"),p=h("./range").Range,y="ace_tooltip";function u(C){this.isOpen=!1,this.$element=null,this.$parentNode=C}function l(){this.popups=[]}u.prototype.$init=function(){return this.$element=w.createElement("div"),this.$element.className=y,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},u.prototype.getElement=function(){return this.$element||this.$init()},u.prototype.setText=function(C){this.getElement().textContent=C},u.prototype.setHtml=function(C){this.getElement().innerHTML=C},u.prototype.setPosition=function(C,S){this.getElement().style.left=C+"px",this.getElement().style.top=S+"px"},u.prototype.setClassName=function(C){w.addCssClass(this.getElement(),C)},u.prototype.setTheme=function(C){this.$element.className=y+" "+(C.isDark?"ace_dark ":"")+(C.cssClass||"")},u.prototype.show=function(C,S,O){null!=C&&this.setText(C),null!=S&&null!=O&&this.setPosition(S,O),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},u.prototype.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=y,this.isOpen=!1)},u.prototype.getHeight=function(){return this.getElement().offsetHeight},u.prototype.getWidth=function(){return this.getElement().offsetWidth},u.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},h=u,l.prototype.addPopup=function(C){this.popups.push(C),this.updatePopups()},l.prototype.removePopup=function(C){-1!==(C=this.popups.indexOf(C))&&(this.popups.splice(C,1),this.updatePopups())},l.prototype.updatePopups=function(){this.popups.sort(function(Y,W){return W.priority-Y.priority});var C,S,O,N,z=[];try{for(var K=T(this.popups),Q=K.next();!Q.done;Q=K.next()){var ue=Q.value,oe=!0;try{O=void 0;for(var pe=T(z),F=pe.next();!F.done;F=pe.next())if(this.doPopupsOverlap(F.value,ue)){oe=!1;break}}catch(Y){O={error:Y}}finally{try{F&&!F.done&&(N=pe.return)&&N.call(pe)}finally{if(O)throw O.error}}oe?z.push(ue):ue.hide()}}catch(Y){C={error:Y}}finally{try{Q&&!Q.done&&(S=K.return)&&S.call(K)}finally{if(C)throw C.error}}},l.prototype.doPopupsOverlap=function(C,S){return C=C.getElement().getBoundingClientRect(),S=S.getElement().getBoundingClientRect(),C.left<S.right&&C.right>S.left&&C.top<S.bottom&&C.bottom>S.top};var d,g=new l;function v(S){void 0===S&&(S=document.body);var O=((S=d.call(this,S)||this).timeout=void 0,S.lastT=0,S.idleTime=350,S.lastEvent=void 0,S.onMouseOut=S.onMouseOut.bind(S),S.onMouseMove=S.onMouseMove.bind(S),S.waitForHover=S.waitForHover.bind(S),S.hide=S.hide.bind(S),S.getElement());return O.style.whiteSpace="pre-wrap",O.style.pointerEvents="auto",O.addEventListener("mouseout",S.onMouseOut),O.tabIndex=-1,O.addEventListener("blur",function(){O.contains(document.activeElement)||this.hide()}.bind(S)),S}m.popupManager=g,m.Tooltip=h,f(v,d=h),v.prototype.addToEditor=function(C){C.on("mousemove",this.onMouseMove),C.on("mousedown",this.hide),C.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},v.prototype.removeFromEditor=function(C){C.off("mousemove",this.onMouseMove),C.off("mousedown",this.hide),C.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},v.prototype.onMouseMove=function(C,N){var O;this.lastEvent=C,this.lastT=Date.now(),N=N.$mouseHandler.isMousePressed,this.isOpen&&(O=this.lastEvent&&this.lastEvent.getDocumentPosition(),this.range&&this.range.contains(O.row,O.column)&&!N&&!this.isOutsideOfText(this.lastEvent)||this.hide()),this.timeout||N||(this.lastEvent=C,this.timeout=setTimeout(this.waitForHover,this.idleTime))},v.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var C=Date.now()-this.lastT;10<this.idleTime-C?this.timeout=setTimeout(this.waitForHover,this.idleTime-C):(this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor))},v.prototype.isOutsideOfText=function(C){var S=C.editor,O=C.getDocumentPosition(),N=S.session.getLine(O.row);return O.column==N.length&&(N=S.renderer.pixelToScreenCoordinates(C.clientX,C.clientY),(C=S.session.documentToScreenPosition(O.row,O.column)).column!=N.column||C.row!=N.row)},v.prototype.setDataProvider=function(C){this.$gatherData=C},v.prototype.showForRange=function(C,S,O,N){var z,K,Q;N&&N!=this.lastEvent||this.isOpen&&document.activeElement==this.getElement()||(N=C.renderer,this.isOpen||(g.addPopup(this),this.$registerCloseEvents(),this.setTheme(N.theme)),this.isOpen=!0,this.addMarker(S,C.session),this.range=p.fromPoints(S.start,S.end),(z=this.getElement()).innerHTML="",z.appendChild(O),z.style.display="block",O=N.textToScreenCoordinates(S.start.row,S.start.column),S=C.getCursorPosition(),C=z.clientHeight,K=N.scroller.getBoundingClientRect(),Q=!0,this.row>S.row?Q=!0:this.row<S.row&&(Q=!1),O.pageY-C+N.lineHeight<K.top?Q=!0:O.pageY+C>K.bottom&&(Q=!1),Q?O.pageY+=N.lineHeight:O.pageY-=C,z.style.maxWidth=K.width-(O.pageX-K.left)+"px",this.setPosition(O.pageX,O.pageY))},v.prototype.addMarker=function(C,S){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=S,this.marker=S&&S.addMarker(C,"ace_highlight-marker","text")},v.prototype.hide=function(C){!C&&document.activeElement==this.getElement()||C&&C.target&&("keydown"!=C.type||C.ctrlKey||C.metaKey)&&this.$element.contains(C.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,g.removePopup(this)))},v.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("mousewheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},v.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("mousewheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},v.prototype.onMouseOut=function(C){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,!this.isOpen||!C.relatedTarget||C.relatedTarget==this.getElement()||C&&C.currentTarget.contains(C.relatedTarget)||C.relatedTarget.classList.contains("ace_content")||this.hide()},m.HoverTooltip=f=v}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(_,m,D){"use strict";var I,T=this&&this.__extends||(I=function(f,v){return(I=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(C,S){C.__proto__=S}:function(C,S){for(var O in S)Object.prototype.hasOwnProperty.call(S,O)&&(C[O]=S[O])}))(f,v)},function(f,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function C(){this.constructor=f}I(f,v),f.prototype=null===v?Object.create(v):(C.prototype=v.prototype,new C)}),w=this&&this.__values||function(f){var v="function"==typeof Symbol&&Symbol.iterator,C=v&&f[v],S=0;if(C)return C.call(f);if(f&&"number"==typeof f.length)return{next:function(){return{value:(f=f&&S>=f.length?void 0:f)&&f[S++],done:!f}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")},p=_("../lib/dom"),y=_("../lib/event"),h=_("../tooltip").Tooltip,u=_("../config").nls;m.GutterHandler=function(f){var v,C,S=f.editor,O=S.renderer.$gutterLayer,N=new d(S);function z(){v=v&&clearTimeout(v),N.isOpen&&(N.hide(),S._signal("hideGutterTooltip",N),S.off("mousewheel",z))}function K(Q){N.setPosition(Q.x,Q.y)}f.editor.setDefaultHandler("guttermousedown",function(Q){if(S.isFocused()&&0==Q.getButton()&&"foldWidgets"!=(ue=O.getRegion(Q))){var ue=Q.getDocumentPosition().row,oe=S.session.selection;if(Q.getShiftKey())oe.selectTo(ue,0);else{if(2==Q.domEvent.detail)return S.selectAll(),Q.preventDefault();f.$clickSelection=S.selection.getLineRange(ue)}return f.setState("selectByLines"),f.captureMouse(Q),Q.preventDefault()}}),f.editor.setDefaultHandler("guttermousemove",function(Q){if(p.hasCssClass(Q.domEvent.target||Q.domEvent.srcElement,"ace_fold-widget"))return z();N.isOpen&&f.$tooltipFollowsMouse&&K(Q),C=Q,v=v||setTimeout(function(){if(v=null,C&&!f.isMousePressed){var oe=C.getDocumentPosition().row;if(oe==S.session.getLength()){var pe=S.renderer.pixelToScreenCoordinates(0,C.y).row,F=C.$pos;if(pe>S.session.documentToScreenRow(F.row,F.column))return void z()}N.showTooltip(oe),S.on("mousewheel",z),f.$tooltipFollowsMouse?K(C):(pe=O.$lines.cells[oe].element.querySelector("[class*=ace_icon]").getBoundingClientRect(),(F=N.getElement().style).left=pe.right+"px",F.top=pe.bottom+"px")}else z()},50)}),y.addListener(S.renderer.$gutter,"mouseout",function(Q){C=null,N.isOpen&&(v=v||setTimeout(function(){v=null,z()},50))},S),S.on("changeSession",z)},T(g,l=h),g.prototype.setPosition=function(f,v){var C=window.innerWidth||document.documentElement.clientWidth,S=window.innerHeight||document.documentElement.clientHeight,O=this.getWidth(),N=this.getHeight();C<(f+=15)+O&&(f-=f+O-C),S<(v+=15)+N&&(v-=20+N),h.prototype.setPosition.call(this,f,v)},Object.defineProperty(g,"annotationLabels",{get:function(){return{error:{singular:u("error"),plural:u("errors")},warning:{singular:u("warning"),plural:u("warnings")},info:{singular:u("information message"),plural:u("information messages")}}},enumerable:!1,configurable:!0}),g.prototype.showTooltip=function(f){var v=this.editor.renderer.$gutterLayer,C=v.$annotations[f],S=C?{text:Array.from(C.text),type:Array.from(C.type)}:{text:[],type:[]},O=v.session.getFoldLine(f);if(O&&v.$showFoldedAnnotations){for(var N,z={error:[],warning:[],info:[]},K=f+1;K<=O.end.row;K++)if(v.$annotations[K])for(var Q=0;Q<v.$annotations[K].text.length;Q++){var ue=v.$annotations[K].type[Q];z[ue].push(v.$annotations[K].text[Q]),"error"===ue?N="error_fold":"warning"===ue&&(N="warning_fold")}"error_fold"!==N&&"warning_fold"!==N||(C="".concat(g.annotationsToSummaryString(z)," in folded code."),S.text.push(C),S.type.push(N))}if(0===S.text.length)return this.hide();var oe={error:[],warning:[],info:[]},pe=v.$useSvgGutterIcons?"ace_icon_svg":"ace_icon";for(K=0;K<S.text.length;K++){var F="<span class='ace_".concat(S.type[K]," ").concat(pe,"' aria-label='").concat(g.annotationLabels[S.type[K].replace("_fold","")].singular,"' role=img> </span> ").concat(S.text[K]);oe[S.type[K].replace("_fold","")].push(F)}f=[].concat(oe.error,oe.warning,oe.info).join("<br>"),this.setHtml(f),this.setClassName("ace_gutter-tooltip"),this.$element.setAttribute("aria-live","polite"),this.isOpen||this.setTheme(this.editor.renderer.theme),this.editor._signal("showGutterTooltip",this),this.show()},g.annotationsToSummaryString=function(f){var v,C,S=[];try{for(var O=w(["error","warning","info"]),N=O.next();!N.done;N=O.next()){var z,K=N.value;f[K].length&&(z=1===f[K].length?g.annotationLabels[K].singular:g.annotationLabels[K].plural,S.push("".concat(f[K].length," ").concat(z)))}}catch(Q){v={error:Q}}finally{try{N&&!N.done&&(C=O.return)&&C.call(O)}finally{if(v)throw v.error}}return S.join(", ")};var l,d=g;function g(f){var v=l.call(this,f.container)||this;return v.editor=f,v}m.GutterTooltip=d}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(_,m,D){"use strict";var I=_("../lib/event"),T=_("../lib/useragent");function w(p,y){this.domEvent=p,this.editor=y,this.x=this.clientX=p.clientX,this.y=this.clientY=p.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}w.prototype.stopPropagation=function(){I.stopPropagation(this.domEvent),this.propagationStopped=!0},w.prototype.preventDefault=function(){I.preventDefault(this.domEvent),this.defaultPrevented=!0},w.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},w.prototype.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},w.prototype.inSelection=function(){var p,y;return null===this.$inSelection&&((p=this.editor.getSelectionRange()).isEmpty()?this.$inSelection=!1:(y=this.getDocumentPosition(),this.$inSelection=p.contains(y.row,y.column))),this.$inSelection},w.prototype.getButton=function(){return I.getButton(this.domEvent)},w.prototype.getShiftKey=function(){return this.domEvent.shiftKey},w.prototype.getAccelKey=function(){return T.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},m.MouseEvent=w}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(_,m,D){"use strict";var I=_("../lib/dom"),T=_("../lib/event"),w=_("../lib/useragent");function p(h){var u,l,d,g,f,v,C,S,O,N,z,K=h.editor,Q=I.createElement("div"),ue=(Q.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",Q.textContent="\xa0",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(he){h[he]=this[he]},this),K.on("mousedown",this.onMouseDown.bind(h)),K.container),oe=0;function pe(){var he,Ae,ke,xe,Ee,ie,de,me,Ce=v;ke=v=K.renderer.screenToTextCoordinates(l,d),Ae=Ce,xe=Date.now(),he=!Ae||ke.row!=Ae.row,Ae=!Ae||ke.column!=Ae.column,!N||he||Ae?(K.moveCursorToPosition(ke),N=xe,z={x:l,y:d}):5<y(z.x,z.y,l,d)?N=null:200<=xe-N&&(K.renderer.scrollCursorIntoView(),N=null),he=v,Ae=Ce,ke=Date.now(),xe=K.renderer.layerConfig.lineHeight,Ce=K.renderer.layerConfig.characterWidth,Ee=K.renderer.scroller.getBoundingClientRect(),Ee={x:{left:l-Ee.left,right:Ee.right-l},y:{top:d-Ee.top,bottom:Ee.bottom-d}},ie=Math.min(Ee.x.left,Ee.x.right),de=Math.min(Ee.y.top,Ee.y.bottom),me={row:he.row,column:he.column},ie/Ce<=2&&(me.column+=Ee.x.left<Ee.x.right?-3:2),de/xe<=1&&(me.row+=Ee.y.top<Ee.y.bottom?-1:1),Ce=he.column!=me.column,de=!Ae||he.row!=Ae.row,(ie=he.row!=me.row)||Ce&&!de?O?200<=ke-O&&K.renderer.scrollCursorIntoView(me):O=ke:O=null}function F(){f=K.selection.toOrientedRange(),u=K.session.addMarker(f,"ace_selection",K.getSelectionStyle()),K.clearSelection(),K.isFocused()&&K.renderer.$cursorLayer.setBlinking(!1),clearInterval(g),pe(),g=setInterval(pe,20),oe=0,T.addListener(document,"mousemove",W)}function U(){clearInterval(g),K.session.removeMarker(u),u=null,K.selection.fromOrientedRange(f),K.isFocused()&&!S&&K.$resetCursorStyle(),oe=0,N=O=v=f=null,T.removeListener(document,"mousemove",W)}this.onDragStart=function(he){var Ae;if(this.cancelDrag||!ue.draggable)return Ae=this,setTimeout(function(){Ae.startSelect(),Ae.captureMouse(he)},0),he.preventDefault();f=K.getSelectionRange();var ke=he.dataTransfer;ke.effectAllowed=K.getReadOnly()?"copy":"copyMove",K.container.appendChild(Q),ke.setDragImage&&ke.setDragImage(Q,0,0),setTimeout(function(){K.container.removeChild(Q)}),ke.clearData(),ke.setData("Text",K.session.getTextRange()),S=!0,this.setState("drag")},this.onDragEnd=function(he){ue.draggable=!1,S=!1,this.setState(null),K.getReadOnly()||(he=he.dataTransfer.dropEffect,C||"move"!=he||K.session.remove(K.getSelectionRange()),K.$resetCursorStyle()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(he){if(!K.getReadOnly()&&ne(he.dataTransfer))return l=he.clientX,d=he.clientY,u||F(),oe++,he.dataTransfer.dropEffect=C=fe(he),T.preventDefault(he)},this.onDragOver=function(he){if(!K.getReadOnly()&&ne(he.dataTransfer))return l=he.clientX,d=he.clientY,u||(F(),oe++),null!==Y&&(Y=null),he.dataTransfer.dropEffect=C=fe(he),T.preventDefault(he)},this.onDragLeave=function(he){if(--oe<=0&&u)return U(),C=null,T.preventDefault(he)},this.onDrop=function(he){if(v){var Ae=he.dataTransfer;if(S)switch(C){case"move":f=f.contains(v.row,v.column)?{start:v,end:v}:K.moveText(f,v);break;case"copy":f=K.moveText(f,v,!0)}else Ae=Ae.getData("Text"),f={start:v,end:K.session.insert(v,Ae)},K.focus(),C=null;return U(),T.preventDefault(he)}},T.addListener(ue,"dragstart",this.onDragStart.bind(h),K),T.addListener(ue,"dragend",this.onDragEnd.bind(h),K),T.addListener(ue,"dragenter",this.onDragEnter.bind(h),K),T.addListener(ue,"dragover",this.onDragOver.bind(h),K),T.addListener(ue,"dragleave",this.onDragLeave.bind(h),K),T.addListener(ue,"drop",this.onDrop.bind(h),K);var Y=null;function W(){null==Y&&(Y=setTimeout(function(){null!=Y&&u&&U()},20))}function ne(he){return!(he=he.types)||Array.prototype.some.call(he,function(Ae){return"text/plain"==Ae||"Text"==Ae})}function fe(he){var Ae=["copy","copymove","all","uninitialized"],ke=w.isMac?he.altKey:he.ctrlKey,xe="uninitialized";try{xe=he.dataTransfer.effectAllowed.toLowerCase()}catch(ie){}var Ee="none";return ke&&0<=Ae.indexOf(xe)?Ee="copy":0<=["move","copymove","linkmove","all","uninitialized"].indexOf(xe)?Ee="move":0<=Ae.indexOf(xe)&&(Ee="copy"),Ee}}function y(h,u,l,d){return Math.sqrt(Math.pow(l-h,2)+Math.pow(d-u,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(h){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var h=this.editor,u=(h.container.draggable=!0,h.renderer.$cursorLayer.setBlinking(!1),h.setStyle("ace_dragging"),w.isWin?"default":"move");h.renderer.setCursorStyle(u),this.setState("dragReady")},this.onMouseDrag=function(h){var u=this.editor.container;w.isIE&&"dragReady"==this.state&&3<y(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&u.dragDrop(),"dragWait"===this.state&&0<y(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&(u.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(h){var u,l,d;this.$dragEnabled&&(this.mousedownEvent=h,u=this.editor,l=h.inSelection(),d=h.getButton(),1!==(h.domEvent.detail||1)||0!==d||!l||h.editor.inMultiSelectMode&&(h.getAccelKey()||h.getShiftKey())||(this.mousedownEvent.time=Date.now(),"unselectable"in(d=h.domEvent.target||h.domEvent.srcElement)&&(d.unselectable="on"),u.getDragDelay()?(w.isWebKit&&(this.cancelDrag=!0,u.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(h,this.onMouseDrag.bind(this)),h.defaultPrevented=!0))}}).call(p.prototype),m.DragdropHandler=p}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(_,m,D){"use strict";var I=_("./mouse_event").MouseEvent,T=_("../lib/event"),w=_("../lib/dom");m.addTouchListeners=function(p,y){var h,u,l,d,g,f,v,C,S,O="scroll",N=0,z=0,K=0,Q=0;function oe(){S||function ue(){function U(ne){var fe,he=ne.target.getAttribute("action");"more"!=he&&W?("paste"==he?Y.readText().then(function(Ae){y.execCommand(he,Ae)}):he&&("cut"!=he&&"copy"!=he||(Y?Y.writeText(y.getCopyText()):document.execCommand("copy")),y.execCommand(he)),S.firstChild.style.display="none",W=!1,"openCommandPallete"!=he&&y.focus()):(W=!W,ne=y.getCopyText(),fe=y.session.getUndoManager().hasUndo(),S.replaceChild(w.buildDom(W?["span",!ne&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],ne&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],ne&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],Y&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],fe&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),S.firstChild))}var Y=window.navigator&&window.navigator.clipboard,W=!1;S=w.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(ne){O="menu",ne.stopPropagation(),ne.preventDefault(),y.textInput.focus()},ontouchend:function(ne){ne.stopPropagation(),ne.preventDefault(),U(ne)},onclick:U},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],y.container)}();var U=y.renderer.textToScreenCoordinates((U=y.selection.cursor).row,U.column),Y=y.renderer.textToScreenCoordinates(0,0).pageX,W=y.renderer.scrollLeft,ne=y.container.getBoundingClientRect();S.style.top=U.pageY-ne.top-3+"px",U.pageX-ne.left<ne.width-70?(S.style.left="",S.style.right="10px"):(S.style.right="",S.style.left=Y+W-ne.left+"px"),S.style.display="",S.firstChild.style.display="none",y.on("input",pe)}function pe(U){S&&(S.style.display="none"),y.off("input",pe)}function F(){g=null,clearTimeout(g);var U=y.selection.getRange(),Y=U.contains(v.row,v.column);!U.isEmpty()&&Y||(y.selection.moveToPosition(v),y.selection.selectWord()),O="wait",oe()}T.addListener(p,"contextmenu",function(U){C&&y.textInput.getElement().focus()},y),T.addListener(p,"touchstart",function(U){var Y=U.touches;if(g||1<Y.length)clearTimeout(g),g=null,l=-1,O="zoom";else{C=y.$mouseHandler.isMousePressed=!0;var W=y.renderer.layerConfig.lineHeight,ne=y.renderer.layerConfig.lineHeight,fe=U.timeStamp,Ae=(d=fe,he=Y[0]).clientX,he=he.clientY;if(Math.abs(h-Ae)+Math.abs(u-he)>W&&(l=-1),h=U.clientX=Ae,u=U.clientY=he,K=Q=0,Ae=new I(U,y),v=Ae.getDocumentPosition(),fe-l<500&&1==Y.length&&!N)z++,U.preventDefault(),U.button=0,g=null,clearTimeout(g),y.selection.moveToPosition(v),(he=2<=z?y.selection.getLineRange(v.row):y.session.getBracketRange(v))&&!he.isEmpty()?y.selection.setRange(he):y.selection.selectWord(),O="wait";else{z=0,Ae=y.selection.cursor,Y=y.selection.isEmpty()?Ae:y.selection.anchor,he=y.renderer.$cursorLayer.getPixelPosition(Ae,!0),Ae=y.renderer.$cursorLayer.getPixelPosition(Y,!0),Y=y.renderer.scroller.getBoundingClientRect();var ke=y.renderer.layerConfig.offset,xe=y.renderer.scrollLeft,Ee=function(Ce,re){return(Ce/=ne)*Ce+(re=re/W-.75)*re};if(U.clientX<Y.left)return void(O="zoom");he=Ee(U.clientX-Y.left-he.left+xe,U.clientY-Y.top-he.top+ke),Ee=Ee(U.clientX-Y.left-Ae.left+xe,U.clientY-Y.top-Ae.top+ke),he<3.5&&Ee<3.5&&(O=Ee<he?"cursor":"anchor"),O=Ee<3.5?"anchor":he<3.5?"cursor":"scroll",g=setTimeout(F,450)}l=fe}},y),T.addListener(p,"touchend",function(U){C=y.$mouseHandler.isMousePressed=!1,f&&clearInterval(f),"zoom"==O?(O="",N=0):(g?(y.selection.moveToPosition(v),N=0,oe):"scroll"==O?(N+=60,f=setInterval(function(){N--<=0&&(clearInterval(f),f=null),Math.abs(K)<.01&&(K=0),Math.abs(Q)<.01&&(Q=0),N<20&&(K*=.9),N<20&&(Q*=.9);var Y=y.session.getScrollTop();y.renderer.scrollBy(10*K,10*Q),Y==y.session.getScrollTop()&&(N=0)},10),pe):oe)(),clearTimeout(g),g=null},y),T.addListener(p,"touchmove",function(U){if(g&&(clearTimeout(g),g=null),!(1<(Y=U.touches).length||"zoom"==O)){var W=h-(Y=Y[0]).clientX,ne=u-Y.clientY;if("wait"==O){if(!(4<W*W+ne*ne))return U.preventDefault();O="cursor"}h=Y.clientX,u=Y.clientY,U.clientX=Y.clientX,U.clientY=Y.clientY;var Y,fe=(Y=U.timeStamp)-d;d=Y,"scroll"==O?((Y=new I(U,y)).speed=1,Y.wheelX=W,Y.wheelY=ne,10*Math.abs(W)<Math.abs(ne)&&(W=0),10*Math.abs(ne)<Math.abs(W)&&(ne=0),0!=fe&&(K=W/fe,Q=ne/fe),y._emit("mousewheel",Y),Y.propagationStopped||(K=Q=0)):(W=new I(U,y).getDocumentPosition(),"cursor"==O?y.selection.moveCursorToPosition(W):"anchor"==O&&y.selection.setSelectionAnchor(W.row,W.column),y.renderer.scrollCursorIntoView(W),U.preventDefault())}},y)}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(l,m,D){"use strict";var I=l("../lib/event"),T=l("../lib/useragent"),w=l("./default_handlers").DefaultHandlers,p=l("./default_gutter_handler").GutterHandler,y=l("./mouse_event").MouseEvent,h=l("./dragdrop_handler").DragdropHandler,u=l("./touch_handler").addTouchListeners,d=(l=l("../config"),g.prototype.onMouseEvent=function(f,v){this.editor.session&&this.editor._emit(f,new y(v,this.editor))},g.prototype.onMouseMove=function(f,v){var C=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;C&&C.length&&this.editor._emit(f,new y(v,this.editor))},g.prototype.onMouseWheel=function(f,v){var C=new y(v,this.editor);C.speed=2*this.$scrollSpeed,C.wheelX=v.wheelX,C.wheelY=v.wheelY,this.editor._emit(f,C)},g.prototype.setState=function(f){this.state=f},g.prototype.captureMouse=function(f,v){function C(oe){if(oe){if(T.isWebKit&&!oe.which&&K.releaseMouse)return K.releaseMouse();K.x=oe.clientX,K.y=oe.clientY,v&&v(oe),K.mouseEvent=new y(oe,K.editor),K.$mouseMoved=!0}}function S(oe){N.off("beforeEndOperation",Q),clearInterval(ue),N.session&&O(),K[K.state+"End"]&&K[K.state+"End"](oe),K.state="",K.isMousePressed=z.$isMousePressed=!1,z.$keepTextAreaAtCursor&&z.$moveTextAreaToCursor(),K.$onCaptureMouseMove=K.releaseMouse=null,oe&&K.onMouseEvent("mouseup",oe),N.endOperation()}function O(){K[K.state]&&K[K.state](),K.$mouseMoved=!1}this.x=f.x,this.y=f.y,this.isMousePressed=!0;var N=this.editor,z=this.editor.renderer,K=(z.$isMousePressed=!0,this);if(T.isOldIE&&"dblclick"==f.domEvent.type)return setTimeout(function(){S(f)});var Q=function(oe){K.releaseMouse&&N.curOp.command.name&&N.curOp.selectionChanged&&(K[K.state+"End"]&&K[K.state+"End"](),K.state="",K.releaseMouse())},ue=(N.on("beforeEndOperation",Q),N.startOperation({command:{name:"mouse"}}),K.$onCaptureMouseMove=C,K.releaseMouse=I.capture(this.editor.container,C,S),setInterval(O,20))},g.prototype.cancelContextMenu=function(){var f=function(v){v&&v.domEvent&&"contextmenu"!=v.domEvent.type||(this.editor.off("nativecontextmenu",f),v&&v.domEvent&&I.stopEvent(v.domEvent))}.bind(this);setTimeout(f,10),this.editor.on("nativecontextmenu",f)},g.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},g);function g(f){function v(N){document.hasFocus&&document.hasFocus()&&(f.isFocused()||document.activeElement!=(f.textInput&&f.textInput.getElement()))||window.focus(),f.focus(),setTimeout(function(){f.isFocused()||f.focus()})}var C=this,S=(this.editor=f,new w(this),new p(this),new h(this),f.renderer.getMouseEventTarget()),O=(I.addListener(S,"click",this.onMouseEvent.bind(this,"click"),f),I.addListener(S,"mousemove",this.onMouseMove.bind(this,"mousemove"),f),I.addMultiMouseDownListener([S,f.renderer.scrollBarV&&f.renderer.scrollBarV.inner,f.renderer.scrollBarH&&f.renderer.scrollBarH.inner,f.textInput&&f.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",f),I.addMouseWheelListener(f.container,this.onMouseWheel.bind(this,"mousewheel"),f),u(f.container,f),f.renderer.$gutter);I.addListener(O,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),f),I.addListener(O,"click",this.onMouseEvent.bind(this,"gutterclick"),f),I.addListener(O,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),f),I.addListener(O,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),f),I.addListener(S,"mousedown",v,f),I.addListener(O,"mousedown",v,f),T.isIE&&f.renderer.scrollBarV&&(I.addListener(f.renderer.scrollBarV.element,"mousedown",v,f),I.addListener(f.renderer.scrollBarH.element,"mousedown",v,f)),f.on("mousemove",function(N){var z,K;C.state||C.$dragDelay||!C.$dragEnabled||(N=f.renderer.screenToTextCoordinates(N.x,N.y),z=f.session.selection.getRange(),K=f.renderer,!z.isEmpty()&&z.insideStart(N.row,N.column)?K.setCursorStyle("default"):K.setCursorStyle(""))},f)}d.prototype.releaseMouse=null,l.defineOptions(d.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:T.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),m.MouseHandler=d}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(_,m,D){"use strict";var I=_("../lib/dom");m.FoldHandler=function(T){T.on("click",function(w){var y=w.getDocumentPosition(),p=T.session;(y=p.getFoldAt(y.row,y.column,1))&&(w.getAccelKey()?p.removeFold(y):p.expandFold(y),w.stop()),(y=w.domEvent&&w.domEvent.target)&&I.hasCssClass(y,"ace_inline_button")&&I.hasCssClass(y,"ace_toggle_wrap")&&(p.setOption("wrap",!p.getUseWrapMode()),T.renderer.scrollCursorIntoView())}),T.on("gutterclick",function(w){var p,y;"foldWidgets"==T.renderer.$gutterLayer.getRegion(w)&&(p=w.getDocumentPosition().row,(y=T.session).foldWidgets&&y.foldWidgets[p]&&T.session.onFoldWidgetClick(p,w),T.isFocused()||T.focus(),w.stop())}),T.on("gutterdblclick",function(w){var p,y,h;"foldWidgets"==T.renderer.$gutterLayer.getRegion(w)&&(h=w.getDocumentPosition().row,(y=(y=(p=T.session).getParentFoldRangeData(h,!0)).range||y.firstRange)&&((h=p.getFoldAt(h=y.start.row,p.getLine(h).length,1))?p.removeFold(h):(p.addFold("...",y),T.renderer.scrollCursorIntoView({row:y.start.row,column:0}))),w.stop())})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(_,m,D){"use strict";var I=_("../lib/keys"),T=_("../lib/event");function w(p){this.$editor=p,this.$data={editor:p},this.$handlers=[],this.setDefaultHandler(p.commands)}w.prototype.setDefaultHandler=function(p){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=p,this.addKeyboardHandler(p,0)},w.prototype.setKeyboardHandler=function(p){var y=this.$handlers;if(y[y.length-1]!=p){for(;y[y.length-1]&&y[y.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(y[y.length-1]);this.addKeyboardHandler(p,1)}},w.prototype.addKeyboardHandler=function(p,y){var h;p&&("function"!=typeof p||p.handleKeyboard||(p.handleKeyboard=p),-1!=(h=this.$handlers.indexOf(p))&&this.$handlers.splice(h,1),null==y?this.$handlers.push(p):this.$handlers.splice(y,0,p),-1==h)&&p.attach&&p.attach(this.$editor)},w.prototype.removeKeyboardHandler=function(p){var y=this.$handlers.indexOf(p);return-1!=y&&(this.$handlers.splice(y,1),p.detach&&p.detach(this.$editor),!0)},w.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},w.prototype.getStatusText=function(){var p=this.$data,y=p.editor;return this.$handlers.map(function(h){return h.getStatusText&&h.getStatusText(y,p)||""}).filter(Boolean).join(" ")},w.prototype.$callKeyboardHandlers=function(p,y,h,u){for(var l,d=!1,g=this.$editor.commands,f=this.$handlers.length;f--&&!((l=this.$handlers[f].handleKeyboard(this.$data,p,y,h,u))&&l.command&&((d="null"==l.command||g.exec(l.command,this.$editor,l.args,u))&&u&&-1!=p&&1!=l.passEvent&&1!=l.command.passEvent&&T.stopEvent(u),d)););return d||-1!=p||(l={command:"insertstring"},d=g.exec("insertstring",this.$editor,y)),d&&this.$editor._signal&&this.$editor._signal("keyboardActivity",l),d},w.prototype.onCommandKey=function(p,y,h){var u=I.keyCodeToString(h);return this.$callKeyboardHandlers(y,u,h,p)},w.prototype.onTextInput=function(p){return this.$callKeyboardHandlers(-1,p)},m.KeyBinding=w}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(_,m,D){"use strict";var I=0,T=0,w=!1,p=!1,y=!1,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Q=11,W=18,ne=[W,W,W,W,W,W,W,W,W,6,5,6,8,5,W,W,W,W,W,W,W,W,W,W,W,W,W,W,5,5,5,6,8,4,4,Q,Q,Q,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,W,W,W,W,W,W,5,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,9,4,Q,Q,Q,Q,4,4,4,4,0,4,4,W,4,4,Q,Q,2,2,4,0,4,4,4,2,0,4,4,4,4,4],fe=[8,8,8,8,8,8,8,8,8,8,8,W,W,W,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,Q,Q,Q,Q,Q,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function Ae(xe,Ee,ie){if(!(T<xe))if(1!=xe||1!=I||p)for(var de,me,Ce,re,le=ie.length,ve=0;ve<le;){if(Ee[ve]>=xe){for(de=ve+1;de<le&&Ee[de]>=xe;)de++;for(me=ve,Ce=de-1;me<Ce;me++,Ce--)re=ie[me],ie[me]=ie[Ce],ie[Ce]=re;ve=de}ve++}else ie.reverse()}function ke(xe){var Ee=xe.charCodeAt(0),ie=Ee>>8;return 0==ie?191<Ee?0:ne[Ee]:5==ie?/[\u0591-\u05f4]/.test(xe)?1:0:6==ie?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(xe)?12:/[\u0660-\u0669\u066b-\u066c]/.test(xe)?3:1642==Ee?Q:/[\u06f0-\u06f9]/.test(xe)?2:7:32==ie&&Ee<=8287?fe[255&Ee]:254==ie&&65136<=Ee?7:4}m.L=0,m.R=1,m.EN=2,m.ON_R=3,m.AN=4,m.R_H=5,m.B=6,m.RLE=7,m.DOT="\xb7",m.doBidiReorder=function(xe,Ee,ie){if(xe.length<2)return{};var de=xe.split(""),me=new Array(de.length),Ce=new Array(de.length),re=[];I=ie?1:0,function he(xe,Ee,ie,de){var me,Ce,re,le=I?u:h,ve=0,we=-1,Pe=null,Ue=null,dt=[];if(!de)for(Pe=0,de=[];Pe<ie;Pe++)de[Pe]=ke(xe[Pe]);for(T=I,y=p=w=!1,Ue=0;Ue<ie;Ue++){if(re=ve,dt[Ue]=me=function(Zt,en,tn,Kt){var On,Dn,un,_t=en[Kt];switch(_t){case 0:case 1:w=!1;case 4:case 3:return _t;case 2:return w?3:2;case 7:return w=!0,1;case 8:return 4;case 9:return Kt<1||Kt+1>=en.length||2!=(On=tn[Kt-1])&&3!=On||2!=(Yt=en[Kt+1])&&3!=Yt?4:(Yt=w?3:Yt)==On?Yt:4;case 10:return 2==(On=0<Kt?tn[Kt-1]:5)&&Kt+1<en.length&&2==en[Kt+1]?2:4;case Q:if(0<Kt&&2==tn[Kt-1])return 2;if(w)return 4;for(un=Kt+1,Dn=en.length;un<Dn&&en[un]==Q;)un++;return un<Dn&&2==en[un]?2:4;case 12:for(Dn=en.length,un=Kt+1;un<Dn&&12==en[un];)un++;var Yt;return un<Dn&&(On=en[un],(Yt=1425<=(Yt=Zt[Kt])&&Yt<=2303||64286==Yt)&&(1==On||7==On))?1:Kt<1||5==(On=en[Kt-1])?4:tn[Kt-1];case 5:return p=!(w=!1),I;case 6:return y=!0,4;case 13:case 14:case 16:case 17:case 15:w=!1;case W:return 4}}(xe,de,dt,Ue),re=240&(ve=le[re][me]),Ee[Ue]=Ce=le[ve&=15][5],0<re){if(16==re)for(Pe=we;Pe<Ue;Pe++)Ee[Pe]=1;we=-1}if(le[ve][6])-1==we&&(we=Ue);else if(-1<we){for(Pe=we;Pe<Ue;Pe++)Ee[Pe]=Ce;we=-1}5==de[Ue]&&(Ee[Ue]=0),T|=Ce}if(y)for(Pe=0;Pe<ie;Pe++)if(6==de[Pe]){Ee[Pe]=I;for(var xt=Pe-1;0<=xt&&8==de[xt];xt--)Ee[xt]=I}}(de,re,de.length,Ee);for(var le=0;le<me.length;me[le]=le,le++);for(Ae(2,re,me),Ae(1,re,me),le=0;le<me.length-1;le++)3===Ee[le]?re[le]=m.AN:1===re[le]&&(Ee[le]>7&&Ee[le]<13||4===Ee[le]||Ee[le]===W)?re[le]=m.ON_R:0<le&&"\u0644"===de[le-1]&&/\u0622|\u0623|\u0625|\u0627/.test(de[le])&&(re[le-1]=re[le]=m.R_H,le++);for(de[de.length-1]===m.DOT&&(re[de.length-1]=m.B),"\u202b"===de[0]&&(re[0]=m.RLE),le=0;le<me.length;le++)Ce[le]=re[me[le]];return{logicalFromVisual:me,bidiLevels:Ce}},m.hasBidiCharacters=function(xe,Ee){for(var ie=!1,de=0;de<xe.length;de++)Ee[de]=ke(xe.charAt(de)),ie||1!=Ee[de]&&7!=Ee[de]&&3!=Ee[de]||(ie=!0);return ie},m.getVisualFromLogicalIdx=function(xe,Ee){for(var ie=0;ie<Ee.logicalFromVisual.length;ie++)if(Ee.logicalFromVisual[ie]==xe)return ie;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(_,m,D){"use strict";var I=_("./lib/bidiutil"),T=_("./lib/lang"),w=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/;function p(y){this.session=y,this.bidiMap={},this.currentRow=null,this.bidiUtil=I,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=w.test(y.getValue())}p.prototype.isBidiRow=function(y,h,u){return!!this.seenBidi&&(y!==this.currentRow&&(this.currentRow=y,this.updateRowLine(h,u),this.updateBidiMap()),this.bidiMap.bidiLevels)},p.prototype.onChange=function(y){this.seenBidi?this.currentRow=null:"insert"==y.action&&w.test(y.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},p.prototype.getDocumentRow=function(){var h=this.session.$screenRowCache;return h.length&&0<=(h=this.session.$getRowCacheIndex(h,this.currentRow))?this.session.$docRowCache[h]:0},p.prototype.getSplitIndex=function(){var y=0,h=this.session.$screenRowCache;if(h.length)for(var u,l=this.session.$getRowCacheIndex(h,this.currentRow);0<this.currentRow-y&&(u=this.session.$getRowCacheIndex(h,this.currentRow-y-1))===l;)l=u,y++;else y=this.currentRow;return y},p.prototype.updateRowLine=function(y,h){var u,l=(y=void 0===y?this.getDocumentRow():y)===this.session.getLength()-1?this.EOF:this.EOL,d=(this.wrapIndent=0,this.line=this.session.getLine(y),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,(!this.session.$useWrapMode||(y=this.session.$wrapData[y])&&(0<(h=void 0===h?this.getSplitIndex():h)&&y.length?(this.wrapIndent=y.indent,this.wrapOffset=this.wrapIndent*this.charWidths[I.L],this.line=h<y.length?this.line.substring(y[h-1],y[h]):this.line.substring(y[y.length-1])):this.line=this.line.substring(0,y[h]),h==y.length))&&(this.line+=this.showInvisibles?l:I.DOT),this.session),g=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(f,v){return"\t"===f||d.isFullWidth(f.charCodeAt(0))?(u="\t"===f?d.getScreenTabSize(v+g):2,g+=u-1,T.stringRepeat(I.DOT,u)):f}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==I.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},p.prototype.updateBidiMap=function(){var y=[];this.bidiMap=I.hasBidiCharacters(this.line,y)||this.isRtlDir?I.doBidiReorder(this.line,y,this.isRtlDir):{}},p.prototype.markAsDirty=function(){this.currentRow=null},p.prototype.updateCharacterWidths=function(y){var h;this.characterWidth!==y.$characterSize.width&&(this.fontMetrics=y,h=this.characterWidth=y.$characterSize.width,y=y.$measureCharWidth("\u05d4"),this.charWidths[I.L]=this.charWidths[I.EN]=this.charWidths[I.ON_R]=h,this.charWidths[I.R]=this.charWidths[I.AN]=y,this.charWidths[I.R_H]=.45*y,this.charWidths[I.B]=this.charWidths[I.RLE]=0,this.currentRow=null)},p.prototype.setShowInvisibles=function(y){this.showInvisibles=y,this.currentRow=null},p.prototype.setEolChar=function(y){this.EOL=y},p.prototype.setContentWidth=function(y){this.contentWidth=y},p.prototype.isRtlLine=function(y){return!!this.$isRtl||(null!=y?this.session.getLine(y).charAt(0)==this.RLE:this.isRtlDir)},p.prototype.setRtlDirection=function(y,h){for(var u=y.getCursorPosition(),l=y.selection.getSelectionAnchor().row;l<=u.row;l++)h||y.session.getLine(l).charAt(0)!==y.session.$bidiHandler.RLE?h&&y.session.getLine(l).charAt(0)!==y.session.$bidiHandler.RLE&&y.session.doc.insert({column:0,row:l},y.session.$bidiHandler.RLE):y.session.doc.removeInLine(l,0,1)},p.prototype.getPosLeft=function(y){y-=this.wrapIndent;var h=this.line.charAt(0)===this.RLE?1:0,u=h<y?this.session.getOverwrite()?y:y-1:h,l=I.getVisualFromLogicalIdx(u,this.bidiMap),d=this.bidiMap.bidiLevels,g=0;!this.session.getOverwrite()&&y<=h&&d[l]%2!=0&&l++;for(var f=0;f<l;f++)g+=this.charWidths[d[f]];return!this.session.getOverwrite()&&h<y&&d[l]%2==0&&(g+=this.charWidths[d[l]]),this.wrapIndent&&(g+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(g+=this.rtlLineOffset),g},p.prototype.getSelections=function(y,h){var u,l=this.bidiMap,d=l.bidiLevels,g=[],f=0,v=Math.min(y,h)-this.wrapIndent,C=Math.max(y,h)-this.wrapIndent,S=!1,O=!1,N=0;this.wrapIndent&&(f+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var z,K=0;K<d.length;K++)u=d[K],(S=v<=(z=l.logicalFromVisual[K])&&z<C)&&!O?N=f:!S&&O&&g.push({left:N,width:f-N}),f+=this.charWidths[u],O=S;if(S&&K===d.length&&g.push({left:N,width:f-N}),this.isRtlDir)for(var Q=0;Q<g.length;Q++)g[Q].left+=this.rtlLineOffset;return g},p.prototype.offsetToCol=function(u){this.isRtlDir&&(u-=this.rtlLineOffset);var h=0,l=(u=Math.max(u,0),0),d=0,g=this.bidiMap.bidiLevels,f=this.charWidths[g[d]];for(this.wrapIndent&&(u-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);l+f/2<u;){if(l+=f,d===g.length-1){f=0;break}f=this.charWidths[g[++d]]}return 0===(h=0<d&&g[d-1]%2!=0&&g[d]%2==0?(u<l&&d--,this.bidiMap.logicalFromVisual[d]):0<d&&g[d-1]%2==0&&g[d]%2!=0?1+(l<u?this.bidiMap.logicalFromVisual[d]:this.bidiMap.logicalFromVisual[d-1]):this.isRtlDir&&d===g.length-1&&0===f&&g[d-1]%2==0||!this.isRtlDir&&0===d&&g[d]%2!=0?1+this.bidiMap.logicalFromVisual[d]:(0<d&&g[d-1]%2!=0&&0!==f&&d--,this.bidiMap.logicalFromVisual[d]))&&this.isRtlDir&&h++,h+this.wrapIndent},m.BidiHandler=p}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(_,m,D){"use strict";function I(h){this.session=h,this.doc=h.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var u=this;this.cursor.on("change",function(l){u.$cursorChanged=!0,u.$silent||u._emit("changeCursor"),u.$isEmpty||u.$silent||u._emit("changeSelection"),u.$keepDesiredColumnOnChange||l.old.column==l.value.column||(u.$desiredColumn=null)}),this.anchor.on("change",function(){u.$anchorChanged=!0,u.$isEmpty||u.$silent||u._emit("changeSelection")})}var T=_("./lib/oop"),w=_("./lib/lang"),p=_("./lib/event_emitter").EventEmitter,y=_("./range").Range;(function(){T.implement(this,p),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setAnchor=function(h,u){this.$isEmpty=!1,this.anchor.setPosition(h,u)},this.setSelectionAnchor=this.setAnchor,this.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionAnchor=this.getAnchor,this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var h=this.anchor,u=this.lead;return h.row>u.row||h.row==u.row&&h.column>u.column},this.getRange=function(){var h=this.anchor,u=this.lead;return this.$isEmpty?y.fromPoints(u,u):this.isBackwards()?y.fromPoints(u,h):y.fromPoints(h,u)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(h,d){var l=d?h.end:h.start;this.$setSelection(l.row,l.column,(d=d?h.start:h.end).row,d.column)},this.$setSelection=function(h,u,l,d){var g,f;!this.$silent&&(g=this.$isEmpty,f=this.inMultiSelectMode,this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(h,u),this.cursor.setPosition(l,d),this.$isEmpty=!y.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),this.$cursorChanged||this.$anchorChanged||g!=this.$isEmpty||f)&&this._emit("changeSelection")},this.$moveSelection=function(h){var u=this.lead;this.$isEmpty&&this.setSelectionAnchor(u.row,u.column),h.call(this)},this.selectTo=function(h,u){this.$moveSelection(function(){this.moveCursorTo(h,u)})},this.selectToPosition=function(h){this.$moveSelection(function(){this.moveCursorToPosition(h)})},this.moveTo=function(h,u){this.clearSelection(),this.moveCursorTo(h,u)},this.moveToPosition=function(h){this.clearSelection(),this.moveCursorToPosition(h)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(h,u){var l;return void 0===u&&(h=(l=h||this.lead).row,u=l.column),this.session.getWordRange(h,u)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var h=this.getCursor();h=this.session.getAWordRange(h.row,h.column),this.setSelectionRange(h)},this.getLineRange=function(l,u){var d=(d=this.session.getFoldLine(l="number"==typeof l?l:this.lead.row))?(l=d.start.row,d.end.row):l;return!0===u?new y(l,0,d,this.session.getLine(d).length):new y(l,0,d+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(h,u,l){var d=h.column,g=h.column+u;return l<0&&(d=h.column-u,g=h.column),this.session.isTabStop(h)&&this.doc.getLine(h.row).slice(d,g).split(" ").length-1==u},this.moveCursorLeft=function(){var h,u=this.lead.getPosition();(h=this.session.getFoldAt(u.row,u.column,-1))?this.moveCursorTo(h.start.row,h.start.column):0===u.column?0<u.row&&this.moveCursorTo(u.row-1,this.doc.getLine(u.row-1).length):(h=this.session.getTabSize(),this.wouldMoveIntoSoftTab(u,h,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-h):this.moveCursorBy(0,-1))},this.moveCursorRight=function(){var h,u=this.lead.getPosition();(h=this.session.getFoldAt(u.row,u.column,1))?this.moveCursorTo(h.end.row,h.end.column):this.lead.column==this.doc.getLine(this.lead.row).length?this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0):(h=this.session.getTabSize(),this.wouldMoveIntoSoftTab(u=this.lead,h,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,h):this.moveCursorBy(0,1))},this.moveCursorLineStart=function(){var l,h=this.lead.column,u=this.session.documentToScreenRow(l=this.lead.row,h);u=this.session.screenToDocumentPosition(u,0),(l=this.session.getDisplayLine(l,null,u.row,u.column).match(/^\s*/))[0].length==h||this.session.$useEmacsStyleLineStart||(u.column+=l[0].length),this.moveCursorToPosition(u)},this.moveCursorLineEnd=function(){var h,u=this.session.getDocumentLastRowColumnPosition((u=this.lead).row,u.column);this.lead.column==u.column&&(h=this.session.getLine(u.row),u.column==h.length)&&0<(h=h.search(/\s+$/))&&(u.column=h),this.moveCursorTo(u.row,u.column)},this.moveCursorFileEnd=function(){var h=this.doc.getLength()-1,u=this.doc.getLine(h).length;this.moveCursorTo(h,u)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var h=this.lead.row,u=this.lead.column,l=this.doc.getLine(h),d=l.substring(u),g=(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.getFoldAt(h,u,1));g?this.moveCursorTo(g.end.row,g.end.column):(this.session.nonTokenRe.exec(d)&&(u+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,d=l.substring(u)),u>=l.length?(this.moveCursorTo(h,l.length),this.moveCursorRight(),h<this.doc.getLength()-1&&this.moveCursorWordRight()):(this.session.tokenRe.exec(d)&&(u+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(h,u)))},this.moveCursorLongWordLeft=function(){var h,u=this.lead.row,l=this.lead.column;(h=this.session.getFoldAt(u,l,-1))?this.moveCursorTo(h.start.row,h.start.column):(null==(h=this.session.getFoldStringAt(u,l,-1))&&(h=this.doc.getLine(u).substring(0,l)),h=w.stringReverse(h),this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(h)&&(l-=this.session.nonTokenRe.lastIndex,h=h.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),l<=0?(this.moveCursorTo(u,0),this.moveCursorLeft(),0<u&&this.moveCursorWordLeft()):(this.session.tokenRe.exec(h)&&(l-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(u,l)))},this.$shortWordEndIndex=function(h){var u,l=0,d=/\s/,g=this.session.tokenRe;if(g.lastIndex=0,this.session.tokenRe.exec(h))l=this.session.tokenRe.lastIndex;else{for(;(u=h[l])&&d.test(u);)l++;if(l<1)for(g.lastIndex=0;(u=h[l])&&!g.test(u);)if(g.lastIndex=0,l++,d.test(u)){if(2<l){l--;break}for(;(u=h[l])&&d.test(u);)l++;if(2<l)break}}return g.lastIndex=0,l},this.moveCursorShortWordRight=function(){var h=this.lead.row,u=this.lead.column,l=this.doc.getLine(h),d=l.substring(u),g=this.session.getFoldAt(h,u,1);if(g)return this.moveCursorTo(g.end.row,g.end.column);if(u==l.length){for(var f=this.doc.getLength();d=this.doc.getLine(++h),h<f&&/^\s*$/.test(d););/^\s+/.test(d)||(d=""),u=0}g=this.$shortWordEndIndex(d),this.moveCursorTo(h,u+g)},this.moveCursorShortWordLeft=function(){var h=this.lead.row,u=this.lead.column;if(d=this.session.getFoldAt(h,u,-1))return this.moveCursorTo(d.start.row,d.start.column);var l=this.session.getLine(h).substring(0,u);if(0===u){for(;l=this.doc.getLine(--h),0<h&&/^\s*$/.test(l););u=l.length,/\s+$/.test(l)||(l="")}var d=w.stringReverse(l);return d=this.$shortWordEndIndex(d),this.moveCursorTo(h,u-d)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(h,u){var l,d=this.session.documentToScreenPosition(this.lead.row,this.lead.column),g=(0===u&&(0!==h&&(this.session.$bidiHandler.isBidiRow(d.row,this.lead.row)?(l=this.session.$bidiHandler.getPosLeft(d.column),d.column=Math.round(l/this.session.$bidiHandler.charWidths[0])):l=d.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?d.column=this.$desiredColumn:this.$desiredColumn=d.column),0!=h&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]&&(g=this.session.lineWidgets[this.lead.row],h<0?h-=g.rowsAbove||0:0<h&&(h+=g.rowCount-(g.rowsAbove||0))),this.session.screenToDocumentPosition(d.row+h,d.column,l));this.moveCursorTo(g.row,g.column+u,0===u)},this.moveCursorToPosition=function(h){this.moveCursorTo(h.row,h.column)},this.moveCursorTo=function(h,u,l){var d=((d=this.session.getFoldAt(h,u,1))&&(h=d.start.row,u=d.start.column),this.$keepDesiredColumnOnChange=!0,this.session.getLine(h));/[\uDC00-\uDFFF]/.test(d.charAt(u))&&d.charAt(u-1)&&(this.lead.row==h&&this.lead.column==u+1?u-=1:u+=1),this.lead.setPosition(h,u),this.$keepDesiredColumnOnChange=!1,l||(this.$desiredColumn=null)},this.moveCursorToScreen=function(h,u,l){h=this.session.screenToDocumentPosition(h,u),this.moveCursorTo(h.row,h.column,l)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(h){this.setSelectionRange(h,h.cursor==h.start),this.$desiredColumn=h.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(h){var u=this.getRange();return h?(h.start.column=u.start.column,h.start.row=u.start.row,h.end.column=u.end.column,h.end.row=u.end.row):h=u,h.cursor=this.isBackwards()?h.start:h.end,h.desiredColumn=this.$desiredColumn,h},this.getRangeOfMovements=function(h){var u=this.getCursor();try{h(this);var l=this.getCursor();return y.fromPoints(u,l)}catch(d){return y.fromPoints(u,u)}finally{this.moveCursorToPosition(u)}},this.toJSON=function(){var h;return this.rangeCount?h=this.ranges.map(function(u){var l=u.clone();return l.isBackwards=u.cursor==u.start,l}):(h=this.getRange()).isBackwards=this.isBackwards(),h},this.fromJSON=function(h){if(null==h.start){if(this.rangeList&&1<h.length){this.toSingleRange(h[0]);for(var u=h.length;u--;){var l=y.fromPoints(h[u].start,h[u].end);h[u].isBackwards&&(l.cursor=l.start),this.addRange(l,!0)}return}h=h[0]}this.rangeList&&this.toSingleRange(h),this.setSelectionRange(h,h.isBackwards)},this.isEqual=function(h){if((h.length||this.rangeCount)&&h.length!=this.rangeCount)return!1;if(!h.length||!this.ranges)return this.getRange().isEqual(h);for(var u=this.ranges.length;u--;)if(!this.ranges[u].isEqual(h[u]))return!1;return!0}}).call(I.prototype),m.Selection=I}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(I,m,D){"use strict";I=I("./config");var T=2e3,w=(p.prototype.$setMaxTokenCount=function(y){T=0|y},p.prototype.$applyToken=function(y){var h=this.splitRegex.exec(y).slice(1),u=this.token.apply(this,h);if("string"==typeof u)return[{type:u,value:y}];for(var l=[],d=0,g=u.length;d<g;d++)h[d]&&(l[l.length]={type:u[d],value:h[d]});return l},p.prototype.$arrayTokens=function(y){if(!y)return[];var h=this.splitRegex.exec(y);if(!h)return"text";for(var u=[],l=this.tokenArray,d=0,g=l.length;d<g;d++)h[d+1]&&(u[u.length]={type:l[d],value:h[d+1]});return u},p.prototype.removeCapturingGroups=function(y){return y.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(h,u){return u?"(?:":h})},p.prototype.createSplitterRegexp=function(y,h){var u,l,d;return"$"!=(y="^"!=(y=-1!=y.indexOf("(?=")&&(u=0,l=!1,d={},y.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(g,f,v,C,S,O){return l?l="]"!=S:S?l=!0:C?(u==d.stack&&(d.end=O+1,d.stack=-1),u--):v&&(u++,1!=v.length)&&(d.stack=u,d.start=O),g}),null!=d.end)&&/^\)*$/.test(y.substr(d.end))?y.substring(0,d.start)+y.substr(d.end):y).charAt(0)?"^"+y:y).charAt(y.length-1)&&(y+="$"),new RegExp(y,(h||"").replace("g",""))},p.prototype.getLineTokens=function(y,h){h&&"string"!=typeof h?"#tmp"===(h=(u=h.slice(0))[0])&&(u.shift(),h=u.shift()):u=[];for(var u,l,d=h||"start",g=(g=this.states[d])||this.states[d="start"],f=this.matchMappings[d],v=this.regExps[d],C=[],S=v.lastIndex=0,O=0,N={type:null,value:""};l=v.exec(y);){var z,K=f.defaultToken,Q=null,ue=l[0],oe=v.lastIndex;oe-ue.length>S&&(z=y.substring(S,oe-ue.length),N.type==K?N.value+=z:(N.type&&C.push(N),N={type:K,value:z}));for(var pe=0;pe<l.length-2;pe++)if(void 0!==l[pe+1]){K=(Q=g[f[pe]]).onMatch?Q.onMatch(ue,d,u,y):Q.token,Q.next&&(d="string"==typeof Q.next?Q.next:Q.next(d,u),(g=this.states[d])||(this.reportError("state doesn't exist",d),g=this.states[d="start"]),f=this.matchMappings[d],(v=this.regExps[d]).lastIndex=S=oe),Q.consumeLineEnd&&(S=oe);break}if(ue)if("string"==typeof K)Q&&!1===Q.merge||N.type!==K?(N.type&&C.push(N),N={type:K,value:ue}):N.value+=ue;else if(K)for(N.type&&C.push(N),N={type:null,value:""},pe=0;pe<K.length;pe++)C.push(K[pe]);if(S==y.length)break;if(S=oe,O++>T){for(O>2*y.length&&this.reportError("infinite loop with in ace tokenizer",{startState:h,line:y});S<y.length;)N.type&&C.push(N),N={value:y.substring(S,S+=500),type:"overflow"};d="start",u=[];break}}return N.type&&C.push(N),1<u.length&&u[0]!==d&&u.unshift("#tmp",d),{tokens:C,state:u.length?u:d}},p);function p(y){for(var h in this.states=y,this.regExps={},this.matchMappings={},this.states){for(var u=this.states[h],l=[],d=0,g=this.matchMappings[h]={defaultToken:"text"},f="g",v=[],C=0;C<u.length;C++){var S,O,N=u[C];N.defaultToken&&(g.defaultToken=N.defaultToken),N.caseInsensitive&&-1===f.indexOf("i")&&(f+="i"),N.unicode&&-1===f.indexOf("u")&&(f+="u"),null==N.regex||(N.regex instanceof RegExp&&(N.regex=N.regex.toString().slice(1,-1)),S=N.regex,O=new RegExp("(?:("+S+")|(.))").exec("a").length-2,Array.isArray(N.token)?1==N.token.length||1==O?N.token=N.token[0]:O-1!=N.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:N,groupCount:O-1}),N.token=N.token[0]):(N.tokenArray=N.token,N.token=null,N.onMatch=this.$arrayTokens):"function"!=typeof N.token||N.onMatch||(N.onMatch=1<O?this.$applyToken:N.token),1<O&&(S=/\\\d/.test(N.regex)?N.regex.replace(/\\([0-9]+)/g,function(z,K){return"\\"+(parseInt(K,10)+d+1)}):(O=1,this.removeCapturingGroups(N.regex)),N.splitRegex||"string"==typeof N.token||v.push(N)),g[d]=C,d+=O,l.push(S),N.onMatch)||(N.onMatch=null)}l.length||(g[0]=0,l.push("$")),v.forEach(function(z){z.splitRegex=this.createSplitterRegexp(z.regex,f)},this),this.regExps[h]=new RegExp("("+l.join(")|(")+")|($)",f)}}w.prototype.reportError=I.reportError,m.Tokenizer=w}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(_,m,D){"use strict";function I(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}}var T=_("../lib/lang");(function(){function w(y,h){return"start"==y&&!h.length||h.unshift(this.nextState,y),this.nextState}function p(y,h){return h.shift(),h.shift()||"start"}this.addRules=function(y,h){if(h)for(var u in y){for(var l=y[u],d=0;d<l.length;d++){var g=l[d];(g.next||g.onMatch)&&("string"==typeof g.next&&0!==g.next.indexOf(h)&&(g.next=h+g.next),g.nextState)&&0!==g.nextState.indexOf(h)&&(g.nextState=h+g.nextState)}this.$rules[h+u]=l}else for(var u in y)this.$rules[u]=y[u]},this.getRules=function(){return this.$rules},this.embedRules=function(y,h,u,l,d){if(y="function"==typeof y?(new y).getRules():y,l)for(var g=0;g<l.length;g++)l[g]=h+l[g];else for(var f in l=[],y)l.push(h+f);if(this.addRules(y,h),u){var v=Array.prototype[d?"push":"unshift"];for(g=0;g<l.length;g++)v.apply(this.$rules[l[g]],T.deepCopy(u))}this.$embeds||(this.$embeds=[]),this.$embeds.push(h)},this.getEmbeds=function(){return this.$embeds},this.normalizeRules=function(){var y=0,h=this.$rules;Object.keys(h).forEach(function u(l){var d=h[l];d.processed=!0;for(var g=0;g<d.length;g++){var f=d[g],v=null,C=(Array.isArray(f)&&(v=f,f={}),!f.regex&&f.start&&(f.regex=f.start,f.next||(f.next=[]),f.next.push({defaultToken:f.token},{token:f.token+".end",regex:f.end||f.start,next:"pop"}),f.token=f.token+".start",f.push=!0),f.next||f.push);if(C&&Array.isArray(C)?((O=f.stateName)||("string"!=typeof(O=f.token)&&(O=O[0]||""),h[O]&&(O+=y++)),h[O]=C,u(f.next=O)):"pop"==C&&(f.next=p),f.push&&(f.nextState=f.next||f.push,f.next=w,delete f.push),f.rules)for(var S in f.rules)h[S]?h[S].push&&h[S].push.apply(h[S],f.rules[S]):h[S]=f.rules[S];var O="string"==typeof f?f:f.include;O&&("$self"===O&&(O="start"),v=Array.isArray(O)?O.map(function(N){return h[N]}):h[O]),v&&(C=[g,1].concat(v),f.noEscape&&(C=C.filter(function(N){return!N.next})),d.splice.apply(d,C),g--),f.keywordMap&&(f.token=this.createKeywordMapper(f.keywordMap,f.defaultToken||"text",f.caseInsensitive),delete f.defaultToken)}},this)},this.createKeywordMapper=function(y,h,u,l){var d=Object.create(null);return this.$keywordList=[],Object.keys(y).forEach(function(g){for(var f=y[g].split(l||"|"),v=f.length;v--;){var C=f[v];this.$keywordList.push(C),u&&(C=C.toLowerCase()),d[C]=g}},this),y=null,u?function(g){return d[g.toLowerCase()]||h}:function(g){return d[g]||h}},this.getKeywords=function(){return this.$keywords}}).call(I.prototype),m.TextHighlightRules=I}),ace.define("ace/mode/behaviour",["require","exports","module"],function(_,m,D){"use strict";function I(){this.$behaviours={}}(function(){this.add=function(T,w,p){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[T]:this.$behaviours[T]={}}this.$behaviours[T][w]=p},this.addBehaviours=function(T){for(var w in T)for(var p in T[w])this.add(w,p,T[w][p])},this.remove=function(T){this.$behaviours&&this.$behaviours[T]&&delete this.$behaviours[T]},this.inherit=function(T,w){T=("function"==typeof T?new T:T).getBehaviours(w),this.addBehaviours(T)},this.getBehaviours=function(T){if(T){for(var w={},p=0;p<T.length;p++)this.$behaviours[T[p]]&&(w[T[p]]=this.$behaviours[T[p]]);return w}return this.$behaviours}}).call(I.prototype),m.Behaviour=I}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(_,m,D){"use strict";var I=_("./range").Range;function T(w,p,y){this.$session=w,this.$row=p,this.$rowTokens=w.getTokens(p),w=w.getTokenAt(p,y),this.$tokenIndex=w?w.index:-1}T.prototype.stepBackward=function(){for(--this.$tokenIndex;this.$tokenIndex<0;){if(--this.$row,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},T.prototype.stepForward=function(){var w;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,w=w||this.$session.getLength(),this.$row>=w)return this.$row=w-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},T.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},T.prototype.getCurrentTokenRow=function(){return this.$row},T.prototype.getCurrentTokenColumn=function(){var w=this.$rowTokens,p=this.$tokenIndex,y=w[p].start;if(void 0===y)for(y=0;0<p;)y+=w[--p].value.length;return y},T.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},T.prototype.getCurrentTokenRange=function(){var w=this.$rowTokens[this.$tokenIndex],p=this.getCurrentTokenColumn();return new I(this.$row,p,this.$row,p+w.value.length)},m.TokenIterator=T}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(_,m,D){"use strict";function I(C){var S=-1;if((f=C.multiSelect&&(S=C.selection.index,f.rangeCount!=C.multiSelect.rangeCount)?{rangeCount:C.multiSelect.rangeCount}:f)[S])return p=f[S];p=f[S]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}}function T(C,S,O,N){var z=C.end.row-C.start.row;return{text:O+S+N,selection:[0,C.start.column+1,z,C.end.column+(z?0:1)]}}function w(C){this.add("braces","insertion",function(S,O,N,z,K){var Q=N.getCursorPosition(),ue=z.doc.getLine(Q.row);if("{"==K)return I(N),pe=N.getSelectionRange(),""!==(F=z.doc.getTextRange(pe))&&"{"!==F&&N.getWrapBehavioursEnabled()?T(pe,F,"{","}"):w.isSaneInsertion(N,z)?/[\]\}\)]/.test(ue[Q.column])||N.inMultiSelectMode||C&&C.braces?(w.recordAutoInsert(N,z,"}"),{text:"{}",selection:[1,1]}):(w.recordMaybeInsert(N,z,"{"),{text:"{",selection:[1,1]}):void 0;if("}"==K){I(N);var oe=ue.substring(Q.column,Q.column+1);if("}"==oe&&null!==z.$findOpeningBracket("}",{column:Q.column+1,row:Q.row})&&w.isAutoInsertedClosing(Q,ue,K))return w.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==K||"\r\n"==K){I(N);var pe="";if(w.isMaybeInsertedClosing(Q,ue)&&(pe=l.stringRepeat("}",p.maybeInsertedBrackets),w.clearMaybeInsertedClosing()),"}"===(oe=ue.substring(Q.column,Q.column+1))){var F=z.findMatchingBracket({row:Q.row,column:Q.column+1},"}");if(!F)return null;var U=this.$getIndent(z.getLine(F.row))}else{if(!pe)return void w.clearMaybeInsertedClosing();U=this.$getIndent(ue)}return{text:"\n"+(K=U+z.getTabString())+"\n"+U+pe,selection:[1,K.length,1,K.length]}}w.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(S,O,N,z,K){var Q=z.doc.getTextRange(K);if(!K.isMultiLine()&&"{"==Q){if(I(N),"}"==z.doc.getLine(K.start.row).substring(K.end.column,K.end.column+1))return K.end.column++,K;p.maybeInsertedBrackets--}}),this.add("parens","insertion",function(S,O,N,z,K){if("("==K)return I(N),Q=N.getSelectionRange(),""!==(ue=z.doc.getTextRange(Q))&&N.getWrapBehavioursEnabled()?T(Q,ue,"(",")"):w.isSaneInsertion(N,z)?(w.recordAutoInsert(N,z,")"),{text:"()",selection:[1,1]}):void 0;if(")"==K){I(N);var Q=N.getCursorPosition(),ue=z.doc.getLine(Q.row);if(")"==(N=ue.substring(Q.column,Q.column+1))&&null!==z.$findOpeningBracket(")",{column:Q.column+1,row:Q.row})&&w.isAutoInsertedClosing(Q,ue,K))return w.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(S,O,N,z,K){var Q=z.doc.getTextRange(K);if(!K.isMultiLine()&&"("==Q&&(I(N),")"==z.doc.getLine(K.start.row).substring(K.start.column+1,K.start.column+2)))return K.end.column++,K}),this.add("brackets","insertion",function(S,O,N,z,K){if("["==K)return I(N),Q=N.getSelectionRange(),""!==(ue=z.doc.getTextRange(Q))&&N.getWrapBehavioursEnabled()?T(Q,ue,"[","]"):w.isSaneInsertion(N,z)?(w.recordAutoInsert(N,z,"]"),{text:"[]",selection:[1,1]}):void 0;if("]"==K){I(N);var Q=N.getCursorPosition(),ue=z.doc.getLine(Q.row);if("]"==(N=ue.substring(Q.column,Q.column+1))&&null!==z.$findOpeningBracket("]",{column:Q.column+1,row:Q.row})&&w.isAutoInsertedClosing(Q,ue,K))return w.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(S,O,N,z,K){var Q=z.doc.getTextRange(K);if(!K.isMultiLine()&&"["==Q&&(I(N),"]"==z.doc.getLine(K.start.row).substring(K.start.column+1,K.start.column+2)))return K.end.column++,K}),this.add("string_dquotes","insertion",function(S,O,N,z,K){var Q=z.$mode.$quotes||v;if(1==K.length&&Q[K]&&(!this.lineCommentStart||-1==this.lineCommentStart.indexOf(K))){I(N);var ue=N.getSelectionRange();if(!(""===(oe=z.doc.getTextRange(ue))||1==oe.length&&Q[oe])&&N.getWrapBehavioursEnabled())return T(ue,oe,K,K);if(!oe){Q=N.getCursorPosition();var oe=(ue=z.doc.getLine(Q.row)).substring(Q.column-1,Q.column),U=(N=ue.substring(Q.column,Q.column+1),z.getTokenAt(Q.row,Q.column)),pe=z.getTokenAt(Q.row,Q.column+1);if("\\"==oe&&U&&/escape/.test(U.type))return null;U=U&&/string|escape/.test(U.type);var F,Y=!pe||/string|escape/.test(pe.type);if(N==K)(F=U!==Y)&&/string\.end/.test(pe.type)&&(F=!1);else{if(U&&!Y||U&&Y||((pe=z.$mode.tokenRe).lastIndex=0,U=pe.test(oe),pe.lastIndex=0,Y=pe.test(N),!((z=z.$mode.$pairQuotesAfter)&&z[K]&&z[K].test(oe))&&U||Y)||N&&!/[\s;,.})\]\\]/.test(N)||(z=ue[Q.column-2],oe==K&&(z==K||pe.test(z))))return null;F=!0}return{text:F?K+K:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(S,O,N,z,K){var Q=z.$mode.$quotes||v,ue=z.doc.getTextRange(K);if(!K.isMultiLine()&&Q.hasOwnProperty(ue)&&(I(N),z.doc.getLine(K.start.row).substring(K.start.column+1,K.start.column+2)==ue))return K.end.column++,K})}var p,y=_("../../lib/oop"),h=_("../behaviour").Behaviour,u=_("../../token_iterator").TokenIterator,l=_("../../lib/lang"),d=["text","paren.rparen","rparen","paren","punctuation.operator"],g=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],f={},v={'"':'"',"'":"'"};w.isSaneInsertion=function(C,S){var O=C.getCursorPosition(),N=new u(S,O.row,O.column);if(!this.$matchTokenType(N.getCurrentToken()||"text",d)){if(/[)}\]]/.test(C.session.getLine(O.row)[O.column]))return!0;if(C=new u(S,O.row,O.column+1),!this.$matchTokenType(C.getCurrentToken()||"text",d))return!1}return N.stepForward(),N.getCurrentTokenRow()!==O.row||this.$matchTokenType(N.getCurrentToken()||"text",g)},w.$matchTokenType=function(C,S){return-1<S.indexOf(C.type||C)},w.recordAutoInsert=function(C,S,O){C=C.getCursorPosition(),S=S.doc.getLine(C.row),this.isAutoInsertedClosing(C,S,p.autoInsertedLineEnd[0])||(p.autoInsertedBrackets=0),p.autoInsertedRow=C.row,p.autoInsertedLineEnd=O+S.substr(C.column),p.autoInsertedBrackets++},w.recordMaybeInsert=function(C,S,O){C=C.getCursorPosition(),S=S.doc.getLine(C.row),this.isMaybeInsertedClosing(C,S)||(p.maybeInsertedBrackets=0),p.maybeInsertedRow=C.row,p.maybeInsertedLineStart=S.substr(0,C.column)+O,p.maybeInsertedLineEnd=S.substr(C.column),p.maybeInsertedBrackets++},w.isAutoInsertedClosing=function(C,S,O){return 0<p.autoInsertedBrackets&&C.row===p.autoInsertedRow&&O===p.autoInsertedLineEnd[0]&&S.substr(C.column)===p.autoInsertedLineEnd},w.isMaybeInsertedClosing=function(C,S){return 0<p.maybeInsertedBrackets&&C.row===p.maybeInsertedRow&&S.substr(C.column)===p.maybeInsertedLineEnd&&S.substr(0,C.column)==p.maybeInsertedLineStart},w.popAutoInsertedClosing=function(){p.autoInsertedLineEnd=p.autoInsertedLineEnd.substr(1),p.autoInsertedBrackets--},w.clearMaybeInsertedClosing=function(){p&&(p.maybeInsertedBrackets=0,p.maybeInsertedRow=-1)},y.inherits(w,h),m.CstyleBehaviour=w}),ace.define("ace/unicode",["require","exports","module"],function(_,m,D){"use strict";for(var I=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],T=0,w=[],p=0;p<I.length;p+=2)w.push(T+=I[p]),I[p+1]&&w.push(45,T+=I[p+1]);m.wordChars=String.fromCharCode.apply(null,w)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(_,m,D){"use strict";function I(){this.HighlightRules=p}var T=_("../config"),w=_("../tokenizer").Tokenizer,p=_("./text_highlight_rules").TextHighlightRules,y=_("./behaviour/cstyle").CstyleBehaviour,h=_("../unicode"),u=_("../lib/lang"),l=_("../token_iterator").TokenIterator,d=_("../range").Range;(function(){this.$defaultBehaviour=new y,this.tokenRe=new RegExp("^["+h.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+h.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new w(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(g,f,v,C){var S=f.doc,O=!0,N=!0,z=1/0,K=f.getTabSize(),Q=!1;if(this.lineCommentStart){Y=Array.isArray(this.lineCommentStart)?(ne=this.lineCommentStart.map(u.escapeRegExp).join("|"),this.lineCommentStart[0]):(ne=u.escapeRegExp(this.lineCommentStart),this.lineCommentStart),ne=new RegExp("^(\\s*)(?:"+ne+") ?"),Q=f.getUseSoftTabs();var ue=function(ke,xe){var Ee,ie,de=ke.match(ne);de&&(U(ke,Ee=de[1].length,ie=de[0].length)||" "!=de[0][ie-1]||ie--,S.removeInLine(xe,Ee,ie))},oe=Y+" ",pe=function(ke,xe){O&&!/\S/.test(ke)||(U(ke,z,z)?S.insertInLine({row:xe,column:z},oe):S.insertInLine({row:xe,column:z},Y))},F=function(ke,xe){return ne.test(ke)},U=function(ke,xe,Ee){for(var ie=0;xe--&&" "==ke.charAt(xe);)ie++;if(ie%K!=0)return!1;for(ie=0;" "==ke.charAt(Ee++);)ie++;return 2<K?ie%K!=K-1:ie%K==0}}else{if(!this.blockComment)return!1;var Y=this.blockComment.start,W=this.blockComment.end,ne=new RegExp("^(\\s*)(?:"+u.escapeRegExp(Y)+")"),fe=new RegExp("(?:"+u.escapeRegExp(W)+")\\s*$");pe=function(ie,de){F(ie,de)||O&&!/\S/.test(ie)||(S.insertInLine({row:de,column:ie.length},W),S.insertInLine({row:de,column:z},Y))},ue=function(ie,de){var me;(me=ie.match(fe))&&S.removeInLine(de,ie.length-me[0].length,ie.length),(me=ie.match(ne))&&S.removeInLine(de,me[1].length,me[0].length)},F=function(ie,de){if(ne.test(ie))return!0;for(var me=f.getTokens(de),Ce=0;Ce<me.length;Ce++)if("comment"===me[Ce].type)return!0}}function he(ke){for(var xe=v;xe<=C;xe++)ke(S.getLine(xe),xe)}var Ae=1/0;he(function(ke,xe){var Ee=ke.search(/\S/);-1!==Ee?(Ee<z&&(z=Ee),N&&!F(ke,xe)&&(N=!1)):Ae>ke.length&&(Ae=ke.length)}),z==1/0&&(z=Ae,N=O=!1),Q&&z%K!=0&&(z=Math.floor(z/K)*K),he(N?ue:pe)},this.toggleBlockComment=function(g,f,v,C){var S=this.blockComment;if(S){!S.start&&S[0]&&(S=S[0]);var O,N,z=(pe=new l(f,C.row,C.column)).getCurrentToken(),K=f.selection.toOrientedRange();if(z&&/comment/.test(z.type)){for(;z&&/comment/.test(z.type);){if(-1!=(F=z.value.indexOf(S.start))){var Q=pe.getCurrentTokenRow(),ue=pe.getCurrentTokenColumn()+F,oe=new d(Q,ue,Q,ue+S.start.length);break}z=pe.stepBackward()}var pe,F;for(z=(pe=new l(f,C.row,C.column)).getCurrentToken();z&&/comment/.test(z.type);){if(-1!=(F=z.value.indexOf(S.end))){Q=pe.getCurrentTokenRow(),ue=pe.getCurrentTokenColumn()+F;var U=new d(Q,ue,Q,ue+S.end.length);break}z=pe.stepForward()}U&&f.remove(U),oe&&(f.remove(oe),O=oe.start.row,N=-S.start.length)}else N=S.start.length,O=v.start.row,f.insert(v.end,S.end),f.insert(v.start,S.start);K.start.row==O&&(K.start.column+=N),K.end.row==O&&(K.end.column+=N),f.selection.fromOrientedRange(K)}},this.getNextLineIndent=function(g,f,v){return this.$getIndent(f)},this.checkOutdent=function(g,f,v){return!1},this.autoOutdent=function(g,f,v){},this.$getIndent=function(g){return g.match(/^\s*/)[0]},this.createWorker=function(g){return null},this.createModeDelegates=function(g){for(var f in this.$embeds=[],this.$modes={},g){var v,C,S;g[f]&&(C=(v=g[f]).prototype.$id,(S=T.$modes[C])||(T.$modes[C]=S=new v),T.$modes[f]||(T.$modes[f]=S),this.$embeds.push(f),this.$modes[f]=S)}var O=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(f=0;f<O.length;f++)!function(z){var K=O[f],Q=z[K];z[O[f]]=function(){return this.$delegator(K,arguments,Q)}}(this)},this.$delegator=function(g,f,v){var C=f[0]||"start";if("string"!=typeof C){if(Array.isArray(C[2])){var S=C[2][C[2].length-1];if(N=this.$modes[S])return N[g].apply(N,[C[1]].concat([].slice.call(f,1)))}C=C[0]||"start"}for(var O=0;O<this.$embeds.length;O++)if(this.$modes[this.$embeds[O]]){var N,z=C.split(this.$embeds[O]);if(!z[0]&&z[1])return f[0]=z[1],(N=this.$modes[this.$embeds[O]])[g].apply(N,f)}return S=v.apply(this,f),v?S:void 0},this.transformAction=function(g,f,v,C,S){if(this.$behaviour){var O,N=this.$behaviour.getBehaviours();for(O in N)if(N[O][f]){var z=N[O][f].apply(this,arguments);if(z)return z}}},this.getKeywords=function(g){if(!this.completionKeywords){var f=this.$tokenizer.rules,v=[];for(N in f)for(var C=f[N],S=0,O=C.length;S<O;S++)if("string"==typeof C[S].token)/keyword|support|storage/.test(C[S].token)&&v.push(C[S].regex);else if("object"==typeof C[S].token)for(var N,z=0,K=C[S].token.length;z<K;z++)/keyword|support|storage/.test(C[S].token[z])&&(N=C[S].regex.match(/\(.+?\)/g)[z],v.push(N.substr(1,N.length-2)));this.completionKeywords=v}return g?v.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(g,f,v,C){return(this.$keywordList||this.$createKeywordList()).map(function(S){return{name:S,value:S,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(I.prototype),m.Mode=I}),ace.define("ace/apply_delta",["require","exports","module"],function(_,m,D){"use strict";m.applyDelta=function(I,T,w){var p=T.start.row,y=T.start.column,h=I[p]||"";switch(T.action){case"insert":1===T.lines.length?I[p]=h.substring(0,y)+T.lines[0]+h.substring(y):(u=[p,1].concat(T.lines),I.splice.apply(I,u),I[p]=h.substring(0,y)+I[p],I[p+T.lines.length-1]+=h.substring(y));break;case"remove":var u=T.end.column,l=T.end.row;p===l?I[p]=h.substring(0,y)+h.substring(u):I.splice(p,l-p+1,h.substring(0,y)+I[l].substring(u))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(T,m,D){"use strict";var I=T("./lib/oop"),w=(T=T("./lib/event_emitter").EventEmitter,p.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},p.prototype.getDocument=function(){return this.document},p.prototype.onChange=function(h){var u,l,d,g,f,v,C;h.start.row==h.end.row&&h.start.row!=this.row||h.start.row>this.row||(g=((C="insert"==(u=h).action)?1:-1)*(u.end.row-u.start.row),f=(C?1:-1)*(u.end.column-u.start.column),v=u.start,C=C?v:u.end,h=y(l={row:this.row,column:this.column},v,d=this.$insertRight)?{row:l.row,column:l.column}:y(C,l,!d)?{row:l.row+g,column:l.column+(l.row==C.row?f:0)}:{row:v.row,column:v.column},this.setPosition(h.row,h.column,!0))},p.prototype.setPosition=function(h,u,l){l=l?{row:h,column:u}:this.$clipPositionToDocument(h,u),this.row==l.row&&this.column==l.column||(h={row:this.row,column:this.column},this.row=l.row,this.column=l.column,this._signal("change",{old:h,value:l}))},p.prototype.detach=function(){this.document.off("change",this.$onChange)},p.prototype.attach=function(h){this.document=h||this.document,this.document.on("change",this.$onChange)},p.prototype.$clipPositionToDocument=function(h,u){var l={};return h>=this.document.getLength()?(l.row=Math.max(0,this.document.getLength()-1),l.column=this.document.getLine(l.row).length):h<0?(l.row=0,l.column=0):(l.row=h,l.column=Math.min(this.document.getLine(l.row).length,Math.max(0,u))),u<0&&(l.column=0),l},p);function p(h,u,l){this.$onChange=this.onChange.bind(this),this.attach(h),void 0===l?this.setPosition(u.row,u.column):this.setPosition(u,l)}function y(h,u,l){return l=l?h.column<=u.column:h.column<u.column,h.row<u.row||h.row==u.row&&l}w.prototype.$insertRight=!1,I.implement(w.prototype,T),m.Anchor=w}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(h,m,D){"use strict";var I=h("./lib/oop"),T=h("./apply_delta").applyDelta,w=h("./lib/event_emitter").EventEmitter,p=h("./range").Range,y=h("./anchor").Anchor;function u(l){this.$lines=[""],0===l.length?this.$lines=[""]:Array.isArray(l)?this.insertMergedLines({row:0,column:0},l):this.insert({row:0,column:0},l)}(u.prototype.setValue=function(l){var d=this.getLength()-1;this.remove(new p(0,0,d,this.getLine(d).length)),this.insert({row:0,column:0},l||"")},u.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},u.prototype.createAnchor=function(l,d){return new y(this,l,d)},u.prototype.$detectNewLine=function(l){l=l.match(/^.*?(\r\n|\r|\n)/m),this.$autoNewLine=l?l[1]:"\n",this._signal("changeNewLineMode")},u.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},u.prototype.setNewLineMode=function(l){this.$newLineMode!==l&&(this.$newLineMode=l,this._signal("changeNewLineMode"))},u.prototype.getNewLineMode=function(){return this.$newLineMode},u.prototype.isNewLine=function(l){return"\r\n"==l||"\r"==l||"\n"==l},u.prototype.getLine=function(l){return this.$lines[l]||""},u.prototype.getLines=function(l,d){return this.$lines.slice(l,d+1)},u.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},u.prototype.getLength=function(){return this.$lines.length},u.prototype.getTextRange=function(l){return this.getLinesForRange(l).join(this.getNewLineCharacter())},u.prototype.getLinesForRange=function(l){var d,g;return l.start.row===l.end.row?d=[this.getLine(l.start.row).substring(l.start.column,l.end.column)]:((d=this.getLines(l.start.row,l.end.row))[0]=(d[0]||"").substring(l.start.column),l.end.row-l.start.row==(g=d.length-1)&&(d[g]=d[g].substring(0,l.end.column))),d},u.prototype.insertLines=function(l,d){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(l,d)},u.prototype.removeLines=function(l,d){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(l,d)},u.prototype.insertNewLine=function(l){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(l,["",""])},u.prototype.insert=function(l,d){return this.getLength()<=1&&this.$detectNewLine(d),this.insertMergedLines(l,this.$split(d))},u.prototype.insertInLine=function(f,d){var g=this.clippedPos(f.row,f.column);return f=this.pos(f.row,f.column+d.length),this.applyDelta({start:g,end:f,action:"insert",lines:[d]},!0),this.clonePos(f)},u.prototype.clippedPos=function(l,d){var g=this.getLength();return void 0===l?l=g:l<0?l=0:g<=l&&(l=g-1,d=void 0),g=this.getLine(l),null==d&&(d=g.length),{row:l,column:d=Math.min(Math.max(d,0),g.length)}},u.prototype.clonePos=function(l){return{row:l.row,column:l.column}},u.prototype.pos=function(l,d){return{row:l,column:d}},u.prototype.$clipPosition=function(l){var d=this.getLength();return l.row>=d?(l.row=Math.max(0,d-1),l.column=this.getLine(d-1).length):(l.row=Math.max(0,l.row),l.column=Math.min(Math.max(l.column,0),this.getLine(l.row).length)),l},u.prototype.insertFullLines=function(l,d){var g;g=(l=Math.min(Math.max(l,0),this.getLength()))<this.getLength()?(d=d.concat([""]),0):(d=[""].concat(d),this.$lines[--l].length),this.insertMergedLines({row:l,column:g},d)},u.prototype.insertMergedLines=function(g,d){var f={row:(g=this.clippedPos(g.row,g.column)).row+d.length-1,column:(1==d.length?g.column:0)+d[d.length-1].length};return this.applyDelta({start:g,end:f,action:"insert",lines:d}),this.clonePos(f)},u.prototype.remove=function(g){var d=this.clippedPos(g.start.row,g.start.column);return g=this.clippedPos(g.end.row,g.end.column),this.applyDelta({start:d,end:g,action:"remove",lines:this.getLinesForRange({start:d,end:g})}),this.clonePos(d)},u.prototype.removeInLine=function(l,d,g){return d=this.clippedPos(l,d),l=this.clippedPos(l,g),this.applyDelta({start:d,end:l,action:"remove",lines:this.getLinesForRange({start:d,end:l})},!0),this.clonePos(d)},u.prototype.removeFullLines=function(l,d){l=Math.min(Math.max(0,l),this.getLength()-1);var C=(d=Math.min(Math.max(0,d),this.getLength()-1))==this.getLength()-1&&0<l,f=d<this.getLength()-1,v=C?l-1:l,g=(C=C?this.getLine(v).length:0,f?d+1:d);return f=f?0:this.getLine(g).length,v=new p(v,C,g,f),C=this.$lines.slice(l,d+1),this.applyDelta({start:v.start,end:v.end,action:"remove",lines:this.getLinesForRange(v)}),C},u.prototype.removeNewLine=function(l){l<this.getLength()-1&&0<=l&&this.applyDelta({start:this.pos(l,this.getLine(l).length),end:this.pos(l+1,0),action:"remove",lines:["",""]})},u.prototype.replace=function(l,d){return l instanceof p||(l=p.fromPoints(l.start,l.end)),0===d.length&&l.isEmpty()?l.start:d==this.getTextRange(l)?l.end:(this.remove(l),d?this.insert(l.start,d):l.start)},u.prototype.applyDeltas=function(l){for(var d=0;d<l.length;d++)this.applyDelta(l[d])},u.prototype.revertDeltas=function(l){for(var d=l.length-1;0<=d;d--)this.revertDelta(l[d])},u.prototype.applyDelta=function(l,d){var g="insert"==l.action;(g?l.lines.length<=1&&!l.lines[0]:!p.comparePoints(l.start,l.end))||(g&&2e4<l.lines.length?this.$splitAndapplyLargeDelta(l,2e4):(T(this.$lines,l,d),this._signal("change",l)))},u.prototype.$safeApplyDelta=function(l){var d=this.$lines.length;("remove"==l.action&&l.start.row<d&&l.end.row<d||"insert"==l.action&&l.start.row<=d)&&this.applyDelta(l)},u.prototype.$splitAndapplyLargeDelta=function(l,d){for(var g=l.lines,f=g.length-d+1,v=l.start.row,C=l.start.column,S=0,O=0;S<f;S=O){var N=g.slice(S,O+=d-1);N.push(""),this.applyDelta({start:this.pos(v+S,C),end:this.pos(v+O,C=0),action:l.action,lines:N},!0)}l.lines=g.slice(S),l.start.row=v+S,l.start.column=C,this.applyDelta(l,!0)},u.prototype.revertDelta=function(l){this.$safeApplyDelta({start:this.clonePos(l.start),end:this.clonePos(l.end),action:"insert"==l.action?"remove":"insert",lines:l.lines.slice()})},u.prototype.indexToPosition=function(l,d){for(var g=this.$lines||this.getAllLines(),f=this.getNewLineCharacter().length,v=d||0,C=g.length;v<C;v++)if((l-=g[v].length+f)<0)return{row:v,column:l+g[v].length+f};return{row:C-1,column:l+g[C-1].length+f}},u.prototype.positionToIndex=function(l,d){for(var g=this.$lines||this.getAllLines(),f=this.getNewLineCharacter().length,v=0,C=Math.min(l.row,g.length),S=d||0;S<C;++S)v+=g[S].length+f;return v+l.column},u.prototype.$split=function(l){return l.split(/\r\n|\r|\n/)},h=u).prototype.$autoNewLine="",h.prototype.$newLineMode="auto",I.implement(h.prototype,w),m.Document=h}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(T,m,D){"use strict";var I=T("./lib/oop"),w=(T=T("./lib/event_emitter").EventEmitter,p.prototype.setTokenizer=function(y){this.tokenizer=y,this.lines=[],this.states=[],this.start(0)},p.prototype.setDocument=function(y){this.doc=y,this.lines=[],this.states=[],this.stop()},p.prototype.fireUpdateEvent=function(y,h){this._signal("update",{data:{first:y,last:h}})},p.prototype.start=function(y){this.currentLine=Math.min(y||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},p.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},p.prototype.$updateOnChange=function(y){var h=y.start.row,u=y.end.row-h;0==u?this.lines[h]=null:"remove"==y.action?(this.lines.splice(h,1+u,null),this.states.splice(h,1+u,null)):((y=Array(1+u)).unshift(h,1),this.lines.splice.apply(this.lines,y),this.states.splice.apply(this.states,y)),this.currentLine=Math.min(h,this.currentLine,this.doc.getLength()),this.stop()},p.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},p.prototype.getTokens=function(y){return this.lines[y]||this.$tokenizeRow(y)},p.prototype.getState=function(y){return this.currentLine==y&&this.$tokenizeRow(y),this.states[y]||"start"},p.prototype.$tokenizeRow=function(y){var u=this.doc.getLine(y);return u=this.tokenizer.getLineTokens(u,this.states[y-1],y),this.states[y]+""!=u.state+""?(this.states[y]=u.state,this.lines[y+1]=null,this.currentLine>y+1&&(this.currentLine=y+1)):this.currentLine==y&&(this.currentLine=y+1),this.lines[y]=u.tokens},p.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},p);function p(y,h){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=y;var u=this;this.$worker=function(){if(u.running){for(var l=new Date,d=u.currentLine,g=-1,f=u.doc,v=d;u.lines[d];)d++;var C=f.getLength(),S=0;for(u.running=!1;d<C;){for(u.$tokenizeRow(d),g=d;d++,u.lines[d];);if(++S%5==0&&20<new Date-l){u.running=setTimeout(u.$worker,20);break}}u.currentLine=d,v<=(g=-1==g?d:g)&&u.fireUpdateEvent(v,g)}}}I.implement(w.prototype,T),m.BackgroundTokenizer=w}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(w,m,D){"use strict";var I=w("./lib/lang"),T=w("./range").Range;function p(y,h,u){void 0===u&&(u="text"),this.setRegexp(y),this.clazz=h,this.type=u}(p.prototype.setRegexp=function(y){this.regExp+""!=y+""&&(this.regExp=y,this.cache=[])},p.prototype.update=function(y,h,u,l){if(this.regExp)for(var g=l.lastRow,f={},v=l.firstRow;v<=g;v++){var C=this.cache[v];null==C&&(C=(C=(C=I.getMatchOffsets(u.getLine(v),this.regExp)).length>this.MAX_RANGES?C.slice(0,this.MAX_RANGES):C).map(function(z){return new T(v,z.offset,v,z.offset+z.length)}),this.cache[v]=C.length?C:"");for(var S=C.length;S--;){var O=C[S].toScreenRange(u),N=O.toString();f[N]||(f[N]=!0,h.drawSingleLineMarker(y,O,this.clazz,l))}}},w=p).prototype.MAX_RANGES=500,m.SearchHighlight=w}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(_,m,D){"use strict";var I=_("../range").Range;function T(w,p){this.foldData=w,Array.isArray(p)?this.folds=p:p=this.folds=[p],this.range=new I(p[0].start.row,p[0].start.column,(w=p[p.length-1]).end.row,w.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(y){y.setFoldLine(this)},this)}T.prototype.shiftRow=function(w){this.start.row+=w,this.end.row+=w,this.folds.forEach(function(p){p.start.row+=w,p.end.row+=w})},T.prototype.addFold=function(w){if(w.sameRow){if(w.start.row<this.startRow||w.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(w),this.folds.sort(function(p,y){return-p.range.compareEnd(y.start.row,y.start.column)}),0<this.range.compareEnd(w.start.row,w.start.column)?(this.end.row=w.end.row,this.end.column=w.end.column):this.range.compareStart(w.end.row,w.end.column)<0&&(this.start.row=w.start.row,this.start.column=w.start.column)}else if(w.start.row==this.end.row)this.folds.push(w),this.end.row=w.end.row,this.end.column=w.end.column;else{if(w.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(w),this.start.row=w.start.row,this.start.column=w.start.column}w.foldLine=this},T.prototype.containsRow=function(w){return w>=this.start.row&&w<=this.end.row},T.prototype.walk=function(w,p,y){var h,u,l=0,d=this.folds,g=!0;null==p&&(p=this.end.row,y=this.end.column);for(var f=0;f<d.length;f++){if(-1==(u=(h=d[f]).range.compareStart(p,y)))return void w(null,p,y,l,g);if(!w(null,h.start.row,h.start.column,l,g)&&w(h.placeholder,h.start.row,h.start.column,l)||0===u)return;g=!h.sameRow,l=h.end.column}w(null,p,y,l,g)},T.prototype.getNextFoldTo=function(w,p){for(var y,h,u=0;u<this.folds.length;u++){if(-1==(h=(y=this.folds[u]).range.compareEnd(w,p)))return{fold:y,kind:"after"};if(0===h)return{fold:y,kind:"inside"}}return null},T.prototype.addRemoveChars=function(w,p,y){var h,u=this.getNextFoldTo(w,p);if(u)if(h=u.fold,"inside"==u.kind&&h.start.column!=p&&h.start.row!=w)window.console&&window.console.log(w,p,h);else if(h.start.row==w){var l,d=(l=this.folds).indexOf(h);for(0===d&&(this.start.column+=y);d<l.length;d++){if((h=l[d]).start.column+=y,!h.sameRow)return;h.end.column+=y}this.end.column+=y}},T.prototype.split=function(u,p){var y,h;return(u=this.getNextFoldTo(u,p))&&"inside"!=u.kind?(p=u.fold,y=this.foldData,p=(u=this.folds).indexOf(p),this.end.row=(h=u[p-1]).end.row,this.end.column=h.end.column,h=new T(y,u=u.splice(p,u.length-p)),y.splice(y.indexOf(this)+1,0,h),h):null},T.prototype.merge=function(w){for(var p=w.folds,y=0;y<p.length;y++)this.addFold(p[y]);var h=this.foldData;h.splice(h.indexOf(w),1)},T.prototype.toString=function(){var w=[this.range.toString()+": ["];return this.folds.forEach(function(p){w.push("  "+p.toString())}),w.push("]"),w.join("\n")},T.prototype.idxToPosition=function(w){for(var p=0,y=0;y<this.folds.length;y++){var h=this.folds[y];if((w-=h.start.column-p)<0)return{row:h.start.row,column:h.start.column+w};if((w-=h.placeholder.length)<0)return h.start;p=h.end.column}return{row:this.end.row,column:this.end.column+w}},m.FoldLine=T}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(T,m,D){"use strict";var I=T("./range").Range.comparePoints;function w(){this.ranges=[],this.$bias=1}(w.prototype.pointIndex=function(p,y,h){for(var u=this.ranges,l=h||0;l<u.length;l++){var d=u[l],g=I(p,d.end);if(!(0<g))return d=I(p,d.start),0===g?y&&0!==d?-l-2:l:0<d||0===d&&!y?l:-l-1}return-l-1},w.prototype.add=function(p){var h=!p.isEmpty(),y=this.pointIndex(p.start,h);return(h=this.pointIndex(p.end,h,y=y<0?-y-1:y))<0?h=-h-1:h++,this.ranges.splice(y,h-y,p)},w.prototype.addList=function(p){for(var y=[],h=p.length;h--;)y.push.apply(y,this.add(p[h]));return y},w.prototype.substractPoint=function(p){if(0<=(p=this.pointIndex(p)))return this.ranges.splice(p,1)},w.prototype.merge=function(){for(var p=[],y=this.ranges,h=(y=y.sort(function(g,f){return I(g.start,f.start)}))[0],u=1;u<y.length;u++){var l=h,d=I(l.end,(h=y[u]).start);d<0||(0!=d||l.isEmpty()||h.isEmpty())&&(I(l.end,h.end)<0&&(l.end.row=h.end.row,l.end.column=h.end.column),y.splice(u,1),p.push(h),h=l,u--)}return this.ranges=y,p},w.prototype.contains=function(p,y){return 0<=this.pointIndex({row:p,column:y})},w.prototype.containsPoint=function(p){return 0<=this.pointIndex(p)},w.prototype.rangeAtPoint=function(p){if(0<=(p=this.pointIndex(p)))return this.ranges[p]},w.prototype.clipRows=function(p,y){var h=this.ranges;if(h[0].start.row>y||h[h.length-1].start.row<p)return[];p=this.pointIndex({row:p,column:0});for(var u=this.pointIndex({row:y,column:0},p=p<0?-p-1:p),l=(u<0&&(u=-u-1),[]),d=p;d<u;d++)l.push(h[d]);return l},w.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},w.prototype.attach=function(p){this.session&&this.detach(),this.session=p,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},w.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},w.prototype.$onChange=function(p){for(var y=p.start,h=p.end,u=y.row,l=h.row,d=this.ranges,g=0,f=d.length;g<f&&!((S=d[g]).end.row>=u);g++);var S;if("insert"==p.action)for(var v=l-u,C=-y.column+h.column;g<f&&!((S=d[g]).start.row>u);g++)S.start.row==u&&S.start.column>=y.column&&(S.start.column==y.column&&this.$bias<=0||(S.start.column+=C,S.start.row+=v)),S.end.row==u&&S.end.column>=y.column&&(S.end.column==y.column&&this.$bias<0||(S.end.column==y.column&&0<C&&g<f-1&&S.end.column>S.start.column&&S.end.column==d[g+1].start.column&&(S.end.column-=C),S.end.column+=C,S.end.row+=v));else for(v=u-l,C=y.column-h.column;g<f&&!((S=d[g]).start.row>l);g++)S.end.row<l&&(u<S.end.row||u==S.end.row&&y.column<S.end.column)?(S.end.row=u,S.end.column=y.column):S.end.row==l?S.end.column<=h.column?(v||S.end.column>y.column)&&(S.end.column=y.column,S.end.row=y.row):(S.end.column+=C,S.end.row+=v):S.end.row>l&&(S.end.row+=v),S.start.row<l&&(u<S.start.row||u==S.start.row&&y.column<S.start.column)?(S.start.row=u,S.start.column=y.column):S.start.row==l?S.start.column<=h.column?(v||S.start.column>y.column)&&(S.start.column=y.column,S.start.row=y.row):(S.start.column+=C,S.start.row+=v):S.start.row>l&&(S.start.row+=v);if(0!=v&&g<f)for(;g<f;g++)(S=d[g]).start.row+=v,S.end.row+=v},T=w).prototype.comparePoints=I,m.RangeList=T}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(w,m,D){"use strict";var I,T,p=this&&this.__extends||(I=function(l,d){return(I=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(g,f){g.__proto__=f}:function(g,f){for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(g[v]=f[v])}))(l,d)},function(l,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function g(){this.constructor=l}I(l,d),l.prototype=null===d?Object.create(d):(g.prototype=d.prototype,new g)});function y(l,d){var g=T.call(this)||this;return g.foldLine=null,g.placeholder=d,g.range=l,g.start=l.start,g.end=l.end,g.sameRow=l.start.row==l.end.row,g.subFolds=g.ranges=[],g}function h(l,d){l.row-=d.row,0==l.row&&(l.column-=d.column)}function u(l,d){0==l.row&&(l.column+=d.column),l.row+=d.row}w=w("../range_list").RangeList,p(y,T=w),y.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},y.prototype.setFoldLine=function(l){this.foldLine=l,this.subFolds.forEach(function(d){d.setFoldLine(l)})},y.prototype.clone=function(){var l=new y(this.range.clone(),this.placeholder);return this.subFolds.forEach(function(d){l.subFolds.push(d.clone())}),l.collapseChildren=this.collapseChildren,l},y.prototype.addSubFold=function(l){if(!this.range.isEqual(l)){h((C=l).start,S=this.start),h(C.end,S);for(var d=l.start.row,g=l.start.column,f=0,v=-1;f<this.subFolds.length&&1==(v=this.subFolds[f].range.compare(d,g));f++);var C=this.subFolds[f],S=0;if(0==v){if(C.range.containsRange(l))return C.addSubFold(l);S=1}d=l.range.end.row,g=l.range.end.column;var O=f;for(v=-1;O<this.subFolds.length&&1==(v=this.subFolds[O].range.compare(d,g));O++);0==v&&O++;for(var N=this.subFolds.splice(f,O-f,l),z=0==v?N.length-1:N.length,K=S;K<z;K++)l.addSubFold(N[K]);return l.setFoldLine(this.foldLine),l}},y.prototype.restoreRange=function(l){return u(l.start,d=this.start),void u(l.end,d);var d},m.Fold=p=y}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(_,m,D){"use strict";var I=_("../range").Range,T=_("./fold_line").FoldLine,w=_("./fold").Fold,p=_("../token_iterator").TokenIterator,y=_("../mouse/mouse_event").MouseEvent;m.Folding=function(){this.getFoldAt=function(h,u,l){var d=this.getFoldLine(h);if(!d)return null;for(var g=d.folds,f=0;f<g.length;f++){var v=g[f].range;if(v.contains(h,u)&&(1!=l||!v.isEnd(h,u)||v.isEmpty())&&(-1!=l||!v.isStart(h,u)||v.isEmpty()))return g[f]}},this.getFoldsInRange=function(h){var u=h.start,l=h.end,d=this.$foldData,g=[];u.column+=1,--l.column;for(var f=0;f<d.length;f++){var v=d[f].range.compareRange(h);if(2!=v){if(-2==v)break;for(var C=d[f].folds,S=0;S<C.length;S++){var O=C[S];if(-2==(v=O.range.compareRange(h)))break;if(2!=v){if(42==v)break;g.push(O)}}}}return--u.column,l.column+=1,g},this.getFoldsInRangeList=function(h){var u;return Array.isArray(h)?(u=[],h.forEach(function(l){u=u.concat(this.getFoldsInRange(l))},this)):u=this.getFoldsInRange(h),u},this.getAllFolds=function(){for(var h=[],u=this.$foldData,l=0;l<u.length;l++)for(var d=0;d<u[l].folds.length;d++)h.push(u[l].folds[d]);return h},this.getFoldStringAt=function(h,u,l,d){if(!(d=d||this.getFoldLine(h)))return null;for(var g,f={end:{column:0}},v=0;v<d.folds.length;v++){var C,S=(C=d.folds[v]).range.compareEnd(h,u);if(-1==S){g=this.getLine(C.start.row).substring(f.end.column,C.start.column);break}if(0===S)return null;f=C}return g=g||this.getLine(C.start.row).substring(f.end.column),-1==l?g.substring(0,u-f.end.column):1==l?g.substring(u-f.end.column):g},this.getFoldLine=function(h,u){var l=this.$foldData,d=0;for(-1==(d=u?l.indexOf(u):d)&&(d=0);d<l.length;d++){var g=l[d];if(g.start.row<=h&&g.end.row>=h)return g;if(g.end.row>h)return null}return null},this.getNextFoldLine=function(h,u){var l=this.$foldData,d=0;for(-1==(d=u?l.indexOf(u):d)&&(d=0);d<l.length;d++){var g=l[d];if(g.end.row>=h)return g}return null},this.getFoldedRowCount=function(h,u){for(var l=this.$foldData,d=u-h+1,g=0;g<l.length;g++){var f=(v=l[g]).end.row,v=v.start.row;if(u<=f){v<u&&(h<=v?d-=u-v:d=0);break}h<=f&&(d-=h<=v?f-v:f-h+1)}return d},this.$addFoldLine=function(h){return this.$foldData.push(h),this.$foldData.sort(function(u,l){return u.start.row-l.start.row}),h},this.addFold=function(v,S){var l,d=this.$foldData,g=!1,f=(v instanceof w?l=v:(l=new w(S,v)).collapseChildren=S.collapseChildren,this.$clipRangeToDocument(l.range),l.start.row),C=l.end.row,O=(S=l.end.column,this.getFoldAt(f,v=l.start.column,1)),N=this.getFoldAt(C,S,-1);if(O&&N==O)return O.addSubFold(l);O&&!O.range.isStart(f,v)&&this.removeFold(O),N&&!N.range.isEnd(C,S)&&this.removeFold(N),0<(v=this.getFoldsInRange(l.range)).length&&(this.removeFolds(v),l.collapseChildren||v.forEach(function(ue){l.addSubFold(ue)}));for(var z=0;z<d.length;z++){var K=d[z];if(C==K.start.row){K.addFold(l),g=!0;break}if(f==K.end.row){if(K.addFold(l),g=!0,!l.sameRow){var Q=d[z+1];if(Q&&Q.start.row==C){K.merge(Q);break}}break}if(C<=K.start.row)break}return g||(K=this.$addFoldLine(new T(this.$foldData,l))),this.$useWrapMode?this.$updateWrapData(K.start.row,K.start.row):this.$updateRowLengthCache(K.start.row,K.start.row),this.$modified=!0,this._signal("changeFold",{data:l,action:"add"}),l},this.addFolds=function(h){h.forEach(function(u){this.addFold(u)},this)},this.removeFold=function(h){var u=h.foldLine,l=u.start.row,d=u.end.row,g=this.$foldData,f=u.folds;1==f.length?g.splice(g.indexOf(u),1):u.range.isEnd(h.end.row,h.end.column)?(f.pop(),u.end.row=f[f.length-1].end.row,u.end.column=f[f.length-1].end.column):u.range.isStart(h.start.row,h.start.column)?(f.shift(),u.start.row=f[0].start.row,u.start.column=f[0].start.column):h.sameRow?f.splice(f.indexOf(h),1):((f=(g=u.split(h.start.row,h.start.column)).folds).shift(),g.start.row=f[0].start.row,g.start.column=f[0].start.column),this.$updating||(this.$useWrapMode?this.$updateWrapData(l,d):this.$updateRowLengthCache(l,d)),this.$modified=!0,this._signal("changeFold",{data:h,action:"remove"})},this.removeFolds=function(h){for(var u=[],l=0;l<h.length;l++)u.push(h[l]);u.forEach(function(d){this.removeFold(d)},this),this.$modified=!0},this.expandFold=function(h){this.removeFold(h),h.subFolds.forEach(function(u){h.restoreRange(u),this.addFold(u)},this),0<h.collapseChildren&&this.foldAll(h.start.row+1,h.end.row,h.collapseChildren-1),h.subFolds=[]},this.expandFolds=function(h){h.forEach(function(u){this.expandFold(u)},this)},this.unfold=function(h,u){var l,d;if(null==h)l=new I(0,0,this.getLength(),0),null==u&&(u=!0);else if("number"==typeof h)l=new I(h,0,h,this.getLine(h).length);else if("row"in h)l=I.fromPoints(h,h);else{if(Array.isArray(h))return d=[],h.forEach(function(g){d=d.concat(this.unfold(g))},this),d;l=h}for(h=d=this.getFoldsInRangeList(l);1==d.length&&I.comparePoints(d[0].start,l.start)<0&&0<I.comparePoints(d[0].end,l.end);)this.expandFolds(d),d=this.getFoldsInRangeList(l);if(0!=u?this.removeFolds(d):this.expandFolds(d),h.length)return h},this.isRowFolded=function(h,u){return!!this.getFoldLine(h,u)},this.getRowFoldEnd=function(h,u){return(u=this.getFoldLine(h,u))?u.end.row:h},this.getRowFoldStart=function(h,u){return(u=this.getFoldLine(h,u))?u.start.row:h},this.getFoldDisplayLine=function(h,u,l,d,g){null==d&&(d=h.start.row),null==g&&(g=0),null==u&&(u=h.end.row),null==l&&(l=this.getLine(u).length);var f=this.doc,v="";return h.walk(function(C,S,O,N){if(!(S<d)){if(S==d){if(O<g)return;N=Math.max(g,N)}v+=null!=C?C:f.getLine(S).substring(N,O)}},u,l),v},this.getDisplayLine=function(h,u,l,d){var g=this.getFoldLine(h);return g?this.getFoldDisplayLine(g,h,u,l,d):(g=this.doc.getLine(h)).substring(d||0,u||g.length)},this.$cloneFoldData=function(){var h=[];return h=this.$foldData.map(function(u){return u=u.folds.map(function(l){return l.clone()}),new T(h,u)})},this.toggleFold=function(h){var u=this.selection.getRange();if(u.isEmpty()){var l,d=u.start;if(l=this.getFoldAt(d.row,d.column))return void this.expandFold(l);(g=this.findMatchingBracket(d))?1==u.comparePoint(g)?u.end=g:(u.start=g,u.start.column++,u.end.column--):(g=this.findMatchingBracket({row:d.row,column:d.column+1}))?(1==u.comparePoint(g)?u.end=g:u.start=g,u.start.column++):u=this.getCommentFoldRange(d.row,d.column)||u}else{var g=this.getFoldsInRange(u);if(h&&g.length)return void this.expandFolds(g);1==g.length&&(l=g[0])}if((l=l||this.getFoldAt(u.start.row,u.start.column))&&l.range.toString()==u.toString())this.expandFold(l);else{if(d="...",!u.isMultiLine()){if((d=this.getTextRange(u)).length<4)return;d=d.trim().substring(0,2)+".."}this.addFold(d,u)}},this.getCommentFoldRange=function(h,u,l){var d=new p(this,h,u),g=d.getCurrentToken(),f=g&&g.type;if(g&&/^comment|string/.test(f)){"comment"==(f=f.match(/comment|string/)[0])&&(f+="|doc-start");var v=new RegExp(f);if(f=new I,1!=l){for(;(g=d.stepBackward())&&v.test(g.type)&&!/^comment.end/.test(g.type););g=d.stepForward()}if(f.start.row=d.getCurrentTokenRow(),f.start.column=d.getCurrentTokenColumn()+(/^comment.start/.test(g.type)?g.value.length:2),d=new p(this,h,u),-1!=l){var C=-1;do{if(g=d.stepForward(),-1==C){var S=this.getState(d.$row);v.test(S)||(C=d.$row)}else if(d.$row>C)break}while(g&&v.test(g.type)&&!/^comment.start/.test(g.type));g=d.stepBackward()}else g=d.getCurrentToken();return f.end.row=d.getCurrentTokenRow(),f.end.column=d.getCurrentTokenColumn(),/^comment.end/.test(g.type)||(f.end.column+=g.value.length-2),f}},this.foldAll=function(h,u,l,d){null==l&&(l=1e5);var g=this.foldWidgets;if(g){u=u||this.getLength();for(var f,v=h=h||0;v<u;v++)null==g[v]&&(g[v]=this.getFoldWidget(v)),"start"!=g[v]||d&&!d(v)||(f=this.getFoldWidgetRange(v))&&f.isMultiLine()&&f.end.row<=u&&f.start.row>=h&&(v=f.end.row,f.collapseChildren=l,this.addFold("...",f))}},this.foldToLevel=function(h){for(this.foldAll();0<h--;)this.unfold(null,!1)},this.foldAllComments=function(){var h=this;this.foldAll(null,null,null,function(u){for(var l=h.getTokens(u),d=0;d<l.length;d++){var g=l[d];if("text"!=g.type||!/^\s+$/.test(g.value))return!!/comment/.test(g.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(h){if(!this.$foldStyles[h])throw new Error("invalid fold style: "+h+"["+Object.keys(this.$foldStyles).join(", ")+"]");this.$foldStyle!=h&&("manual"==(this.$foldStyle=h)&&this.unfold(),h=this.$foldMode,this.$setFolding(null),this.$setFolding(h))},this.$setFolding=function(h){this.$foldMode!=h&&(this.$foldMode=h,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),h&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=h.getFoldWidget.bind(h,this,this.$foldStyle),this.getFoldWidgetRange=h.getFoldWidgetRange.bind(h,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(h,u){var l=this.foldWidgets;if(!l||u&&l[h])return{};for(var d=h-1;0<=d;){var g=l[d];if("start"==(g=null==g?l[d]=this.getFoldWidget(d):g)){var f=this.getFoldWidgetRange(d),v=v||f;if(f&&f.end.row>=h)break}d--}return{range:-1!==d&&f,firstRange:v}},this.onFoldWidgetClick=function(h,u){var l={children:(u=u instanceof y?u.domEvent:u).shiftKey,all:u.ctrlKey||u.metaKey,siblings:u.altKey};this.$toggleFoldWidget(h,l)||(h=u.target||u.srcElement)&&/ace_fold-widget/.test(h.className)&&(h.className+=" ace_invalid")},this.$toggleFoldWidget=function(h,u){var l,d,g,f;if(this.getFoldWidget)return l=this.getFoldWidget(h),d=this.getLine(h),(d=this.getFoldAt(h,-1==(l="end"===l?-1:1)?0:d.length,l))?(u.children||u.all?this.removeFold(d):this.expandFold(d),d):(l=this.getFoldWidgetRange(h,!0))&&!l.isMultiLine()&&(d=this.getFoldAt(l.start.row,l.start.column,1))&&l.isEqual(d.range)?(this.removeFold(d),d):(u.siblings?((d=this.getParentFoldRangeData(h)).range&&(g=d.range.start.row+1,f=d.range.end.row),this.foldAll(g,f,u.all?1e4:0)):u.children?(f=l?l.end.row:this.getLength(),this.foldAll(h+1,f,u.all?1e4:0)):l&&(u.all&&(l.collapseChildren=1e4),this.addFold("...",l)),l)},this.toggleFoldWidget=function(h){var u,l=this.selection.getCursor().row;l=this.getRowFoldStart(l),!this.$toggleFoldWidget(l,{})&&(u=(u=this.getParentFoldRangeData(l,!0)).range||u.firstRange)&&((l=this.getFoldAt(l=u.start.row,this.getLine(l).length,1))?this.removeFold(l):this.addFold("...",u))},this.updateFoldWidgets=function(h){var u=h.start.row,l=h.end.row-u;0==l?this.foldWidgets[u]=null:"remove"==h.action?this.foldWidgets.splice(u,1+l,null):((h=Array(1+l)).unshift(u,1),this.foldWidgets.splice.apply(this.foldWidgets,h))},this.tokenizerUpdateFoldWidgets=function(h){(h=h.data).first!=h.last&&this.foldWidgets.length>h.first&&this.foldWidgets.splice(h.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(_,m,D){"use strict";var I=_("../token_iterator").TokenIterator,T=_("../range").Range;m.BracketMatch=function(){this.findMatchingBracket=function(w,p){return 0!=w.column&&""!=(p=p||this.getLine(w.row).charAt(w.column-1))&&(p=p.match(/([\(\[\{])|([\)\]\}])/))?p[1]?this.$findClosingBracket(p[1],w):this.$findOpeningBracket(p[2],w):null},this.getBracketRange=function(w){var p,y,h=this.getLine(w.row),u=!0,l=h.charAt(w.column-1),d=l&&l.match(/([\(\[\{])|([\)\]\}])/);if(d||(l=h.charAt(w.column),w={row:w.row,column:w.column+1},d=l&&l.match(/([\(\[\{])|([\)\]\}])/),u=!1),!d)return null;if(d[1]){if(!(y=this.$findClosingBracket(d[1],w)))return null;p=T.fromPoints(w,y),u||(p.end.column++,p.start.column--),p.cursor=p.end}else{if(!(y=this.$findOpeningBracket(d[2],w)))return null;p=T.fromPoints(y,w),u||(p.start.column++,p.end.column--),p.cursor=p.start}return p},this.getMatchingBracketRanges=function(w,p){var y=this.getLine(w.row),h=/([\(\[\{])|([\)\]\}])/,u=!p&&y.charAt(w.column-1),l=u&&u.match(h);return l||(u=(void 0===p||p)&&y.charAt(w.column),w={row:w.row,column:w.column+1},l=u&&u.match(h)),l?(p=new T(w.row,w.column-1,w.row,w.column),(y=l[1]?this.$findClosingBracket(l[1],w):this.$findOpeningBracket(l[2],w))?[p,new T(y.row,y.column,y.row,y.column+1)]:[p]):null},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(w,p,y){var h=this.$brackets[w],u=1,l=new I(this,p.row,p.column),d=l.getCurrentToken();if(d=d||l.stepForward()){y=y||new RegExp("(\\.?"+d.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+");for(var g=p.column-l.getCurrentTokenColumn()-2,f=d.value;;){for(;0<=g;){var v=f.charAt(g);if(v==h){if(0==--u)return{row:l.getCurrentTokenRow(),column:g+l.getCurrentTokenColumn()}}else v==w&&(u+=1);--g}for(;(d=l.stepBackward())&&!y.test(d.type););if(null==d)break;g=(f=d.value).length-1}return null}},this.$findClosingBracket=function(w,p,y){var h=this.$brackets[w],u=1,l=new I(this,p.row,p.column),d=l.getCurrentToken();if(d=d||l.stepForward()){y=y||new RegExp("(\\.?"+d.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+");for(var g=p.column-l.getCurrentTokenColumn();;){for(var f=d.value,v=f.length;g<v;){var C=f.charAt(g);if(C==h){if(0==--u)return{row:l.getCurrentTokenRow(),column:g+l.getCurrentTokenColumn()}}else C==w&&(u+=1);g+=1}for(;(d=l.stepForward())&&!y.test(d.type););if(null==d)break;g=0}return null}},this.getMatchingTags=function(p){p=new I(this,p.row,p.column);var y=this.$findTagName(p);if(y)return"<"===p.stepBackward().value?this.$findClosingTag(p,y):this.$findOpeningTag(p,y)},this.$findTagName=function(w){var p=w.getCurrentToken(),y=!1,h=!1;if(p&&-1===p.type.indexOf("tag-name"))for(;(p=h?w.stepBackward():w.stepForward())&&("/>"===p.value?h=!0:-1!==p.type.indexOf("tag-name")&&(y=!0)),p&&!y;);return p},this.$findClosingTag=function(w,p){var y=p.value,h=p.value,u=0,l=new T(w.getCurrentTokenRow(),w.getCurrentTokenColumn(),w.getCurrentTokenRow(),w.getCurrentTokenColumn()+1),d=(p=w.stepForward(),new T(w.getCurrentTokenRow(),w.getCurrentTokenColumn(),w.getCurrentTokenRow(),w.getCurrentTokenColumn()+p.value.length)),g=!1;do{var f,v=p;if(p=w.stepForward())if(">"!==p.value||g||(f=new T(w.getCurrentTokenRow(),w.getCurrentTokenColumn(),w.getCurrentTokenRow(),w.getCurrentTokenColumn()+1),g=!0),-1!==p.type.indexOf("tag-name")){if(h===(y=p.value))if("<"===v.value)u++;else if("</"===v.value&&--u<0){w.stepBackward();var C=new T(w.getCurrentTokenRow(),w.getCurrentTokenColumn(),w.getCurrentTokenRow(),w.getCurrentTokenColumn()+2),S=(p=w.stepForward(),new T(w.getCurrentTokenRow(),w.getCurrentTokenColumn(),w.getCurrentTokenRow(),w.getCurrentTokenColumn()+p.value.length));if(!(p=w.stepForward())||">"!==p.value)return;var O=new T(w.getCurrentTokenRow(),w.getCurrentTokenColumn(),w.getCurrentTokenRow(),w.getCurrentTokenColumn()+1)}}else h===y&&"/>"===p.value&&--u<0&&(O=S=C=new T(w.getCurrentTokenRow(),w.getCurrentTokenColumn(),w.getCurrentTokenRow(),w.getCurrentTokenColumn()+2),f=new T(d.end.row,d.end.column,d.end.row,d.end.column+1))}while(p&&0<=u);if(l&&f&&C&&O&&d&&S)return{openTag:new T(l.start.row,l.start.column,f.end.row,f.end.column),closeTag:new T(C.start.row,C.start.column,O.end.row,O.end.column),openTagName:d,closeTagName:S}},this.$findOpeningTag=function(w,p){var y,h=w.getCurrentToken(),u=p.value,l=0,d=w.getCurrentTokenRow(),g=w.getCurrentTokenColumn(),f=new T(d,g,d,g+2),v=(w.stepForward(),new T(w.getCurrentTokenRow(),w.getCurrentTokenColumn(),w.getCurrentTokenRow(),w.getCurrentTokenColumn()+p.value.length));if((p=w.stepForward())&&">"===p.value){var C=new T(w.getCurrentTokenRow(),w.getCurrentTokenColumn(),w.getCurrentTokenRow(),w.getCurrentTokenColumn()+1);w.stepBackward(),w.stepBackward();do{if(p=h,d=w.getCurrentTokenRow(),y=(g=w.getCurrentTokenColumn())+p.value.length,h=w.stepBackward(),p)if(-1!==p.type.indexOf("tag-name")){if(u===p.value)if("<"===h.value){if(0<++l){for(var S=new T(d,g,d,y),O=new T(w.getCurrentTokenRow(),w.getCurrentTokenColumn(),w.getCurrentTokenRow(),w.getCurrentTokenColumn()+1);(p=w.stepForward())&&">"!==p.value;);var N=new T(w.getCurrentTokenRow(),w.getCurrentTokenColumn(),w.getCurrentTokenRow(),w.getCurrentTokenColumn()+1)}}else"</"===h.value&&l--}else if("/>"===p.value){for(var z=0,K=h;K;){if(-1!==K.type.indexOf("tag-name")&&K.value===u){l--;break}if("<"===K.value)break;K=w.stepBackward(),z++}for(var Q=0;Q<z;Q++)w.stepForward()}}while(h&&l<=0);return O&&N&&f&&C&&S&&v?{openTag:new T(O.start.row,O.start.column,N.end.row,N.end.column),closeTag:new T(f.start.row,f.start.column,C.end.row,C.end.column),openTagName:S,closeTagName:v}:void 0}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(_,m,D){"use strict";var I=_("./lib/oop"),T=_("./lib/lang"),w=_("./bidihandler").BidiHandler,p=_("./config"),y=_("./lib/event_emitter").EventEmitter,h=_("./selection").Selection,u=_("./mode/text").Mode,l=_("./range").Range,d=_("./document").Document,g=_("./background_tokenizer").BackgroundTokenizer,f=_("./search_highlight").SearchHighlight,v=(C.prototype.setDocument=function(F){this.doc&&this.doc.off("change",this.$onChange),(this.doc=F).on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},C.prototype.getDocument=function(){return this.doc},C.prototype.$resetRowCache=function(F){var U;F?(U=this.$docRowCache.length,(F=this.$getRowCacheIndex(this.$docRowCache,F)+1)<U&&(this.$docRowCache.splice(F,U),this.$screenRowCache.splice(F,U))):(this.$docRowCache=[],this.$screenRowCache=[])},C.prototype.$getRowCacheIndex=function(F,U){for(var Y=0,W=F.length-1;Y<=W;){var ne=Y+W>>1,fe=F[ne];if(fe<U)Y=1+ne;else{if(!(U<fe))return ne;W=ne-1}}return Y-1},C.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},C.prototype.onChangeFold=function(F){this.$resetRowCache((F=F.data).start.row)},C.prototype.onChange=function(F){this.$modified=!0,this.$bidiHandler.onChange(F),this.$resetRowCache(F.start.row);var U=this.$updateInternalDataOnChange(F);!this.$fromUndo&&this.$undoManager&&(U&&U.length&&(this.$undoManager.add({action:"removeFolds",folds:U},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(F,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(F),this._signal("change",F)},C.prototype.setValue=function(F){this.doc.setValue(F),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},C.prototype.toString=function(){return this.doc.getValue()},C.prototype.getSelection=function(){return this.selection},C.prototype.getState=function(F){return this.bgTokenizer.getState(F)},C.prototype.getTokens=function(F){return this.bgTokenizer.getTokens(F)},C.prototype.getTokenAt=function(F,U){var Y=this.bgTokenizer.getTokens(F),ne=0;if(null==U){var W=Y.length-1;ne=this.getLine(F).length}else for(W=0;W<Y.length&&!(U<=(ne+=Y[W].value.length));W++);return(F=Y[W])?(F.index=W,F.start=ne-F.value.length,F):null},C.prototype.setUndoManager=function(F){var U;this.$undoManager=F,this.$informUndoManager&&this.$informUndoManager.cancel(),F?(F.addSession(U=this),this.$syncInformUndoManager=function(){U.$informUndoManager.cancel(),U.mergeUndoDeltas=!1},this.$informUndoManager=T.delayedCall(this.$syncInformUndoManager)):this.$syncInformUndoManager=function(){}},C.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},C.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},C.prototype.getTabString=function(){return this.getUseSoftTabs()?T.stringRepeat(" ",this.getTabSize()):"\t"},C.prototype.setUseSoftTabs=function(F){this.setOption("useSoftTabs",F)},C.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},C.prototype.setTabSize=function(F){this.setOption("tabSize",F)},C.prototype.getTabSize=function(){return this.$tabSize},C.prototype.isTabStop=function(F){return this.$useSoftTabs&&F.column%this.$tabSize==0},C.prototype.setNavigateWithinSoftTabs=function(F){this.setOption("navigateWithinSoftTabs",F)},C.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},C.prototype.setOverwrite=function(F){this.setOption("overwrite",F)},C.prototype.getOverwrite=function(){return this.$overwrite},C.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},C.prototype.addGutterDecoration=function(F,U){this.$decorations[F]||(this.$decorations[F]=""),this.$decorations[F]+=" "+U,this._signal("changeBreakpoint",{})},C.prototype.removeGutterDecoration=function(F,U){this.$decorations[F]=(this.$decorations[F]||"").replace(" "+U,""),this._signal("changeBreakpoint",{})},C.prototype.getBreakpoints=function(){return this.$breakpoints},C.prototype.setBreakpoints=function(F){this.$breakpoints=[];for(var U=0;U<F.length;U++)this.$breakpoints[F[U]]="ace_breakpoint";this._signal("changeBreakpoint",{})},C.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},C.prototype.setBreakpoint=function(F,U){(U=void 0===U?"ace_breakpoint":U)?this.$breakpoints[F]=U:delete this.$breakpoints[F],this._signal("changeBreakpoint",{})},C.prototype.clearBreakpoint=function(F){delete this.$breakpoints[F],this._signal("changeBreakpoint",{})},C.prototype.addMarker=function(fe,U,Y,W){var ne=this.$markerId++;return fe={range:fe,type:Y||"line",renderer:"function"==typeof Y?Y:null,clazz:U,inFront:!!W,id:ne},W?(this.$frontMarkers[ne]=fe,this._signal("changeFrontMarker")):(this.$backMarkers[ne]=fe,this._signal("changeBackMarker")),ne},C.prototype.addDynamicMarker=function(F,U){var Y;if(F.update)return Y=this.$markerId++,F.id=Y,F.inFront=!!U,U?(this.$frontMarkers[Y]=F,this._signal("changeFrontMarker")):(this.$backMarkers[Y]=F,this._signal("changeBackMarker")),F},C.prototype.removeMarker=function(F){var U=this.$frontMarkers[F]||this.$backMarkers[F];U&&(delete(U.inFront?this.$frontMarkers:this.$backMarkers)[F],this._signal(U.inFront?"changeFrontMarker":"changeBackMarker"))},C.prototype.getMarkers=function(F){return F?this.$frontMarkers:this.$backMarkers},C.prototype.highlight=function(F){var U;this.$searchHighlight||(U=new f(null,"ace_selected-word","text"),this.$searchHighlight=this.addDynamicMarker(U)),this.$searchHighlight.setRegexp(F)},C.prototype.highlightLines=function(F,U,Y,W){return"number"!=typeof U&&(Y=U,U=F),Y=Y||"ace_step",(F=new l(F,0,U,1/0)).id=this.addMarker(F,Y,"fullLine",W),F},C.prototype.setAnnotations=function(F){this.$annotations=F,this._signal("changeAnnotation",{})},C.prototype.getAnnotations=function(){return this.$annotations||[]},C.prototype.clearAnnotations=function(){this.setAnnotations([])},C.prototype.$detectNewLine=function(F){F=F.match(/^.*?(\r?\n)/m),this.$autoNewLine=F?F[1]:"\n"},C.prototype.getWordRange=function(F,U){var Y,W=this.getLine(F),ne=!1,fe=(Y=(ne=(ne=0<U?!!W.charAt(U-1).match(this.tokenRe):ne)||!!W.charAt(U).match(this.tokenRe))?this.tokenRe:/^\s+$/.test(W.slice(U-1,U+1))?/\s/:this.nonTokenRe,U);if(0<fe){for(;0<=--fe&&W.charAt(fe).match(Y););fe++}for(var he=U;he<W.length&&W.charAt(he).match(Y);)he++;return new l(F,fe,F,he)},C.prototype.getAWordRange=function(F,U){for(var Y=this.getWordRange(F,U),W=this.getLine(Y.end.row);W.charAt(Y.end.column).match(/[ \t]/);)Y.end.column+=1;return Y},C.prototype.setNewLineMode=function(F){this.doc.setNewLineMode(F)},C.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},C.prototype.setUseWorker=function(F){this.setOption("useWorker",F)},C.prototype.getUseWorker=function(){return this.$useWorker},C.prototype.onReloadTokenizer=function(F){this.bgTokenizer.start(F.data.first),this._signal("tokenizerUpdate",F)},C.prototype.setMode=function(F,U){if(F&&"object"==typeof F){if(F.getTokenizer)return this.$onChangeMode(F);var Y=F,W=F.path}else W=F||"ace/mode/text";this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new u),this.$modes[W]&&!Y?(this.$onChangeMode(this.$modes[W]),U&&U()):(this.$modeId=W,p.loadModule(["mode",W],function(ne){if(this.$modeId!==W)return U&&U();this.$modes[W]&&!Y?this.$onChangeMode(this.$modes[W]):ne&&ne.Mode&&(ne=new ne.Mode(Y),Y||((this.$modes[W]=ne).$id=W),this.$onChangeMode(ne)),U&&U()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0))},C.prototype.$onChangeMode=function(F,U){var Y,W,ne;U||(this.$modeId=F.$id),this.$mode===F||(Y=this.$mode,this.$mode=F,this.$stopWorker(),this.$useWorker&&this.$startWorker(),void 0!==(W=F.getTokenizer()).on&&(ne=this.onReloadTokenizer.bind(this),W.on("update",ne)),this.bgTokenizer.setTokenizer(W),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=F.tokenRe,this.nonTokenRe=F.nonTokenRe,U)||(F.attachToSession&&F.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(F.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:Y,mode:F}))},C.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},C.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(F){p.warn("Could not load worker",F),this.$worker=null}},C.prototype.getMode=function(){return this.$mode},C.prototype.setScrollTop=function(F){this.$scrollTop===F||isNaN(F)||(this.$scrollTop=F,this._signal("changeScrollTop",F))},C.prototype.getScrollTop=function(){return this.$scrollTop},C.prototype.setScrollLeft=function(F){this.$scrollLeft===F||isNaN(F)||(this.$scrollLeft=F,this._signal("changeScrollLeft",F))},C.prototype.getScrollLeft=function(){return this.$scrollLeft},C.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},C.prototype.getLineWidgetMaxWidth=function(){var F;return null!=this.lineWidgetsWidth?this.lineWidgetsWidth:(F=0,this.lineWidgets.forEach(function(U){U&&U.screenWidth>F&&(F=U.screenWidth)}),this.lineWidgetWidth=F)},C.prototype.$computeWidth=function(F){if(this.$modified||F){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var U=this.doc.getAllLines(),Y=this.$rowLengthCache,W=0,ne=0,fe=this.$foldData[ne],he=fe?fe.start.row:1/0,Ae=U.length,ke=0;ke<Ae;ke++){if(he<ke){if(Ae<=(ke=fe.end.row+1))break;he=(fe=this.$foldData[ne++])?fe.start.row:1/0}null==Y[ke]&&(Y[ke]=this.$getStringScreenWidth(U[ke])[0]),Y[ke]>W&&(W=Y[ke])}this.screenWidth=W}},C.prototype.getLine=function(F){return this.doc.getLine(F)},C.prototype.getLines=function(F,U){return this.doc.getLines(F,U)},C.prototype.getLength=function(){return this.doc.getLength()},C.prototype.getTextRange=function(F){return this.doc.getTextRange(F||this.selection.getRange())},C.prototype.insert=function(F,U){return this.doc.insert(F,U)},C.prototype.remove=function(F){return this.doc.remove(F)},C.prototype.removeFullLines=function(F,U){return this.doc.removeFullLines(F,U)},C.prototype.undoChanges=function(F,U){if(F.length){this.$fromUndo=!0;for(var Y=F.length-1;-1!=Y;Y--){var W=F[Y];"insert"==W.action||"remove"==W.action?this.doc.revertDelta(W):W.folds&&this.addFolds(W.folds)}!U&&this.$undoSelect&&(F.selectionBefore?this.selection.fromJSON(F.selectionBefore):this.selection.setRange(this.$getUndoSelection(F,!0))),this.$fromUndo=!1}},C.prototype.redoChanges=function(F,U){if(F.length){this.$fromUndo=!0;for(var Y=0;Y<F.length;Y++){var W=F[Y];"insert"!=W.action&&"remove"!=W.action||this.doc.$safeApplyDelta(W)}!U&&this.$undoSelect&&(F.selectionAfter?this.selection.fromJSON(F.selectionAfter):this.selection.setRange(this.$getUndoSelection(F,!1))),this.$fromUndo=!1}},C.prototype.setUndoSelect=function(F){this.$undoSelect=F},C.prototype.$getUndoSelection=function(F,U){function Y(Ae){return U?"insert"!==Ae.action:"insert"===Ae.action}for(var W,ne,fe=0;fe<F.length;fe++){var he=F[fe];he.start&&(W?Y(he)?(-1==W.compare((ne=he.start).row,ne.column)&&W.setStart(ne),1==W.compare((ne=he.end).row,ne.column)&&W.setEnd(ne)):-1==W.compare((ne=he.start).row,ne.column)&&(W=l.fromPoints(he.start,he.start)):W=Y(he)?l.fromPoints(he.start,he.end):l.fromPoints(he.start,he.start))}return W},C.prototype.replace=function(F,U){return this.doc.replace(F,U)},C.prototype.moveText=function(F,ke,Y){var W,ne,fe,he=this.getTextRange(F),Ae=this.getFoldsInRange(F);return ke=l.fromPoints(ke,ke),Y||(this.remove(F),(fe=(ne=F.start.row-F.end.row)?-F.end.column:F.start.column-F.end.column)&&(ke.start.row==F.end.row&&ke.start.column>F.end.column&&(ke.start.column+=fe),ke.end.row==F.end.row)&&ke.end.column>F.end.column&&(ke.end.column+=fe),ne&&ke.start.row>=F.end.row&&(ke.start.row+=ne,ke.end.row+=ne)),ke.end=this.insert(ke.start,he),Ae.length&&(ne=(Y=ke.start).row-(W=F.start).row,fe=Y.column-W.column,this.addFolds(Ae.map(function(xe){return(xe=xe.clone()).start.row==W.row&&(xe.start.column+=fe),xe.end.row==W.row&&(xe.end.column+=fe),xe.start.row+=ne,xe.end.row+=ne,xe}))),ke},C.prototype.indentRows=function(F,U,Y){Y=Y.replace(/\t/g,this.getTabString());for(var W=F;W<=U;W++)this.doc.insertInLine({row:W,column:0},Y)},C.prototype.outdentRows=function(F){for(var U=F.collapseRows(),Y=new l(0,0,0,0),W=this.getTabSize(),ne=U.start.row;ne<=U.end.row;++ne){var fe=this.getLine(ne);Y.start.row=ne,Y.end.row=ne;for(var he=0;he<W&&" "==fe.charAt(he);++he);he<W&&"\t"==fe.charAt(he)?(Y.start.column=he,Y.end.column=he+1):(Y.start.column=0,Y.end.column=he),this.remove(Y)}},C.prototype.$moveLines=function(F,U,fe){if(F=this.getRowFoldStart(F),U=this.getRowFoldEnd(U),fe<0){if((ne=this.getRowFoldStart(F+fe))<0)return 0;var W=ne-F}else if(0<fe){if((ne=this.getRowFoldEnd(U+fe))>this.doc.getLength()-1)return 0;W=ne-U}else F=this.$clipRowToDocument(F),W=(U=this.$clipRowToDocument(U))-F+1;var ne=new l(F,0,U,Number.MAX_VALUE);return ne=this.getFoldsInRange(ne).map(function(he){return(he=he.clone()).start.row+=W,he.end.row+=W,he}),fe=0==fe?this.doc.getLines(F,U):this.doc.removeFullLines(F,U),this.doc.insertFullLines(F+W,fe),ne.length&&this.addFolds(ne),W},C.prototype.moveLinesUp=function(F,U){return this.$moveLines(F,U,-1)},C.prototype.moveLinesDown=function(F,U){return this.$moveLines(F,U,1)},C.prototype.duplicateLines=function(F,U){return this.$moveLines(F,U,0)},C.prototype.$clipRowToDocument=function(F){return Math.max(0,Math.min(F,this.doc.getLength()-1))},C.prototype.$clipColumnToRow=function(F,U){return U<0?0:Math.min(this.doc.getLine(F).length,U)},C.prototype.$clipPositionToDocument=function(F,U){var Y;return U=Math.max(0,U),U=F<0?F=0:(Y=this.doc.getLength())<=F?this.doc.getLine(F=Y-1).length:Math.min(this.doc.getLine(F).length,U),{row:F,column:U}},C.prototype.$clipRangeToDocument=function(F){F.start.row<0?(F.start.row=0,F.start.column=0):F.start.column=this.$clipColumnToRow(F.start.row,F.start.column);var U=this.doc.getLength()-1;return F.end.row>U?(F.end.row=U,F.end.column=this.doc.getLine(U).length):F.end.column=this.$clipColumnToRow(F.end.row,F.end.column),F},C.prototype.setUseWrapMode=function(F){F!=this.$useWrapMode&&(this.$useWrapMode=F,this.$modified=!0,this.$resetRowCache(0),F&&(F=this.getLength(),this.$wrapData=Array(F),this.$updateWrapData(0,F-1)),this._signal("changeWrapMode"))},C.prototype.getUseWrapMode=function(){return this.$useWrapMode},C.prototype.setWrapLimitRange=function(F,U){this.$wrapLimitRange.min===F&&this.$wrapLimitRange.max===U||(this.$wrapLimitRange={min:F,max:U},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},C.prototype.adjustWrapLimit=function(F,W){var Y=this.$wrapLimitRange;return Y.max<0&&(Y={min:W,max:W}),(W=this.$constrainWrapLimit(F,Y.min,Y.max))!=this.$wrapLimit&&1<W&&(this.$wrapLimit=W,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},C.prototype.$constrainWrapLimit=function(F,U,Y){return U&&(F=Math.max(U,F)),Y?Math.min(Y,F):F},C.prototype.getWrapLimit=function(){return this.$wrapLimit},C.prototype.setWrapLimit=function(F){this.setWrapLimitRange(F,F)},C.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},C.prototype.$updateInternalDataOnChange=function(F){var me,U=this.$useWrapMode,Y=F.action,W=F.start,ne=F.end,fe=W.row,he=ne.row,Ae=he-fe,ke=null;if(this.$updating=!0,0!=Ae)if("remove"===Y){this[U?"$wrapData":"$rowLengthCache"].splice(fe,Ae);var xe=this.$foldData;ke=this.getFoldsInRange(F),this.removeFolds(ke);var Ee=0;for((me=this.getFoldLine(ne.row))&&(me.addRemoveChars(ne.row,ne.column,W.column-ne.column),me.shiftRow(-Ae),(ie=this.getFoldLine(fe))&&ie!==me&&(ie.merge(me),me=ie),Ee=xe.indexOf(me)+1);Ee<xe.length;Ee++)(me=xe[Ee]).start.row>=ne.row&&me.shiftRow(-Ae);he=fe}else{var ie=Array(Ae),de=(ie.unshift(fe,0),U?this.$wrapData:this.$rowLengthCache);for(de.splice.apply(de,ie),xe=this.$foldData,Ee=0,(me=this.getFoldLine(fe))&&(0==(de=me.range.compareInside(W.row,W.column))?(me=me.split(W.row,W.column))&&(me.shiftRow(Ae),me.addRemoveChars(he,0,ne.column-W.column)):-1==de&&(me.addRemoveChars(fe,0,ne.column-W.column),me.shiftRow(Ae)),Ee=xe.indexOf(me)+1);Ee<xe.length;Ee++)(me=xe[Ee]).start.row>=fe&&me.shiftRow(Ae)}else Ae=Math.abs(F.start.column-F.end.column),"remove"===Y&&(ke=this.getFoldsInRange(F),this.removeFolds(ke),Ae=-Ae),(me=this.getFoldLine(fe))&&me.addRemoveChars(fe,W.column,Ae);return U&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,U?this.$updateWrapData(fe,he):this.$updateRowLengthCache(fe,he),ke},C.prototype.$updateRowLengthCache=function(F,U,Y){this.$rowLengthCache[F]=null,this.$rowLengthCache[U]=null},C.prototype.$updateWrapData=function(F,U){var Y,W,ne=this.doc.getAllLines(),fe=this.getTabSize(),he=this.$wrapData,Ae=this.$wrapLimit,ke=F;for(U=Math.min(U,ne.length-1);ke<=U;)(W=this.getFoldLine(ke,W))?(Y=[],W.walk(function(xe,Ee,ie,de){var me;if(null!=xe){(me=this.$getDisplayTokens(xe,Y.length))[0]=N;for(var Ce=1;Ce<me.length;Ce++)me[Ce]=z}else me=this.$getDisplayTokens(ne[Ee].substring(de,ie),Y.length);Y=Y.concat(me)}.bind(this),W.end.row,ne[W.end.row].length+1),he[W.start.row]=this.$computeWrapSplits(Y,Ae,fe),ke=W.end.row+1):(Y=this.$getDisplayTokens(ne[ke]),he[ke]=this.$computeWrapSplits(Y,Ae,fe),ke++)},C.prototype.$computeWrapSplits=function(F,U,Y){if(0==F.length)return[];var W=[],ne=F.length,fe=0,he=0,Ae=this.$wrapAsCode,ke=this.$indentedSoftWrap,xe=U<=Math.max(2*Y,8)||!1===ke?0:Math.floor(U/2);function Ee(Ce){for(var re=Ce-fe,le=fe;le<Ce;le++){var ve=F[le];12!==ve&&2!==ve||--re}W.length||(ie=function(){var we=0;if(0===xe)return we;if(ke)for(var Pe=0;Pe<F.length;Pe++){var Ue=F[Pe];if(Ue==Q)we+=1;else if(Ue==ue)we+=Y;else if(Ue!=oe)break}return Ae&&!1!==ke&&(we+=Y),Math.min(we,xe)}(),W.indent=ie),W.push(he+=re),fe=Ce}for(var ie=0;U-ie<ne-fe;){var de=fe+U-ie;if(F[de-1]>=Q&&F[de]>=Q)Ee(de);else if(F[de]==N||F[de]==z){for(;de!=fe-1&&F[de]!=N;de--);if(!(fe<de)){for(de=fe+U;de<F.length&&F[de]==z;de++);if(de==F.length)break}Ee(de)}else{for(var me=Math.max(de-(U-(U>>2)),fe-1);me<de&&F[de]<N;)de--;if(Ae){for(;me<de&&F[de]<N;)de--;for(;me<de&&F[de]==K;)de--}else for(;me<de&&F[de]<Q;)de--;me<de?Ee(++de):(F[de=fe+U]==O&&de--,Ee(de-ie))}}return W},C.prototype.$getDisplayTokens=function(F,U){var Y,W=[];U=U||0;for(var ne=0;ne<F.length;ne++){var fe=F.charCodeAt(ne);if(9==fe){Y=this.getScreenTabSize(W.length+U),W.push(ue);for(var he=1;he<Y;he++)W.push(oe)}else 32==fe?W.push(Q):39<fe&&fe<48||57<fe&&fe<64?W.push(K):4352<=fe&&pe(fe)?W.push(S,O):W.push(S)}return W},C.prototype.$getStringScreenWidth=function(F,U,Y){if(0==U)return[0,0];var W,ne;for(null==U&&(U=1/0),Y=Y||0,ne=0;ne<F.length&&(9==(W=F.charCodeAt(ne))?Y+=this.getScreenTabSize(Y):4352<=W&&pe(W)?Y+=2:Y+=1,!(U<Y));ne++);return[Y,ne]},C.prototype.getRowLength=function(F){var U=1;return this.lineWidgets&&(U+=this.lineWidgets[F]&&this.lineWidgets[F].rowCount||0),this.$useWrapMode&&this.$wrapData[F]?this.$wrapData[F].length+U:U},C.prototype.getRowLineCount=function(F){return this.$useWrapMode&&this.$wrapData[F]?this.$wrapData[F].length+1:1},C.prototype.getRowWrapIndent=function(F){var U;return this.$useWrapMode&&(F=this.screenToDocumentPosition(F,Number.MAX_VALUE),(U=this.$wrapData[F.row]).length)&&U[0]<F.column?U.indent:0},C.prototype.getScreenLastRowColumn=function(F){return F=this.screenToDocumentPosition(F,Number.MAX_VALUE),this.documentToScreenColumn(F.row,F.column)},C.prototype.getDocumentLastRowColumn=function(F,U){return F=this.documentToScreenRow(F,U),this.getScreenLastRowColumn(F)},C.prototype.getDocumentLastRowColumnPosition=function(F,U){return F=this.documentToScreenRow(F,U),this.screenToDocumentPosition(F,Number.MAX_VALUE/10)},C.prototype.getRowSplitData=function(F){if(this.$useWrapMode)return this.$wrapData[F]},C.prototype.getScreenTabSize=function(F){return this.$tabSize-(F%this.$tabSize|0)},C.prototype.screenToDocumentRow=function(F,U){return this.screenToDocumentPosition(F,U).row},C.prototype.screenToDocumentColumn=function(F,U){return this.screenToDocumentPosition(F,U).column},C.prototype.screenToDocumentPosition=function(F,U,Y){if(F<0)return{row:0,column:0};for(var W,ne,fe,he=0,Ae=0,ke=0,xe=0,Ee=this.$screenRowCache,ie=this.$getRowCacheIndex(Ee,F),de=Ee.length,me=(fe=de&&0<=ie?(ke=Ee[ie],he=this.$docRowCache[ie],F>Ee[de-1]):!de,this.getLength()-1),Ce=this.getNextFoldLine(he),re=Ce?Ce.start.row:1/0;ke<=F&&!(F<ke+(xe=this.getRowLength(he))||me<=he);)ke+=xe,re<++he&&(re=(Ce=this.getNextFoldLine(he=Ce.end.row+1,Ce))?Ce.start.row:1/0),fe&&(this.$docRowCache.push(he),this.$screenRowCache.push(ke));if(Ce&&Ce.start.row<=he)W=this.getFoldDisplayLine(Ce),he=Ce.start.row;else{if(ke+xe<=F||me<he)return{row:me,column:this.getLine(me).length};W=this.getLine(he),Ce=null}return ie=0,Ee=Math.floor(F-ke),this.$useWrapMode&&(de=this.$wrapData[he])&&(ne=de[Ee],0<Ee)&&de.length&&(ie=de.indent,W=W.substring(Ae=de[Ee-1]||de[de.length-1])),void 0!==Y&&this.$bidiHandler.isBidiRow(ke+Ee,he,Ee)&&(U=this.$bidiHandler.offsetToCol(Y)),Ae+=this.$getStringScreenWidth(W,U-ie)[1],this.$useWrapMode&&ne<=Ae&&(Ae=ne-1),Ce?Ce.idxToPosition(Ae):{row:he,column:Ae}},C.prototype.documentToScreenPosition=function(F,U){var Y=(F=(ie=void 0===U?this.$clipPositionToDocument(F.row,F.column):this.$clipPositionToDocument(F,U)).row,U=ie.column,0),ie=null;(he=this.getFoldAt(F,U,1))&&(F=he.start.row,U=he.start.column);for(var W,ne,fe=0,he=this.$docRowCache,de=this.$getRowCacheIndex(he,F),Ae=he.length,ke=(ne=Ae&&0<=de?(fe=he[de],Y=this.$screenRowCache[de],F>he[Ae-1]):!Ae,this.getNextFoldLine(fe)),xe=ke?ke.start.row:1/0;fe<F;){if(xe<=fe){if(F<(W=ke.end.row+1))break;xe=(ke=this.getNextFoldLine(W,ke))?ke.start.row:1/0}else W=fe+1;Y+=this.getRowLength(fe),fe=W,ne&&(this.$docRowCache.push(fe),this.$screenRowCache.push(Y))}var Ee="";if(ie=ke&&xe<=fe?(Ee=this.getFoldDisplayLine(ke,F,U),ke.start.row):(Ee=this.getLine(F).substring(0,U),F),de=0,this.$useWrapMode){var me=this.$wrapData[ie];if(me){for(var Ce=0;Ee.length>=me[Ce];)Y++,Ce++;Ee=Ee.substring(me[Ce-1]||0,Ee.length),de=0<Ce?me.indent:0}}return this.lineWidgets&&this.lineWidgets[fe]&&this.lineWidgets[fe].rowsAbove&&(Y+=this.lineWidgets[fe].rowsAbove),{row:Y,column:de+this.$getStringScreenWidth(Ee)[0]}},C.prototype.documentToScreenColumn=function(F,U){return this.documentToScreenPosition(F,U).column},C.prototype.documentToScreenRow=function(F,U){return this.documentToScreenPosition(F,U).row},C.prototype.getScreenLength=function(){var F=0,U=null;if(this.$useWrapMode)for(var Y=this.$wrapData.length,W=0,ne=0,fe=(U=this.$foldData[ne++])?U.start.row:1/0;W<Y;){var he=this.$wrapData[W];F+=he?he.length+1:1,fe<++W&&(W=U.end.row+1,fe=(U=this.$foldData[ne++])?U.start.row:1/0)}else{F=this.getLength();var Ae=this.$foldData;for(ne=0;ne<Ae.length;ne++)F-=(U=Ae[ne]).end.row-U.start.row}return this.lineWidgets&&(F+=this.$getWidgetScreenLength()),F},C.prototype.$setFontMetrics=function(F){this.$enableVarChar&&(this.$getStringScreenWidth=function(U,Y,W){if(0===Y)return[0,0];var ne,fe;for(Y=Y||1/0,W=W||0,fe=0;fe<U.length&&!(Y<(W+="\t"===(ne=U.charAt(fe))?this.getScreenTabSize(W):F.getCharacterWidth(ne)));fe++);return[W,fe]})},C.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},C);function C(F,U){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++C.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new g((new u).getTokenizer(),this);var Y=this;this.bgTokenizer.on("update",function(W){Y._signal("tokenizerUpdate",W)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof F&&F.getLine||(F=new d(F)),this.setDocument(F),this.selection=new h(this),this.$bidiHandler=new w(this),p.resetOptions(this),this.setMode(U),p._signal("session",this),this.destroyed=!1}v.$uid=0,v.prototype.$modes=p.$modes,v.prototype.getValue=v.prototype.toString,v.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},v.prototype.$overwrite=!1,v.prototype.$mode=null,v.prototype.$modeId=null,v.prototype.$scrollTop=0,v.prototype.$scrollLeft=0,v.prototype.$wrapLimit=80,v.prototype.$useWrapMode=!1,v.prototype.$wrapLimitRange={min:null,max:null},v.prototype.lineWidgets=null,v.prototype.isFullWidth=pe,I.implement(v.prototype,y);var S=1,O=2,N=3,z=4,K=9,Q=10,ue=11,oe=12;function pe(F){return!(F<4352)&&(4352<=F&&F<=4447||4515<=F&&F<=4519||4602<=F&&F<=4607||9001<=F&&F<=9002||11904<=F&&F<=11929||11931<=F&&F<=12019||12032<=F&&F<=12245||12272<=F&&F<=12283||12288<=F&&F<=12350||12353<=F&&F<=12438||12441<=F&&F<=12543||12549<=F&&F<=12589||12593<=F&&F<=12686||12688<=F&&F<=12730||12736<=F&&F<=12771||12784<=F&&F<=12830||12832<=F&&F<=12871||12880<=F&&F<=13054||13056<=F&&F<=19903||19968<=F&&F<=42124||42128<=F&&F<=42182||43360<=F&&F<=43388||44032<=F&&F<=55203||55216<=F&&F<=55238||55243<=F&&F<=55291||63744<=F&&F<=64255||65040<=F&&F<=65049||65072<=F&&F<=65106||65108<=F&&F<=65126||65128<=F&&F<=65131||65281<=F&&F<=65376||65504<=F&&F<=65510)}_("./edit_session/folding").Folding.call(v.prototype),_("./edit_session/bracket_match").BracketMatch.call(v.prototype),p.defineOptions(v.prototype,"session",{wrap:{set:function(F){F&&"off"!=F?"free"==F?F=!0:"printMargin"==F?F=-1:"string"==typeof F&&(F=parseInt(F,10)||!1):F=!1,this.$wrap!=F&&((this.$wrap=F)?(this.setWrapLimitRange(F="number"==typeof F?F:null,F),this.setUseWrapMode(!0)):this.setUseWrapMode(!1))},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(F){(F="auto"==F?"text"!=this.$mode.type:"text"!=F)!=this.$wrapAsCode&&(this.$wrapAsCode=F,this.$useWrapMode)&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(F){this.$useWorker=F,this.$stopWorker(),F&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(F){0<(F=parseInt(F))&&this.$tabSize!==F&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=F,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(F){this.setFoldStyle(F)},handlesSet:!0},overwrite:{set:function(F){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(F){this.doc.setNewLineMode(F)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(F){this.setMode(F)},get:function(){return this.$modeId},handlesSet:!0}}),m.EditSession=v}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(_,m,D){"use strict";var I=_("./lib/lang"),T=_("./lib/oop"),w=_("./range").Range;function p(){this.$options={}}p.prototype.set=function(y){return T.mixin(this.$options,y),this},p.prototype.getOptions=function(){return I.copyObject(this.$options)},p.prototype.setOptions=function(y){this.$options=y},p.prototype.find=function(l){var h,u=this.$options;return!!(l=this.$matchIterator(l,u))&&(h=null,l.forEach(function(d,g,f,v){return h=new w(d,g,f,v),!(g==v&&u.start&&u.start.start&&0!=u.skipCurrent&&h.isEqual(u.start)&&(h=null,1))}),h)},p.prototype.findAll=function(y){var h=this.$options;if(!h.needle)return[];this.$assembleRegExp(h);var u=h.range,l=u?y.getLines(u.start.row,u.end.row):y.doc.getAllLines(),d=[],g=h.re;if(h.$isMultiLine){var f,v=g.length,C=l.length-v;e:for(var S=g.offset||0;S<=C;S++){for(var O=0;O<v;O++)if(-1==l[S+O].search(g[O]))continue e;var z=l[S+v-1],N=(N=l[S]).length-N.match(g[0])[0].length;z=z.match(g[v-1])[0].length,f&&f.end.row===S&&f.end.column>N||(d.push(f=new w(S,N,S+v-1,z)),2<v&&(S=S+v-2))}}else for(var K=0;K<l.length;K++){var Q=I.getMatchOffsets(l[K],g);for(O=0;O<Q.length;O++){var ue=Q[O];d.push(new w(K,ue.offset,K,ue.offset+ue.length))}}if(u){var oe=u.start.column,pe=u.end.column;for(K=0,O=d.length-1;K<O&&d[K].start.column<oe&&0==d[K].start.row;)K++;for(var F=u.end.row-u.start.row;K<O&&d[O].end.column>pe&&d[O].end.row==F;)O--;for(d=d.slice(K,O+1),K=0,O=d.length;K<O;K++)d[K].start.row+=u.start.row,d[K].end.row+=u.start.row}return d},p.prototype.replace=function(y,h){var u=this.$options,l=this.$assembleRegExp(u);if(u.$isMultiLine)return h;if(l){var d=l.exec(y);if(!d||d[0].length!=y.length)return null;if(h=y.replace(l,h),u.preserveCase){h=h.split("");for(var g=Math.min(y.length,y.length);g--;){var f=y[g];h[g]=f&&f.toLowerCase()!=f?h[g].toUpperCase():h[g].toLowerCase()}h=h.join("")}return h}},p.prototype.$assembleRegExp=function(y,h){if(y.needle instanceof RegExp)return y.re=y.needle;var u,l=y.needle;if(!y.needle)return y.re=!1;function d(v){return/\w/.test(v)||u.regExp?"\\b":""}y.regExp||(l=I.escapeRegExp(l)),y.wholeWord&&(u=y,l=d((g=l)[0])+g+d(g[g.length-1]));var g=y.caseSensitive?"gm":"gmi";if(y.$isMultiLine=!h&&/[\n\r]/.test(l),y.$isMultiLine)return y.re=this.$assembleMultilineRegExp(l,g);try{var f=new RegExp(l,g)}catch(v){f=!1}return y.re=f},p.prototype.$assembleMultilineRegExp=function(y,h){for(var u=y.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),l=[],d=0;d<u.length;d++)try{l.push(new RegExp(u[d],h))}catch(g){return!1}return l},p.prototype.$matchIterator=function(y,h){var u,l,d,g,f,v,C,S,O=this.$assembleRegExp(h);return!!O&&(u=1==h.backwards,l=0!=h.skipCurrent,d=h.range,(g=(g=h.start)||(d?d[u?"end":"start"]:y.selection.getRange())).start&&(g=g[l!=u?"end":"start"]),f=d?d.start.row:0,v=d?d.end.row:y.getLength()-1,S=h.$isMultiLine?(C=O.length,function(N,z,K){var Q=u?N-C+1:N;if(!(Q<0||Q+C>y.getLength())){var ue=y.getLine(Q);if(N=ue.search(O[0]),!(!u&&N<z||-1===N)){for(var oe=1;oe<C;oe++)if(-1==(ue=y.getLine(Q+oe)).search(O[oe]))return;var pe=ue.match(O[C-1])[0].length;if(!(u&&z<pe))return!!K(Q,N,Q+C-1,pe)||void 0}}}):u?function(N,z,K){var Q,ue=y.getLine(N),oe=[];for(O.lastIndex=0;Q=O.exec(ue);){var pe=Q[0].length,F=Q.index;if(!pe){if(F>=ue.length)break;O.lastIndex=F+=1}if(Q.index+pe>z)break;oe.push(Q.index,pe)}for(var U=oe.length-1;0<=U;U-=2){var Y=oe[U-1];if(K(N,Y,N,Y+(pe=oe[U])))return!0}}:function(N,z,K){var Q=y.getLine(N);for(O.lastIndex=z;ue=O.exec(Q);){var ue,oe=ue[0].length;if(K(N,ue=ue.index,N,ue+oe))return!0;if(!oe&&(O.lastIndex=ue+=1,ue>=Q.length))return!1}},{forEach:u?function(N){var z=g.row;if(!S(z,g.column,N)){for(z--;f<=z;z--)if(S(z,Number.MAX_VALUE,N))return;if(0!=h.wrap)for(z=v,f=g.row;f<=z;z--)if(S(z,Number.MAX_VALUE,N))return}}:function(N){var z=g.row;if(!S(z,g.column,N)){for(z+=1;z<=v;z++)if(S(z,0,N))return;if(0!=h.wrap)for(z=f,v=g.row;z<=v;z++)if(S(z,0,N))return}}})},m.Search=p}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(_,m,D){"use strict";var I=_("../lib/keys"),T=_("../lib/useragent"),w=I.KEY_MODS;function p(h,u){this.platform=u||(T.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(h),this.$singleCommand=!0}function y(h,u){p.call(this,h,u),this.$singleCommand=!1}y.prototype=p.prototype,function(){function h(u){return"object"==typeof u&&u.bindKey&&u.bindKey.position||(u.isDefault?-100:0)}this.addCommand=function(u){this.commands[u.name]&&this.removeCommand(u),(this.commands[u.name]=u).bindKey&&this._buildKeyHash(u)},this.removeCommand=function(u,l){var d,g=u&&("string"==typeof u?u:u.name),f=(u=this.commands[g],l||delete this.commands[g],this.commandKeyBinding);for(d in f){var v,C=f[d];C==u?delete f[d]:Array.isArray(C)&&-1!=(v=C.indexOf(u))&&(C.splice(v,1),1==C.length)&&(f[d]=C[0])}},this.bindKey=function(u,l,d){if("object"==typeof u&&u&&(null==d&&(d=u.position),u=u[this.platform]),u)return"function"==typeof l?this.addCommand({exec:l,bindKey:u,name:l.name||u}):void u.split("|").forEach(function(C){var f="",v=(-1!=C.indexOf(" ")&&(C=(v=C.split(/\s+/)).pop(),v.forEach(function(S){S=this.parseKeys(S),this._addCommandToBinding(f+=(f?" ":"")+(S=w[S.hashId]+S.key),"chainKeys")},this),f+=" "),this.parseKeys(C));this._addCommandToBinding(f+(C=w[v.hashId]+v.key),l,d)},this)},this._addCommandToBinding=function(u,l,d){var g=this.commandKeyBinding;if(l)if(!g[u]||this.$singleCommand)g[u]=l;else{Array.isArray(g[u])?-1!=(v=g[u].indexOf(l))&&g[u].splice(v,1):g[u]=[g[u]],"number"!=typeof d&&(d=h(l));for(var f=g[u],v=0;v<f.length&&!(d<h(f[v]));v++);f.splice(v,0,l)}else delete g[u]},this.addCommands=function(u){u&&Object.keys(u).forEach(function(l){var d=u[l];if(d){if("string"==typeof d)return this.bindKey(d,l);"object"==typeof(d="function"==typeof d?{exec:d}:d)&&(d.name||(d.name=l),this.addCommand(d))}},this)},this.removeCommands=function(u){Object.keys(u).forEach(function(l){this.removeCommand(u[l])},this)},this.bindKeys=function(u){Object.keys(u).forEach(function(l){this.bindKey(l,u[l])},this)},this._buildKeyHash=function(u){this.bindKey(u.bindKey,u)},this.parseKeys=function(u){var l=u.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(S){return S}),d=l.pop(),g=I[d];if(I.FUNCTION_KEYS[g])d=I.FUNCTION_KEYS[g].toLowerCase();else{if(!l.length)return{key:d,hashId:-1};if(1==l.length&&"shift"==l[0])return{key:d.toUpperCase(),hashId:-1}}for(var f=0,v=l.length;v--;){var C=I.KEY_MODS[l[v]];if(null==C)return"undefined"!=typeof console&&console.error("invalid modifier "+l[v]+" in "+u),!1;f|=C}return{key:d,hashId:f}},this.findKeyCommand=function(u,l){return this.commandKeyBinding[u=w[u]+l]},this.handleKeyboard=function(u,l,d,g){var f,v;if(!(g<0))return v=this.commandKeyBinding[f=w[l]+d],u.$keyChain&&(u.$keyChain+=" "+f,v=this.commandKeyBinding[u.$keyChain]||v),!v||"chainKeys"!=v&&"chainKeys"!=v[v.length-1]?(u.$keyChain&&(l&&4!=l||1!=d.length?(-1==l||0<g)&&(u.$keyChain=""):u.$keyChain=u.$keyChain.slice(0,-f.length-1)),{command:v}):(u.$keyChain=u.$keyChain||f,{command:"null"})},this.getStatusText=function(u,l){return l.$keyChain||""}}.call(p.prototype),m.HashHandler=p,m.MultiHashHandler=y}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(y,m,D){"use strict";var I,T,h=this&&this.__extends||(I=function(l,d){return(I=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(g,f){g.__proto__=f}:function(g,f){for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(g[v]=f[v])}))(l,d)},function(l,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function g(){this.constructor=l}I(l,d),l.prototype=null===d?Object.create(d):(g.prototype=d.prototype,new g)}),w=y("../lib/oop"),p=y("../keyboard/hash_handler").MultiHashHandler;function u(l,d){return(d=T.call(this,d,l)||this).byName=d.commands,d.setDefaultHandler("exec",function(g){return g.args?g.command.exec(g.editor,g.args,g.event,!1):g.command.exec(g.editor,{},g.event,!0)}),d}y=y("../lib/event_emitter").EventEmitter,h(u,T=p),u.prototype.exec=function(l,d,g){if(Array.isArray(l)){for(var f=l.length;f--;)if(this.exec(l[f],d,g))return!0;return!1}var v;return!!(l="string"==typeof l?this.commands[l]:l)&&!(d&&d.$readOnly&&!l.readOnly||0!=this.$checkCommandState&&l.isAvailable&&!l.isAvailable(d)||((v={editor:d,command:l,args:g}).returnValue=this._emit("exec",v),this._signal("afterExec",v),!1===v.returnValue))},u.prototype.toggleRecording=function(l){if(!this.$inReplay)return l&&l._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(d){this.macro.push([d.command,d.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},u.prototype.replay=function(l){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(l);try{this.$inReplay=!0,this.macro.forEach(function(d){"string"==typeof d?this.exec(d,l):this.exec(d[0],l,d[1])},this)}finally{this.$inReplay=!1}}},u.prototype.trimMacro=function(l){return l.map(function(d){return"string"!=typeof d[0]&&(d[0]=d[0].name),d[1]?d:d[0]})},w.implement((h=u).prototype,y),m.CommandManager=h}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(_,m,D){"use strict";var I=_("../lib/lang"),T=_("../config"),w=_("../range").Range;function p(h,u){return{win:h,mac:u}}m.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:p("Ctrl-,","Command-,"),exec:function(h){T.loadModule("ace/ext/settings_menu",function(u){u.init(h),h.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:p("Alt-E","F4"),exec:function(h){T.loadModule("ace/ext/error_marker",function(u){u.showErrorMarker(h,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:p("Alt-Shift-E","Shift-F4"),exec:function(h){T.loadModule("ace/ext/error_marker",function(u){u.showErrorMarker(h,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:p("Ctrl-A","Command-A"),exec:function(h){h.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:p(null,"Ctrl-L"),exec:function(h){h.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:p("Ctrl-L","Command-L"),exec:function(h,u){"number"!=typeof u||isNaN(u)||h.gotoLine(u),h.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:p("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(h){h.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:p("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(h){h.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:p("F2","F2"),exec:function(h){h.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:p("Alt-F2","Alt-F2"),exec:function(h){h.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:p(null,"Ctrl-Command-Option-0"),exec:function(h){h.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:p(null,"Ctrl-Command-Option-0"),exec:function(h){h.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:p("Alt-0","Command-Option-0"),exec:function(h){h.session.foldAll(),h.session.unfold(h.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:p("Alt-Shift-0","Command-Option-Shift-0"),exec:function(h){h.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:p("Ctrl-K","Command-G"),exec:function(h){h.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:p("Ctrl-Shift-K","Command-Shift-G"),exec:function(h){h.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:p("Alt-K","Ctrl-G"),exec:function(h){h.selection.isEmpty()?h.selection.selectWord():h.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:p("Alt-Shift-K","Ctrl-Shift-G"),exec:function(h){h.selection.isEmpty()?h.selection.selectWord():h.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:p("Ctrl-F","Command-F"),exec:function(h){T.loadModule("ace/ext/searchbox",function(u){u.Search(h)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(h){h.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:p("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(h){h.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:p("Ctrl-Home","Command-Home|Command-Up"),exec:function(h){h.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:p("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(h){h.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:p("Up","Up|Ctrl-P"),exec:function(h,u){h.navigateUp(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:p("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(h){h.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:p("Ctrl-End","Command-End|Command-Down"),exec:function(h){h.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:p("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(h){h.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:p("Down","Down|Ctrl-N"),exec:function(h,u){h.navigateDown(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:p("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(h){h.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:p("Ctrl-Left","Option-Left"),exec:function(h){h.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:p("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(h){h.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:p("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(h){h.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:p("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(h){h.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:p("Left","Left|Ctrl-B"),exec:function(h,u){h.navigateLeft(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:p("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(h){h.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:p("Ctrl-Right","Option-Right"),exec:function(h){h.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:p("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(h){h.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:p("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(h){h.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:p("Shift-Right","Shift-Right"),exec:function(h){h.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:p("Right","Right|Ctrl-F"),exec:function(h,u){h.navigateRight(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(h){h.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:p(null,"Option-PageDown"),exec:function(h){h.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:p("PageDown","PageDown|Ctrl-V"),exec:function(h){h.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(h){h.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:p(null,"Option-PageUp"),exec:function(h){h.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(h){h.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:p("Ctrl-Up",null),exec:function(h){h.renderer.scrollBy(0,-2*h.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:p("Ctrl-Down",null),exec:function(h){h.renderer.scrollBy(0,2*h.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(h){h.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(h){h.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:p("Ctrl-Alt-E","Command-Option-E"),exec:function(h){h.commands.toggleRecording(h)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:p("Ctrl-Shift-E","Command-Shift-E"),exec:function(h){h.commands.replay(h)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:p("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(h){h.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:p("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(h){h.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:p("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(h){h.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:p(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(h){},readOnly:!0},{name:"cut",description:"Cut",exec:function(h){var u=h.$copyWithEmptySelection&&h.selection.isEmpty()?h.selection.getLineRange():h.selection.getRange();h._emit("cut",u),u.isEmpty()||h.session.remove(u),h.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(h,u){h.$handlePaste(u)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:p("Ctrl-D","Command-D"),exec:function(h){h.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:p("Ctrl-Shift-D","Command-Shift-D"),exec:function(h){h.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:p("Ctrl-Alt-S","Command-Alt-S"),exec:function(h){h.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:p("Ctrl-/","Command-/"),exec:function(h){h.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:p("Ctrl-Shift-/","Command-Shift-/"),exec:function(h){h.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:p("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(h){h.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:p("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(h){h.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:p("Ctrl-H","Command-Option-F"),exec:function(h){T.loadModule("ace/ext/searchbox",function(u){u.Search(h,!0)})}},{name:"undo",description:"Undo",bindKey:p("Ctrl-Z","Command-Z"),exec:function(h){h.undo()}},{name:"redo",description:"Redo",bindKey:p("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(h){h.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:p("Alt-Shift-Up","Command-Option-Up"),exec:function(h){h.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:p("Alt-Up","Option-Up"),exec:function(h){h.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:p("Alt-Shift-Down","Command-Option-Down"),exec:function(h){h.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:p("Alt-Down","Option-Down"),exec:function(h){h.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:p("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(h){h.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:p("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(h){h.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:p("Shift-Delete",null),exec:function(h){if(!h.selection.isEmpty())return!1;h.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:p("Alt-Backspace","Command-Backspace"),exec:function(h){h.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:p("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(h){h.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:p("Ctrl-Shift-Backspace",null),exec:function(h){var u=h.selection.getRange();u.start.column=0,h.session.remove(u)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:p("Ctrl-Shift-Delete",null),exec:function(h){var u=h.selection.getRange();u.end.column=Number.MAX_VALUE,h.session.remove(u)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:p("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(h){h.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:p("Ctrl-Delete","Alt-Delete"),exec:function(h){h.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:p("Shift-Tab","Shift-Tab"),exec:function(h){h.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:p("Tab","Tab"),exec:function(h){h.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:p("Ctrl-[","Ctrl-["),exec:function(h){h.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:p("Ctrl-]","Ctrl-]"),exec:function(h){h.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(h,u){h.insert(u)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(h,u){h.insert(I.stringRepeat(u.text||"",u.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:p(null,"Ctrl-O"),exec:function(h){h.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:p("Alt-Shift-X","Ctrl-T"),exec:function(h){h.transposeLetters()},multiSelectAction:function(h){h.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:p("Ctrl-U","Ctrl-U"),exec:function(h){h.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:p("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(h){h.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:p(null,null),exec:function(h){h.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:p("Ctrl-Shift-L","Command-Shift-L"),exec:function(h){var u=h.selection.getRange();u.start.column=u.end.column=0,u.end.row++,h.selection.setRange(u,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:p("Ctrl+F3","F3"),exec:function(h){h.openLink()}},{name:"joinlines",description:"Join lines",bindKey:p(null,null),exec:function(h){for(var u=(d=h.selection.isBackwards())?h.selection.getSelectionLead():h.selection.getSelectionAnchor(),l=d?h.selection.getSelectionAnchor():h.selection.getSelectionLead(),d=h.session.doc.getLine(u.row).length,g=h.session.doc.getTextRange(h.selection.getRange()).replace(/\n\s*/," ").length,f=h.session.doc.getLine(u.row),v=u.row+1;v<=l.row+1;v++){var C=I.stringTrimLeft(I.stringTrimRight(h.session.doc.getLine(v)));f+=C=0!==C.length?" "+C:C}l.row+1<h.session.doc.getLength()-1&&(f+=h.session.doc.getNewLineCharacter()),h.clearSelection(),h.session.doc.replace(new w(u.row,0,l.row+2,0),f),0<g?(h.selection.moveCursorTo(u.row,u.column),h.selection.selectTo(u.row,u.column+g)):(d=h.session.doc.getLine(u.row).length>d?d+1:d,h.selection.moveCursorTo(u.row,d))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:p(null,null),exec:function(h){var u=h.session.doc.getLength()-1,l=h.session.doc.getLine(u).length,d=h.selection.rangeList.ranges,g=[];d.length<1&&(d=[h.selection.getRange()]);for(var f=0;f<d.length;f++)f!=d.length-1||d[f].end.row===u&&d[f].end.column===l||g.push(new w(d[f].end.row,d[f].end.column,u,l)),0===f?0===d[f].start.row&&0===d[f].start.column||g.push(new w(0,0,d[f].start.row,d[f].start.column)):g.push(new w(d[f-1].end.row,d[f-1].end.column,d[f].start.row,d[f].start.column));for(h.exitMultiSelectMode(),h.clearSelection(),f=0;f<g.length;f++)h.selection.addRange(g[f],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(h){h.selection.clearSelection(),h.navigateLineEnd(),h.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(h){h.selection.clearSelection();var u=h.getCursorPosition();h.selection.moveTo(u.row-1,Number.MAX_VALUE),h.insert("\n"),0===u.row&&h.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:p("F1","F1"),exec:function(h){h.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:p(null,null),exec:function(h){h.prompt({$type:"modes"})},readOnly:!0}];for(var y=1;y<9;y++)m.commands.push({name:"foldToLevel"+y,description:"Fold To Level "+y,level:y,exec:function(h){h.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(_,m,D){"use strict";var I=_("./lib/dom");function T(w){this.session=w,(this.session.widgetManager=this).session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}T.prototype.getRowLength=function(w){var p=this.lineWidgets&&this.lineWidgets[w]&&this.lineWidgets[w].rowCount||0;return this.$useWrapMode&&this.$wrapData[w]?this.$wrapData[w].length+1+p:1+p},T.prototype.$getWidgetScreenLength=function(){var w=0;return this.lineWidgets.forEach(function(p){p&&p.rowCount&&!p.hidden&&(w+=p.rowCount)}),w},T.prototype.$onChangeEditor=function(w){this.attach(w.editor)},T.prototype.attach=function(w){w&&w.widgetManager&&w.widgetManager!=this&&w.widgetManager.detach(),this.editor!=w&&(this.detach(),this.editor=w)&&(w.widgetManager=this,w.renderer.on("beforeRender",this.measureWidgets),w.renderer.on("afterRender",this.renderWidgets))},T.prototype.detach=function(w){var p=this.editor;p&&(this.editor=null,p.widgetManager=null,p.renderer.off("beforeRender",this.measureWidgets),p.renderer.off("afterRender",this.renderWidgets),p=this.session.lineWidgets)&&p.forEach(function(y){y&&y.el&&y.el.parentNode&&(y._inDocument=!1,y.el.parentNode.removeChild(y.el))})},T.prototype.updateOnFold=function(w,p){var y=p.lineWidgets;if(y&&w.action){for(var h=(p=w.data).start.row,u=p.end.row,l="add"==w.action,d=h+1;d<u;d++)y[d]&&(y[d].hidden=l);y[u]&&(l?y[h]?y[u].hidden=l:y[h]=y[u]:(y[h]==y[u]&&(y[h]=void 0),y[u].hidden=l))}},T.prototype.updateOnChange=function(w){var p,y,h,u=this.session.lineWidgets;u&&0!=(y=w.end.row-(p=w.start.row))&&("remove"==w.action?(h=u.splice(p+1,y),!u[p]&&h[h.length-1]&&(u[p]=h.pop()),h.forEach(function(l){l&&this.removeLineWidget(l)},this)):(h=new Array(y),u[p]&&null!=u[p].column&&w.start.column>u[p].column&&p++,h.unshift(p,0),u.splice.apply(u,h)),this.$updateRows())},T.prototype.$updateRows=function(){var w,p=this.session.lineWidgets;p&&(w=!0,p.forEach(function(y,h){if(y)for(w=!1,y.row=h;y.$oldWidget;)y.$oldWidget.row=h,y=y.$oldWidget}),w)&&(this.session.lineWidgets=null)},T.prototype.$registerLineWidget=function(w){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var p=this.session.lineWidgets[w.row];return p&&(w.$oldWidget=p).el&&p.el.parentNode&&(p.el.parentNode.removeChild(p.el),p._inDocument=!1),this.session.lineWidgets[w.row]=w},T.prototype.addLineWidget=function(w){var p,y,h;return this.$registerLineWidget(w),w.session=this.session,this.editor&&(p=this.editor.renderer,w.html&&!w.el&&(w.el=I.createElement("div"),w.el.innerHTML=w.html),w.text&&!w.el&&(w.el=I.createElement("div"),w.el.textContent=w.text),w.el&&(I.addCssClass(w.el,"ace_lineWidgetContainer"),w.className&&I.addCssClass(w.el,w.className),w.el.style.position="absolute",w.el.style.zIndex=5,p.container.appendChild(w.el),w._inDocument=!0,w.coverGutter||(w.el.style.zIndex=3),null==w.pixelHeight)&&(w.pixelHeight=w.el.offsetHeight),null==w.rowCount&&(w.rowCount=w.pixelHeight/p.layerConfig.lineHeight),y=this.session.getFoldAt(w.row,0),(w.$fold=y)&&(h=this.session.lineWidgets,w.row!=y.end.row||h[y.start.row]?w.hidden=!0:h[y.start.row]=w),this.session._emit("changeFold",{data:{start:{row:w.row}}}),this.$updateRows(),this.renderWidgets(null,p),this.onWidgetChanged(w)),w},T.prototype.removeLineWidget=function(w){if(w._inDocument=!1,w.session=null,w.el&&w.el.parentNode&&w.el.parentNode.removeChild(w.el),w.editor&&w.editor.destroy)try{w.editor.destroy()}catch(y){}if(this.session.lineWidgets){var p=this.session.lineWidgets[w.row];if(p==w)this.session.lineWidgets[w.row]=w.$oldWidget,w.$oldWidget&&this.onWidgetChanged(w.$oldWidget);else for(;p;){if(p.$oldWidget==w){p.$oldWidget=w.$oldWidget;break}p=p.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:w.row}}}),this.$updateRows()},T.prototype.getWidgetsAtRow=function(w){for(var p=this.session.lineWidgets,y=p&&p[w],h=[];y;)h.push(y),y=y.$oldWidget;return h},T.prototype.onWidgetChanged=function(w){this.session._changedWidgets.push(w),this.editor&&this.editor.renderer.updateFull()},T.prototype.measureWidgets=function(w,p){var y=this.session._changedWidgets,h=p.layerConfig;if(y&&y.length){for(var u=1/0,l=0;l<y.length;l++){var d=y[l];if(d&&d.el&&d.session==this.session){if(!d._inDocument){if(this.session.lineWidgets[d.row]!=d)continue;d._inDocument=!0,p.container.appendChild(d.el)}d.h=d.el.offsetHeight,d.fixedWidth||(d.w=d.el.offsetWidth,d.screenWidth=Math.ceil(d.w/h.characterWidth));var g=d.h/h.lineHeight;d.coverLine&&(g-=this.session.getRowLineCount(d.row))<0&&(g=0),d.rowCount!=g&&(d.rowCount=g,d.row<u)&&(u=d.row)}}u!=1/0&&(this.session._emit("changeFold",{data:{start:{row:u}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},T.prototype.renderWidgets=function(w,p){var y=p.layerConfig,h=this.session.lineWidgets;if(h){for(var u=Math.min(this.firstRow,y.firstRow),l=Math.max(this.lastRow,y.lastRow,h.length);0<u&&!h[u];)u--;this.firstRow=y.firstRow,this.lastRow=y.lastRow,p.$cursorLayer.config=y;for(var d=u;d<=l;d++){var g,f=h[d];f&&f.el&&(f.hidden?f.el.style.top=-100-(f.pixelHeight||0)+"px":(f._inDocument||(f._inDocument=!0,p.container.appendChild(f.el)),g=p.$cursorLayer.getPixelPosition({row:d,column:0},!0).top,f.coverLine||(g+=y.lineHeight*this.session.getRowLineCount(f.row)),f.el.style.top=g-y.offset+"px",g=f.coverGutter?0:p.gutterWidth,f.fixedWidth||(g-=p.scrollLeft),f.el.style.left=g+"px",f.fullWidth&&f.screenWidth&&(f.el.style.minWidth=y.width+2*y.padding+"px"),f.el.style.right=f.fixedWidth?p.scrollBar.getWidth()+"px":""))}}},m.LineWidgets=T}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(_,m,D){"use strict";var I=_("../lib/keys"),T=_("../mouse/default_gutter_handler").GutterTooltip;function w(p){this.editor=p,this.gutterLayer=p.renderer.$gutterLayer,this.element=p.renderer.$gutter,this.lines=p.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new T(this.editor)}w.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},w.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},w.prototype.$onGutterKeyDown=function(p){var y;if(this.annotationTooltip.isOpen)p.preventDefault(),p.keyCode===I.escape&&this.annotationTooltip.hide();else if(p.target===this.element)p.keyCode==I.enter&&(p.preventDefault(),y=this.editor.getCursorPosition().row,this.editor.isRowVisible(y)||this.editor.scrollToLine(y,!0,!0),setTimeout(function(){var d=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),g=this.$findNearestFoldWidget(d),f=this.$findNearestAnnotation(d);null===g&&null===f||(null===g&&null!==f||(null===g||null!==f)&&Math.abs(f-d)<Math.abs(g-d)?(this.activeRowIndex=f,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex)):(this.activeRowIndex=g,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex)))}.bind(this),10));else if(p.keyCode===I.tab)p.preventDefault();else if(p.keyCode===I.escape)p.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;else if(p.keyCode===I.up)switch(p.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp()}else if(p.keyCode===I.down)switch(p.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown()}else if(p.keyCode===I.left&&(p.preventDefault(),this.$switchLane("annotation")),p.keyCode===I.right&&(p.preventDefault(),this.$switchLane("fold")),p.keyCode===I.enter||p.keyCode===I.space)switch(p.preventDefault(),this.activeLane){case"fold":if("start"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]){var h=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),p),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==h&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(h),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}if("end"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)])break;return;case"annotation":var u=this.lines.cells[this.activeRowIndex].element.childNodes[2].getBoundingClientRect(),l=this.annotationTooltip.getElement().style;l.left=u.right+"px",l.top=u.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex))}},w.prototype.$blurGutter=function(){if(null!==this.activeRowIndex)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex)}this.annotationTooltip.isOpen&&this.annotationTooltip.hide()},w.prototype.$isFoldWidgetVisible=function(h){var y=this.editor.isRowFullyVisible(this.$rowIndexToRow(h));return h="none"!==this.$getFoldWidget(h).style.display,y&&h},w.prototype.$isAnnotationVisible=function(h){var y=this.editor.isRowFullyVisible(this.$rowIndexToRow(h));return h="none"!==this.$getAnnotation(h).style.display,y&&h},w.prototype.$getFoldWidget=function(p){return this.lines.get(p).element.childNodes[1]},w.prototype.$getAnnotation=function(p){return this.lines.get(p).element.childNodes[2]},w.prototype.$findNearestFoldWidget=function(p){if(this.$isFoldWidgetVisible(p))return p;for(var y=0;0<p-y||p+y<this.lines.getLength()-1;){if(0<=p-++y&&this.$isFoldWidgetVisible(p-y))return p-y;if(p+y<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(p+y))return p+y}return null},w.prototype.$findNearestAnnotation=function(p){if(this.$isAnnotationVisible(p))return p;for(var y=0;0<p-y||p+y<this.lines.getLength()-1;){if(0<=p-++y&&this.$isAnnotationVisible(p-y))return p-y;if(p+y<=this.lines.getLength()-1&&this.$isAnnotationVisible(p+y))return p+y}return null},w.prototype.$focusFoldWidget=function(p){null!=p&&((p=this.$getFoldWidget(p)).classList.add(this.editor.renderer.keyboardFocusClassName),p.focus())},w.prototype.$focusAnnotation=function(p){null!=p&&((p=this.$getAnnotation(p)).classList.add(this.editor.renderer.keyboardFocusClassName),p.setAttribute("role","button"),p.focus())},w.prototype.$blurFoldWidget=function(p){(p=this.$getFoldWidget(p)).classList.remove(this.editor.renderer.keyboardFocusClassName),p.blur()},w.prototype.$blurAnnotation=function(p){(p=this.$getAnnotation(p)).classList.remove(this.editor.renderer.keyboardFocusClassName),p.removeAttribute("role"),p.blur()},w.prototype.$moveFoldWidgetUp=function(){for(var p=this.activeRowIndex;0<p;)if(this.$isFoldWidgetVisible(--p))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=p,void this.$focusFoldWidget(this.activeRowIndex)},w.prototype.$moveFoldWidgetDown=function(){for(var p=this.activeRowIndex;p<this.lines.getLength()-1;)if(this.$isFoldWidgetVisible(++p))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=p,void this.$focusFoldWidget(this.activeRowIndex)},w.prototype.$moveAnnotationUp=function(){for(var p=this.activeRowIndex;0<p;)if(this.$isAnnotationVisible(--p))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=p,void this.$focusAnnotation(this.activeRowIndex)},w.prototype.$moveAnnotationDown=function(){for(var p=this.activeRowIndex;p<this.lines.getLength()-1;)if(this.$isAnnotationVisible(++p))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=p,void this.$focusAnnotation(this.activeRowIndex)},w.prototype.$switchLane=function(p){switch(p){case"annotation":"annotation"!==this.activeLane&&null!=(y=this.$findNearestAnnotation(this.activeRowIndex))&&(this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=y,this.$focusAnnotation(this.activeRowIndex));break;case"fold":var y;"fold"!==this.activeLane&&null!=(y=this.$findNearestFoldWidget(this.activeRowIndex))&&(this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=y,this.$focusFoldWidget(this.activeRowIndex))}},w.prototype.$rowIndexToRow=function(p){return(p=this.lines.get(p))?p.row:null},w.prototype.$rowToRowIndex=function(p){for(var y=0;y<this.lines.getLength();y++)if(this.lines.get(y).row==p)return y;return null},m.GutterKeyboardHandler=w}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(F,m,D){"use strict";var I=this&&this.__values||function(W){var ne="function"==typeof Symbol&&Symbol.iterator,fe=ne&&W[ne],he=0;if(fe)return fe.call(W);if(W&&"number"==typeof W.length)return{next:function(){return{value:(W=W&&he>=W.length?void 0:W)&&W[he++],done:!W}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")},T=F("./lib/oop"),w=F("./lib/dom"),p=F("./lib/lang"),y=F("./lib/useragent"),h=F("./keyboard/textinput").TextInput,u=F("./mouse/mouse_handler").MouseHandler,l=F("./mouse/fold_handler").FoldHandler,d=F("./keyboard/keybinding").KeyBinding,g=F("./edit_session").EditSession,f=F("./search").Search,v=F("./range").Range,C=F("./lib/event_emitter").EventEmitter,S=F("./commands/command_manager").CommandManager,O=F("./commands/default_commands").commands,N=F("./config"),z=F("./token_iterator").TokenIterator,K=F("./line_widgets").LineWidgets,Q=F("./keyboard/gutter_handler").GutterKeyboardHandler,ue=F("./config").nls,oe=F("./clipboard"),pe=F("./lib/keys");function U(W,ne,fe){this.$toDestroy=[];var he=W.getContainerElement();this.container=he,this.renderer=W,this.id="editor"+ ++U.$uid,this.commands=new S(y.isMac?"mac":"win",O),"object"==typeof document&&(this.textInput=new h(W.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new u(this),new l(this)),this.keyBinding=new d(this),this.$search=(new f).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=p.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(Ae,ke){ke._$emitInputEvent.schedule(31)}),this.setSession(ne||fe&&fe.session||new g("")),N.resetOptions(this),fe&&this.setOptions(fe),N._signal("editor",this)}(U.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=p.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},U.prototype.startOperation=function(W){if(this.curOp){if(!W||this.curOp.command)return;this.prevOp=this.curOp}W||(this.previousCommand=null,W={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:W.command||{},args:W.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},U.prototype.endOperation=function(W){if(this.curOp&&this.session){if(W&&!1===W.returnValue||!this.session)return this.curOp=null;if((1!=W||!this.curOp.command||"mouse"!=this.curOp.command.name)&&(this._signal("beforeEndOperation"),this.curOp)){var ne=(W=this.curOp.command)&&W.scrollIntoView;if(ne){switch(ne){case"center-animate":ne="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var fe=this.selection.getRange(),he=this.renderer.layerConfig;(fe.start.row>=he.lastRow||fe.end.row<=he.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==ne&&this.renderer.animateScrolling(this.curOp.scrollTop)}W=this.selection.toJSON(),this.curOp.selectionAfter=W,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(W),this.prevOp=this.curOp,this.curOp=null}}},U.prototype.$historyTracker=function(W){var ne,fe,he,Ae;this.$mergeUndoDeltas&&(fe=this.$mergeableCommands,he=(ne=this.prevOp).command&&W.command.name==ne.command.name,"insertstring"==W.command.name?(Ae=W.args,void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),he=he&&this.mergeNextCommand&&(!/\s/.test(Ae)||/\s/.test(ne.args)),this.mergeNextCommand=!0):he=he&&-1!==fe.indexOf(W.command.name),(he=!("always"!=this.$mergeUndoDeltas&&2e3<Date.now()-this.sequenceStartTime)&&he)?this.session.mergeUndoDeltas=!0:-1!==fe.indexOf(W.command.name)&&(this.sequenceStartTime=Date.now()))},U.prototype.setKeyboardHandler=function(W,ne){var fe;W&&"string"==typeof W&&"ace"!=W?(this.$keybindingId=W,fe=this,N.loadModule(["keybinding",W],function(he){fe.$keybindingId==W&&fe.keyBinding.setKeyboardHandler(he&&he.handler),ne&&ne()})):(this.$keybindingId=null,this.keyBinding.setKeyboardHandler(W),ne&&ne())},U.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},U.prototype.setSession=function(W){var ne,fe;this.session!=W&&(this.curOp&&this.endOperation(),this.curOp={},(ne=this.session)&&(this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),(fe=this.session.getSelection()).off("changeCursor",this.$onCursorChange),fe.off("changeSelection",this.$onSelectionChange)),(this.session=W)?(this.$onDocumentChange=this.onDocumentChange.bind(this),W.on("change",this.$onDocumentChange),this.renderer.setSession(W),this.$onChangeMode=this.onChangeMode.bind(this),W.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),W.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),W.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),W.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),W.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),W.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=W.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(W)),this._signal("changeSession",{session:W,oldSession:ne}),this.curOp=null,ne&&ne._signal("changeEditor",{oldEditor:this}),W&&W._signal("changeEditor",{editor:this}),W)&&!W.destroyed&&W.bgTokenizer.scheduleStart()},U.prototype.getSession=function(){return this.session},U.prototype.setValue=function(W,ne){return this.session.doc.setValue(W),ne?1==ne?this.navigateFileEnd():-1==ne&&this.navigateFileStart():this.selectAll(),W},U.prototype.getValue=function(){return this.session.getValue()},U.prototype.getSelection=function(){return this.selection},U.prototype.resize=function(W){this.renderer.onResize(W)},U.prototype.setTheme=function(W,ne){this.renderer.setTheme(W,ne)},U.prototype.getTheme=function(){return this.renderer.getTheme()},U.prototype.setStyle=function(W){this.renderer.setStyle(W)},U.prototype.unsetStyle=function(W){this.renderer.unsetStyle(W)},U.prototype.getFontSize=function(){return this.getOption("fontSize")||w.computedStyle(this.container).fontSize},U.prototype.setFontSize=function(W){this.setOption("fontSize",W)},U.prototype.$highlightBrackets=function(){var W;this.$highlightPending||((W=this).$highlightPending=!0,setTimeout(function(){W.$highlightPending=!1;var ne,fe,he,Ae,ke=W.session;ke&&!ke.destroyed&&(ke.$bracketHighlight&&(ke.$bracketHighlight.markerIds.forEach(function(xe){ke.removeMarker(xe)}),ke.$bracketHighlight=null),ne=W.getCursorPosition(),fe=(fe=W.getKeyboardHandler())&&fe.$getDirectionForHighlight&&fe.$getDirectionForHighlight(W),(fe=ke.getMatchingBracketRanges(ne,fe))||(he=new z(ke,ne.row,ne.column).getCurrentToken())&&/\b(?:tag-open|tag-name)/.test(he.type)&&(he=ke.getMatchingTags(ne))&&(fe=[he.openTagName,he.closeTagName]),(fe=!fe&&ke.$mode.getMatching?ke.$mode.getMatching(W.session):fe)&&(Ae="ace_bracket",Array.isArray(fe)?1==fe.length&&(Ae="ace_error_bracket"):fe=[fe],2==fe.length&&(0==v.comparePoints(fe[0].end,fe[1].start)?fe=[v.fromPoints(fe[0].start,fe[1].end)]:0==v.comparePoints(fe[0].start,fe[1].end)&&(fe=[v.fromPoints(fe[1].start,fe[0].end)])),ke.$bracketHighlight={ranges:fe,markerIds:fe.map(function(xe){return ke.addMarker(xe,Ae,"text")})}),W.getHighlightIndentGuides())&&W.renderer.$textLayer.$highlightIndentGuide()},50))},U.prototype.focus=function(){this.textInput.focus()},U.prototype.isFocused=function(){return this.textInput.isFocused()},U.prototype.blur=function(){this.textInput.blur()},U.prototype.onFocus=function(W){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",W))},U.prototype.onBlur=function(W){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",W))},U.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},U.prototype.onDocumentChange=function(W){this.renderer.updateLines(W.start.row,W.start.row==W.end.row?W.end.row:1/0,this.session.$useWrapMode),this._signal("change",W),this.$cursorChange()},U.prototype.onTokenizerUpdate=function(W){this.renderer.updateLines((W=W.data).first,W.last)},U.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},U.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},U.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},U.prototype.$updateHighlightActiveLine=function(){var W,ne,fe=this.getSession();this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(W=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(W=!1),!this.renderer.$maxLines||1!==this.session.getLength()||1<this.renderer.$minLines||(W=!1)),fe.$highlightLineMarker&&!W?(fe.removeMarker(fe.$highlightLineMarker.id),fe.$highlightLineMarker=null):!fe.$highlightLineMarker&&W?((ne=new v(W.row,W.column,W.row,1/0)).id=fe.addMarker(ne,"ace_active-line","screenLine"),fe.$highlightLineMarker=ne):W&&(fe.$highlightLineMarker.start.row=W.row,fe.$highlightLineMarker.end.row=W.row,fe.$highlightLineMarker.start.column=W.column,fe._signal("changeBackMarker"))},U.prototype.onSelectionChange=function(W){var ne,fe,he=((he=this.session).$selectionMarker&&he.removeMarker(he.$selectionMarker),he.$selectionMarker=null,this.selection.isEmpty()?this.$updateHighlightActiveLine():(ne=this.selection.getRange(),fe=this.getSelectionStyle(),he.$selectionMarker=he.addMarker(ne,"ace_selection",fe)),this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp());this.session.highlight(he),this._signal("changeSelection")},U.prototype.$getSelectionHighLightRegexp=function(){var W=this.session;if(!(ne=this.getSelectionRange()).isEmpty()&&!ne.isMultiLine()){var ne,fe=ne.start.column,he=ne.end.column;if(!(5e3<(ne=(W=W.getLine(ne.start.row)).substring(fe,he)).length)&&/[\w\d]/.test(ne)&&(ne=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:ne}),W=W.substring(fe-1,he+1),ne.test(W)))return ne}},U.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},U.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},U.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},U.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},U.prototype.onChangeMode=function(W){this.renderer.updateText(),this._emit("changeMode",W)},U.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},U.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},U.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},U.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},U.prototype.getCopyText=function(){var W=this.getSelectedText(),ne=this.session.doc.getNewLineCharacter(),fe=!1;if(!W&&this.$copyWithEmptySelection){fe=!0;for(var he=this.selection.getAllRanges(),Ae=0;Ae<he.length;Ae++){var ke=he[Ae];Ae&&he[Ae-1].start.row==ke.start.row||(W+=this.session.getLine(ke.start.row)+ne)}}var xe={text:W};return this._signal("copy",xe),oe.lineMode=!!fe&&xe.text,xe.text},U.prototype.onCopy=function(){this.commands.exec("copy",this)},U.prototype.onCut=function(){this.commands.exec("cut",this)},U.prototype.onPaste=function(W,ne){this.commands.exec("paste",this,{text:W,event:ne})},U.prototype.$handlePaste=function(fe){this._signal("paste",fe="string"==typeof fe?{text:fe}:fe);var ne=fe.text,he=(fe=ne===oe.lineMode,this.session);if(!this.inMultiSelectMode||this.inVirtualSelectionMode)fe?he.insert({row:this.selection.lead.row,column:0},ne):this.insert(ne);else if(fe)this.selection.rangeList.ranges.forEach(function(ie){he.insert({row:ie.start.row,column:0},ne)});else{var Ae=ne.split(/\r\n|\r|\n/),ke=this.selection.rangeList.ranges;if(fe=!(2!=Ae.length||Ae[0]&&Ae[1]),Ae.length!=ke.length||fe)return this.commands.exec("insertstring",this,ne);for(var xe=ke.length;xe--;){var Ee=ke[xe];Ee.isEmpty()||he.remove(Ee),he.insert(Ee.start,Ae[xe])}}},U.prototype.execCommand=function(W,ne){return this.commands.exec(W,this,ne)},U.prototype.insert=function(W,Ee){var fe,he=this.session,Ae=he.getMode(),ke=this.getCursorPosition(),xe=(this.getBehavioursEnabled()&&!Ee&&(fe=Ae.transformAction(he.getState(ke.row),"insertion",this,he,W))&&(W===fe.text||this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1),W=fe.text),"\t"==W&&(W=this.session.getTabString()),this.selection.isEmpty()?this.session.getOverwrite()&&-1==W.indexOf("\n")&&((xe=new v.fromPoints(ke,ke)).end.column+=W.length,this.session.remove(xe)):(xe=this.getSelectionRange(),ke=this.session.remove(xe),this.clearSelection()),"\n"!=W&&"\r\n"!=W||(ie=he.getLine(ke.row),ke.column>ie.search(/\S|$/)&&(Ee=ie.substr(ke.column).search(/\S|$/),he.doc.removeInLine(ke.row,ke.column,ke.column+Ee))),this.clearSelection(),ke.column),ie=(Ee=he.getState(ke.row),he.getLine(ke.row)),de=Ae.checkOutdent(Ee,ie,W);he.insert(ke,W),fe&&fe.selection&&this.selection.setSelectionRange(2==fe.selection.length?new v(ke.row,xe+fe.selection[0],ke.row,xe+fe.selection[1]):new v(ke.row+fe.selection[0],fe.selection[1],ke.row+fe.selection[2],fe.selection[3])),this.$enableAutoIndent&&(he.getDocument().isNewLine(W)&&(xe=Ae.getNextLineIndent(Ee,ie.slice(0,ke.column),he.getTabString()),he.insert({row:ke.row+1,column:0},xe)),de)&&Ae.autoOutdent(Ee,he,ke.row)},U.prototype.autoIndent=function(){for(var W,ne,fe,he,Ae,ke=this.session,xe=ke.getMode(),Ee=(fe=this.selection.isEmpty()?(ne=0,ke.doc.getLength()-1):(ne=(W=this.getSelectionRange()).start.row,W.end.row),""),ie="",de=ke.getTabString(),me=ne;me<=fe;me++)0<me&&(Ee=ke.getState(me-1),he=ke.getLine(me-1),ie=xe.getNextLineIndent(Ee,he,de)),he=ke.getLine(me),ie!==(Ae=xe.$getIndent(he))&&(0<Ae.length&&(Ae=new v(me,0,me,Ae.length),ke.remove(Ae)),0<ie.length)&&ke.insert({row:me,column:0},ie),xe.autoOutdent(Ee,ke,me)},U.prototype.onTextInput=function(W,ne){if(!ne)return this.keyBinding.onTextInput(W);this.startOperation({command:{name:"insertstring"}}),W=this.applyComposition.bind(this,W,ne),this.selection.rangeCount?this.forEachSelection(W):W(),this.endOperation()},U.prototype.applyComposition=function(W,ne){var fe;(ne.extendLeft||ne.extendRight)&&((fe=this.selection.getRange()).start.column-=ne.extendLeft,fe.end.column+=ne.extendRight,fe.start.column<0&&(fe.start.row--,fe.start.column+=this.session.getLine(fe.start.row).length+1),this.selection.setRange(fe),W||fe.isEmpty()||this.remove()),!W&&this.selection.isEmpty()||this.insert(W,!0),(ne.restoreStart||ne.restoreEnd)&&((fe=this.selection.getRange()).start.column-=ne.restoreStart,fe.end.column-=ne.restoreEnd,this.selection.setRange(fe))},U.prototype.onCommandKey=function(W,ne,fe){return this.keyBinding.onCommandKey(W,ne,fe)},U.prototype.setOverwrite=function(W){this.session.setOverwrite(W)},U.prototype.getOverwrite=function(){return this.session.getOverwrite()},U.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},U.prototype.setScrollSpeed=function(W){this.setOption("scrollSpeed",W)},U.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},U.prototype.setDragDelay=function(W){this.setOption("dragDelay",W)},U.prototype.getDragDelay=function(){return this.getOption("dragDelay")},U.prototype.setSelectionStyle=function(W){this.setOption("selectionStyle",W)},U.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},U.prototype.setHighlightActiveLine=function(W){this.setOption("highlightActiveLine",W)},U.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},U.prototype.setHighlightGutterLine=function(W){this.setOption("highlightGutterLine",W)},U.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},U.prototype.setHighlightSelectedWord=function(W){this.setOption("highlightSelectedWord",W)},U.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},U.prototype.setAnimatedScroll=function(W){this.renderer.setAnimatedScroll(W)},U.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},U.prototype.setShowInvisibles=function(W){this.renderer.setShowInvisibles(W)},U.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},U.prototype.setDisplayIndentGuides=function(W){this.renderer.setDisplayIndentGuides(W)},U.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},U.prototype.setHighlightIndentGuides=function(W){this.renderer.setHighlightIndentGuides(W)},U.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},U.prototype.setShowPrintMargin=function(W){this.renderer.setShowPrintMargin(W)},U.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},U.prototype.setPrintMarginColumn=function(W){this.renderer.setPrintMarginColumn(W)},U.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},U.prototype.setReadOnly=function(W){this.setOption("readOnly",W)},U.prototype.getReadOnly=function(){return this.getOption("readOnly")},U.prototype.setBehavioursEnabled=function(W){this.setOption("behavioursEnabled",W)},U.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},U.prototype.setWrapBehavioursEnabled=function(W){this.setOption("wrapBehavioursEnabled",W)},U.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},U.prototype.setShowFoldWidgets=function(W){this.setOption("showFoldWidgets",W)},U.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},U.prototype.setFadeFoldWidgets=function(W){this.setOption("fadeFoldWidgets",W)},U.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},U.prototype.remove=function(Ae){var ne,fe,he;this.selection.isEmpty()&&("left"==Ae?this.selection.selectLeft():this.selection.selectRight()),Ae=this.getSelectionRange(),this.getBehavioursEnabled()&&(fe=(ne=this.session).getState(Ae.start.row),fe=ne.getMode().transformAction(fe,"deletion",this,ne,Ae),0===Ae.end.column&&"\n"==(he=ne.getTextRange(Ae))[he.length-1]&&(he=ne.getLine(Ae.end.row),/^\s+$/.test(he))&&(Ae.end.column=he.length),fe)&&(Ae=fe),this.session.remove(Ae),this.clearSelection()},U.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},U.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},U.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},U.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var W=this.getSelectionRange();W.start.column==W.end.column&&W.start.row==W.end.row&&(W.end.column=0,W.end.row++),this.session.remove(W),this.clearSelection()},U.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var W=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(W)},U.prototype.setGhostText=function(W,ne){this.session.widgetManager||(this.session.widgetManager=new K(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(W,ne)},U.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},U.prototype.transposeLetters=function(){var W,ne,fe,he;this.selection.isEmpty()&&0!==(ne=(W=this.getCursorPosition()).column)&&(he=ne<(he=this.session.getLine(W.row)).length?(fe=he.charAt(ne)+he.charAt(ne-1),new v(W.row,ne-1,W.row,ne+1)):(fe=he.charAt(ne-1)+he.charAt(ne-2),new v(W.row,ne-2,W.row,ne)),this.session.replace(he,fe),this.session.selection.moveToPosition(he.end))},U.prototype.toLowerCase=function(){var W=this.getSelectionRange(),ne=(this.selection.isEmpty()&&this.selection.selectWord(),this.getSelectionRange()),fe=this.session.getTextRange(ne);this.session.replace(ne,fe.toLowerCase()),this.selection.setSelectionRange(W)},U.prototype.toUpperCase=function(){var W=this.getSelectionRange(),ne=(this.selection.isEmpty()&&this.selection.selectWord(),this.getSelectionRange()),fe=this.session.getTextRange(ne);this.session.replace(ne,fe.toUpperCase()),this.selection.setSelectionRange(W)},U.prototype.indent=function(){var W=this.session,ne=this.getSelectionRange();if(!(ne.start.row<ne.end.row)){if(ne.start.column<ne.end.column){var fe,ke=W.getTextRange(ne);if(!/^\s+$/.test(ke))return fe=this.$getSelectedRows(),void W.indentRows(fe.first,fe.last,"\t")}var he=W.getLine(ne.start.row),Ae=(ke=ne.start,W.getTabSize());if(ke=W.documentToScreenColumn(ke.row,ke.column),this.session.getUseSoftTabs())var xe=Ae-ke%Ae,Ee=p.stringRepeat(" ",xe);else{for(xe=ke%Ae;" "==he[ne.start.column-1]&&xe;)ne.start.column--,xe--;this.selection.setSelectionRange(ne),Ee="\t"}return this.insert(Ee)}fe=this.$getSelectedRows(),W.indentRows(fe.first,fe.last,"\t")},U.prototype.blockIndent=function(){var W=this.$getSelectedRows();this.session.indentRows(W.first,W.last,"\t")},U.prototype.blockOutdent=function(){var W=this.session.getSelection();this.session.outdentRows(W.getRange())},U.prototype.sortLines=function(){for(var W=this.$getSelectedRows(),ne=this.session,fe=[],he=W.first;he<=W.last;he++)fe.push(ne.getLine(he));fe.sort(function(xe,Ee){return xe.toLowerCase()<Ee.toLowerCase()?-1:xe.toLowerCase()>Ee.toLowerCase()?1:0});var Ae=new v(0,0,0,0);for(he=W.first;he<=W.last;he++){var ke=ne.getLine(he);Ae.start.row=he,Ae.end.row=he,Ae.end.column=ke.length,ne.replace(Ae,fe[he-W.first])}},U.prototype.toggleCommentLines=function(){var W=this.session.getState(this.getCursorPosition().row),ne=this.$getSelectedRows();this.session.getMode().toggleCommentLines(W,this.session,ne.first,ne.last)},U.prototype.toggleBlockComment=function(){var W=this.getCursorPosition(),ne=this.session.getState(W.row),fe=this.getSelectionRange();this.session.getMode().toggleBlockComment(ne,this.session,fe,W)},U.prototype.getNumberAt=function(W,ne){for(var fe=/[\-]?[0-9]+(?:\.[0-9]+)?/g,he=(fe.lastIndex=0,this.session.getLine(W));fe.lastIndex<ne;){var Ae=fe.exec(he);if(Ae.index<=ne&&Ae.index+Ae[0].length>=ne)return{value:Ae[0],start:Ae.index,end:Ae.index+Ae[0].length}}return null},U.prototype.modifyNumber=function(W){var ne,fe,he,Ae=this.selection.getCursor().row,ke=this.selection.getCursor().column,xe=new v(Ae,ke-1,Ae,ke);xe=this.session.getTextRange(xe),!isNaN(parseFloat(xe))&&isFinite(xe)?(xe=this.getNumberAt(Ae,ke))&&(he=0<=xe.value.indexOf(".")?xe.start+xe.value.indexOf(".")+1:xe.end,ne=xe.start+xe.value.length-he,fe=parseFloat(xe.value),fe*=Math.pow(10,ne),he=(fe=(fe+=W*=he!==xe.end&&ke<he?Math.pow(10,xe.end-ke-1):Math.pow(10,xe.end-ke))/Math.pow(10,ne)).toFixed(ne),W=new v(Ae,xe.start,Ae,xe.end),this.session.replace(W,he),this.moveCursorTo(Ae,Math.max(xe.start+1,ke+he.length-xe.value.length))):this.toggleWord()},U.prototype.toggleWord=function(){for(var W,ne=this.selection.getCursor().row,fe=this.selection.getCursor().column,he=(this.selection.selectWord(),this.getSelectedText()),Ae=this.selection.getWordRange().start.column,ke=he.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),xe=fe-Ae-1,Ee=(xe<0&&(xe=0),0),ie=this,de=(he.match(/[A-Za-z0-9_]+/)&&ke.forEach(function(we,Pe){W=Ee+we.length,Ee<=xe&&xe<=W&&(he=we,ie.selection.clearSelection(),ie.moveCursorTo(ne,Ee+Ae),ie.selection.selectTo(ne,W+Ae)),Ee=W}),this.$toggleWordPairs),me=0;me<de.length;me++)for(var Ce=de[me],re=0;re<=1;re++){var le=+!re,ve=he.match(new RegExp("^\\s?_?("+p.escapeRegExp(Ce[re])+")\\s?$","i"));ve&&he.match(new RegExp("([_]|^|\\s)("+p.escapeRegExp(ve[1])+")($|\\s)","g"))&&(ve=he.replace(new RegExp(p.escapeRegExp(Ce[re]),"i"),function(we){var Pe=Ce[le];return we.toUpperCase()==we?Pe=Pe.toUpperCase():we.charAt(0).toUpperCase()==we.charAt(0)&&(Pe=Pe.substr(0,0)+Ce[le].charAt(0).toUpperCase()+Pe.substr(1)),Pe}),this.insert(ve))}},U.prototype.findLinkAt=function(ke,ne){ke=this.session.getLine(ke).split(/((?:https?|ftp):\/\/[\S]+)/);var fe,he,Ae,xe=ne,Ee=(xe<0&&(xe=0),0);try{for(var ie=I(ke),de=ie.next();!de.done;de=ie.next()){var me=de.value,Ce=Ee+me.length;if(Ee<=xe&&xe<=Ce&&me.match(/((?:https?|ftp):\/\/[\S]+)/)){Ae=me.replace(/[\s:.,'";}\]]+$/,"");break}Ee=Ce}}catch(re){fe={error:re}}finally{try{de&&!de.done&&(he=ie.return)&&he.call(ie)}finally{if(fe)throw fe.error}}return Ae},U.prototype.openLink=function(){var W=this.selection.getCursor();return(W=this.findLinkAt(W.row,W.column))&&window.open(W,"_blank"),null!=W},U.prototype.removeLines=function(){var W=this.$getSelectedRows();this.session.removeFullLines(W.first,W.last),this.clearSelection()},U.prototype.duplicateSelection=function(){var W,ne=this.selection,fe=this.session,he=ne.getRange(),Ae=ne.isBackwards();he.isEmpty()?fe.duplicateLines(W=he.start.row,W):(fe=fe.insert(W=Ae?he.start:he.end,fe.getTextRange(he),!1),he.start=W,he.end=fe,ne.setSelectionRange(he,Ae))},U.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},U.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},U.prototype.moveText=function(W,ne,fe){return this.session.moveText(W,ne,fe)},U.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},U.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},U.prototype.$moveLines=function(W,ne){var fe=this.selection;if(!fe.inMultiSelectMode||this.inVirtualSelectionMode){var he=fe.toOrientedRange(),Ae=this.$getSelectedRows(he),ke=this.session.$moveLines(Ae.first,Ae.last,ne?0:W);he.moveBy(ke=ne&&-1==W?0:ke,0),fe.fromOrientedRange(he)}else{for(var xe=fe.rangeList.ranges,Ee=(fe.rangeList.detach(this.session),this.inVirtualSelectionMode=!0,0),ie=0,de=xe.length,me=0;me<de;me++){for(var Ce=me,re=(xe[me].moveBy(Ee,0),(Ae=this.$getSelectedRows(xe[me])).first),le=Ae.last;++me<de;){ie&&xe[me].moveBy(ie,0);var ve=this.$getSelectedRows(xe[me]);if(ne&&ve.first!=le||!ne&&ve.first>le+1)break;le=ve.last}for(me--,Ee=this.session.$moveLines(re,le,ne?0:W),ne&&-1==W&&(Ce=me+1);Ce<=me;)xe[Ce].moveBy(Ee,0),Ce++;ie+=Ee=ne?Ee:0}fe.fromOrientedRange(fe.ranges[0]),fe.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},U.prototype.$getSelectedRows=function(W){return W=(W||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(W.start.row),last:this.session.getRowFoldEnd(W.end.row)}},U.prototype.onCompositionStart=function(W){this.renderer.showComposition(W)},U.prototype.onCompositionUpdate=function(W){this.renderer.setCompositionText(W)},U.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},U.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},U.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},U.prototype.isRowVisible=function(W){return W>=this.getFirstVisibleRow()&&W<=this.getLastVisibleRow()},U.prototype.isRowFullyVisible=function(W){return W>=this.renderer.getFirstFullyVisibleRow()&&W<=this.renderer.getLastFullyVisibleRow()},U.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},U.prototype.$moveByPage=function(ke,ne){var fe=this.renderer,he=this.renderer.layerConfig,Ae=ke*Math.floor(he.height/he.lineHeight);!0===ne?this.selection.$moveSelection(function(){this.moveCursorBy(Ae,0)}):!1===ne&&(this.selection.moveCursorBy(Ae,0),this.selection.clearSelection()),ke=fe.scrollTop,fe.scrollBy(0,Ae*he.lineHeight),null!=ne&&fe.scrollCursorIntoView(null,.5),fe.animateScrolling(ke)},U.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},U.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},U.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},U.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},U.prototype.scrollPageDown=function(){this.$moveByPage(1)},U.prototype.scrollPageUp=function(){this.$moveByPage(-1)},U.prototype.scrollToRow=function(W){this.renderer.scrollToRow(W)},U.prototype.scrollToLine=function(W,ne,fe,he){this.renderer.scrollToLine(W,ne,fe,he)},U.prototype.centerSelection=function(){var W=this.getSelectionRange();W={row:Math.floor(W.start.row+(W.end.row-W.start.row)/2),column:Math.floor(W.start.column+(W.end.column-W.start.column)/2)},this.renderer.alignCursor(W,.5)},U.prototype.getCursorPosition=function(){return this.selection.getCursor()},U.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},U.prototype.getSelectionRange=function(){return this.selection.getRange()},U.prototype.selectAll=function(){this.selection.selectAll()},U.prototype.clearSelection=function(){this.selection.clearSelection()},U.prototype.moveCursorTo=function(W,ne){this.selection.moveCursorTo(W,ne)},U.prototype.moveCursorToPosition=function(W){this.selection.moveCursorToPosition(W)},U.prototype.jumpToMatching=function(W,ne){var fe=this.getCursorPosition(),he=new z(this.session,fe.row,fe.column),Ae=he.getCurrentToken(),ke=0,xe=(Ae=Ae&&-1!==Ae.type.indexOf("tag-name")?he.stepBackward():Ae)||he.stepForward();if(xe){var Ee,ie,de=!1,me={},Ce=fe.column-xe.start,re={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(xe.value.match(/[{}()\[\]]/g)){for(;Ce<xe.value.length&&!de;Ce++)if(re[xe.value[Ce]])switch(ie=re[xe.value[Ce]]+"."+xe.type.replace("rparen","lparen"),isNaN(me[ie])&&(me[ie]=0),xe.value[Ce]){case"(":case"[":case"{":me[ie]++;break;case")":case"]":case"}":me[ie]--,-1===me[ie]&&(Ee="bracket",de=!0)}}else-1!==xe.type.indexOf("tag-name")&&(isNaN(me[xe.value])&&(me[xe.value]=0),"<"===Ae.value&&1<ke?me[xe.value]++:"</"===Ae.value&&me[xe.value]--,-1===me[xe.value])&&(Ee="tag",de=!0)}while(de||(Ae=xe,ke++,xe=he.stepForward(),Ce=0),xe&&!de);if(Ee){if("bracket"===Ee)!(ve=this.session.getBracketRange(fe))&&(we=(ve=new v(he.getCurrentTokenRow(),he.getCurrentTokenColumn()+Ce-1,he.getCurrentTokenRow(),he.getCurrentTokenColumn()+Ce-1)).start,ne||we.row===fe.row&&Math.abs(we.column-fe.column)<2)&&(ve=this.session.getBracketRange(we));else if("tag"===Ee){if(!xe||-1===xe.type.indexOf("tag-name"))return;var le,ve,we=(we=0===(ve=new v(he.getCurrentTokenRow(),he.getCurrentTokenColumn()-2,he.getCurrentTokenRow(),he.getCurrentTokenColumn()-2)).compare(fe.row,fe.column)&&(le=this.session.getMatchingTags(fe))?le.openTag.contains(fe.row,fe.column)?(ve=le.closeTag).start:(ve=le.openTag,le.closeTag.start.row===fe.row&&le.closeTag.start.column===fe.column?ve.end:ve.start):we)||ve.start}(we=ve&&ve.cursor||we)&&(W?ve&&ne?this.selection.setRange(ve):ve&&ve.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(we.row,we.column):this.selection.moveTo(we.row,we.column))}}},U.prototype.gotoLine=function(W,ne,fe){this.selection.clearSelection(),this.session.unfold({row:W-1,column:ne||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(W-1,ne||0),this.isRowFullyVisible(W-1)||this.scrollToLine(W-1,!0,fe)},U.prototype.navigateTo=function(W,ne){this.selection.moveTo(W,ne)},U.prototype.navigateUp=function(W){var ne;if(this.selection.isMultiLine()&&!this.selection.isBackwards())return ne=this.selection.anchor.getPosition(),this.moveCursorToPosition(ne);this.selection.clearSelection(),this.selection.moveCursorBy(-W||-1,0)},U.prototype.navigateDown=function(W){var ne;if(this.selection.isMultiLine()&&this.selection.isBackwards())return ne=this.selection.anchor.getPosition(),this.moveCursorToPosition(ne);this.selection.clearSelection(),this.selection.moveCursorBy(W||1,0)},U.prototype.navigateLeft=function(W){if(this.selection.isEmpty())for(W=W||1;W--;)this.selection.moveCursorLeft();else{var ne=this.getSelectionRange().start;this.moveCursorToPosition(ne)}this.clearSelection()},U.prototype.navigateRight=function(W){if(this.selection.isEmpty())for(W=W||1;W--;)this.selection.moveCursorRight();else{var ne=this.getSelectionRange().end;this.moveCursorToPosition(ne)}this.clearSelection()},U.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},U.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},U.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},U.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},U.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},U.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},U.prototype.replace=function(W,fe){fe&&this.$search.set(fe);var he=0;return(fe=this.$search.find(this.session))&&(this.$tryReplace(fe,W)&&(he=1),this.selection.setSelectionRange(fe),this.renderer.scrollSelectionIntoView(fe.start,fe.end)),he},U.prototype.replaceAll=function(W,ne){ne&&this.$search.set(ne);var fe=this.$search.findAll(this.session),he=0;if(fe.length){ne=this.getSelectionRange(),this.selection.moveTo(0,0);for(var Ae=fe.length-1;0<=Ae;--Ae)this.$tryReplace(fe[Ae],W)&&he++;this.selection.setSelectionRange(ne)}return he},U.prototype.$tryReplace=function(W,ne){var fe=this.session.getTextRange(W);return null!==(ne=this.$search.replace(fe,ne))?(W.end=this.session.replace(W,ne),W):null},U.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},U.prototype.find=function(Ae,ne,fe){ne=ne||{},"string"==typeof Ae||Ae instanceof RegExp?ne.needle=Ae:"object"==typeof Ae&&T.mixin(ne,Ae);var he=this.selection.getRange();return null==ne.needle&&((Ae=this.session.getTextRange(he)||this.$search.$options.needle)||(he=this.session.getWordRange(he.start.row,he.start.column),Ae=this.session.getTextRange(he)),this.$search.set({needle:Ae})),this.$search.set(ne),ne.start||this.$search.set({start:he}),Ae=this.$search.find(this.session),ne.preventScroll?Ae:Ae?(this.revealRange(Ae,fe),Ae):(ne.backwards?he.start=he.end:he.end=he.start,void this.selection.setRange(he))},U.prototype.findNext=function(W,ne){this.find({skipCurrent:!0,backwards:!1},W,ne)},U.prototype.findPrevious=function(W,ne){this.find(W,{skipCurrent:!0,backwards:!0},ne)},U.prototype.revealRange=function(W,ne){this.session.unfold(W),this.selection.setSelectionRange(W);var fe=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(W.start,W.end,.5),!1!==ne&&this.renderer.animateScrolling(fe)},U.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},U.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},U.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(W){W.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},U.prototype.setAutoScrollEditorIntoView=function(W){var ne,fe,he,Ae,ke,xe,Ee;W&&(he=!1,(fe=this).$scrollAnchor||(this.$scrollAnchor=document.createElement("div")),(Ae=this.$scrollAnchor).style.cssText="position:absolute",this.container.insertBefore(Ae,this.container.firstChild),ke=this.on("changeSelection",function(){he=!0}),xe=this.renderer.on("beforeRender",function(){he&&(ne=fe.renderer.container.getBoundingClientRect())}),Ee=this.renderer.on("afterRender",function(){var ie,de,me;he&&ne&&(fe.isFocused()||fe.searchBox&&fe.searchBox.isFocused())&&(me=(ie=(de=fe.renderer).$cursorLayer.$pixelPos).top-(de=de.layerConfig).offset,null!=(he=0<=ie.top&&me+ne.top<0||!(ie.top<de.height&&ie.top+ne.top+de.lineHeight>window.innerHeight)&&null)&&(Ae.style.top=me+"px",Ae.style.left=ie.left+"px",Ae.style.height=de.lineHeight+"px",Ae.scrollIntoView(he)),he=ne=null)}),this.setAutoScrollEditorIntoView=function(ie){ie||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",ke),this.renderer.off("afterRender",Ee),this.renderer.off("beforeRender",xe))})},U.prototype.$resetCursorStyle=function(){var W=this.$cursorStyle||"ace",ne=this.renderer.$cursorLayer;ne&&(ne.setSmoothBlinking(/smooth/.test(W)),ne.isBlinking=!this.$readOnly&&"wide"!=W,w.setCssClass(ne.element,"ace_slim-cursors",/slim/.test(W)))},U.prototype.prompt=function(W,ne,fe){var he=this;N.loadModule("ace/ext/prompt",function(Ae){Ae.prompt(he,W,ne,fe)})},F=U).$uid=0,F.prototype.curOp=null,F.prototype.prevOp={},F.prototype.$mergeableCommands=["backspace","del","insertstring"],F.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],T.implement(F.prototype,C),N.defineOptions(F.prototype,"editor",{selectionStyle:{set:function(W){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:W})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(W){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(W){this.textInput.setReadOnly(W),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(W){this.textInput.setCopyWithEmptySelection(W)},initialValue:!1},cursorStyle:{set:function(W){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(W){this.setAutoScrollEditorIntoView(W)}},keyboardHandler:{set:function(W){this.setKeyboardHandler(W)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(W){this.session.setValue(W)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(W){this.setSession(W)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(W){this.renderer.$gutterLayer.setShowLineNumbers(W),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),W&&this.$relativeLineNumbers?Y.attach(this):Y.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(W){this.$showLineNumbers&&W?Y.attach(this):Y.detach(this)}},placeholder:{set:function(W){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var ne=this.session&&(this.renderer.$composition||this.getValue());ne&&this.renderer.placeholderNode?(this.renderer.off("afterRender",this.$updatePlaceholder),w.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null):ne||this.renderer.placeholderNode?!ne&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||""):(this.renderer.on("afterRender",this.$updatePlaceholder),w.addCssClass(this.container,"ace_hasPlaceholder"),(ne=w.createElement("div")).className="ace_placeholder",ne.textContent=this.$placeholder||"",this.renderer.placeholderNode=ne,this.renderer.content.appendChild(this.renderer.placeholderNode))}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(W){function ne(Ae){Ae.target==this.renderer.scroller&&Ae.keyCode===pe.enter&&(Ae.preventDefault(),Ae=this.getCursorPosition().row,this.isRowVisible(Ae)||this.scrollToLine(Ae,!0,!0),this.focus())}var fe,he={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(Ae){Ae.blur(),Ae.renderer.scroller.focus()},readOnly:!0};W?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",ue("editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",ue("Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",ne.bind(this)),this.commands.addCommand(he),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",ue("editor")),this.renderer.$gutter.setAttribute("aria-label",ue("Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),(fe=fe||new Q(this)).addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",ne.bind(this)),this.commands.removeCommand(he),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),fe&&fe.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var Y={getText:function(W,ne){return(Math.abs(W.selection.lead.row-ne)||ne+1+(ne<9?"\xb7":""))+""},getWidth:function(W,ne,fe){return Math.max(ne.toString().length,(fe.lastRow+1).toString().length,2)*fe.characterWidth},update:function(W,ne){ne.renderer.$loop.schedule(ne.renderer.CHANGE_GUTTER)},attach:function(W){W.renderer.$gutterLayer.$renderer=this,W.on("changeSelection",this.update),this.update(null,W)},detach:function(W){W.renderer.$gutterLayer.$renderer==this&&(W.renderer.$gutterLayer.$renderer=null),W.off("changeSelection",this.update),this.update(null,W)}};m.Editor=F}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(_,m,D){"use strict";T.prototype.addSession=function(v){this.$session=v},T.prototype.add=function(v,C,S){this.$fromUndo||v!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==C&&this.lastDeltas||(this.lastDeltas=[],(C=this.$undoStack.length)>this.$undoDepth-1&&this.$undoStack.splice(0,C-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),v.id=this.$rev=++this.$maxRev),"remove"!=v.action&&"insert"!=v.action||(this.$lastDelta=v),this.lastDeltas.push(v))},T.prototype.addSelection=function(v,C){this.selections.push({value:v,rev:C||this.$rev})},T.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},T.prototype.markIgnored=function(v,C){null==C&&(C=this.$rev+1);for(var S=this.$undoStack,O=S.length;O--;){var N=S[O][0];if(N.id<=v)break;N.id<C&&(N.ignore=!0)}this.lastDeltas=null},T.prototype.getSelection=function(v,C){for(var S=this.selections,O=S.length;O--;){var N=S[O];if(N.rev<v)return C?S[O+1]:N}},T.prototype.getRevision=function(){return this.$rev},T.prototype.getDeltas=function(v,C){null==C&&(C=this.$rev+1);for(var S=this.$undoStack,O=null,N=0,z=S.length;z--;){var K=S[z][0];if(K.id<C&&!O&&(O=z+1),K.id<=v){N=z+1;break}}return S.slice(N,O)},T.prototype.getChangedRanges=function(v,C){},T.prototype.getChangedLines=function(v,C){},T.prototype.undo=function(v,C){this.lastDeltas=null;var S,O=this.$undoStack;if(function(N,z){for(var K=z;K--;){var Q=N[K];if(Q&&!Q[0].ignore){for(;K<z-1;){var ue=function(oe,pe){for(var F=oe.length;F--;)for(var U=0;U<pe.length;U++)if(!l(oe[F],pe[U])){for(;F<oe.length;){for(;U--;)l(pe[U],oe[F]);U=pe.length,F++}return[oe,pe]}return oe.selectionBefore=pe.selectionBefore=oe.selectionAfter=pe.selectionAfter=null,[pe,oe]}(N[K],N[K+1]);N[K]=ue[0],N[K+1]=ue[1],K++}return 1}}}(O,O.length))return v=v||this.$session,this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0,S=null,(O=O.pop())&&(S=v.undoChanges(O,C),this.$redoStack.push(O),this.$syncRev()),this.$fromUndo=!1,S},T.prototype.redo=function(v,C){if(this.lastDeltas=null,v=v||this.$session,this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){for(var Y=this.getDeltas(this.$redoStackBaseRev,this.$rev+1),S=this.$redoStack,O=Y,N=0;N<O.length;N++)for(var z=O[N],K=0;K<z.length;K++){Q=void 0,ue=void 0,oe=void 0,pe=void 0,F=void 0,U=void 0;var Q=S,ue=z[K];ue={start:y((fe=ue).start),end:y(fe.end),action:fe.action,lines:fe.lines.slice()};for(var oe=Q.length;oe--;){for(var pe=Q[oe],F=0;F<pe.length;F++){var U=function(fe,he){var Ae,ke,xe="insert"==fe.action,Ee="insert"==he.action;if(xe&&Ee)p(fe.start,he.start)<0?d(he,fe,1):d(fe,he,1);else if(xe&&!Ee)0<=p(fe.start,he.end)?d(fe,he,-1):(p(fe.start,he.start)<=0||d(fe,w.fromPoints(he.start,fe.start),-1),d(he,fe,1));else if(!xe&&Ee)0<=p(he.start,fe.end)?d(he,fe,-1):(p(he.start,fe.start)<=0||d(he,w.fromPoints(fe.start,he.start),-1),d(fe,he,1));else if(!xe&&!Ee)if(0<=p(he.start,fe.end))d(he,fe,-1);else{if(!(p(he.end,fe.start)<=0))return p(fe.start,he.start)<0&&(fe=f(Ae=fe,he.start)),0<p(fe.end,he.end)&&(ke=f(fe,he.end)),g(he.end,fe.start,fe.end,-1),ke&&!Ae&&(fe.lines=ke.lines,fe.start=ke.start,fe.end=ke.end,ke=fe),[he,Ae,ke].filter(Boolean);d(fe,he,-1)}return[he,fe]}(pe[F],ue);ue=U[0],2!=U.length&&(U[2]?(pe.splice(F+1,1,U[1],U[2]),F++):U[1]||(pe.splice(F,1),F--))}pe.length||Q.splice(oe,1)}}this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(ne){ne[0].id=++this.$maxRev},this)}var fe,W=null;return(Y=this.$redoStack.pop())&&(W=v.redoChanges(Y,C),this.$undoStack.push(Y),this.$syncRev()),this.$fromUndo=!1,W},T.prototype.$syncRev=function(){var v;this.$redoStackBaseRev=v=(v=(v=this.$undoStack)[v.length-1])&&v[0].id||0,this.$rev=v},T.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},T.prototype.canUndo=function(){return 0<this.$undoStack.length},T.prototype.canRedo=function(){return 0<this.$redoStack.length},T.prototype.bookmark=function(v){null==v&&(v=this.$rev),this.mark=v},T.prototype.isAtBookmark=function(){return this.$rev===this.mark},T.prototype.toJSON=function(){},T.prototype.fromJSON=function(){},T.prototype.$prettyPrint=function(v){return v?h(v):h(this.$undoStack)+"\n---\n"+h(this.$redoStack)};var I=T;function T(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}I.prototype.hasUndo=I.prototype.canUndo,I.prototype.hasRedo=I.prototype.canRedo,I.prototype.isClean=I.prototype.isAtBookmark,I.prototype.markClean=I.prototype.bookmark;var w=_("./range").Range,p=w.comparePoints;function y(v){return{row:v.row,column:v.column}}function h(v){var C;return v=v||this,Array.isArray(v)?v.map(h).join("\n"):(C="",v.action?(C="insert"==v.action?"+":"-",C+="["+v.lines+"]"):v.value&&(C=Array.isArray(v.value)?v.value.map(u).join("\n"):u(v.value)),v.start&&(C+=u(v)),(v.id||v.rev)&&(C+="\t("+(v.id||v.rev)+")"),C)}function u(v){return v.start.row+":"+v.start.column+"=>"+v.end.row+":"+v.end.column}function l(v,C){var S="insert"==v.action,O="insert"==C.action;if(S&&O)if(0<=p(C.start,v.end))d(C,v,-1);else{if(!(p(C.start,v.start)<=0))return;d(v,C,1)}else if(S&&!O)if(0<=p(C.start,v.end))d(C,v,-1);else{if(!(p(C.end,v.start)<=0))return;d(v,C,-1)}else if(!S&&O)if(0<=p(C.start,v.start))d(C,v,1);else{if(!(p(C.start,v.start)<=0))return;d(v,C,1)}else if(!S&&!O)if(0<=p(C.start,v.start))d(C,v,1);else{if(!(p(C.end,v.start)<=0))return;d(v,C,-1)}return 1}function d(v,C,S){g(v.start,C.start,C.end,S),g(v.end,C.start,C.end,S)}function g(v,C,S,O){v.row==(1==O?C:S).row&&(v.column+=O*(S.column-C.column)),v.row+=O*(S.row-C.row)}function f(v,C){var S=v.lines,O=v.end,z=(v.end=y(C),v.end.row-v.start.row),N=S.splice(z,S.length);return S.push(N[0].substring(0,z=z?C.column:C.column-v.start.column)),N[0]=N[0].substr(z),{start:y(C),end:O,lines:N,action:v.action}}m.UndoManager=I}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(_,m,D){"use strict";var I=_("../lib/dom");function T(w,p){this.element=w,this.canvasHeight=p||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}T.prototype.moveContainer=function(w){I.translate(this.element,0,-w.firstRowScreen*w.lineHeight%this.canvasHeight-w.offset*this.$offsetCoefficient)},T.prototype.pageChanged=function(w,p){return Math.floor(w.firstRowScreen*w.lineHeight/this.canvasHeight)!==Math.floor(p.firstRowScreen*p.lineHeight/this.canvasHeight)},T.prototype.computeLineTop=function(w,p,y){var h=p.firstRowScreen*p.lineHeight;return h=Math.floor(h/this.canvasHeight),y.documentToScreenRow(w,0)*p.lineHeight-h*this.canvasHeight},T.prototype.computeLineHeight=function(w,p,y){return p.lineHeight*y.getRowLineCount(w)},T.prototype.getLength=function(){return this.cells.length},T.prototype.get=function(w){return this.cells[w]},T.prototype.shift=function(){this.$cacheCell(this.cells.shift())},T.prototype.pop=function(){this.$cacheCell(this.cells.pop())},T.prototype.push=function(w){if(Array.isArray(w)){this.cells.push.apply(this.cells,w);for(var p=I.createFragment(this.element),y=0;y<w.length;y++)p.appendChild(w[y].element);this.element.appendChild(p)}else this.cells.push(w),this.element.appendChild(w.element)},T.prototype.unshift=function(w){if(Array.isArray(w)){this.cells.unshift.apply(this.cells,w);for(var p=I.createFragment(this.element),y=0;y<w.length;y++)p.appendChild(w[y].element);this.element.firstChild?this.element.insertBefore(p,this.element.firstChild):this.element.appendChild(p)}else this.cells.unshift(w),this.element.insertAdjacentElement("afterbegin",w.element)},T.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},T.prototype.$cacheCell=function(w){w&&(w.element.remove(),this.cellCache.push(w))},T.prototype.createCell=function(w,p,y,h){var u,l=this.cellCache.pop();return l||(u=I.createElement("div"),h&&h(u),this.element.appendChild(u),l={element:u,text:"",row:w}),l.row=w,l},m.Lines=T}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(u,m,D){"use strict";var I=u("../lib/dom"),T=u("../lib/oop"),w=u("../lib/lang"),p=u("../lib/event_emitter").EventEmitter,y=u("./lines").Lines,h=u("../config").nls;function l(g){this.element=I.createElement("div"),this.element.className="ace_layer ace_gutter-layer",g.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new y(this.element),this.$lines.$offsetCoefficient=1}function d(g){var f=document.createTextNode(""),v=(g.appendChild(f),f=I.createElement("span"),g.appendChild(f),f=I.createElement("span"),g.appendChild(f),I.createElement("span"));return f.appendChild(v),g}(l.prototype.setSession=function(g){this.session&&this.session.off("change",this.$updateAnnotations),(this.session=g)&&g.on("change",this.$updateAnnotations)},l.prototype.addGutterDecoration=function(g,f){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(g,f)},l.prototype.removeGutterDecoration=function(g,f){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(g,f)},l.prototype.setAnnotations=function(g){this.$annotations=[];for(var f=0;f<g.length;f++){var v=g[f],C=(C=this.$annotations[O=v.row])||(this.$annotations[O]={text:[],type:[]}),S=v.type,O=(O=v.text)?w.escapeHTML(O):v.html||"";-1===C.text.indexOf(O)&&(C.text.push(O),C.type.push(S)),(O=v.className)?C.className=O:"error"==S?C.className=" ace_error":"warning"==S&&" ace_error"!=C.className?C.className=" ace_warning":"info"!=S||C.className||(C.className=" ace_info")}},l.prototype.$updateAnnotations=function(g){var f,v;this.$annotations.length&&0!=(v=g.end.row-(f=g.start.row))&&("remove"==g.action?this.$annotations.splice(f,1+v,null):((g=new Array(1+v)).unshift(f,1),this.$annotations.splice.apply(this.$annotations,g)))},l.prototype.update=function(g){this.config=g;for(var f=this.session,v=g.firstRow,C=Math.min(g.lastRow+g.gutterOffset,f.getLength()-1),S=(this.oldLastRow=C,this.config=g,this.$lines.moveContainer(g),this.$updateCursorRow(),f.getNextFoldLine(v)),O=S?S.start.row:1/0,N=null,z=-1,K=v;;){if(O<K&&(O=(S=f.getNextFoldLine(K=S.end.row+1,S))?S.start.row:1/0),C<K){for(;this.$lines.getLength()>z+1;)this.$lines.pop();break}(N=this.$lines.get(++z))?N.row=K:(N=this.$lines.createCell(K,g,this.session,d),this.$lines.push(N)),this.$renderCell(N,g,S,K),K++}this._signal("afterRender"),this.$updateGutterWidth(g)},l.prototype.$updateGutterWidth=function(g){var f=this.session,S=f.gutterRenderer||this.$renderer,C=f.$firstLineNumber,v=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||f.$useWrapMode)&&(v=f.getLength()+C-1),C=S?S.getWidth(f,v,g):v.toString().length*g.characterWidth,(C+=(S=this.$padding||this.$computePadding()).left+S.right)===this.gutterWidth||isNaN(C)||(this.gutterWidth=C,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",C))},l.prototype.$updateCursorRow=function(){var g;this.$highlightGutterLine&&(g=this.session.selection.getCursor(),this.$cursorRow!==g.row)&&(this.$cursorRow=g.row)},l.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var g=this.session.selection.cursor.row;if(this.$cursorRow=g,!this.$cursorCell||this.$cursorCell.row!=g){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var f=this.$lines.cells;this.$cursorCell=null;for(var v=0;v<f.length;v++){var C=f[v];if(C.row>=this.$cursorRow){if(C.row>this.$cursorRow){var S=this.session.getFoldLine(this.$cursorRow);if(!(0<v&&S&&S.start.row==f[v-1].row))break;C=f[v-1]}C.element.className="ace_gutter-active-line "+C.element.className,this.$cursorCell=C;break}}}}},l.prototype.scrollLines=function(g){var f=this.config;if(this.config=g,this.$updateCursorRow(),this.$lines.pageChanged(f,g))return this.update(g);this.$lines.moveContainer(g);var v=Math.min(g.lastRow+g.gutterOffset,this.session.getLength()-1),C=this.oldLastRow;if(this.oldLastRow=v,!f||C<g.firstRow)return this.update(g);if(v<f.firstRow)return this.update(g);if(f.firstRow<g.firstRow)for(var S=this.session.getFoldedRowCount(f.firstRow,g.firstRow-1);0<S;S--)this.$lines.shift();if(v<C)for(S=this.session.getFoldedRowCount(v+1,C);0<S;S--)this.$lines.pop();g.firstRow<f.firstRow&&this.$lines.unshift(this.$renderLines(g,g.firstRow,f.firstRow-1)),C<v&&this.$lines.push(this.$renderLines(g,C+1,v)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(g)},l.prototype.$renderLines=function(g,f,v){for(var C=[],S=f,O=this.session.getNextFoldLine(S),N=O?O.start.row:1/0;N<S&&(N=(O=this.session.getNextFoldLine(S=O.end.row+1,O))?O.start.row:1/0),!(v<S);){var z=this.$lines.createCell(S,g,this.session,d);this.$renderCell(z,g,O,S),C.push(z),S++}return C},l.prototype.$renderCell=function(g,f,v,C){var S,O=g.element,N=this.session,z=O.childNodes[0],K=O.childNodes[1],Q=O.childNodes[2],ue=Q.firstChild,oe=N.$firstLineNumber,pe=N.$breakpoints,F=N.$decorations,he=N.gutterRenderer||this.$renderer,U=this.$showFoldWidgets&&N.foldWidgets,Y=v?v.start.row:Number.MAX_VALUE,W=f.lineHeight+"px",ne=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",fe=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon";if(he=(he?he.getText(N,C):C+oe).toString(),this.$highlightGutterLine&&(C==this.$cursorRow||v&&C<this.$cursorRow&&Y<=C&&this.$cursorRow<=v.end.row)&&(ne+="ace_gutter-active-line ",this.$cursorCell!=g)&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=g),pe[C]&&(ne+=pe[C]),F[C]&&(ne+=F[C]),this.$annotations[C]&&C!==Y&&(ne+=this.$annotations[C].className),O.className!=ne&&(O.className=ne),S=U&&null==(S=U[C])?U[C]=N.getFoldWidget(C):S){if(ne="ace_fold-widget ace_"+S,"start"==S&&C==Y&&C<v.end.row){ne+=" ace_closed";for(var Ae,ke=!1,xe=C+1;xe<=v.end.row;xe++)if(this.$annotations[xe]){if(" ace_error"===this.$annotations[xe].className){ke=!0,Ae=" ace_error_fold";break}" ace_warning"===this.$annotations[xe].className&&(ke=!0,Ae=" ace_warning_fold")}O.className+=Ae}else ne+=" ace_open";K.className!=ne&&(K.className=ne),I.setStyle(K.style,"height",W),I.setStyle(K.style,"display","inline-block"),K.setAttribute("role","button"),K.setAttribute("tabindex","-1"),(v=N.getFoldLine(he-1))?(K.setAttribute("aria-label",h("Unfold rows $0 to $1",[he,v.end.row+1])),K.setAttribute("title",h("Unfold code"))):(K.setAttribute("aria-label",h("Fold at row $0",[he])),K.setAttribute("title",h("Fold code")))}else K&&(I.setStyle(K.style,"display","none"),K.setAttribute("tabindex","0"),K.removeAttribute("role"),K.removeAttribute("aria-label"));return ke&&this.$showFoldedAnnotations?(Q.className="ace_gutter_annotation",ue.className=fe,ue.className+=Ae,I.setStyle(ue.style,"height",W),I.setStyle(Q.style,"display","block"),I.setStyle(Q.style,"height",W),Q.setAttribute("aria-label",h("Read annotations row $0",[he])),Q.setAttribute("tabindex","-1")):this.$annotations[C]?(Q.className="ace_gutter_annotation",ue.className=fe,this.$useSvgGutterIcons?ue.className+=this.$annotations[C].className:O.classList.add(this.$annotations[C].className.replace(" ","")),I.setStyle(ue.style,"height",W),I.setStyle(Q.style,"display","block"),I.setStyle(Q.style,"height",W),Q.setAttribute("aria-label",h("Read annotations row $0",[he])),Q.setAttribute("tabindex","-1")):(I.setStyle(Q.style,"display","none"),Q.removeAttribute("aria-label"),Q.setAttribute("tabindex","0")),he!==z.data&&(z.data=he),I.setStyle(g.element.style,"height",this.$lines.computeLineHeight(C,f,N)+"px"),I.setStyle(g.element.style,"top",this.$lines.computeLineTop(C,f,N)+"px"),g.text=he,g.element.setAttribute("aria-hidden","none"===Q.style.display&&"none"===K.style.display),g},l.prototype.setHighlightGutterLine=function(g){this.$highlightGutterLine=g},l.prototype.setShowLineNumbers=function(g){this.$renderer=!g&&{getWidth:function(){return 0},getText:function(){return""}}},l.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},l.prototype.setShowFoldWidgets=function(g){g?I.addCssClass(this.element,"ace_folding-enabled"):I.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=g,this.$padding=null},l.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},l.prototype.$computePadding=function(){var g;return this.element.firstChild?(g=I.computedStyle(this.element.firstChild),this.$padding={},this.$padding.left=(parseInt(g.borderLeftWidth)||0)+(parseInt(g.paddingLeft)||0)+1,this.$padding.right=(parseInt(g.borderRightWidth)||0)+(parseInt(g.paddingRight)||0),this.$padding):{left:0,right:0}},l.prototype.getRegion=function(g){var f=this.$padding||this.$computePadding(),v=this.element.getBoundingClientRect();return g.x<f.left+v.left?"markers":this.$showFoldWidgets&&g.x>v.right-f.right?"foldWidgets":void 0},u=l).prototype.$fixedWidth=!1,u.prototype.$highlightGutterLine=!0,u.prototype.$renderer="",u.prototype.$showLineNumbers=!0,u.prototype.$showFoldWidgets=!0,T.implement(u.prototype,p),m.Gutter=u}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(w,m,D){"use strict";var I=w("../range").Range,T=w("../lib/dom");function p(y){this.element=T.createElement("div"),this.element.className="ace_layer ace_marker-layer",y.appendChild(this.element)}(p.prototype.setPadding=function(y){this.$padding=y},p.prototype.setSession=function(y){this.session=y},p.prototype.setMarkers=function(y){this.markers=y},p.prototype.elt=function(y,h){var u=-1!=this.i&&this.element.childNodes[this.i];u?this.i++:(u=document.createElement("div"),this.element.appendChild(u),this.i=-1),u.style.cssText=h,u.className=y},p.prototype.update=function(y){if(y){var h,u;for(u in this.config=y,this.i=0,this.markers){var l,g,f=this.markers[u];f.range?(g=f.range.clipRows(y.firstRow,y.lastRow)).isEmpty()||(g=g.toScreenRange(this.session),f.renderer?(l=this.$getTop(g.start.row,y),f.renderer(h,g,this.$padding+g.start.column*y.characterWidth,l,y)):"fullLine"==f.type?this.drawFullLineMarker(h,g,f.clazz,y):"screenLine"==f.type?this.drawScreenLineMarker(h,g,f.clazz,y):g.isMultiLine()?"text"==f.type?this.drawTextMarker(h,g,f.clazz,y):this.drawMultiLineMarker(h,g,f.clazz,y):this.drawSingleLineMarker(h,g,f.clazz+" ace_start ace_br15",y)):f.update(h,this,this.session,y)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},p.prototype.$getTop=function(y,h){return(y-h.firstRowScreen)*h.lineHeight},p.prototype.drawTextMarker=function(y,h,u,l,d){for(var g,f=this.session,v=h.start.row,C=h.end.row,S=v,O=0,N=f.getScreenLastRowColumn(S),z=new I(S,h.start.column,S,O);S<=C;S++)z.start.row=z.end.row=S,z.start.column=S==v?h.start.column:f.getRowWrapIndent(S),z.end.column=N,g=O,O=N,N=S+1<C?f.getScreenLastRowColumn(S+1):S==C?0:h.end.column,this.drawSingleLineMarker(y,z,u+(S==v?" ace_start":"")+" ace_br"+((S==v||S==v+1&&h.start.column?1:0)|(g<O?2:0)|(N<O?4:0)|(S==C?8:0)),l,S==C?0:1,d)},p.prototype.drawMultiLineMarker=function(y,h,u,l,d){var g,f=this.$padding,v=l.lineHeight,C=this.$getTop(h.start.row,l),S=f+h.start.column*l.characterWidth;d=d||"",this.session.$bidiHandler.isBidiRow(h.start.row)?((g=h.clone()).end.row=g.start.row,g.end.column=this.session.getLine(g.start.row).length,this.drawBidiSingleLineMarker(y,g,u+" ace_br1 ace_start",l,null,d)):this.elt(u+" ace_br1 ace_start","height:"+v+"px;right:0;top:"+C+"px;left:"+S+"px;"+(d||"")),this.session.$bidiHandler.isBidiRow(h.end.row)?((g=h.clone()).start.row=g.end.row,g.start.column=0,this.drawBidiSingleLineMarker(y,g,u+" ace_br12",l,null,d)):(C=this.$getTop(h.end.row,l),this.elt(u+" ace_br12","height:"+v+"px;width:"+(S=h.end.column*l.characterWidth)+"px;top:"+C+"px;left:"+f+"px;"+(d||""))),(v=(h.end.row-h.start.row-1)*l.lineHeight)<=0||(C=this.$getTop(h.start.row+1,l),this.elt(u+((y=(h.start.column?1:0)|(h.end.column?0:8))?" ace_br"+y:""),"height:"+v+"px;right:0;top:"+C+"px;left:"+f+"px;"+(d||"")))},p.prototype.drawSingleLineMarker=function(f,S,u,l,v,g){if(this.session.$bidiHandler.isBidiRow(S.start.row))return this.drawBidiSingleLineMarker(f,S,u,l,v,g);f=l.lineHeight,v=(S.end.column+(v||0)-S.start.column)*l.characterWidth;var C=this.$getTop(S.start.row,l);this.elt(u,"height:"+f+"px;width:"+v+"px;top:"+C+"px;left:"+(S=this.$padding+S.start.column*l.characterWidth)+"px;"+(g||""))},p.prototype.drawBidiSingleLineMarker=function(y,h,u,l,d,g){var f=l.lineHeight,v=this.$getTop(h.start.row,l),C=this.$padding;this.session.$bidiHandler.getSelections(h.start.column,h.end.column).forEach(function(S){this.elt(u,"height:"+f+"px;width:"+(S.width+(d||0))+"px;top:"+v+"px;left:"+(C+S.left)+"px;"+(g||""))},this)},p.prototype.drawFullLineMarker=function(y,h,u,l,d){var g=this.$getTop(h.start.row,l),f=l.lineHeight;h.start.row!=h.end.row&&(f+=this.$getTop(h.end.row,l)-g),this.elt(u,"height:"+f+"px;top:"+g+"px;left:0;right:0;"+(d||""))},p.prototype.drawScreenLineMarker=function(y,h,u,l,d){h=this.$getTop(h.start.row,l),this.elt(u,"height:"+(l=l.lineHeight)+"px;top:"+h+"px;left:0;right:0;"+(d||""))},w=p).prototype.$padding=0,m.Marker=w}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(y,m,D){"use strict";var I=y("../lib/oop"),T=y("../lib/dom"),w=y("../lib/lang"),p=y("./lines").Lines,h=(y=y("../lib/event_emitter").EventEmitter,u.prototype.$updateEolChar=function(){var l="\n"==(l=this.session.doc).getNewLineCharacter()&&"windows"!=l.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=l)return this.EOL_CHAR=l,!0},u.prototype.setPadding=function(l){this.$padding=l,this.element.style.margin="0 "+l+"px"},u.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},u.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},u.prototype.$setFontMetrics=function(l){this.$fontMetrics=l,this.$fontMetrics.on("changeCharacterSize",function(d){this._signal("changeCharacterSize",d)}.bind(this)),this.$pollSizeChanges()},u.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},u.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},u.prototype.setSession=function(l){(this.session=l)&&this.$computeTabString()},u.prototype.setShowInvisibles=function(l){return this.showInvisibles!=l&&("string"==typeof(this.showInvisibles=l)?(this.showSpaces=/tab/i.test(l),this.showTabs=/space/i.test(l),this.showEOL=/eol/i.test(l)):this.showSpaces=this.showTabs=this.showEOL=l,this.$computeTabString(),!0)},u.prototype.setDisplayIndentGuides=function(l){return this.displayIndentGuides!=l&&(this.displayIndentGuides=l,this.$computeTabString(),!0)},u.prototype.setHighlightIndentGuides=function(l){return this.$highlightIndentGuides!==l&&(this.$highlightIndentGuides=l)},u.prototype.$computeTabString=function(){for(var l,d,g,f,v,C,S=this.session.getTabSize(),O=(this.tabSize=S,this.$tabStrings=[0]),N=1;N<S+1;N++)this.showTabs?((C=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",C.textContent=w.stringRepeat(this.TAB_CHAR,N),O.push(C)):O.push(this.dom.createTextNode(w.stringRepeat(" ",N),this.element));this.displayIndentGuides&&(this.$indentGuideRe=/\s\S| \t|\t |\s$/,l="ace_indent-guide",d=this.showSpaces?" ace_invisible ace_invisible_space":"",g=w.stringRepeat(this.showSpaces?this.SPACE_CHAR:" ",this.tabSize),f=this.showTabs?" ace_invisible ace_invisible_tab":"",v=this.showTabs?w.stringRepeat(this.TAB_CHAR,this.tabSize):g,(C=this.dom.createElement("span")).className=l+d,C.textContent=g,this.$tabStrings[" "]=C,(C=this.dom.createElement("span")).className=l+f,C.textContent=v,this.$tabStrings["\t"]=C)},u.prototype.updateLines=function(l,d,g){if(this.config.lastRow!=l.lastRow||this.config.firstRow!=l.firstRow)return this.update(l);this.config=l;for(var f=Math.max(d,l.firstRow),v=Math.min(g,l.lastRow),C=this.element.childNodes,S=0,O=l.firstRow;O<f;O++){if(N=this.session.getFoldLine(O)){if(N.containsRow(f)){f=N.start.row;break}O=N.end.row}S++}for(var N,z=!1,K=(N=this.session.getNextFoldLine(O=f))?N.start.row:1/0;K<O&&(K=(N=this.session.getNextFoldLine(O=N.end.row+1,N))?N.start.row:1/0),!(v<O);){var Q,ue=C[S++];ue&&(this.dom.removeChildren(ue),this.$renderLine(ue,O,O==K&&N),z&&(ue.style.top=this.$lines.computeLineTop(O,l,this.session)+"px"),Q=l.lineHeight*this.session.getRowLength(O)+"px",ue.style.height!=Q)&&(z=!0,ue.style.height=Q),O++}if(z)for(;S<this.$lines.cells.length;){var oe=this.$lines.cells[S++];oe.element.style.top=this.$lines.computeLineTop(oe.row,l,this.session)+"px"}},u.prototype.scrollLines=function(l){var d=this.config;if(this.config=l,this.$lines.pageChanged(d,l))return this.update(l);this.$lines.moveContainer(l);var g=l.lastRow;if(!d||(d?d.lastRow:-1)<l.firstRow)return this.update(l);if(g<d.firstRow)return this.update(l);if(!d||d.lastRow<l.firstRow)return this.update(l);if(l.lastRow<d.firstRow)return this.update(l);if(d.firstRow<l.firstRow)for(var v=this.session.getFoldedRowCount(d.firstRow,l.firstRow-1);0<v;v--)this.$lines.shift();if(d.lastRow>l.lastRow)for(v=this.session.getFoldedRowCount(l.lastRow+1,d.lastRow);0<v;v--)this.$lines.pop();l.firstRow<d.firstRow&&this.$lines.unshift(this.$renderLinesFragment(l,l.firstRow,d.firstRow-1)),l.lastRow>d.lastRow&&this.$lines.push(this.$renderLinesFragment(l,d.lastRow+1,l.lastRow)),this.$highlightIndentGuide()},u.prototype.$renderLinesFragment=function(l,d,g){for(var f=[],v=d,C=this.session.getNextFoldLine(v),S=C?C.start.row:1/0;S<v&&(S=(C=this.session.getNextFoldLine(v=C.end.row+1,C))?C.start.row:1/0),!(g<v);){var O=this.$lines.createCell(v,l,this.session),N=O.element;this.dom.removeChildren(N),T.setStyle(N.style,"height",this.$lines.computeLineHeight(v,l,this.session)+"px"),T.setStyle(N.style,"top",this.$lines.computeLineTop(v,l,this.session)+"px"),this.$renderLine(N,v,v==S&&C),N.className=this.$useLineGroups()?"ace_line_group":"ace_line",f.push(O),v++}return f},u.prototype.update=function(l){this.$lines.moveContainer(l);for(var d=(this.config=l).firstRow,g=l.lastRow,f=this.$lines;f.getLength();)f.pop();f.push(this.$renderLinesFragment(l,d,g))},u.prototype.$renderToken=function(l,d,g,f){for(var v,C,S=this,O=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,N=this.dom.createFragment(this.element),z=0;v=O.exec(f);){var K,Q,ue=v[1],oe=v[2],pe=v[3],F=v[4],U=v[5];!S.showSpaces&&oe||(K=z!=v.index?f.slice(z,v.index):"",z=v.index+v[0].length,K&&N.appendChild(this.dom.createTextNode(K,this.element)),ue?(K=S.session.getScreenTabSize(d+v.index),N.appendChild(S.$tabStrings[K].cloneNode(!0)),d+=K-1):oe?S.showSpaces?((Q=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",Q.textContent=w.stringRepeat(S.SPACE_CHAR,oe.length),N.appendChild(Q)):N.appendChild(this.com.createTextNode(oe,this.element)):pe?((Q=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",Q.textContent=w.stringRepeat(S.SPACE_CHAR,pe.length),N.appendChild(Q)):F?(d+=1,(Q=this.dom.createElement("span")).style.width=2*S.config.characterWidth+"px",Q.className=S.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",Q.textContent=S.showSpaces?S.SPACE_CHAR:F,N.appendChild(Q)):U&&(d+=1,(Q=this.dom.createElement("span")).style.width=2*S.config.characterWidth+"px",Q.className="ace_cjk",Q.textContent=U,N.appendChild(Q)))}return N.appendChild(this.dom.createTextNode(z?f.slice(z):f,this.element)),this.$textToken[g.type]?l.appendChild(N):(C="ace_"+g.type.replace(/\./g," ace_"),Q=this.dom.createElement("span"),"fold"==g.type&&(Q.style.width=g.value.length*this.config.characterWidth+"px",Q.setAttribute("title","Unfold code")),Q.className=C,Q.appendChild(N),l.appendChild(Q)),d+f.length},u.prototype.renderIndentGuide=function(l,d,g){var f=d.search(this.$indentGuideRe);if(!(f<=0||g<=f)){if(" "==d[0]){for(var v=(f-=f%this.tabSize)/this.tabSize,C=0;C<v;C++)l.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),d.substr(f)}if("\t"==d[0]){for(C=0;C<f;C++)l.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),d.substr(f)}this.$highlightIndentGuide()}return d},u.prototype.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var l=this.session.doc.$lines;if(l){var d=this.session.selection.getCursor(),g=/^\s*/.exec(this.session.doc.getLine(d.row))[0].length,f=Math.floor(g/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:f,start:d.row},this.session.$bracketHighlight)for(var v=this.session.$bracketHighlight.ranges,C=0;C<v.length;C++)if(d.row!==v[C].start.row){this.$highlightIndentGuideMarker.end=v[C].start.row,this.$highlightIndentGuideMarker.dir=d.row>v[C].start.row?-1:1;break}if(!this.$highlightIndentGuideMarker.end&&""!==l[d.row]&&d.column===l[d.row].length)for(this.$highlightIndentGuideMarker.dir=1,C=d.row+1;C<l.length;C++){var S=l[C],O=/^\s*/.exec(S)[0].length;if(""!==S&&(this.$highlightIndentGuideMarker.end=C,O<=g))break}this.$renderHighlightIndentGuide()}}},u.prototype.$clearActiveIndentGuide=function(){for(var l=this.$lines.cells,d=0;d<l.length;d++){var g=l[d].element.childNodes;if(0<g.length)for(var f=0;f<g.length;f++)if(g[f].classList&&g[f].classList.contains("ace_indent-guide-active")){g[f].classList.remove("ace_indent-guide-active");break}}},u.prototype.$setIndentGuideActive=function(l,d){""!==this.session.doc.getLine(l.row)&&(l=l.element.childNodes)&&(l=l[d-1])&&l.classList&&l.classList.contains("ace_indent-guide")&&l.classList.add("ace_indent-guide-active")},u.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var l=this.$lines.cells,d=(this.$clearActiveIndentGuide(),this.$highlightIndentGuideMarker.indentLevel);if(0!==d)if(1===this.$highlightIndentGuideMarker.dir)for(var g=0;g<l.length;g++){var f=l[g];if(this.$highlightIndentGuideMarker.end&&f.row>=this.$highlightIndentGuideMarker.start+1){if(f.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(f,d)}}else for(g=l.length-1;0<=g;g--)if(f=l[g],this.$highlightIndentGuideMarker.end&&f.row<this.$highlightIndentGuideMarker.start){if(f.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(f,d)}}},u.prototype.$createLineElement=function(l){var d=this.dom.createElement("div");return d.className="ace_line",d.style.height=this.config.lineHeight+"px",d},u.prototype.$renderWrappedLine=function(l,d,g){var f=0,v=0,C=g[0],S=0,O=this.$createLineElement();l.appendChild(O);for(var N=0;N<d.length;N++){var z=d[N],K=z.value;if(0==N&&this.displayIndentGuides){if(f=K.length,!(K=this.renderIndentGuide(O,K,C)))continue;f-=K.length}if(f+K.length<C)S=this.$renderToken(O,S,z,K),f+=K.length;else{for(;f+K.length>=C;)S=this.$renderToken(O,S,z,K.substring(0,C-f)),K=K.substring(C-f),f=C,O=this.$createLineElement(),l.appendChild(O),O.appendChild(this.dom.createTextNode(w.stringRepeat("\xa0",g.indent),this.element)),S=0,C=g[++v]||Number.MAX_VALUE;0!=K.length&&(f+=K.length,S=this.$renderToken(O,S,z,K))}}g[g.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(O,S,null,"",!0)},u.prototype.$renderSimpleLine=function(l,d){for(var g=0,f=0;f<d.length;f++){var v=d[f],C=v.value;if(0!=f||!this.displayIndentGuides||(C=this.renderIndentGuide(l,C))){if(g+C.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(l,g,v,C);g=this.$renderToken(l,g,v,C)}}},u.prototype.$renderOverflowMessage=function(l,d,g,f,v){g&&this.$renderToken(l,d,g,f.slice(0,this.MAX_LINE_LENGTH-d)),(g=this.dom.createElement("span")).className="ace_inline_button ace_keyword ace_toggle_wrap",g.textContent=v?"<hide>":"<click to see more...>",l.appendChild(g)},u.prototype.$renderLine=function(l,d,g){var f,v,C=l;(f=(g=g||0==g?g:this.session.getFoldLine(d))?this.$getFoldLineTokens(d,g):this.session.getTokens(d)).length?(v=this.session.getRowSplitData(d))&&v.length?(this.$renderWrappedLine(l,f,v),C=l.lastChild):(C=l,this.$useLineGroups()&&(C=this.$createLineElement(),l.appendChild(C)),this.$renderSimpleLine(C,f)):this.$useLineGroups()&&(C=this.$createLineElement(),l.appendChild(C)),this.showEOL&&C&&(g&&(d=g.end.row),(v=this.dom.createElement("span")).className="ace_invisible ace_invisible_eol",v.textContent=d==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,C.appendChild(v))},u.prototype.$getFoldLineTokens=function(l,d){var g=this.session,f=[],v=g.getTokens(l);return d.walk(function(C,S,O,N,z){if(null!=C)f.push({type:"fold",value:C});else if((v=z?g.getTokens(S):v).length){for(var K,Q=v,ue=N,oe=O,pe=0,F=0;F+Q[pe].value.length<ue;)if(F+=Q[pe].value.length,++pe==Q.length)return;for(F!=ue&&((K=Q[pe].value.substring(ue-F)).length>oe-ue&&(K=K.substring(0,oe-ue)),f.push({type:Q[pe].type,value:K}),F=ue+K.length,pe+=1);F<oe&&pe<Q.length;)(K=Q[pe].value).length+F>oe?f.push({type:Q[pe].type,value:K.substring(0,oe-F)}):f.push(Q[pe]),F+=K.length,pe+=1}},d.end.row,this.session.getLine(d.end.row).length),f},u.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},u);function u(l){this.dom=T,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",l.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new p(this.element)}h.prototype.$textToken={text:!0,rparen:!0,lparen:!0},h.prototype.EOF_CHAR="\xb6",h.prototype.EOL_CHAR_LF="\xac",h.prototype.EOL_CHAR_CRLF="\xa4",h.prototype.EOL_CHAR=h.prototype.EOL_CHAR_LF,h.prototype.TAB_CHAR="\u2014",h.prototype.SPACE_CHAR="\xb7",h.prototype.$padding=0,h.prototype.MAX_LINE_LENGTH=1e4,h.prototype.showInvisibles=!1,h.prototype.showSpaces=!1,h.prototype.showTabs=!1,h.prototype.showEOL=!1,h.prototype.displayIndentGuides=!0,h.prototype.$highlightIndentGuides=!0,h.prototype.$tabStrings=[],h.prototype.destroy={},h.prototype.onChangeTabSize=h.prototype.$computeTabString,I.implement(h.prototype,y),m.Text=h}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(T,m,D){"use strict";var I=T("../lib/dom");function w(p){this.element=I.createElement("div"),this.element.className="ace_layer ace_cursor-layer",p.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),I.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}(w.prototype.$updateOpacity=function(p){for(var y=this.cursors,h=y.length;h--;)I.setStyle(y[h].style,"opacity",p?"":"0")},w.prototype.$startCssAnimation=function(){for(var p=this.cursors,y=p.length;y--;)p[y].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&I.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},w.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,I.removeCssClass(this.element,"ace_animate-blinking")},w.prototype.setPadding=function(p){this.$padding=p},w.prototype.setSession=function(p){this.session=p},w.prototype.setBlinking=function(p){p!=this.isBlinking&&(this.isBlinking=p,this.restartTimer())},w.prototype.setBlinkInterval=function(p){p!=this.blinkInterval&&(this.blinkInterval=p,this.restartTimer())},w.prototype.setSmoothBlinking=function(p){p!=this.smoothBlinking&&(this.smoothBlinking=p,I.setCssClass(this.element,"ace_smooth-blinking",p),this.$updateCursors(!0),this.restartTimer())},w.prototype.addCursor=function(){var p=I.createElement("div");return p.className="ace_cursor",this.element.appendChild(p),this.cursors.push(p),p},w.prototype.removeCursor=function(){var p;if(1<this.cursors.length)return(p=this.cursors.pop()).parentNode.removeChild(p),p},w.prototype.hideCursor=function(){this.isVisible=!1,I.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},w.prototype.showCursor=function(){this.isVisible=!0,I.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},w.prototype.restartTimer=function(){var p,y=this.$updateCursors;clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,I.removeCssClass(this.element,"ace_smooth-blinking")),y(!0),this.isBlinking&&this.blinkInterval&&this.isVisible?(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&I.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),I.HAS_CSS_ANIMATION?this.$startCssAnimation():(p=function(){this.timeoutId=setTimeout(function(){y(!1)},.6*this.blinkInterval)}.bind(this),this.intervalId=setInterval(function(){y(!0),p()},this.blinkInterval),p())):this.$stopCssAnimation()},w.prototype.getPixelPosition=function(p,y){if(!this.config||!this.session)return{left:0,top:0};p=p||this.session.selection.getCursor();var h=this.session.documentToScreenPosition(p);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(h.row,p.row)?this.session.$bidiHandler.getPosLeft(h.column):h.column*this.config.characterWidth),top:(h.row-(y?this.config.firstRowScreen:0))*this.config.lineHeight}},w.prototype.isCursorInView=function(p,y){return 0<=p.top&&p.top<y.maxHeight},w.prototype.update=function(p){this.config=p;for(var y=this.session.$selectionMarkers,u=0,h=0,l=(u=0,(y=void 0!==y&&0!==y.length?y:[{cursor:null}]).length);u<l;u++){var d,g,f=this.getPixelPosition(y[u].cursor,!0);(f.top>p.height+p.offset||f.top<0)&&1<u||(g=(d=this.cursors[h++]||this.addCursor()).style,this.drawCursor?this.drawCursor(d,f,p,y[u],this.session):this.isCursorInView(f,p)?(I.setStyle(g,"display","block"),I.translate(d,f.left,f.top),I.setStyle(g,"width",Math.round(p.characterWidth)+"px"),I.setStyle(g,"height",p.lineHeight+"px")):I.setStyle(g,"display","none"))}for(;this.cursors.length>h;)this.removeCursor();var v=this.session.getOverwrite();this.$setOverwrite(v),this.$pixelPos=f,this.restartTimer()},w.prototype.$setOverwrite=function(p){p!=this.overwrite&&((this.overwrite=p)?I.addCssClass(this.element,"ace_overwrite-cursors"):I.removeCssClass(this.element,"ace_overwrite-cursors"))},w.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},T=w).prototype.$padding=0,T.prototype.drawCursor=null,m.Cursor=T}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(f,m,D){"use strict";var I,u,g,T=this&&this.__extends||(I=function(C,S){return(I=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(O,N){O.__proto__=N}:function(O,N){for(var z in N)Object.prototype.hasOwnProperty.call(N,z)&&(O[z]=N[z])}))(C,S)},function(C,S){if("function"!=typeof S&&null!==S)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function O(){this.constructor=C}I(C,S),C.prototype=null===S?Object.create(S):(O.prototype=S.prototype,new O)}),l=f("./lib/oop"),w=f("./lib/dom"),p=f("./lib/event"),y=(f=f("./lib/event_emitter").EventEmitter,h.prototype.setVisible=function(C){this.element.style.display=C?"":"none",this.isVisible=C,this.coeff=1},h);function h(C,S){this.element=w.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+S,this.inner=w.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xa0",this.element.appendChild(this.inner),C.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,p.addListener(this.element,"scroll",this.onScroll.bind(this)),p.addListener(this.element,"mousedown",p.preventDefault)}function d(C,S){var O=u.call(this,C,"-v")||this;return O.scrollTop=0,O.scrollHeight=0,S.$scrollbarWidth=O.width=w.scrollbarWidth(C.ownerDocument),O.inner.style.width=O.element.style.width=(O.width||15)+5+"px",O.$minWidth=0,O}function v(C,S){return(C=g.call(this,C,"-h")||this).scrollLeft=0,C.height=S.$scrollbarWidth,C.inner.style.height=C.element.style.height=(C.height||15)+5+"px",C}l.implement(y.prototype,f),T(d,u=y),d.prototype.onScroll=function(){var C;this.skipEvent||(this.scrollTop=this.element.scrollTop,1!=this.coeff&&(this.scrollTop=this.scrollTop*(1-(C=this.element.clientHeight/this.scrollHeight))/(this.coeff-C)),this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},d.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},d.prototype.setHeight=function(C){this.element.style.height=C+"px"},d.prototype.setScrollHeight=function(C){32768<(this.scrollHeight=C)?(this.coeff=32768/C,C=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=C+"px"},d.prototype.setScrollTop=function(C){this.scrollTop!=C&&(this.skipEvent=!0,this.scrollTop=C,this.element.scrollTop=C*this.coeff)},(l=d).prototype.setInnerHeight=l.prototype.setScrollHeight,T(v,g=y),v.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},v.prototype.getHeight=function(){return this.isVisible?this.height:0},v.prototype.setWidth=function(C){this.element.style.width=C+"px"},v.prototype.setInnerWidth=function(C){this.inner.style.width=C+"px"},v.prototype.setScrollWidth=function(C){this.inner.style.width=C+"px"},v.prototype.setScrollLeft=function(C){this.scrollLeft!=C&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=C)},f=v,m.ScrollBar=l,m.ScrollBarV=l,m.ScrollBarH=f,m.VScrollBar=l,m.HScrollBar=f}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(f,m,D){"use strict";var I,u,g,T=this&&this.__extends||(I=function(C,S){return(I=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(O,N){O.__proto__=N}:function(O,N){for(var z in N)Object.prototype.hasOwnProperty.call(N,z)&&(O[z]=N[z])}))(C,S)},function(C,S){if("function"!=typeof S&&null!==S)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function O(){this.constructor=C}I(C,S),C.prototype=null===S?Object.create(S):(O.prototype=S.prototype,new O)}),l=f("./lib/oop"),w=f("./lib/dom"),p=f("./lib/event"),y=(f=f("./lib/event_emitter").EventEmitter,w.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1),h.prototype.setVisible=function(C){this.element.style.display=C?"":"none",this.isVisible=C,this.coeff=1},h);function h(C,S){this.element=w.createElement("div"),this.element.className="ace_sb"+S,this.inner=w.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,C.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,p.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}function d(C,S){var O=u.call(this,C,"-v")||this;return O.scrollTop=0,O.scrollHeight=0,O.parent=C,O.width=O.VScrollWidth,O.renderer=S,O.inner.style.width=O.element.style.width=(O.width||15)+"px",O.$minWidth=0,O}function v(C,S){return(C=g.call(this,C,"-h")||this).scrollLeft=0,C.scrollWidth=0,C.height=C.HScrollHeight,C.inner.style.height=C.element.style.height=(C.height||12)+"px",C.renderer=S,C}l.implement(y.prototype,f),T(d,u=y),d.prototype.onMouseDown=function(C,S){var O,N,z,K,Q;if("mousedown"===C&&0===p.getButton(S)&&2!==S.detail)return S.target===this.inner?(O=this,N=S.clientY,z=S.clientY,K=this.thumbTop,p.capture(this.inner,function(ue){N=ue.clientY},function(){clearInterval(Q)}),Q=setInterval(function(){var ue;void 0!==N&&(ue=O.scrollTopFromThumbTop(K+N-z))!==O.scrollTop&&O._emit("scroll",{data:ue})},20)):(C=S.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2,this._emit("scroll",{data:this.scrollTopFromThumbTop(C)})),p.preventDefault(S)},d.prototype.getHeight=function(){return this.height},d.prototype.scrollTopFromThumbTop=function(C){return C=C*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight),(C>>=0)<0?C=0:C>this.pageHeight-this.viewHeight&&(C=this.pageHeight-this.viewHeight),C},d.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},d.prototype.setHeight=function(C){this.height=Math.max(0,C),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},d.prototype.setScrollHeight=function(C,S){(this.pageHeight!==C||S)&&(this.pageHeight=C,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight)&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop}))},d.prototype.setScrollTop=function(C){this.scrollTop=C,this.thumbTop=(C=C<0?0:C)*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},(l=d).prototype.setInnerHeight=l.prototype.setScrollHeight,T(v,g=y),v.prototype.onMouseDown=function(C,S){var O,N,z,K,Q;if("mousedown"===C&&0===p.getButton(S)&&2!==S.detail)return S.target===this.inner?(O=this,N=S.clientX,z=S.clientX,K=this.thumbLeft,p.capture(this.inner,function(ue){N=ue.clientX},function(){clearInterval(Q)}),Q=setInterval(function(){var ue;void 0!==N&&(ue=O.scrollLeftFromThumbLeft(K+N-z))!==O.scrollLeft&&O._emit("scroll",{data:ue})},20)):(C=S.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2,this._emit("scroll",{data:this.scrollLeftFromThumbLeft(C)})),p.preventDefault(S)},v.prototype.getHeight=function(){return this.isVisible?this.height:0},v.prototype.scrollLeftFromThumbLeft=function(C){return C=C*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth),(C>>=0)<0?C=0:C>this.pageWidth-this.viewWidth&&(C=this.pageWidth-this.viewWidth),C},v.prototype.setWidth=function(C){this.width=Math.max(0,C),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},v.prototype.setScrollWidth=function(C,S){(this.pageWidth!==C||S)&&(this.pageWidth=C,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth)&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft}))},v.prototype.setScrollLeft=function(C){this.scrollLeft=C,this.thumbLeft=(C=C<0?0:C)*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},(f=v).prototype.setInnerWidth=f.prototype.setScrollWidth,m.ScrollBar=l,m.ScrollBarV=l,m.ScrollBarH=f,m.VScrollBar=l,m.HScrollBar=f}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(_,m,D){"use strict";var I=_("./lib/event");function T(w,p){this.onRender=w,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=p||window;var y=this;this._flush=function(h){y.pending=!1;var u=y.changes;u&&(I.blockIdle(100),y.changes=0,y.onRender(u)),y.changes?y.$recursionLimit--<0||y.schedule():y.$recursionLimit=2}}T.prototype.schedule=function(w){this.changes=this.changes|w,this.changes&&!this.pending&&(I.nextFrame(this._flush),this.pending=!0)},T.prototype.clear=function(w){var p=this.changes;return this.changes=0,p},m.RenderLoop=T}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(h,m,D){var I=h("../lib/oop"),T=h("../lib/dom"),w=h("../lib/lang"),p=h("../lib/event"),y=h("../lib/useragent"),u=(h=h("../lib/event_emitter").EventEmitter,"function"==typeof ResizeObserver),l=(d.prototype.$setMeasureNodeStyles=function(g,f){g.width=g.height="auto",g.left=g.top="0px",g.visibility="hidden",g.position="absolute",g.whiteSpace="pre",y.isIE<8?g["font-family"]="inherit":g.font="inherit",g.overflow=f?"hidden":"visible"},d.prototype.checkForSizeChanges=function(g){var f;!(g=void 0===g?this.$measureSizes():g)||this.$characterSize.width===g.width&&this.$characterSize.height===g.height||(this.$measureNode.style.fontWeight="bold",f=this.$measureSizes(),this.$measureNode.style.fontWeight="",this.$characterSize=g,this.charSizes=Object.create(null),this.allowBoldFonts=f&&f.width===g.width&&f.height===g.height,this._emit("changeCharacterSize",{data:g}))},d.prototype.$addObserver=function(){var g=this;this.$observer=new window.ResizeObserver(function(f){g.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},d.prototype.$pollSizeChanges=function(){var g;return this.$pollSizeChangesTimer||this.$observer?this.$pollSizeChangesTimer:(g=this).$pollSizeChangesTimer=p.onIdle(function f(){g.checkForSizeChanges(),p.onIdle(f,500)},500)},d.prototype.setPolling=function(g){g?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},d.prototype.$measureSizes=function(g){return 0===(g={height:(g||this.$measureNode).clientHeight,width:(g||this.$measureNode).clientWidth/512}).width||0===g.height?null:g},d.prototype.$measureCharWidth=function(g){return this.$main.textContent=w.stringRepeat(g,512),this.$main.getBoundingClientRect().width/512},d.prototype.getCharacterWidth=function(g){var f=this.charSizes[g];return void 0===f?this.charSizes[g]=this.$measureCharWidth(g)/this.$characterSize.width:f},d.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},d.prototype.$getZoom=function(g){return g&&g.parentElement?(window.getComputedStyle(g).zoom||1)*this.$getZoom(g.parentElement):1},d.prototype.$initTransformMeasureNodes=function(){function g(f,v){return["div",{style:"position: absolute;top:"+f+"px;left:"+v+"px;"}]}this.els=T.buildDom([g(0,0),g(200,0),g(0,200),g(200,200)],this.el)},d.prototype.transformCoordinates=function(g,f){function v(pe,F,U){var Y=pe[1]*F[0]-pe[0]*F[1];return[(-F[1]*U[0]+F[0]*U[1])/Y,(+pe[1]*U[0]-pe[0]*U[1])/Y]}function C(pe,F){return[pe[0]-F[0],pe[1]-F[1]]}function S(pe,F){return[pe[0]+F[0],pe[1]+F[1]]}function O(pe,F){return[pe*F[0],pe*F[1]]}function N(pe){return[(pe=pe.getBoundingClientRect()).left,pe.top]}g=g&&O(1/this.$getZoom(this.el),g),this.els||this.$initTransformMeasureNodes();var z,Q,K=N(this.els[0]),ue=N(this.els[1]),oe=N(this.els[2]);return ue=O(1+(Q=v(C(Q=N(this.els[3]),ue),C(Q,oe),C(S(ue,oe),S(Q,K))))[0],C(ue,K)),oe=O(1+Q[1],C(oe,K)),f?(z=Q[0]*f[0]/200+Q[1]*f[1]/200+1,f=S(O(f[0],ue),O(f[1],oe)),S(O(1/z/200,f),K)):(z=C(g,K),f=v(C(ue,O(Q[0],z)),C(oe,O(Q[1],z)),z),O(200,f))},d);function d(g){this.el=T.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=T.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=T.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),g.appendChild(this.el),this.$measureNode.textContent=w.stringRepeat("X",512),this.$characterSize={width:0,height:0},u?this.$addObserver():this.checkForSizeChanges()}l.prototype.$characterSize={width:0,height:0},I.implement(l.prototype,h),m.FontMetrics=l}),ace.define("ace/css/editor.css",["require","exports","module"],function(_,m,D){D.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'Source Code Pro\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_keyboard-focus:focus {\n    box-shadow: inset 0 0 0 2px #5E9ED6;\n    outline: none;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\n    margin-left: -14px;\n    float: left;\n}\n\n.ace_gutter-cell .ace_gutter_annotation {\n    margin-left: -19px;\n    float: left;\n}\n\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info, .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_icon_svg.ace_error {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: darkorange;\n}\n.ace_icon_svg.ace_info {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: royalblue;\n}\n\n.ace_icon_svg.ace_error_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");\n    background-color: darkorange;\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #f5f5f5;\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n}\n\n.ace_tooltip.ace_dark {\n    background-color: #636363;\n    color: #fff;\n}\n\n.ace_tooltip:focus {\n    outline: 1px solid #5E9ED6;\n}\n\n.ace_icon {\n    display: inline-block;\n    width: 18px;\n    vertical-align: top;\n}\n\n.ace_icon_svg {\n    display: inline-block;\n    width: 12px;\n    vertical-align: top;\n    -webkit-mask-repeat: no-repeat;\n    -webkit-mask-size: 12px;\n    -webkit-mask-position: center;\n}\n\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n    white-space: pre;\n}'}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(w,m,D){"use strict";var I=w("../lib/dom"),T=w("../lib/oop"),p=(w=w("../lib/event_emitter").EventEmitter,y.prototype.$updateDecorators=function(h){var u=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light,l=(h&&(this.maxHeight=h.maxHeight,this.lineHeight=h.lineHeight,this.canvasHeight=h.height,this.heightRatio=(h.lastRow+1)*this.lineHeight<this.canvasHeight?1:this.canvasHeight/this.maxHeight),this.canvas.getContext("2d")),d=this.renderer.session.$annotations;if(l.clearRect(0,0,this.canvas.width,this.canvas.height),d)for(var g={info:1,warning:2,error:3},f=(d.forEach(function(K){K.priority=g[K.type]||null}),d=d.sort(function(K,Q){return K.priority<Q.priority?-1:K.priority>Q.priority?1:0}),this.renderer.session.$foldData),v=0;v<d.length;v++){var C,z,S=this.compensateFoldRows(z=d[v].row,f),O=Math.round((z-S)*this.lineHeight*this.heightRatio),N=Math.round((z-S)*this.lineHeight*this.heightRatio);(z=Math.round(((z-S)*this.lineHeight+this.lineHeight)*this.heightRatio))-N<this.minDecorationHeight&&((C=(N+z)/2|0)<this.halfMinDecorationHeight?C=this.halfMinDecorationHeight:C+this.halfMinDecorationHeight>this.canvasHeight&&(C=this.canvasHeight-this.halfMinDecorationHeight),N=Math.round(C-this.halfMinDecorationHeight),z=Math.round(C+this.halfMinDecorationHeight)),l.fillStyle=u[d[v].type]||null,l.fillRect(0,O,this.canvasWidth,z-N)}(h=this.renderer.session.selection.getCursor())&&(S=this.compensateFoldRows(h.row,f),O=Math.round((h.row-S)*this.lineHeight*this.heightRatio),l.fillStyle="rgba(0, 0, 0, 0.5)",l.fillRect(0,O,this.canvasWidth,2))},y.prototype.compensateFoldRows=function(h,u){var l=0;if(u&&0<u.length)for(var d=0;d<u.length;d++)h>u[d].start.row&&h<u[d].end.row?l+=h-u[d].start.row:h>=u[d].end.row&&(l+=u[d].end.row-u[d].start.row);return l},y);function y(h,u){this.canvas=I.createElement("canvas"),this.renderer=u,this.pixelRatio=1,this.maxHeight=u.layerConfig.maxHeight,this.lineHeight=u.layerConfig.lineHeight,this.canvasHeight=h.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=h.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},h.element.appendChild(this.canvas)}T.implement(p.prototype,w),m.Decorator=p}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor.css","ace/layer/decorators","ace/lib/useragent"],function(Q,m,D){"use strict";var I=Q("./lib/oop"),T=Q("./lib/dom"),w=Q("./lib/lang"),p=Q("./config"),y=Q("./layer/gutter").Gutter,h=Q("./layer/marker").Marker,u=Q("./layer/text").Text,l=Q("./layer/cursor").Cursor,d=Q("./scrollbar").HScrollBar,g=Q("./scrollbar").VScrollBar,f=Q("./scrollbar_custom").HScrollBar,v=Q("./scrollbar_custom").VScrollBar,C=Q("./renderloop").RenderLoop,S=Q("./layer/font_metrics").FontMetrics,O=Q("./lib/event_emitter").EventEmitter,N=Q("./css/editor.css"),z=Q("./layer/decorators").Decorator,K=Q("./lib/useragent");function ue(U,pe){var F=this;this.container=U||T.createElement("div"),T.addCssClass(this.container,"ace_editor"),T.HI_DPI&&T.addCssClass(this.container,"ace_hidpi"),this.setTheme(pe),null==p.get("useStrictCSP")&&p.set("useStrictCSP",!1),this.$gutter=T.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=T.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=T.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new y(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new h(this.content),U=this.$textLayer=new u(this.content),this.canvas=U.element,this.$markerFront=new h(this.content),this.$cursorLayer=new l(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new g(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.on("scroll",function(Y){F.$scrollAnimation||F.session.setScrollTop(Y.data-F.scrollMargin.top)}),this.scrollBarH.on("scroll",function(Y){F.$scrollAnimation||F.session.setScrollLeft(Y.data-F.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new S(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(Y){F.updateCharacterSize(),F.onResize(!0,F.gutterWidth,F.$size.width,F.$size.height),F._signal("changeCharacterSize",Y)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!K.isIOS,this.$loop=new C(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),p.resetOptions(this),p._signal("renderer",this)}(T.importCssString(N,"ace_editor.css",!1),ue.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),T.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},ue.prototype.setSession=function(oe){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),(this.session=oe)&&this.scrollMargin.top&&oe.getScrollTop()<=0&&oe.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(oe),this.$markerBack.setSession(oe),this.$markerFront.setSession(oe),this.$gutterLayer.setSession(oe),this.$textLayer.setSession(oe),oe&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},ue.prototype.updateLines=function(oe,pe,F){if(void 0===pe&&(pe=1/0),this.$changedLines?(this.$changedLines.firstRow>oe&&(this.$changedLines.firstRow=oe),this.$changedLines.lastRow<pe&&(this.$changedLines.lastRow=pe)):this.$changedLines={firstRow:oe,lastRow:pe},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!F)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},ue.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},ue.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},ue.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},ue.prototype.updateFull=function(oe){oe?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},ue.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},ue.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},ue.prototype.onResize=function(oe,pe,F,U){if(!(2<this.resizing)){0<this.resizing?this.resizing++:this.resizing=oe?1:0;var Y=this.container;if(Y=this.$updateCachedSize(oe,pe,F=F||Y.clientWidth||Y.scrollWidth,U=U||Y.clientHeight||Y.scrollHeight),this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!F&&!U)return this.resizing=0;oe&&(this.$gutterLayer.$padding=null),oe?this.$renderChanges(Y|this.$changes,!0):this.$loop.schedule(Y|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},ue.prototype.$updateCachedSize=function(oe,pe,F,U){var Y=0,W=this.$size,ne={width:W.width,height:W.height,scrollerHeight:W.scrollerHeight,scrollerWidth:W.scrollerWidth};return(U-=this.$extraHeight||0)&&(oe||W.height!=U)&&(W.height=U,Y|=this.CHANGE_SIZE,W.scrollerHeight=W.height,this.$horizScroll&&(W.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(W.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",Y|=this.CHANGE_SCROLL),F&&(oe||W.width!=F)&&(Y|=this.CHANGE_SIZE,W.width=F,null==pe&&(pe=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=pe,T.setStyle(this.scrollBarH.element.style,"left",pe+"px"),T.setStyle(this.scroller.style,"left",pe+this.margin.left+"px"),W.scrollerWidth=Math.max(0,F-pe-this.scrollBarV.getWidth()-this.margin.h),T.setStyle(this.$gutter.style,"left",this.margin.left+"px"),pe=this.scrollBarV.getWidth()+"px",T.setStyle(this.scrollBarH.element.style,"right",pe),T.setStyle(this.scroller.style,"right",pe),T.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(W.scrollerWidth),this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||oe)&&(Y|=this.CHANGE_FULL),W.$dirty=!F||!U,Y&&this._signal("resize",ne),Y},ue.prototype.onGutterResize=function(oe){(oe=this.$showGutter?oe:0)!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,oe,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},ue.prototype.adjustWrapLimit=function(){var oe=this.$size.scrollerWidth-2*this.$padding;return oe=Math.floor(oe/this.characterWidth),this.session.adjustWrapLimit(oe,this.$showPrintMargin&&this.$printMarginColumn)},ue.prototype.setAnimatedScroll=function(oe){this.setOption("animatedScroll",oe)},ue.prototype.getAnimatedScroll=function(){return this.$animatedScroll},ue.prototype.setShowInvisibles=function(oe){this.setOption("showInvisibles",oe),this.session.$bidiHandler.setShowInvisibles(oe)},ue.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},ue.prototype.getDisplayIndentGuide=function(){return this.getOption("displayIndentGuides")},ue.prototype.setDisplayIndentGuides=function(oe){this.setOption("displayIndentGuides",oe)},ue.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},ue.prototype.setHighlightIndentGuides=function(oe){this.setOption("highlightIndentGuides",oe)},ue.prototype.setShowPrintMargin=function(oe){this.setOption("showPrintMargin",oe)},ue.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},ue.prototype.setPrintMarginColumn=function(oe){this.setOption("printMarginColumn",oe)},ue.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},ue.prototype.getShowGutter=function(){return this.getOption("showGutter")},ue.prototype.setShowGutter=function(oe){return this.setOption("showGutter",oe)},ue.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},ue.prototype.setFadeFoldWidgets=function(oe){this.setOption("fadeFoldWidgets",oe)},ue.prototype.setHighlightGutterLine=function(oe){this.setOption("highlightGutterLine",oe)},ue.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},ue.prototype.$updatePrintMargin=function(){var oe;(this.$showPrintMargin||this.$printMarginEl)&&(this.$printMarginEl||((oe=T.createElement("div")).className="ace_layer ace_print-margin-layer",this.$printMarginEl=T.createElement("div"),this.$printMarginEl.className="ace_print-margin",oe.appendChild(this.$printMarginEl),this.content.insertBefore(oe,this.content.firstChild)),(oe=this.$printMarginEl.style).left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",oe.visibility=this.$showPrintMargin?"visible":"hidden",this.session)&&-1==this.session.$wrap&&this.adjustWrapLimit()},ue.prototype.getContainerElement=function(){return this.container},ue.prototype.getMouseEventTarget=function(){return this.scroller},ue.prototype.getTextAreaContainer=function(){return this.container},ue.prototype.$moveTextAreaToCursor=function(){var oe,pe,F,U,Y,W,ne;this.$isMousePressed||(oe=this.textarea.style,W=this.$composition,this.$keepTextAreaAtCursor||W?(F=this.$cursorLayer.$pixelPos)&&(W&&W.markerRange&&(F=this.$cursorLayer.getPixelPosition(W.markerRange.start,!0)),pe=F.top,F=F.left,U=W&&W.useTextareaForIME||K.isMobile?this.lineHeight:1,(pe-=(ne=this.layerConfig).offset)<0||pe>ne.height-U?T.translate(this.textarea,0,0):(ne=1,Y=this.$size.height-U,W?W.useTextareaForIME?ne=this.characterWidth*this.session.$getStringScreenWidth(W=this.textarea.value)[0]:pe+=this.lineHeight+2:pe+=this.lineHeight,(F-=this.scrollLeft)>this.$size.scrollerWidth-ne&&(F=this.$size.scrollerWidth-ne),F+=this.gutterWidth+this.margin.left,T.setStyle(oe,"height",U+"px"),T.setStyle(oe,"width",ne+"px"),T.translate(this.textarea,Math.min(F,this.$size.scrollerWidth-ne),Math.min(pe,Y)))):T.translate(this.textarea,-100,0))},ue.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},ue.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},ue.prototype.getLastFullyVisibleRow=function(){var oe=this.layerConfig,pe=oe.lastRow;return this.session.documentToScreenRow(pe,0)*oe.lineHeight-this.session.getScrollTop()>oe.height-oe.lineHeight?pe-1:pe},ue.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},ue.prototype.setPadding=function(oe){this.$padding=oe,this.$textLayer.setPadding(oe),this.$cursorLayer.setPadding(oe),this.$markerFront.setPadding(oe),this.$markerBack.setPadding(oe),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},ue.prototype.setScrollMargin=function(oe,pe,F,U){var Y=this.scrollMargin;Y.top=0|oe,Y.bottom=0|pe,Y.right=0|U,Y.left=0|F,Y.v=Y.top+Y.bottom,Y.h=Y.left+Y.right,Y.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-Y.top),this.updateFull()},ue.prototype.setMargin=function(oe,pe,F,U){var Y=this.margin;Y.top=0|oe,Y.bottom=0|pe,Y.right=0|U,Y.left=0|F,Y.v=Y.top+Y.bottom,Y.h=Y.left+Y.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},ue.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},ue.prototype.setHScrollBarAlwaysVisible=function(oe){this.setOption("hScrollBarAlwaysVisible",oe)},ue.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},ue.prototype.setVScrollBarAlwaysVisible=function(oe){this.setOption("vScrollBarAlwaysVisible",oe)},ue.prototype.$updateScrollBarV=function(){var oe=this.layerConfig.maxHeight,pe=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(oe-=(pe-this.lineHeight)*this.$scrollPastEnd)-pe&&(oe=this.scrollTop+pe,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(oe+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},ue.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},ue.prototype.freeze=function(){this.$frozen=!0},ue.prototype.unfreeze=function(){this.$frozen=!1},ue.prototype.$renderChanges=function(oe,pe){if(this.$changes&&(oe|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(oe||pe)){if(this.$size.$dirty)return this.$changes|=oe,this.onResize(!0);var F,U;this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",oe),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics),pe=this.layerConfig,(oe&this.CHANGE_FULL||oe&this.CHANGE_SIZE||oe&this.CHANGE_TEXT||oe&this.CHANGE_LINES||oe&this.CHANGE_SCROLL||oe&this.CHANGE_H_SCROLL)&&(oe|=this.$computeLayerConfig()|this.$loop.clear(),pe.firstRow!=this.layerConfig.firstRow&&pe.firstRowScreen==this.layerConfig.firstRowScreen&&0<(F=this.scrollTop+(pe.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight)&&(this.scrollTop=F,oe=(oe|=this.CHANGE_SCROLL)|this.$computeLayerConfig()|this.$loop.clear()),pe=this.layerConfig,this.$updateScrollBarV(),oe&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),T.translate(this.content,-this.scrollLeft,-pe.offset),U=pe.minHeight+"px",T.setStyle(this.content.style,"width",F=pe.width+2*this.$padding+"px"),T.setStyle(this.content.style,"height",U)),oe&this.CHANGE_H_SCROLL&&(T.translate(this.content,-this.scrollLeft,-pe.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility)&&(this.scroller.className+=this.keyboardFocusClassName),oe&this.CHANGE_FULL?(this.$changedLines=null,this.$textLayer.update(pe),this.$showGutter&&this.$gutterLayer.update(pe),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(pe),this.$markerBack.update(pe),this.$markerFront.update(pe),this.$cursorLayer.update(pe),this.$moveTextAreaToCursor()):oe&this.CHANGE_SCROLL?(this.$changedLines=null,oe&this.CHANGE_TEXT||oe&this.CHANGE_LINES?this.$textLayer.update(pe):this.$textLayer.scrollLines(pe),this.$showGutter&&(oe&this.CHANGE_GUTTER||oe&this.CHANGE_LINES?this.$gutterLayer.update(pe):this.$gutterLayer.scrollLines(pe)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(pe),this.$markerBack.update(pe),this.$markerFront.update(pe),this.$cursorLayer.update(pe),this.$moveTextAreaToCursor()):(oe&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(pe),this.$showGutter&&this.$gutterLayer.update(pe),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(pe)):oe&this.CHANGE_LINES?((this.$updateLines()||oe&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(pe),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(pe)):oe&this.CHANGE_TEXT||oe&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(pe),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(pe)):oe&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(pe),this.$customScrollbar)&&this.$scrollDecorator.$updateDecorators(pe),oe&this.CHANGE_CURSOR&&(this.$cursorLayer.update(pe),this.$moveTextAreaToCursor()),oe&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(pe),oe&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(pe)),this._signal("afterRender",oe)}else this.$changes|=oe},ue.prototype.$autosize=function(){var oe=this.session.getScreenLength()*this.lineHeight,pe=this.$maxLines*this.lineHeight,F=Math.min(pe,Math.max((this.$minLines||1)*this.lineHeight,oe))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(F+=this.scrollBarH.getHeight()),pe=!((F=this.$maxPixelHeight&&F>this.$maxPixelHeight?this.$maxPixelHeight:F)<=2*this.lineHeight)&&pe<oe,F==this.desiredHeight&&this.$size.height==this.desiredHeight&&pe==this.$vScroll||(pe!=this.$vScroll&&(this.$vScroll=pe,this.scrollBarV.setVisible(pe)),oe=this.container.clientWidth,this.container.style.height=F+"px",this.$updateCachedSize(!0,this.$gutterWidth,oe,F),this.desiredHeight=F,this._signal("autosize"))},ue.prototype.$computeLayerConfig=function(){var oe,ne,Ee=this.session,pe=this.$size,ke=pe.height<=2*this.lineHeight,F=this.session.getScreenLength()*this.lineHeight,U=this.$getLongestLine(),Y=this.$horizScroll!==(he=!ke&&(this.$hScrollBarAlwaysVisible||pe.scrollerWidth-U-2*this.$padding<0)),he=(Y&&(this.$horizScroll=he,this.scrollBarH.setVisible(he)),this.$vScroll),W=(this.$maxLines&&1<this.lineHeight&&this.$autosize(),pe.scrollerHeight+this.lineHeight),fe=(F+=ne=!this.$maxLines&&this.$scrollPastEnd?(pe.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0,this.scrollMargin),Ae=((ne=he!==(this.session.setScrollTop(Math.max(-fe.top,Math.min(this.scrollTop,F-pe.scrollerHeight+fe.bottom))),this.session.setScrollLeft(Math.max(-fe.left,Math.min(this.scrollLeft,U+2*this.$padding-pe.scrollerWidth+fe.right))),ke=!ke&&(this.$vScrollBarAlwaysVisible||pe.scrollerHeight-F+ne<0||this.scrollTop>fe.top)))&&(this.$vScroll=ke,this.scrollBarV.setVisible(ke)),fe=this.scrollTop%this.lineHeight,he=Math.ceil(W/this.lineHeight)-1,he=(ke=Math.max(0,Math.round((this.scrollTop-fe)/this.lineHeight)))+he,this.lineHeight),xe=(ke=Ee.screenToDocumentRow(ke,0),Ee.getFoldLine(ke));return xe&&(ke=xe.start.row),xe=Ee.documentToScreenRow(ke,0),oe=Ee.getRowLength(ke)*Ae,he=Math.min(Ee.screenToDocumentRow(he,0),Ee.getLength()-1),W=pe.scrollerHeight+Ee.getRowLength(he)*Ae+oe,fe=this.scrollTop-xe*Ae,Ee=0,this.layerConfig.width==U&&!Y||(Ee=this.CHANGE_H_SCROLL),(Y||ne)&&(Ee|=this.$updateCachedSize(!0,this.gutterWidth,pe.width,pe.height),this._signal("scrollbarVisibilityChanged"),ne)&&(U=this.$getLongestLine()),this.layerConfig={width:U,padding:this.$padding,firstRow:ke,firstRowScreen:xe,lastRow:he,lineHeight:Ae,characterWidth:this.characterWidth,minHeight:W,maxHeight:F,offset:fe,gutterOffset:Ae?Math.max(0,Math.ceil((fe+pe.height-pe.scrollerHeight)/Ae)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(U-this.$padding),Ee},ue.prototype.$updateLines=function(){if(this.$changedLines){var oe=this.$changedLines.firstRow,pe=this.$changedLines.lastRow,F=(this.$changedLines=null,this.layerConfig);if(!(oe>F.lastRow+1||pe<F.firstRow)){if(pe!==1/0)return this.$textLayer.updateLines(F,oe,pe),!0;this.$showGutter&&this.$gutterLayer.update(F),this.$textLayer.update(F)}}},ue.prototype.$getLongestLine=function(){var oe=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(oe+=1),this.$textLayer&&oe>this.$textLayer.MAX_LINE_LENGTH&&(oe=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(oe*this.characterWidth))},ue.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},ue.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},ue.prototype.addGutterDecoration=function(oe,pe){this.$gutterLayer.addGutterDecoration(oe,pe)},ue.prototype.removeGutterDecoration=function(oe,pe){this.$gutterLayer.removeGutterDecoration(oe,pe)},ue.prototype.updateBreakpoints=function(oe){this.$loop.schedule(this.CHANGE_GUTTER)},ue.prototype.setAnnotations=function(oe){this.$gutterLayer.setAnnotations(oe),this.$loop.schedule(this.CHANGE_GUTTER)},ue.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},ue.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},ue.prototype.showCursor=function(){this.$cursorLayer.showCursor()},ue.prototype.scrollSelectionIntoView=function(oe,pe,F){this.scrollCursorIntoView(oe,F),this.scrollCursorIntoView(pe,F)},ue.prototype.scrollCursorIntoView=function(oe,pe,F){var U,Y,W;0!==this.$size.scrollerHeight&&(U=(oe=this.$cursorLayer.getPixelPosition(oe)).left,oe=oe.top,Y=F&&F.top||0,F=F&&F.bottom||0,this.$scrollAnimation&&(this.$stopAnimation=!0),oe<(W=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop)+Y?(pe&&W+Y>oe+this.lineHeight&&(oe-=pe*this.$size.scrollerHeight),0===oe&&(oe=-this.scrollMargin.top),this.session.setScrollTop(oe)):W+this.$size.scrollerHeight-F<oe+this.lineHeight&&(pe&&W+this.$size.scrollerHeight-F<oe-this.lineHeight&&(oe+=pe*this.$size.scrollerHeight),this.session.setScrollTop(oe+this.lineHeight+F-this.$size.scrollerHeight)),U-(W=2*this.layerConfig.characterWidth)<(Y=this.scrollLeft)?((U-=W)<this.$padding+W&&(U=-this.scrollMargin.left),this.session.setScrollLeft(U)):Y+this.$size.scrollerWidth<(U+=W)+this.characterWidth?this.session.setScrollLeft(Math.round(U+this.characterWidth-this.$size.scrollerWidth)):Y<=this.$padding&&U-Y<this.characterWidth&&this.session.setScrollLeft(0))},ue.prototype.getScrollTop=function(){return this.session.getScrollTop()},ue.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},ue.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},ue.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},ue.prototype.scrollToRow=function(oe){this.session.setScrollTop(oe*this.lineHeight)},ue.prototype.alignCursor=function(U,pe){return U=this.$cursorLayer.getPixelPosition(U="number"==typeof U?{row:U,column:0}:U),this.session.setScrollTop(U=U.top-(this.$size.scrollerHeight-this.lineHeight)*(pe||0)),U},ue.prototype.$calcSteps=function(oe,pe){var U,ne=0,Y=this.STEPS,W=[];for(ne=0;ne<Y;++ne)W.push((pe-(U=oe))*(Math.pow(ne/this.STEPS-1,3)+1)+U);return W},ue.prototype.scrollToLine=function(oe,pe,F,U){oe=this.$cursorLayer.getPixelPosition({row:oe,column:0}).top,pe&&(oe-=this.$size.scrollerHeight/2),pe=this.scrollTop,this.session.setScrollTop(oe),!1!==F&&this.animateScrolling(pe,U)},ue.prototype.animateScrolling=function(oe,pe){var F=this.scrollTop;if(this.$animatedScroll){var U=this;if(oe!=F){if(this.$scrollAnimation){var Y=this.$scrollAnimation.steps;if(Y.length&&(oe=Y[0])==F)return}var W=U.$calcSteps(oe,F);this.$scrollAnimation={from:oe,to:F,steps:W},clearInterval(this.$timer),U.session.setScrollTop(W.shift()),U.session.$scrollTop=F,this.$timer=setInterval(function(){if(!U.$stopAnimation)return U.session?void(W.length?(U.session.setScrollTop(W.shift()),U.session.$scrollTop=F):null!=F?(U.session.$scrollTop=-1,U.session.setScrollTop(F),F=null):ne()):clearInterval(U.$timer);ne()},10)}}function ne(){U.$timer=clearInterval(U.$timer),U.$scrollAnimation=null,U.$stopAnimation=!1,pe&&pe()}},ue.prototype.scrollToY=function(oe){this.scrollTop!==oe&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=oe)},ue.prototype.scrollToX=function(oe){this.scrollLeft!==oe&&(this.scrollLeft=oe),this.$loop.schedule(this.CHANGE_H_SCROLL)},ue.prototype.scrollTo=function(oe,pe){this.session.setScrollTop(pe),this.session.setScrollLeft(oe)},ue.prototype.scrollBy=function(oe,pe){pe&&this.session.setScrollTop(this.session.getScrollTop()+pe),oe&&this.session.setScrollLeft(this.session.getScrollLeft()+oe)},ue.prototype.isScrollableBy=function(oe,pe){return pe<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||0<pe&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||oe<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||0<oe&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},ue.prototype.pixelToScreenCoordinates=function(U,Y){this.$hasCssTransforms?(W={top:0,left:0},U=(F=this.$fontMetrics.transformCoordinates([U,Y]))[1]-this.gutterWidth-this.margin.left,Y=F[0]):W=this.scroller.getBoundingClientRect();var F=U+this.scrollLeft-W.left-this.$padding,W=(U=F/this.characterWidth,Y=Math.floor((Y+this.scrollTop-W.top)/this.lineHeight),this.$blockCursor?Math.floor(U):Math.round(U));return{row:Y,column:W,side:0<U-W?1:-1,offsetX:F}},ue.prototype.screenToTextCoordinates=function(Y,W){this.$hasCssTransforms?(F={top:0,left:0},Y=(U=this.$fontMetrics.transformCoordinates([Y,W]))[1]-this.gutterWidth-this.margin.left,W=U[0]):F=this.scroller.getBoundingClientRect();var F,U=Y+this.scrollLeft-F.left-this.$padding;return Y=U/this.characterWidth,Y=this.$blockCursor?Math.floor(Y):Math.round(Y),W=Math.floor((W+this.scrollTop-F.top)/this.lineHeight),this.session.screenToDocumentPosition(W,Math.max(Y,0),U)},ue.prototype.textToScreenCoordinates=function(U,Y){var F=this.scroller.getBoundingClientRect();return Y=this.session.documentToScreenPosition(U,Y),U=this.$padding+(this.session.$bidiHandler.isBidiRow(Y.row,U)?this.session.$bidiHandler.getPosLeft(Y.column):Math.round(Y.column*this.characterWidth)),{pageX:F.left+U-this.scrollLeft,pageY:F.top+(Y=Y.row*this.lineHeight)-this.scrollTop}},ue.prototype.visualizeFocus=function(){T.addCssClass(this.container,"ace_focus")},ue.prototype.visualizeBlur=function(){T.removeCssClass(this.container,"ace_focus")},ue.prototype.showComposition=function(oe){(this.$composition=oe).cssText||(oe.cssText=this.textarea.style.cssText),null==oe.useTextareaForIME&&(oe.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(T.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):oe.markerId=this.session.addMarker(oe.markerRange,"ace_composition_marker","text")},ue.prototype.setCompositionText=function(oe){var pe=this.session.selection.cursor;this.addToken(oe,"composition_placeholder",pe.row,pe.column),this.$moveTextAreaToCursor()},ue.prototype.hideComposition=function(){var oe;this.$composition&&(this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),T.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText,this.removeExtraToken((oe=this.session.selection.cursor).row,oe.column),this.$composition=null,this.$cursorLayer.element.style.display="")},ue.prototype.setGhostText=function(oe,F){var U=this.session.selection.cursor;F=F||{row:U.row,column:U.column},this.removeGhostText(),U=oe.split("\n"),this.addToken(U[0],"ghost_text",F.row,F.column),this.$ghostText={text:oe,position:{row:F.row,column:F.column}},1<U.length&&(this.$ghostTextWidget={text:U.slice(1).join("\n"),row:F.row,column:F.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget))},ue.prototype.removeGhostText=function(){var oe;this.$ghostText&&(this.removeExtraToken((oe=this.$ghostText.position).row,oe.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null)},ue.prototype.addToken=function(oe,pe,F,U){var Y=this.session,W=(Y.bgTokenizer.lines[F]=null,{type:pe,value:oe}),ne=Y.getTokens(F);if(null!=U&&ne.length)for(var fe=0,he=0;he<ne.length;he++){var Ae=ne[he];if(U<=(fe+=Ae.value.length)){var ke=Ae.value.slice(0,xe=Ae.value.length-(fe-U)),xe=Ae.value.slice(xe);ne.splice(he,1,{type:Ae.type,value:ke},W,{type:Ae.type,value:xe});break}}else ne.push(W);this.updateLines(F,F)},ue.prototype.removeExtraToken=function(oe,pe){this.session.bgTokenizer.lines[oe]=null,this.updateLines(oe,oe)},ue.prototype.setTheme=function(oe,pe){var U=this;function Y(W){if(U.$themeId!=oe)return pe&&pe();if(!W||!W.cssClass)throw new Error("couldn't load module "+oe+" or it didn't call define");W.$id&&(U.$themeId=W.$id),T.importCssString(W.cssText,W.cssClass,U.container),U.theme&&T.removeCssClass(U.container,U.theme.cssClass);var ne="padding"in W?W.padding:"padding"in(U.theme||{})?4:U.$padding;U.$padding&&ne!=U.$padding&&U.setPadding(ne),U.$theme=W.cssClass,U.theme=W,T.addCssClass(U.container,W.cssClass),T.setCssClass(U.container,"ace_dark",W.isDark),U.$size&&(U.$size.width=0,U.$updateSizeAsync()),U._dispatchEvent("themeLoaded",{theme:W}),pe&&pe()}this.$themeId=oe,U._dispatchEvent("themeChange",{theme:oe}),oe&&"string"!=typeof oe?Y(oe):p.loadModule(["theme",oe||this.$options.theme.initialValue],Y)},ue.prototype.getTheme=function(){return this.$themeId},ue.prototype.setStyle=function(oe,pe){T.setCssClass(this.container,oe,!1!==pe)},ue.prototype.unsetStyle=function(oe){T.removeCssClass(this.container,oe)},ue.prototype.setCursorStyle=function(oe){T.setStyle(this.scroller.style,"cursor",oe)},ue.prototype.setMouseCursor=function(oe){T.setStyle(this.scroller.style,"cursor",oe)},ue.prototype.attachToShadowRoot=function(){T.importCssString(N,"ace_editor.css",this.container)},ue.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},ue.prototype.$updateCustomScrollbar=function(oe){var pe=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===oe?(this.scrollBarV=new v(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(F){pe.$scrollAnimation||pe.session.setScrollTop(F.data-pe.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(F){pe.$scrollAnimation||pe.session.setScrollLeft(F.data-pe.scrollMargin.left)}),this.$scrollDecorator=new z(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new g(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.addEventListener("scroll",function(F){pe.$scrollAnimation||pe.session.setScrollTop(F.data-pe.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(F){pe.$scrollAnimation||pe.session.setScrollLeft(F.data-pe.scrollMargin.left)}))},ue.prototype.$addResizeObserver=function(){var oe;window.ResizeObserver&&!this.$resizeObserver&&((oe=this).$resizeTimer=w.delayedCall(function(){oe.destroyed||oe.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(U){var F=U[0].contentRect.width;U=U[0].contentRect.height,1<Math.abs(oe.$size.width-F)||1<Math.abs(oe.$size.height-U)?oe.$resizeTimer.delay():oe.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container))},Q=ue).prototype.CHANGE_CURSOR=1,Q.prototype.CHANGE_MARKER=2,Q.prototype.CHANGE_GUTTER=4,Q.prototype.CHANGE_SCROLL=8,Q.prototype.CHANGE_LINES=16,Q.prototype.CHANGE_TEXT=32,Q.prototype.CHANGE_SIZE=64,Q.prototype.CHANGE_MARKER_BACK=128,Q.prototype.CHANGE_MARKER_FRONT=256,Q.prototype.CHANGE_FULL=512,Q.prototype.CHANGE_H_SCROLL=1024,Q.prototype.$changes=0,Q.prototype.$padding=null,Q.prototype.$frozen=!1,Q.prototype.STEPS=8,I.implement(Q.prototype,O),p.defineOptions(Q.prototype,"renderer",{useResizeObserver:{set:function(oe){!oe&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):oe&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(oe){this.$textLayer.setShowInvisibles(oe)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(oe){"number"==typeof oe&&(this.$printMarginColumn=oe),this.$showPrintMargin=!!oe,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(oe){this.$gutter.style.display=oe?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(oe){this.$gutterLayer.$useSvgGutterIcons=oe},initialValue:!1},showFoldedAnnotations:{set:function(oe){this.$gutterLayer.$showFoldedAnnotations=oe},initialValue:!1},fadeFoldWidgets:{set:function(oe){T.setCssClass(this.$gutter,"ace_fade-fold-widgets",oe)},initialValue:!1},showFoldWidgets:{set:function(oe){this.$gutterLayer.setShowFoldWidgets(oe),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(oe){this.$textLayer.setDisplayIndentGuides(oe)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(oe){1==this.$textLayer.setHighlightIndentGuides(oe)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(oe){this.$gutterLayer.setHighlightGutterLine(oe),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(oe){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(oe){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(oe){"number"==typeof oe&&(oe+="px"),this.container.style.fontSize=oe,this.updateFontSize()},initialValue:12},fontFamily:{set:function(oe){this.container.style.fontFamily=oe,this.updateFontSize()}},maxLines:{set:function(oe){this.updateFull()}},minLines:{set:function(oe){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(oe){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(oe){this.$scrollPastEnd!=(oe=+oe||0)&&(this.$scrollPastEnd=oe,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(oe){this.$gutterLayer.$fixedWidth=!!oe,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(oe){this.$updateCustomScrollbar(oe)},initialValue:!1},theme:{set:function(oe){this.setTheme(oe)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!K.isMobile&&!K.isIE}}),m.VirtualRenderer=Q}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(_,m,D){"use strict";var I=_("../lib/oop"),T=_("../lib/net"),w=_("../lib/event_emitter").EventEmitter,p=_("../config");function y(u){var l;return"undefined"==typeof Worker?{postMessage:function(){},terminate:function(){}}:p.get("loadWorkerFromBlob")?(l=function(d){d="importScripts('"+T.qualifyURL(d)+"');";try{return new Blob([d],{type:"application/javascript"})}catch(f){var g=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return g.append(d),g.getBlob("application/javascript")}}(u),l=(window.URL||window.webkitURL).createObjectURL(l),new Worker(l)):new Worker(u)}function h(u){u.postMessage||(u=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=u,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage}(function(){I.implement(this,w),this.$createWorkerFromOldConfig=function(u,l,d,g,f){var v,C;return _.nameToUrl&&!_.toUrl&&(_.toUrl=_.nameToUrl),p.get("packaged")||!_.toUrl?g=g||p.moduleUrl(l,"worker"):(v=this.$normalizePath,g=g||v(_.toUrl("ace/worker/worker.js",null,"_")),C={},u.forEach(function(S){C[S]=v(_.toUrl(S,null,"_").replace(/(\.js)?(\?.*)?$/,""))})),this.$worker=y(g),f&&this.send("importScripts",f),this.$worker.postMessage({init:!0,tlns:C,module:l,classname:d}),this.$worker},this.onMessage=function(u){var l=u.data;switch(l.type){case"event":this._signal(l.name,{data:l.data});break;case"call":var d=this.callbacks[l.id];d&&(d(l.data),delete this.callbacks[l.id]);break;case"error":this.reportError(l.data);break;case"log":window.console&&console.log&&console.log.apply(console,l.data)}},this.reportError=function(u){window.console&&console.error&&console.error(u)},this.$normalizePath=function(u){return T.qualifyURL(u)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(u,l){this.$worker.postMessage({command:u,args:l})},this.call=function(u,l,d){var g;d&&(g=this.callbackId++,this.callbacks[g]=d,l.push(g)),this.send(u,l)},this.emit=function(u,l){try{l.data&&l.data.err&&(l.data.err={message:l.data.err.message,stack:l.data.err.stack,code:l.data.err.code}),this.$worker&&this.$worker.postMessage({event:u,data:{data:l.data}})}catch(d){console.error(d.stack)}},this.attachToDocument=function(u){this.$doc&&this.terminate(),this.$doc=u,this.call("setValue",[u.getValue()]),u.on("change",this.changeListener,!0)},this.changeListener=function(u){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(u.start,"insert"==u.action?u.lines:u.end)},this.$sendDeltaQueue=function(){var u=this.deltaQueue;u&&(this.deltaQueue=null,50<u.length&&u.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:u}))}}).call(h.prototype),m.UIWorkerClient=function(u,l,d){var g=null,f=!1,v=Object.create(w),C=[],S=new h({messageBuffer:C,terminate:function(){},postMessage:function(N){C.push(N),g&&(f?setTimeout(O):O())}}),O=(S.setEmitSync=function(N){f=N},function(){var N=C.shift();N.command?g[N.command].apply(g,N.args):N.event&&v._signal(N.event,N.data)});return v.postMessage=function(N){S.onMessage({data:N})},v.callback=function(N,z){this.postMessage({type:"call",id:z,data:N})},v.emit=function(N,z){this.postMessage({type:"event",name:N,data:z})},p.loadModule(["worker",l],function(N){for(g=new N[d](v);C.length;)O()}),S},m.WorkerClient=h,m.createWorker=y}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(w,m,D){"use strict";var I=w("./range").Range,T=w("./lib/event_emitter").EventEmitter,p=(w=w("./lib/oop"),y.prototype.setup=function(){var h=this,u=this.doc,l=this.session,d=(this.selectionBefore=l.selection.toJSON(),l.selection.inMultiSelectMode&&l.selection.toSingleRange(),this.pos=u.createAnchor(this.$pos.row,this.$pos.column),this.pos);d.$insertRight=!0,d.detach(),d.markerId=l.addMarker(new I(d.row,d.column,d.row,d.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(g){(g=u.createAnchor(g.row,g.column)).$insertRight=!0,g.detach(),h.others.push(g)}),l.setUndoSelect(!1)},y.prototype.showOtherMarkers=function(){var h,u;this.othersActive||(h=this.session,(u=this).othersActive=!0,this.others.forEach(function(l){l.markerId=h.addMarker(new I(l.row,l.column,l.row,l.column+u.length),u.othersClass,null,!1)}))},y.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var h=0;h<this.others.length;h++)this.session.removeMarker(this.others[h].markerId)}},y.prototype.onUpdate=function(h){if(this.$updating)return this.updateAnchors(h);var u=h;if(u.start.row===u.end.row&&u.start.row===this.pos.row){this.$updating=!0;var l="insert"===h.action?u.end.column-u.start.column:u.start.column-u.end.column,d=u.start.column>=this.pos.column&&u.start.column<=this.pos.column+this.length+1,g=u.start.column-this.pos.column;if(this.updateAnchors(h),d&&(this.length+=l),d&&!this.session.$fromUndo)if("insert"===h.action)for(var f=this.others.length-1;0<=f;f--){var v={row:(C=this.others[f]).row,column:C.column+g};this.doc.insertMergedLines(v,h.lines)}else if("remove"===h.action)for(f=this.others.length-1;0<=f;f--){var C;v={row:(C=this.others[f]).row,column:C.column+g},this.doc.remove(new I(v.row,v.column,v.row,v.column-l))}this.$updating=!1,this.updateMarkers()}},y.prototype.updateAnchors=function(h){this.pos.onChange(h);for(var u=this.others.length;u--;)this.others[u].onChange(h);this.updateMarkers()},y.prototype.updateMarkers=function(){if(!this.$updating){var h=this,u=this.session,l=function(g,f){u.removeMarker(g.markerId),g.markerId=u.addMarker(new I(g.row,g.column,g.row,g.column+h.length),f,null,!1)};l(this.pos,this.mainClass);for(var d=this.others.length;d--;)l(this.others[d],this.othersClass)}},y.prototype.onCursorChange=function(h){var u;!this.$updating&&this.session&&((u=this.session.selection.getCursor()).row===this.pos.row&&u.column>=this.pos.column&&u.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",h)):(this.hideOtherMarkers(),this._emit("cursorLeave",h)))},y.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},y.prototype.cancel=function(){if(-1!==this.$undoStackDepth){for(var h=this.session.getUndoManager(),u=(h.$undoStack||h.$undostack).length-this.$undoStackDepth,l=0;l<u;l++)h.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},y);function y(h,C,l,d,g,f){var v=this;this.length=C,this.session=h,this.doc=h.getDocument(),this.mainClass=g,this.othersClass=f,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=d,this.$onCursorChange=function(){setTimeout(function(){v.onCursorChange()})},this.$pos=l,C=h.getUndoManager().$undoStack||h.getUndoManager().$undostack||{length:-1},this.$undoStackDepth=C.length,this.setup(),h.selection.on("changeCursor",this.$onCursorChange)}w.implement(p.prototype,T),m.PlaceHolder=p}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(_,m,D){var I=_("../lib/event"),T=_("../lib/useragent");function w(p,y){return p.row==y.row&&p.column==y.column}m.onMouseDown=function(p){var y=p.domEvent,h=y.altKey,u=y.shiftKey,l=y.ctrlKey,d=p.getAccelKey(),g=p.getButton();if(l&&T.isMac&&(g=y.button),p.editor.inMultiSelectMode&&2==g)p.editor.textInput.onContextMenu(p.domEvent);else if(l||h||d){if(0===g){var f,v,C,S,O,N,z,K,Q=p.editor,ue=Q.selection,oe=Q.inMultiSelectMode,pe=p.getDocumentPosition(),F=ue.getCursor(),U=(F=p.inSelection()||ue.isEmpty()&&w(pe,F),p.x),Y=p.y,W=Q.session,ne=Q.renderer.pixelToScreenCoordinates(U,Y),fe=ne;if(Q.$mouseHandler.$enableJumpToDef)l&&h||d&&h?f=u?"block":"add":h&&Q.$blockSelectEnabled&&(f="block");else if(d&&!h){if(f="add",!oe&&u)return}else h&&Q.$blockSelectEnabled&&(f="block");if(f&&T.isMac&&y.ctrlKey&&Q.$mouseHandler.cancelContextMenu(),"add"==f)!oe&&F||(oe||(v=ue.toOrientedRange(),Q.addSelectionMarker(v)),C=ue.rangeList.rangeAtPoint(pe),Q.inVirtualSelectionMode=!0,u&&(C=null,Q.removeSelectionMarker(v=ue.ranges[0]||v)),Q.once("mouseup",function(){var he=ue.toOrientedRange();C&&he.isEmpty()&&w(C.cursor,he.cursor)?ue.substractPoint(he.cursor):(u?ue.substractPoint(v.cursor):v&&(Q.removeSelectionMarker(v),ue.addRange(v)),ue.addRange(he)),Q.inVirtualSelectionMode=!1}));else if("block"==f)return p.stop(),Q.inVirtualSelectionMode=!0,O=[],N=function(){var he=Q.renderer.pixelToScreenCoordinates(U,Y),Ae=W.screenToDocumentPosition(he.row,he.column,he.offsetX);w(fe,he)&&w(Ae,ue.lead)||(fe=he,Q.selection.moveToPosition(Ae),Q.renderer.scrollCursorIntoView(),Q.removeSelectionMarkers(O),O=ue.rectangularRangeBlock(fe,ne),Q.$mouseHandler.$clickSelection&&1==O.length&&O[0].isEmpty()&&(O[0]=Q.$mouseHandler.$clickSelection.clone()),O.forEach(Q.addSelectionMarker,Q),Q.updateSelectionMarkers())},oe&&!d?ue.toSingleRange():!oe&&d&&(S=ue.toOrientedRange(),Q.addSelectionMarker(S)),u?ne=W.documentToScreenPosition(ue.lead):ue.moveToPosition(pe),fe={row:-1,column:-1},z=N,I.capture(Q.container,function(he){U=he.clientX,Y=he.clientY},function(he){N(),clearInterval(K),Q.removeSelectionMarkers(O),O.length||(O=[ue.toOrientedRange()]),S&&(Q.removeSelectionMarker(S),ue.toSingleRange(S));for(var Ae=0;Ae<O.length;Ae++)ue.addRange(O[Ae]);Q.inVirtualSelectionMode=!1,Q.$mouseHandler.$clickSelection=null}),K=setInterval(function(){z()},20),p.preventDefault()}}else 0===g&&p.editor.inMultiSelectMode&&p.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(_,m,D){m.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(I){I.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(I){I.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(I){I.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(I){I.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(I){I.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(I){I.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(I){I.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(I){I.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(I){1<I.multiSelect.rangeCount?I.multiSelect.joinSelections():I.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(I){I.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(I){I.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(I){I.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],m.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(I){I.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(I){return I&&I.inMultiSelectMode}}],_=_("../keyboard/hash_handler").HashHandler,m.keyboardHandler=new _(m.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(_,m,D){var I=_("./range_list").RangeList,T=_("./range").Range,w=_("./selection").Selection,p=_("./mouse/multi_select_handler").onMouseDown,y=_("./lib/event"),h=_("./lib/lang"),u=_("./commands/multi_select_commands");m.commands=u.defaultCommands.concat(u.multiSelectCommands);var l=new(_("./search").Search),d=_("./edit_session").EditSession;function g(f){var v,C;function S(O){C&&(v.renderer.setMouseCursor(""),C=!1)}f.$multiselectOnSessionChange||(f.$onAddRange=f.$onAddRange.bind(f),f.$onRemoveRange=f.$onRemoveRange.bind(f),f.$onMultiSelect=f.$onMultiSelect.bind(f),f.$onSingleSelect=f.$onSingleSelect.bind(f),f.$multiselectOnSessionChange=m.onSessionChange.bind(f),f.$checkMultiselectChange=f.$checkMultiselectChange.bind(f),f.$multiselectOnSessionChange(f),f.on("changeSession",f.$multiselectOnSessionChange),f.on("mousedown",p),f.commands.addCommands(u.defaultCommands),(v=f).textInput&&(f=v.textInput.getElement(),C=!1,y.addListener(f,"keydown",function(O){O=18==O.keyCode&&!(O.ctrlKey||O.shiftKey||O.metaKey),v.$blockSelectEnabled&&O?C||(v.renderer.setMouseCursor("crosshair"),C=!0):C&&S()},v),y.addListener(f,"keyup",S,v),y.addListener(f,"blur",S,v)))}(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(d.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(f,v){if(f){if(!this.inMultiSelectMode&&0===this.rangeCount){var C=this.toOrientedRange();if(this.rangeList.add(C),this.rangeList.add(f),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),v||this.fromOrientedRange(f);this.rangeList.removeAll(),this.rangeList.add(C),this.$onAddRange(C)}return f.cursor||(f.cursor=f.end),C=this.rangeList.add(f),this.$onAddRange(f),C.length&&this.$onRemoveRange(C),1<this.rangeCount&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),v||this.fromOrientedRange(f)}},this.toSingleRange=function(f){f=f||this.ranges[0];var v=this.rangeList.removeAll();v.length&&this.$onRemoveRange(v),f&&this.fromOrientedRange(f)},this.substractPoint=function(f){if(f=this.rangeList.substractPoint(f))return this.$onRemoveRange(f),f[0]},this.mergeOverlappingRanges=function(){var f=this.rangeList.merge();f.length&&this.$onRemoveRange(f)},this.$onAddRange=function(f){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(f),this._signal("addRange",{range:f})},this.$onRemoveRange=function(f){var v;this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode&&(v=this.rangeList.ranges.pop(),f.push(v),this.rangeCount=0);for(var C=f.length;C--;){var S=this.ranges.indexOf(f[C]);this.ranges.splice(S,1)}this._signal("removeRange",{ranges:f}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(v=v||this.ranges[0])&&!v.isEqual(this.getRange())&&this.fromOrientedRange(v)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new I,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var f=this.ranges.length?this.ranges:[this.getRange()],v=[],C=0;C<f.length;C++){var S=f[C],O=S.start.row,N=S.end.row;if(O===N)v.push(S.clone());else{for(v.push(new T(O,S.start.column,O,this.session.getLine(O).length));++O<N;)v.push(this.getLineRange(O,!0));v.push(new T(N,0,N,S.end.column))}0!=C||this.isBackwards()||(v=v.reverse())}for(this.toSingleRange(),C=v.length;C--;)this.addRange(v[C])},this.joinSelections=function(){var f=(v=this.rangeList.ranges)[v.length-1],v=T.fromPoints(v[0].start,f.end);this.toSingleRange(),this.setSelectionRange(v,f.cursor==f.start)},this.toggleBlockSelection=function(){var f,v;1<this.rangeCount?(v=(f=this.rangeList.ranges)[f.length-1],f=T.fromPoints(f[0].start,v.end),this.toSingleRange(),this.setSelectionRange(f,v.cursor==v.start)):(f=this.session.documentToScreenPosition(this.cursor),v=this.session.documentToScreenPosition(this.anchor),this.rectangularRangeBlock(f,v).forEach(this.addRange,this))},this.rectangularRangeBlock=function(f,v,C){var S,O,N,z,K,Q,ue,oe=[],pe=f.column<v.column,F=(z=(pe?(S=f.column,O=v.column,N=f.offsetX,v):(S=v.column,O=f.column,N=v.offsetX,f)).offsetX,f.row<v.row);Q=(F?(K=f.row,v):(K=v.row,f)).row,S<0&&(S=0),(K=K<0?0:K)==Q&&(C=!0);for(var U,Y,W=K;W<=Q;W++){var ne=T.fromPoints(this.session.screenToDocumentPosition(W,S,N),this.session.screenToDocumentPosition(W,O,z));if(ne.isEmpty()){if(ue&&(U=ne.end).row==(Y=ue).row&&U.column==Y.column)break;ue=ne.end}ne.cursor=pe?ne.start:ne.end,oe.push(ne)}if(F&&oe.reverse(),!C){for(var fe=oe.length-1;oe[fe].isEmpty()&&0<fe;)fe--;if(0<fe)for(var he=0;oe[he].isEmpty();)he++;for(var Ae=fe;he<=Ae;Ae--)oe[Ae].isEmpty()&&oe.splice(Ae,1)}return oe}}.call(w.prototype),d=_("./editor").Editor,function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(f){f.cursor||(f.cursor=f.end);var v=this.getSelectionStyle();return f.marker=this.session.addMarker(f,"ace_selection",v),this.session.$selectionMarkers.push(f),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,f},this.removeSelectionMarker=function(f){f.marker&&(this.session.removeMarker(f.marker),-1!=(f=this.session.$selectionMarkers.indexOf(f))&&this.session.$selectionMarkers.splice(f,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length)},this.removeSelectionMarkers=function(f){for(var v=this.session.$selectionMarkers,C=f.length;C--;){var S=f[C];S.marker&&(this.session.removeMarker(S.marker),-1!=(S=v.indexOf(S)))&&v.splice(S,1)}this.session.selectionMarkerCount=v.length},this.$onAddRange=function(f){this.addSelectionMarker(f.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(f){this.removeSelectionMarkers(f.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(f){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(u.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(f){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(u.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(f){var v,C=f.command,S=f.editor;if(S.multiSelect)return C.multiSelectAction?v="forEach"==C.multiSelectAction?S.forEachSelection(C,f.args):"forEachLine"==C.multiSelectAction?S.forEachSelection(C,f.args,!0):"single"==C.multiSelectAction?(S.exitMultiSelectMode(),C.exec(S,f.args||{})):C.multiSelectAction(S,f.args||{}):(v=C.exec(S,f.args||{}),S.multiSelect.addRange(S.multiSelect.toOrientedRange()),S.multiSelect.mergeOverlappingRanges()),v},this.forEachSelection=function(f,v,C){if(!this.inVirtualSelectionMode){var S,Q=C&&C.keepOrder,O=1==C||C&&C.$byLines,N=this.session,z=(C=this.selection).rangeList,K=(Q?C:z).ranges;if(!K.length)return f.exec?f.exec(this,v||{}):f(this,v||{});Q=C._eventRegistry;var ue=(C._eventRegistry={},new w(N));this.inVirtualSelectionMode=!0;for(var oe=K.length;oe--;){if(O)for(;0<oe&&K[oe].start.row==K[oe-1].end.row;)oe--;ue.fromOrientedRange(K[oe]),ue.index=oe,this.selection=N.selection=ue;var pe=f.exec?f.exec(this,v||{}):f(this,v||{});S||void 0===pe||(S=pe),ue.toOrientedRange(K[oe])}return ue.detach(),this.selection=N.selection=C,this.inVirtualSelectionMode=!1,C._eventRegistry=Q,C.mergeOverlappingRanges(),C.ranges[0]&&C.fromOrientedRange(C.ranges[0]),z=this.renderer.$scrollAnimation,this.onCursorChange(),this.onSelectionChange(),z&&z.from==z.to&&this.renderer.animateScrolling(z.from),S}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var f="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var v=this.multiSelect.rangeList.ranges,C=[],S=0;S<v.length;S++)C.push(this.session.getTextRange(v[S]));var O=this.session.getDocument().getNewLineCharacter();(f=C.join(O)).length==(C.length-1)*O.length&&(f="")}else this.selection.isEmpty()||(f=this.session.getTextRange(this.getSelectionRange()));return f},this.$checkMultiselectChange=function(f,v){var C;this.inMultiSelectMode&&!this.inVirtualSelectionMode&&(C=this.multiSelect.ranges[0],this.multiSelect.isEmpty()&&v==this.multiSelect.anchor||((C=v==this.multiSelect.anchor?C.cursor==C.start?C.end:C.start:C.cursor).row!=v.row||this.session.$clipPositionToDocument(C.row,C.column).column!=v.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()))},this.findAll=function(f,v,C){(v=v||{}).needle=f||v.needle,null==v.needle&&(S=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange(),v.needle=this.session.getTextRange(S)),this.$search.set(v);var S,O=this.$search.findAll(this.session);if(!O.length)return 0;var N=this.multiSelect;C||N.toSingleRange(O[0]);for(var z=O.length;z--;)N.addRange(O[z],!0);return S&&N.rangeList.rangeAtPoint(S.start)&&N.addRange(S,!0),O.length},this.selectMoreLines=function(f,v){var C,S,O,N=this.selection.toOrientedRange(),z=N.cursor==N.end,K=this.session.documentToScreenPosition(N.cursor),Q=(this.selection.$desiredColumn&&(K.column=this.selection.$desiredColumn),this.session.screenToDocumentPosition(K.row+f,K.column));f=N.isEmpty()?Q:(C=this.session.documentToScreenPosition(z?N.end:N.start),this.session.screenToDocumentPosition(C.row+f,C.column)),z?(S=T.fromPoints(Q,f)).cursor=S.start:(S=T.fromPoints(f,Q)).cursor=S.end,S.desiredColumn=K.column,this.selection.inMultiSelectMode?v&&(O=N.cursor):this.selection.addRange(N),this.selection.addRange(S),O&&this.selection.substractPoint(O)},this.transposeSelections=function(f){for(var v=this.session,C=v.multiSelect,S=C.ranges,O=S.length;O--;)(z=S[O]).isEmpty()&&(K=v.getWordRange(z.start.row,z.start.column),z.start.row=K.start.row,z.start.column=K.start.column,z.end.row=K.end.row,z.end.column=K.end.column);C.mergeOverlappingRanges();var N=[];for(O=S.length;O--;){var z=S[O];N.unshift(v.getTextRange(z))}for(f<0?N.unshift(N.pop()):N.push(N.shift()),O=S.length;O--;){var K=(z=S[O]).clone();v.replace(z,N[O]),z.start.row=K.start.row,z.start.column=K.start.column}C.fromOrientedRange(C.ranges[0])},this.selectMore=function(f,v,C){var S,O=this.session,N=O.multiSelect.toOrientedRange();N.isEmpty()&&((N=O.getWordRange(N.start.row,N.start.column)).cursor=-1==f?N.start:N.end,this.multiSelect.addRange(N),C)||(C=O.getTextRange(N),S=f,l.$options.wrap=!0,l.$options.needle=C,l.$options.backwards=-1==S,(C=l.find(O))&&(C.cursor=-1==f?C.start:C.end,this.session.unfold(C),this.multiSelect.addRange(C),this.renderer.scrollCursorIntoView(null,.5)),v&&this.multiSelect.substractPoint(N.cursor))},this.alignCursors=function(){var f=this.session,v=f.multiSelect,S=-1,O=(C=v.ranges).filter(function(U){if(U.cursor.row==S)return!0;S=U.cursor.row});if(C.length&&O.length!=C.length-1){O.forEach(function(U){v.substractPoint(U.cursor)});var N=0,z=1/0,K=C.map(function(Y){var W=f.getLine((Y=Y.cursor).row).substr(Y.column).search(/\S/g);return Y.column>N&&(N=Y.column),(W=-1==W?0:W)<z&&(z=W),W});C.forEach(function(U,fe){var W=U.cursor,ne=N-W.column;(fe=K[fe]-z)<ne?f.insert(W,h.stringRepeat(" ",ne-fe)):f.remove(new T(W.row,W.column,W.row,W.column-ne+fe)),U.start.column=U.end.column=N,U.start.row=U.end.row=W.row,U.cursor=U.end}),v.fromOrientedRange(C[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var C,Q=(O=this.selection.getRange()).start.row,ue=O.end.row;if(C=Q==ue){for(var oe,pe=this.session.getLength();oe=this.session.getLine(ue),/[=:]/.test(oe)&&++ue<pe;);for(;oe=this.session.getLine(Q),/[=:]/.test(oe)&&0<--Q;);Q<0&&(Q=0),pe<=ue&&(ue=pe-1)}var F=this.session.removeFullLines(Q,ue);F=this.$reAlignText(F,C),this.session.insert({row:Q,column:0},F.join("\n")+"\n"),C||(O.start.column=0,O.end.column=F[F.length-1].length),this.selection.setRange(O)}},this.$reAlignText=function(f,v){var C,S,O,N=!0,z=!0;return f.map(function(ue){var oe=ue.match(/(\s*)(.*?)(\s*)([=:].*)/);return oe?(null==C?(C=oe[1].length,S=oe[2].length,O=oe[3].length):(C+S+O!=oe[1].length+oe[2].length+oe[3].length&&(z=!1),C!=oe[1].length&&(N=!1),C>oe[1].length&&(C=oe[1].length),S<oe[2].length&&(S=oe[2].length),O>oe[3].length&&(O=oe[3].length)),oe):[ue]}).map(v?Q:N?z?function(ue){return ue[2]?K(C+S-ue[2].length)+ue[2]+K(O)+ue[4].replace(/^([=:])\s+/,"$1 "):ue[0]}:Q:function(ue){return ue[2]?K(C)+ue[2]+K(O)+ue[4].replace(/^([=:])\s+/,"$1 "):ue[0]});function K(ue){return h.stringRepeat(" ",ue)}function Q(ue){return ue[2]?K(C)+ue[2]+K(S-ue[2].length+O)+ue[4].replace(/^([=:])\s+/,"$1 "):ue[0]}}}.call(d.prototype),m.onSessionChange=function(C){var v=C.session;v&&!v.multiSelect&&(v.$selectionMarkers=[],v.selection.$initRangeList(),v.multiSelect=v.selection),this.multiSelect=v&&v.multiSelect,(C=C.oldSession)&&(C.multiSelect.off("addRange",this.$onAddRange),C.multiSelect.off("removeRange",this.$onRemoveRange),C.multiSelect.off("multiSelect",this.$onMultiSelect),C.multiSelect.off("singleSelect",this.$onSingleSelect),C.multiSelect.lead.off("change",this.$checkMultiselectChange),C.multiSelect.anchor.off("change",this.$checkMultiselectChange)),v&&(v.multiSelect.on("addRange",this.$onAddRange),v.multiSelect.on("removeRange",this.$onRemoveRange),v.multiSelect.on("multiSelect",this.$onMultiSelect),v.multiSelect.on("singleSelect",this.$onSingleSelect),v.multiSelect.lead.on("change",this.$checkMultiselectChange),v.multiSelect.anchor.on("change",this.$checkMultiselectChange)),v&&this.inMultiSelectMode!=v.selection.inMultiSelectMode&&(v.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},m.MultiSelect=g,_("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(f){g(this),f?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",p)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",p))},value:!0},enableBlockSelect:{set:function(f){this.$blockSelectEnabled=f},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(T,m,D){"use strict";var I=T("../../range").Range;T=m.FoldMode=function(){},function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(w,p,y){return w=w.getLine(y),this.foldingStartMarker.test(w)?"start":"markbeginend"==p&&this.foldingStopMarker&&this.foldingStopMarker.test(w)?"end":""},this.getFoldWidgetRange=function(w,p,y){return null},this.indentationBlock=function(w,p,y){var h=/\S/,l=(u=w.getLine(p)).search(h);if(-1!=l){y=y||u.length;for(var d,g=w.getLength(),u=p,f=p;++p<g;){var v=w.getLine(p).search(h);if(-1!=v){if(v<=l&&(!(v=w.getTokenAt(p,0))||"string"!==v.type))break;f=p}}return u<f?(d=w.getLine(f).length,new I(u,y,f,d)):void 0}},this.openingBracketBlock=function(w,p,y,h,u){if(h=w.$findClosingBracket(p,y={row:y,column:h+1},u))return"start"==(p=null==(p=w.foldWidgets[h.row])?w.getFoldWidget(h.row):p)&&h.row>y.row&&(h.row--,h.column=w.getLine(h.row).length),I.fromPoints(y,h)},this.closingBracketBlock=function(w,p,y,h,u){if(h=w.$findOpeningBracket(p,y={row:y,column:h}))return h.column++,y.column--,I.fromPoints(h,y)}}.call(T.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(_,m,D){"use strict";var I=_("../line_widgets").LineWidgets,T=_("../lib/dom"),w=_("../range").Range,p=_("../config").nls;m.showErrorMarker=function(h,S){var l,d=h.session,g=(d.widgetManager||(d.widgetManager=new I(d),d.widgetManager.attach(h)),h.getCursorPosition());if((O=d.widgetManager.getWidgetsAtRow(C=g.row).filter(function(N){return"errorMarker"==N.type})[0])?O.destroy():C-=S,C=function y(h,u,l){var d=h.getAnnotations().sort(w.comparePoints);if(d.length){var g=function(C,S,O){for(var N=0,z=C.length-1;N<=z;){var K=N+z>>1,Q=O(S,C[K]);if(0<Q)N=1+K;else{if(!(Q<0))return K;z=K-1}}return-(N+1)}(d,{row:u,column:-1},w.comparePoints),f=((g=g<0?-g-1:g)>=d.length?g=0<l?0:d.length-1:0===g&&l<0&&(g=d.length-1),d[g]);if(f&&l){if(f.row===u){for(;(f=d[g+=l])&&f.row===u;);if(!f)return d.slice()}var v=[];for(u=f.row;v[l<0?"unshift":"push"](f),(f=d[g+=l])&&f.row==u;);return v.length&&v}}}(d,C,S))g.column=((S=C[0]).pos&&"number"!=typeof S.column?S.pos.sc:S.column)||0,g.row=S.row,l=h.renderer.$gutterLayer.$annotations[g.row];else{if(O)return;l={text:[p("Looks good!")],className:"ace_ok"}}function f(N,z,K){if(0===z&&("esc"===K||"return"===K))return v.destroy(),{command:"null"}}h.session.unfold(g.row),h.selection.moveToPosition(g);var v={row:g.row,fixedWidth:!0,coverGutter:!0,el:T.createElement("div"),type:"errorMarker"},C=v.el.appendChild(T.createElement("div")),O=((S=v.el.appendChild(T.createElement("div"))).className="error_widget_arrow "+l.className,h.renderer.$cursorLayer.getPixelPosition(g).left);S.style.left=O+h.renderer.gutterWidth-5+"px",v.el.className="error_widget_wrapper",C.className="error_widget "+l.className,C.innerHTML=l.text.join("<br>"),C.appendChild(T.createElement("div")),v.destroy=function(){h.$mouseHandler.isMousePressed||(h.keyBinding.removeKeyboardHandler(f),d.widgetManager.removeLineWidget(v),h.off("changeSelection",v.destroy),h.off("changeSession",v.destroy),h.off("mouseup",v.destroy),h.off("change",v.destroy))},h.keyBinding.addKeyboardHandler(f),h.on("changeSelection",v.destroy),h.on("changeSession",v.destroy),h.on("mouseup",v.destroy),h.on("change",v.destroy),h.session.widgetManager.addLineWidget(v),v.el.onmousedown=h.focus.bind(h),h.renderer.scrollCursorIntoView(null,.5,{bottom:v.el.offsetHeight})},T.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(_,m,D){"use strict";_("./loader_build")(m);var I=_("./lib/dom"),T=_("./range").Range,w=_("./editor").Editor,p=_("./edit_session").EditSession,y=_("./undomanager").UndoManager,h=_("./virtual_renderer").VirtualRenderer;_("./worker/worker_client"),_("./keyboard/hash_handler"),_("./placeholder"),_("./multi_select"),_("./mode/folding/fold_mode"),_("./theme/textmate"),_("./ext/error_marker"),m.config=_("./config"),m.edit=function(u,l){if("string"==typeof u){var d=u;if(!(u=document.getElementById(d)))throw new Error("ace.edit can't find div #"+d)}var g,f;return u&&u.env&&u.env.editor instanceof w?u.env.editor:(d="",u&&/input|textarea/i.test(u.tagName)?(d=(g=u).value,u=I.createElement("pre"),g.parentNode.replaceChild(u,g)):u&&(d=u.textContent,u.innerHTML=""),d=m.createEditSession(d),u=new w(new h(u),d,l),f={document:d,editor:u,onResize:u.resize.bind(u,null)},g&&(f.textarea=g),u.on("destroy",function(){f.editor.container.env=null}),u.container.env=u.env=f,u)},m.createEditSession=function(u,l){return(u=new p(u,l)).setUndoManager(new y),u},m.Range=T,m.Editor=w,m.EditSession=p,m.UndoManager=y,m.VirtualRenderer=h,m.version=m.config.version}),ace.require(["ace/ace"],function(_){for(var m in _&&(_.config.init(!0),_.define=ace.define),window.ace||(window.ace=_),_)_.hasOwnProperty(m)&&(window.ace[m]=_[m]);window.ace.default=window.ace,Z&&(Z.exports=window.ace)})},4317:function(Z,V,X){Z=X.nmd(Z),ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(ee,$,k){"use strict";var u=ee("./lib/dom"),P=ee("./lib/oop"),E=ee("./lib/event_emitter").EventEmitter,R=ee("./lib/lang"),x=ee("./range").Range,A=ee("./range_list").RangeList,_=ee("./keyboard/hash_handler").HashHandler,m=ee("./tokenizer").Tokenizer,D=ee("./clipboard"),I={CURRENT_WORD:function(l){return l.session.getTextRange(l.session.getWordRange())},SELECTION:function(l,d,g){return l=l.session.getTextRange(),g?l.replace(/\n\r?([ \t]*\S)/g,"\n"+g+"$1"):l},CURRENT_LINE:function(l){return l.session.getLine(l.getCursorPosition().row)},PREV_LINE:function(l){return l.session.getLine(l.getCursorPosition().row-1)},LINE_INDEX:function(l){return l.getCursorPosition().row},LINE_NUMBER:function(l){return l.getCursorPosition().row+1},SOFT_TABS:function(l){return l.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(l){return l.session.getTabSize()},CLIPBOARD:function(l){return D.getText&&D.getText()},FILENAME:function(l){return/[^/\\]*$/.exec(this.FILEPATH(l))[0]},FILENAME_BASE:function(l){return/[^/\\]*$/.exec(this.FILEPATH(l))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(l){return this.FILEPATH(l).replace(/[^/\\]*$/,"")},FILEPATH:function(l){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(l){return(l=l.session.$mode||{}).blockComment&&l.blockComment.start||""},BLOCK_COMMENT_END:function(l){return(l=l.session.$mode||{}).blockComment&&l.blockComment.end||""},LINE_COMMENT:function(l){return(l.session.$mode||{}).lineCommentStart||""},CURRENT_YEAR:T.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:T.bind(null,{year:"2-digit"}),CURRENT_MONTH:T.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:T.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:T.bind(null,{month:"short"}),CURRENT_DATE:T.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:T.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:T.bind(null,{weekday:"short"}),CURRENT_HOUR:T.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:T.bind(null,{minute:"2-digit"}),CURRENT_SECOND:T.bind(null,{second:"2-digit"})};function T(l){return 1==(l=(new Date).toLocaleString("en-us",l)).length?"0"+l:l}function w(){this.snippetMap={},this.snippetNameMap={}}I.SELECTED_TEXT=I.SELECTION,function(){function l(d,g,f){void 0===f&&(f={});for(var v=d.getCursorPosition(),C=d.session.getLine(v.row),S=d.session.getTabString(),O=C.match(/^\s*/)[0],N=(v.column<O.length&&(O=O.slice(0,v.column)),g=g.replace(/\r/g,""),this.tokenizeTmSnippet(g)),z=(N=(N=this.resolveVariables(N,d)).map(function(ne){return"\n"!=ne||f.excludeExtraIndent?"string"==typeof ne?ne.replace(/\t/g,S):ne:ne+O}),[]),K=(N.forEach(function(ne,fe){var he,Ae,ke;"object"==typeof ne&&((he=z[ke=ne.tabstopId])||((he=z[ke]=[]).index=ke,he.value="",he.parents={}),-1===he.indexOf(ne))&&(ne.choices&&!he.choices&&(he.choices=ne.choices),he.push(ne),-1!==(Ae=N.indexOf(ne,fe+1)))&&((ke=N.slice(fe+1,Ae)).some(function(xe){return"object"==typeof xe})&&!he.value?he.value=ke:!ke.length||he.value&&"string"==typeof he.value||(he.value=ke.join("")))}),z.forEach(function(ne){ne.length=0}),{}),Q=0;Q<N.length;Q++){var ue,oe,pe,F=N[Q];"object"==typeof F&&(ue=z[pe=F.tabstopId],oe=N.indexOf(F,Q+1),K[pe]?K[pe]===F&&(delete K[pe],Object.keys(K).forEach(function(ne){ue.parents[ne]=!0})):(K[pe]=F,"string"!=typeof(pe=ue.value)?pe=function(ne){for(var fe=[],he=0;he<ne.length;he++){if("object"==typeof(Ae=ne[he])){if(K[Ae.tabstopId])continue;var Ae=fe[ne.lastIndexOf(Ae,he-1)]||{tabstopId:Ae.tabstopId}}fe[he]=Ae}return fe}(pe):F.fmt&&(pe=this.tmStrFormat(pe,F,d)),N.splice.apply(N,[Q+1,Math.max(0,oe-Q)].concat(pe,F)),-1===ue.indexOf(F)&&ue.push(F)))}var U=0,Y=0,W="";return N.forEach(function(ne){var fe;"string"==typeof ne?(1<(fe=ne.split("\n")).length?(Y=fe[fe.length-1].length,U+=fe.length-1):Y+=ne.length,W+=ne):ne&&(ne.start?ne.end={row:U,column:Y}:ne.start={row:U,column:Y})}),{text:W,tabstops:z,tokens:N}}P.implement(this,E),this.getTokenizer=function(){return w.$tokenizer||this.createTokenizer()},this.createTokenizer=function(){function d(v){return v=v.substr(1),/^\d+$/.test(v)?[{tabstopId:parseInt(v,10)}]:[{text:v}]}function g(v){return"(?:[^\\\\"+v+"]|\\\\.)"}var f={regex:"/("+g("/")+"+)/",onMatch:function(v,C,S){return(S=S[0]).fmtString=!0,S.guard=v.slice(1,-1),S.flag=""},next:"formatString"};return w.$tokenizer=new m({start:[{regex:/\\./,onMatch:function(v,C,S){var O=v[1];return[v="}"==O&&S.length||-1!="`$\\".indexOf(O)?O:v]}},{regex:/}/,onMatch:function(v,C,S){return[S.length?S.shift():v]}},{regex:/\$(?:\d+|\w+)/,onMatch:d},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(v,C,S){return v=d(v.substr(1)),S.unshift(v[0]),v},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+g("\\|")+"*\\|",onMatch:function(v,C,S){return v=v.slice(1,-1).replace(/\\[,|\\]|,/g,function(O){return 2==O.length?O[1]:"\0"}).split("\0").map(function(O){return{value:O}}),[(S[0].choices=v)[0]]},next:"start"},f,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(v,C,S){return S.length&&S[0].expectElse?(S[0].expectElse=!1,S[0].ifEnd={elseEnd:S[0]},[S[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(v,C,S){var O=v[1];return"}"==O&&S.length||-1!="`$\\".indexOf(O)?v=O:"n"==O?v="\n":"t"==O?v="\t":-1!="ulULE".indexOf(O)&&(v={changeCase:O,local:"a"<O}),[v]}},{regex:"/\\w*}",onMatch:function(v,C,S){return(S=S.shift())&&(S.flag=v.slice(1,-1)),this.next=S&&S.tabstopId?"start":"",[S||v]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(v,C,S){return[{text:v.slice(1)}]}},{regex:/\${\w+/,onMatch:function(v,C,S){return v={text:v.slice(2)},S.unshift(v),[v]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(v,C,S){return S=S.shift(),this.next=S&&S.tabstopId?"start":"",[S||v]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(v,C,S){return S[0].formatFunction=v.slice(2,-1),[S.shift()]},next:"formatString"},f,{regex:/:[\?\-+]?/,onMatch:function(v,C,S){"+"==v[1]&&(S[0].ifEnd=S[0]),"?"==v[1]&&(S[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]})},this.tokenizeTmSnippet=function(d,g){return this.getTokenizer().getLineTokens(d,g).tokens.map(function(f){return f.value||f})},this.getVariableValue=function(d,g,f){var v;return/^\d+$/.test(g)?(this.variables.__||{})[g]||"":/^[A-Z]\d+$/.test(g)?(this.variables[g[0]+"__"]||{})[g.substr(1)]||"":(g=g.replace(/^TM_/,""),this.variables.hasOwnProperty(g)&&null!=(v="function"==typeof(v=this.variables[g])?this.variables[g](d,g,f):v)?v:"")},this.variables=I,this.tmStrFormat=function(d,g,f){var C,S,O;return g.fmt?(C=g.guard,C=new RegExp(C,(g.flag||"").replace(/[^gim]/g,"")),S="string"==typeof g.fmt?this.tokenizeTmSnippet(g.fmt,"formatString"):g.fmt,O=this,d.replace(C,function(){for(var N=O.variables.__,z=(O.variables.__=[].slice.call(arguments),O.resolveVariables(S,f)),K="E",Q=0;Q<z.length;Q++){var ue,oe=z[Q];"object"==typeof oe?(z[Q]="",oe.changeCase&&oe.local?(ue=z[Q+1])&&"string"==typeof ue&&(z[Q]="u"==oe.changeCase?ue[0].toUpperCase():ue[0].toLowerCase(),z[Q+1]=ue.substr(1)):oe.changeCase&&(K=oe.changeCase)):"U"==K?z[Q]=oe.toUpperCase():"L"==K&&(z[Q]=oe.toLowerCase())}return O.variables.__=N,z.join("")})):d},this.tmFormatFunction=function(d,g,f){return"upcase"==g.formatFunction?d.toUpperCase():"downcase"==g.formatFunction?d.toLowerCase():d},this.resolveVariables=function(d,g){for(var f=[],v="",C=!0,S=0;S<d.length;S++){var O,N=d[S];"string"==typeof N?(f.push(N),"\n"==N?(C=!0,v=""):C&&(v=/^\t*/.exec(N)[0],C=/\S/.test(N))):N&&(C=!1,N.fmtString&&(-1==(O=d.indexOf(N,S+1))&&(O=d.length),N.fmt=d.slice(S+1,O),S=O),N.text?(O=this.getVariableValue(g,N.text,v)+"",N.fmtString&&(O=this.tmStrFormat(O,N,g)),(O=N.formatFunction?this.tmFormatFunction(O,N,g):O)&&!N.ifEnd?(f.push(O),z(N)):!O&&N.ifEnd&&z(N.ifEnd)):N.elseEnd?z(N.elseEnd):null==N.tabstopId&&null==N.changeCase||f.push(N))}function z(K){-1!=(K=d.indexOf(K,S+1))&&(S=K)}return f},this.getDisplayTextForSnippet=function(d,g){return l.call(this,d,g).text},this.insertSnippetForSelection=function(N,v,S){v=l.call(this,N,v,S=void 0===S?{}:S);var C=N.getSelectionRange();S.range&&0===S.range.compareRange(C)&&(C=S.range),S=N.session.replace(C,v.text),new p(N).addTabstops(v.tabstops,C.start,S,N=N.inVirtualSelectionMode&&N.selection.index)},this.insertSnippet=function(d,g,f){var v=this;if(!(f=void 0===f?{}:f).range||f.range instanceof x||(f.range=x.fromPoints(f.range.start,f.range.end)),d.inVirtualSelectionMode)return v.insertSnippetForSelection(d,g,f);d.forEachSelection(function(){v.insertSnippetForSelection(d,g,f)},null,{keepOrder:!0}),d.tabstopManager&&d.tabstopManager.tabNext()},this.$getScope=function(d){var g,f=d.session.$mode.$id||"";return"html"!==(f=f.split("/").pop())&&"php"!==f||("php"!==f||d.session.$mode.inlinePhp||(f="html"),g=d.getCursorPosition(),(d="object"==typeof(d=d.session.getState(g.row))?d[0]:d).substring&&("js-"==d.substring(0,3)?f="javascript":"css-"==d.substring(0,4)?f="css":"php-"==d.substring(0,4)&&(f="php"))),f},this.getActiveScopes=function(g){var f=[g=this.$getScope(g)],v=this.snippetMap;return v[g]&&v[g].includeScopes&&f.push.apply(f,v[g].includeScopes),f.push("_"),f},this.expandWithTab=function(d,g){var f=this,v=d.forEachSelection(function(){return f.expandSnippetForSelection(d,g)},null,{keepOrder:!0});return v&&d.tabstopManager&&d.tabstopManager.tabNext(),v},this.expandSnippetForSelection=function(d,g){var f,v=d.getCursorPosition(),C=d.session.getLine(v.row),S=C.substring(0,v.column),O=C.substr(v.column),N=this.snippetMap;return this.getActiveScopes(d).some(function(z){return!!(f=(z=N[z])?this.findMatchingSnippet(z,S,O):f)},this),!!f&&(g&&g.dryRun||(d.session.doc.removeInLine(v.row,v.column-f.replaceBefore.length,v.column+f.replaceAfter.length),this.variables.M__=f.matchBefore,this.variables.T__=f.matchAfter,this.insertSnippetForSelection(d,f.content),this.variables.M__=this.variables.T__=null),!0)},this.findMatchingSnippet=function(d,g,f){for(var v=d.length;v--;){var C=d[v];if((!C.startRe||C.startRe.test(g))&&(!C.endRe||C.endRe.test(f))&&(C.startRe||C.endRe))return C.matchBefore=C.startRe?C.startRe.exec(g):[""],C.matchAfter=C.endRe?C.endRe.exec(f):[""],C.replaceBefore=C.triggerRe?C.triggerRe.exec(g)[0]:"",C.replaceAfter=C.endTriggerRe?C.endTriggerRe.exec(f)[0]:"",C}},this.snippetMap={},this.snippetNameMap={},this.register=function(d,g){var f=this.snippetMap,v=this.snippetNameMap,C=this;function S(z){return(z=z&&!/^\^?\(.*\)\$?$|^\\b$/.test(z)?"(?:"+z+")":z)||""}function O(z,K,Q){return z=S(z),K=S(K),Q?(z=K+z)&&"$"!=z[z.length-1]&&(z+="$"):(z+=K)&&"^"!=z[0]&&(z="^"+z),new RegExp(z)}function N(z){z.scope||(z.scope=g||"_"),f[g=z.scope]||(f[g]=[],v[g]={});var K,Q=v[g];z.name&&((K=Q[z.name])&&C.unregister(K),Q[z.name]=z),f[g].push(z),z.prefix&&(z.tabTrigger=z.prefix),!z.content&&z.body&&(z.content=Array.isArray(z.body)?z.body.join("\n"):z.body),z.tabTrigger&&!z.trigger&&(!z.guard&&/^\w/.test(z.tabTrigger)&&(z.guard="\\b"),z.trigger=R.escapeRegExp(z.tabTrigger)),(z.trigger||z.guard||z.endTrigger||z.endGuard)&&(z.startRe=O(z.trigger,z.guard,!0),z.triggerRe=new RegExp(z.trigger),z.endRe=O(z.endTrigger,z.endGuard,!0),z.endTriggerRe=new RegExp(z.endTrigger))}d=d||[],Array.isArray(d)?d.forEach(N):Object.keys(d).forEach(function(z){N(d[z])}),this._signal("registerSnippets",{scope:g})},this.unregister=function(d,g){var f=this.snippetMap,v=this.snippetNameMap;function C(S){var O=v[S.scope||g];O&&O[S.name]&&(delete O[S.name],0<=(S=(O=f[S.scope||g])&&O.indexOf(S)))&&O.splice(S,1)}d.content?C(d):Array.isArray(d)&&d.forEach(C)},this.parseSnippetFile=function(d){d=d.replace(/\r/g,"");for(var g,f,v,C=[],S={},O=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;f=O.exec(d);){if(f[1])try{S=JSON.parse(f[1]),C.push(S)}catch(N){}f[4]?(S.content=f[4].replace(/^\t/gm,""),C.push(S),S={}):(g=f[2],f=f[3],"regex"==g?(S.guard=(v=/\/((?:[^\/\\]|\\.)*)|$/g).exec(f)[1],S.trigger=v.exec(f)[1],S.endTrigger=v.exec(f)[1],S.endGuard=v.exec(f)[1]):"snippet"==g?(S.tabTrigger=f.match(/^\S*/)[0],S.name||(S.name=f)):g&&(S[g]=f))}return C},this.getSnippetByName=function(d,g){var f,v=this.snippetNameMap;return this.getActiveScopes(g).some(function(C){return!!(f=(C=v[C])?C[d]:f)},this),f}}.call(w.prototype);var p=function(l){if(l.tabstopManager)return l.tabstopManager;(l.tabstopManager=this).$onChange=this.onChange.bind(this),this.$onChangeSelection=R.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(l)},y=(function(){this.attach=function(l){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=l,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(l){for(var d="r"==l.action[0],g=this.selectedTabstop||{},f=g.parents||{},v=(this.tabstops||[]).slice(),C=0;C<v.length;C++){var S=v[C];if(S.rangeList.$bias=(O=S==g||f[S.index])?0:1,"remove"==l.action&&S!==g)for(var N=(N=S.rangeList.pointIndex(l.start,O=S.parents&&S.parents[g.index]))<0?-N-1:N+1,O=S.rangeList.pointIndex(l.end,O),z=S.rangeList.ranges.slice(N,O<0?-O-1:O-1),K=0;K<z.length;K++)this.removeRange(z[K]);S.rangeList.$onChange(l)}var Q=this.editor.session;this.$inChange||!d||1!=Q.getLength()||Q.getValue()||this.detach()},this.updateLinkedFields=function(){var l=this.selectedTabstop;if(l&&l.hasLinkedRanges&&l.firstNonLinked){this.$inChange=!0;for(var d=this.editor.session,g=d.getTextRange(l.firstNonLinked),f=0;f<l.length;f++){var v,C=l[f];C.linked&&(v=$.snippetManager.tmStrFormat(g,v=C.original,this.editor),d.replace(C,v))}this.$inChange=!1}},this.onAfterExec=function(l){l.command&&!l.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var l=this.editor.selection.lead,d=this.editor.selection.anchor,g=this.editor.selection.isEmpty(),f=0;f<this.ranges.length;f++)if(!this.ranges[f].linked){var v=this.ranges[f].contains(l.row,l.column),C=g||this.ranges[f].contains(d.row,d.column);if(v&&C)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(g){var d=this.tabstops.length;g=this.index+(g||1),g=Math.min(Math.max(g,1),d),this.selectTabstop(g=g==d?0:g),0===g&&this.detach()},this.selectTabstop=function(l){this.$openTabstops=null;var d=this.tabstops[this.index];if(d&&this.addTabstopMarkers(d),this.index=l,(d=this.tabstops[this.index])&&d.length){if(l=(this.selectedTabstop=d).firstNonLinked||d,d.choices&&(l.cursor=l.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(l);else{var g=this.editor.multiSelect;g.toSingleRange(l);for(var f=0;f<d.length;f++)d.hasLinkedRanges&&d[f].linked||g.addRange(d[f].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},this.addTabstops=function(l,d,g){var f=this.useLink||!this.editor.getOption("enableMultiselect");this.$openTabstops||(this.$openTabstops=[]),l[0]||(g=x.fromPoints(g,g),h(g.start,d),h(g.end,d),l[0]=[g],l[0].index=0);var v=[this.index+1,0],C=this.ranges;l.forEach(function(S,O){for(var N=this.$openTabstops[O]||S,z=0;z<S.length;z++){var K=S[z],Q=x.fromPoints(K.start,K.end||K.start);y(Q.start,d),y(Q.end,d),Q.original=K,Q.tabstop=N,C.push(Q),N!=S?N.unshift(Q):N[z]=Q,K.fmtString||N.firstNonLinked&&f?(Q.linked=!0,N.hasLinkedRanges=!0):N.firstNonLinked||(N.firstNonLinked=Q)}N.firstNonLinked||(N.hasLinkedRanges=!1),N===S&&(v.push(N),this.$openTabstops[O]=N),this.addTabstopMarkers(N),N.rangeList=N.rangeList||new A,N.rangeList.$bias=0,N.rangeList.addList(N)},this),2<v.length&&(this.tabstops.length&&v.push(v.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,v))},this.addTabstopMarkers=function(l){var d=this.editor.session;l.forEach(function(g){g.markerId||(g.markerId=d.addMarker(g,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(l){var d=this.editor.session;l.forEach(function(g){d.removeMarker(g.markerId),g.markerId=null})},this.removeRange=function(l){var d=l.tabstop.indexOf(l);-1!=d&&l.tabstop.splice(d,1),-1!=(d=this.ranges.indexOf(l))&&this.ranges.splice(d,1),-1!=(d=l.tabstop.rangeList.ranges.indexOf(l))&&l.tabstop.splice(d,1),this.editor.session.removeMarker(l.markerId),l.tabstop.length||(-1!=(d=this.tabstops.indexOf(l.tabstop))&&this.tabstops.splice(d,1),this.tabstops.length)||this.detach()},this.keyboardHandler=new _,this.keyboardHandler.bindKeys({Tab:function(l){$.snippetManager&&$.snippetManager.expandWithTab(l)||(l.tabstopManager.tabNext(1),l.renderer.scrollCursorIntoView())},"Shift-Tab":function(l){l.tabstopManager.tabNext(-1),l.renderer.scrollCursorIntoView()},Esc:function(l){l.tabstopManager.detach()}})}.call(p.prototype),function(l,d){0==l.row&&(l.column+=d.column),l.row+=d.row}),h=function(l,d){l.row==d.row&&(l.column-=d.column),l.row-=d.row};u.importCssString("\n.ace_snippet-marker {\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    background: rgba(194, 193, 208, 0.09);\n    border: 1px dotted rgba(211, 208, 235, 0.62);\n    position: absolute;\n}","snippets.css",!1),$.snippetManager=new w,u=ee("./editor").Editor,function(){this.insertSnippet=function(l,d){return $.snippetManager.insertSnippet(this,l,d)},this.expandSnippet=function(l){return $.snippetManager.expandWithTab(this,l)}}.call(u.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config"],function(ee,$,k){"use strict";function P(w){return"suggest-aria-id:".concat(w)}function E(w){return(w=new x(w)).$maxLines=4,(w=new A(w)).setHighlightActiveLine(!1),w.setShowPrintMargin(!1),w.renderer.setShowGutter(!1),w.renderer.setHighlightGutterLine(!1),w.$mouseHandler.$focusTimeout=0,w.$highlightTagPending=!0,w}var x=ee("../virtual_renderer").VirtualRenderer,A=ee("../editor").Editor,_=ee("../range").Range,m=ee("../lib/event"),D=ee("../lib/lang"),I=ee("../lib/dom"),T=ee("../config").nls;I.importCssString("\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #CAD6FA;\n    z-index: 1;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #3a674e;\n}\n.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid #abbffe;\n    margin-top: -1px;\n    background: rgba(233,233,253,0.4);\n    position: absolute;\n    z-index: 2;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid rgba(109, 150, 13, 0.8);\n    background: rgba(58, 103, 78, 0.62);\n}\n.ace_completion-meta {\n    opacity: 0.5;\n    margin: 0 0.9em;\n}\n.ace_completion-message {\n    color: blue;\n}\n.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #2d69c7;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #93ca12;\n}\n.ace_editor.ace_autocomplete {\n    width: 300px;\n    z-index: 200000;\n    border: 1px lightgray solid;\n    position: fixed;\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n    line-height: 1.4;\n    background: #fefefe;\n    color: #111;\n}\n.ace_dark.ace_editor.ace_autocomplete {\n    border: 1px #484747 solid;\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\n    line-height: 1.4;\n    background: #25282c;\n    color: #c1c1c1;\n}\n.ace_autocomplete_right .ace_text-layer  {\n    width: calc(100% - 8px);\n}\n.ace_autocomplete_right .ace_line {\n    display: flex;\n}\n.ace_autocomplete_right .ace_completion-meta {\n    flex: 1;\n    text-align: right;\n}\n","autocompletion.css",!1),$.AcePopup=function R(w){function p(){}function y(){f(-1)}var h,u=I.createElement("div"),l=new E(u),d=(w&&w.appendChild(u),u.style.display="none",l.renderer.content.style.cursor="default",l.renderer.setStyle("ace_autocomplete"),l.renderer.container.setAttribute("role","listbox"),l.renderer.container.setAttribute("aria-label",T("Autocomplete suggestions")),l.setOption("displayIndentGuides",!1),l.setOption("dragDelay",150),l.focus=p,l.$isFocused=!0,l.renderer.$cursorLayer.restartTimer=p,l.renderer.$cursorLayer.element.style.opacity=0,l.renderer.$maxLines=8,l.renderer.$keepTextAreaAtCursor=!1,l.setHighlightActiveLine(!1),l.session.highlight(""),l.session.$searchHighlight.clazz="ace_highlight-marker",l.on("mousedown",function(v){var C=v.getDocumentPosition();l.selection.moveToPosition(C),g.start.row=g.end.row=C.row,v.stop()}),new _(-1,0,-1,1/0)),g=new _(-1,0,-1,1/0),f=(g.id=l.session.addMarker(g,"ace_active-line","fullLine"),l.setSelectOnHover=function(v){v?d.id&&(l.session.removeMarker(d.id),d.id=null):d.id=l.session.addMarker(d,"ace_line-hover","fullLine")},l.setSelectOnHover(!1),l.on("mousemove",function(v){var C;h?h.x==v.x&&h.y==v.y||((h=v).scrollTop=l.renderer.scrollTop,C=h.getDocumentPosition().row,d.start.row!=C&&(d.id||l.setRow(C),f(C))):h=v}),l.renderer.on("beforeRender",function(){var v;h&&-1!=d.start.row&&(h.$pos=null,v=h.getDocumentPosition().row,d.id||l.setRow(v),f(v,!0))}),l.renderer.on("afterRender",function(){var v=l.getRow(),C=l.renderer.$textLayer,S=C.element.childNodes[v-C.config.firstRow],O=document.activeElement;S!==C.selectedNode&&C.selectedNode&&(I.removeCssClass(C.selectedNode,"ace_selected"),O.removeAttribute("aria-activedescendant"),C.selectedNode.removeAttribute("id")),(C.selectedNode=S)&&(I.addCssClass(S,"ace_selected"),C=P(v),S.id=C,l.renderer.container.setAttribute("aria-activedescendant",C),O.setAttribute("aria-activedescendant",C),S.setAttribute("role","option"),S.setAttribute("aria-label",l.getData(v).value),S.setAttribute("aria-setsize",l.data.length),S.setAttribute("aria-posinset",v))}),function(v,C){v!==d.start.row&&(d.start.row=d.end.row=v,C||l.session._emit("changeBackMarker"),l._emit("changeHoverMarker"))});return l.getHoveredRow=function(){return d.start.row},m.addListener(l.container,"mouseout",y),l.on("hide",y),l.on("changeSelection",y),l.session.doc.getLength=function(){return l.data.length},l.session.doc.getLine=function(v){return"string"==typeof(v=l.data[v])?v:v&&v.value||""},(w=l.session.bgTokenizer).$tokenizeRow=function(v){var C=l.data[v],S=[];if(C){for(var O,N,z=(C="string"==typeof C?{value:C}:C).caption||C.value||C.name,K=z.toLowerCase(),Q=(l.filterText||"").toLowerCase(),ue=0,oe=0,pe=0;pe<=Q.length;pe++)pe!=oe&&(C.matchMask&1<<pe||pe==Q.length)&&(O=Q.slice(oe,pe),oe=pe,-1!=(N=K.indexOf(O,ue)))&&(F(z.slice(ue,N),""),F(z.slice(N,ue=N+O.length),"completion-highlight"));F(z.slice(ue,z.length),""),C.meta&&S.push({type:"completion-meta",value:C.meta}),C.message&&S.push({type:"completion-message",value:C.message})}return S;function F(U,Y){U&&S.push({type:(C.className||"")+(Y||""),value:U})}},w.$updateOnChange=p,w.start=p,l.session.$computeWidth=function(){return this.screenWidth=0},l.isOpen=!1,l.isTopdown=!1,l.autoSelect=!0,l.filterText="",l.data=[],l.setData=function(v,C){l.filterText=C||"",l.setValue(D.stringRepeat("\n",v.length),-1),l.data=v||[],l.setRow(0)},l.getData=function(v){return l.data[v]},l.getRow=function(){return g.start.row},l.setRow=function(v){v=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,v)),g.start.row!=v&&(l.selection.clearSelection(),g.start.row=g.end.row=v||0,l.session._emit("changeBackMarker"),l.moveCursorTo(v||0,0),l.isOpen)&&l._signal("select")},l.on("changeSelection",function(){l.isOpen&&l.setRow(l.selection.lead.row),l.renderer.scrollCursorIntoView()}),l.hide=function(){this.container.style.display="none",l.anchorPos=null,l.anchor=null,l.isOpen&&(l.isOpen=!1,this._signal("hide"))},l.tryShow=function(v,C,S,O){if(O||!l.isOpen||!l.anchorPos||!l.anchor||l.anchorPos.top!==v.top||l.anchorPos.left!==v.left||l.anchor!==S){var N=this.container,z=window.innerHeight,K=window.innerWidth,Q=this.renderer,ue=Q.$maxLines*C*1.4,oe={top:0,bottom:0,left:0},pe=z-v.top-3*this.$borderSize-C,F=v.top-3*this.$borderSize;if("top"===(S=S||(F<=pe||ue<=pe?"bottom":"top"))?(oe.bottom=v.top-this.$borderSize,oe.top=oe.bottom-ue):"bottom"===S&&(oe.top=v.top+C+this.$borderSize,oe.bottom=oe.top+ue),C=0<=oe.top&&oe.bottom<=z,!O&&!C)return!1;Q.$maxPixelHeight=C?null:"top"===S?F:pe,"top"===S?(N.style.top="",N.style.bottom=z-oe.bottom+"px",l.isTopdown=!1):(N.style.top=oe.top+"px",N.style.bottom="",l.isTopdown=!0),N.style.display="",(ue=v.left)+N.offsetWidth>K&&(ue=K-N.offsetWidth),N.style.left=ue+"px",N.style.right="",l.isOpen||(l.isOpen=!0,this._signal("show"),h=null),l.anchorPos=v,l.anchor=S}return!0},l.show=function(v,C,S){this.tryShow(v,C,S?"bottom":void 0,!0)},l.goTo=function(v){var C=this.getRow(),S=this.session.getLength()-1;switch(v){case"up":C=C<=0?S:C-1;break;case"down":C=S<=C?-1:C+1;break;case"start":C=0;break;case"end":C=S}this.setRow(C)},l.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},l.$imageSize=0,l.$borderSize=1,l},$.$singleLineEditor=E,$.getAriaId=P}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets"],function(ee,$,k){"use strict";var P=ee("../snippets").snippetManager;function E(){this.editor=null}E.prototype.show=function(R,x,A){return A=A||"",R&&this.editor&&this.editor!==R&&(this.hide(),this.editor=null),!(!R||!x||!(x=x.snippet?P.getDisplayTextForSnippet(R,x.snippet):x.value)||!x.startsWith(A)||(this.editor=R,""===(x=x.slice(A.length))?R.removeGhostText():R.setGhostText(x),0))},E.prototype.isOpen=function(){return!!this.editor&&!!this.editor.renderer.$ghostText},E.prototype.hide=function(){return!!this.editor&&(this.editor.removeGhostText(),!0)},E.prototype.destroy=function(){this.hide(),this.editor=null},$.AceInline=E}),ace.define("ace/autocomplete/util",["require","exports","module"],function(ee,$,k){"use strict";$.parForEach=function(E,R,x){var A=0,_=E.length;0===_&&x();for(var m=0;m<_;m++)R(E[m],function(D,I){++A===_&&x(D,I)})};var P=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;$.retrievePrecedingIdentifier=function(E,R,x){x=x||P;for(var A=[],_=R-1;0<=_&&x.test(E[_]);_--)A.push(E[_]);return A.reverse().join("")},$.retrieveFollowingIdentifier=function(E,R,x){x=x||P;for(var A=[],_=R;_<E.length&&x.test(E[_]);_++)A.push(E[_]);return A},$.getCompletionPrefix=function(E){var R,x=E.getCursorPosition(),A=E.session.getLine(x.row);return E.completers.forEach(function(_){_.identifierRegexps&&_.identifierRegexps.forEach(function(m){!R&&m&&(R=this.retrievePrecedingIdentifier(A,x.column,m))}.bind(this))}.bind(this)),R||this.retrievePrecedingIdentifier(A,x.column)}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],function(ee,$,k){"use strict";function P(d,g){g.completer&&g.completer.destroy()}var E=ee("./keyboard/hash_handler").HashHandler,R=ee("./autocomplete/popup").AcePopup,x=ee("./autocomplete/inline").AceInline,A=ee("./autocomplete/popup").getAriaId,_=ee("./autocomplete/util"),m=ee("./lib/lang"),D=ee("./lib/dom"),I=ee("./snippets").snippetManager,T=ee("./config"),w=(p.prototype.$init=function(){return this.popup=new R(document.body||document.documentElement),this.popup.on("click",function(d){this.insertMatch(),d.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupChange.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},p.prototype.$initInline=function(){if(this.inlineEnabled&&!this.inlineRenderer)return this.inlineRenderer=new x,this.inlineRenderer},p.prototype.getPopup=function(){return this.popup||this.$init()},p.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip()},p.prototype.$onPopupChange=function(d){var g;this.inlineRenderer&&this.inlineEnabled&&(d=d?null:this.popup.getData(this.popup.getRow()),g=_.getCompletionPrefix(this.editor),this.inlineRenderer.show(this.editor,d,g)||this.inlineRenderer.hide(),this.$updatePopupPosition()),this.tooltipTimer.call(null,null)},p.prototype.$updatePopupPosition=function(){var d=this.editor,g=d.renderer,f=g.layerConfig.lineHeight,v=g.$cursorLayer.getPixelPosition(this.base,!0),C=(v.left-=this.popup.getTextLeftOffset(),d.container.getBoundingClientRect());v.top+=C.top-g.layerConfig.offset,v.left+=C.left-d.renderer.scrollLeft,v.left+=g.gutterWidth,C={top:v.top,left:v.left},g.$ghostText&&g.$ghostTextWidget&&this.base.row===g.$ghostText.position.row&&(C.top+=g.$ghostTextWidget.el.offsetHeight),this.popup.tryShow(C,f,"bottom")||this.popup.tryShow(v,f,"top")||this.popup.show(v,f)},p.prototype.openPopup=function(d,g,f){this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:A(this.popup.getRow()),inline:this.inlineEnabled}),d.keyBinding.addKeyboardHandler(this.keyboardHandler),this.popup.setRow(this.autoSelect?0:-1),f?g||this.detach():(this.popup.setTheme(d.getTheme()),this.popup.setFontSize(d.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel()},p.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null},p.prototype.changeListener=function(d){var g=this.editor.selection.lead;(g.row!=this.base.row||g.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},p.prototype.blurListener=function(d){var g=document.activeElement,f=this.editor.textInput.getElement(),v=d.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(d.relatedTarget);g==f||g.parentNode==(this.popup&&this.popup.container)||v||g==this.tooltipNode||d.relatedTarget==f||this.detach()},p.prototype.mousedownListener=function(d){this.detach()},p.prototype.mousewheelListener=function(d){this.detach()},p.prototype.goTo=function(d){this.popup.goTo(d)},p.prototype.insertMatch=function(d,g){var f;return!!(d=d||this.popup.getData(this.popup.getRow()))&&(f=this.completions,d=this.getCompletionProvider().insertMatch(this.editor,d,f.filterText,g),this.completions==f&&this.detach(),d)},p.prototype.showPopup=function(d,g){this.editor&&this.detach(),this.activated=!0,(this.editor=d).completer!=this&&(d.completer&&d.completer.detach(),d.completer=this),d.on("changeSelection",this.changeListener),d.on("blur",this.blurListener),d.on("mousedown",this.mousedownListener),d.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,g)},p.prototype.getCompletionProvider=function(){return this.completionProvider||(this.completionProvider=new y),this.completionProvider},p.prototype.gatherCompletions=function(d,g){return this.getCompletionProvider().gatherCompletions(d,g)},p.prototype.updateCompletions=function(d,g){var f,v;return d&&this.base&&this.completions?(f=this.editor.getCursorPosition(),(v=this.editor.session.getTextRange({start:this.base,end:f}))==this.completions.filterText?void 0:(this.completions.setFilter(v),this.completions.filtered.length&&(1!=this.completions.filtered.length||this.completions.filtered[0].value!=v||this.completions.filtered[0].snippet)?void this.openPopup(this.editor,v,d):this.detach())):g&&g.matches?(f=this.editor.getSelectionRange().start,this.base=this.editor.session.doc.createAnchor(f.row,f.column),this.base.$insertRight=!0,this.completions=new u(g.matches),this.openPopup(this.editor,"",d)):(g=this.editor.getSession(),f=this.editor.getCursorPosition(),v=_.getCompletionPrefix(this.editor),this.base=g.doc.createAnchor(f.row,f.column-v.length),this.base.$insertRight=!0,g={exactMatch:this.exactMatch},void this.getCompletionProvider().provideCompletions(this.editor,g,function(C,S,O){var N=S.filtered,z=_.getCompletionPrefix(this.editor);if(O){if(!N.length)return this.detach();if(1==N.length&&N[0].value==z&&!N[0].snippet)return this.detach();if(this.autoInsert&&1==N.length)return this.insertMatch(N[0])}this.completions=S,this.openPopup(this.editor,z,d)}.bind(this)))},p.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},p.prototype.updateDocTooltip=function(){var d=this.popup,g=d.data,f=g&&(g[d.getHoveredRow()]||g[d.getRow()]),v=null;if(!f||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var C=this.editor.completers.length,S=0;S<C;S++){var O=this.editor.completers[S];if(O.getDocTooltip&&f.completerId===O.id){v=O.getDocTooltip(f);break}}if(!(v="string"==typeof(v=v||"string"==typeof f?v:f)?{docText:v}:v)||!v.docHTML&&!v.docText)return this.hideDocTooltip();this.showDocTooltip(v)},p.prototype.showDocTooltip=function(f){this.tooltipNode||(this.tooltipNode=D.createElement("div"),this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var g=(this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+((g=this.editor.renderer.theme).isDark?"ace_dark ":"")+(g.cssClass||""),this.tooltipNode),v=(f.docHTML?g.innerHTML=f.docHTML:f.docText&&(g.textContent=f.docText),g.parentNode||document.body.appendChild(g),f=this.popup).container.getBoundingClientRect();g.style.top=f.container.style.top,g.style.bottom=f.container.style.bottom,g.style.display="block",window.innerWidth-v.right<320?v.left<320?(g.style.top=f.isTopdown?v.bottom+"px":f.container.offsetTop-g.offsetHeight+"px",g.style.left=v.left+"px",g.style.right="",g.style.bottom=""):(g.style.right=window.innerWidth-v.left+"px",g.style.left=""):(g.style.left=v.right+1+"px",g.style.right="")},p.prototype.hideDocTooltip=function(){var d;this.tooltipTimer.cancel(),this.tooltipNode&&(d=this.tooltipNode,this.editor.isFocused()||document.activeElement!=d||this.editor.focus(),this.tooltipNode=null,d.parentNode)&&d.parentNode.removeChild(d)},p.prototype.onTooltipClick=function(d){for(var g=d.target;g&&g!=this.tooltipNode;){if("A"==g.nodeName&&g.href){g.rel="noreferrer",g.target="_blank";break}g=g.parentNode}},p.prototype.destroy=function(){var d;this.detach(),this.popup&&(this.popup.destroy(),d=this.popup.container)&&d.parentNode&&d.parentNode.removeChild(d),this.editor&&this.editor.completer==this&&(this.editor.off("destroy",P),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},p);function p(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new E,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=m.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=m.delayedCall(this.updateDocTooltip.bind(this),50)}w.prototype.commands={Up:function(d){d.completer.goTo("up")},Down:function(d){d.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(d){d.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(d){d.completer.goTo("end")},Esc:function(d){d.completer.detach()},Return:function(d){return d.completer.insertMatch()},"Shift-Return":function(d){d.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(d){var g=d.completer.insertMatch();if(g||d.tabstopManager)return g;d.completer.goTo("down")},PageUp:function(d){d.completer.popup.gotoPageUp()},PageDown:function(d){d.completer.popup.gotoPageDown()}},w.for=function(d){return d.completer instanceof w||(d.completer&&(d.completer.destroy(),d.completer=null),T.get("sharedPopups")?(w.$sharedInstance||(w.$sharedInstance=new w),d.completer=w.$sharedInstance):(d.completer=new w,d.once("destroy",P))),d.completer},w.startCommand={name:"startAutocomplete",exec:function(d,g){var f=w.for(d);f.autoInsert=!1,f.autoSelect=!0,f.showPopup(d,g),f.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"},h.prototype.insertByIndex=function(d,g,f){return!(!this.completions||!this.completions.filtered)&&this.insertMatch(d,this.completions.filtered[g],f)},h.prototype.insertMatch=function(d,g,f){if(!g)return!1;if(d.startOperation({command:{name:"insertMatch"}}),g.completer&&g.completer.insertMatch)g.completer.insertMatch(d,g);else{if(!this.completions)return!1;if(this.completions.filterText)for(var v,C=d.selection.getAllRanges?d.selection.getAllRanges():[d.getSelectionRange()],S=0;v=C[S];S++)v.start.column-=this.completions.filterText.length,d.session.remove(v);g.snippet?I.insertSnippet(d,g.snippet,{range:g.range}):this.$insertString(d,g),g.command&&"startAutocomplete"===g.command&&d.execCommand(g.command)}return d.endOperation(),!0},h.prototype.$insertString=function(d,g){var f=g.value||g;if(g.range){if(d.inVirtualSelectionMode)return d.session.replace(g.range,f);d.forEachSelection(function(){var v=d.getSelectionRange();0===g.range.compareRange(v)?d.session.replace(g.range,f):d.insert(f)},null,{keepOrder:!0})}else d.execCommand("insertstring",f)},h.prototype.gatherCompletions=function(d,g){var f=d.getSession(),v=d.getCursorPosition(),C=_.getCompletionPrefix(d),S=[],O=d.completers.length;return d.completers.forEach(function(N,z){N.getCompletions(d,f,v,C,function(K,Q){!K&&Q&&(S=S.concat(Q)),g(null,{prefix:_.getCompletionPrefix(d),matches:S,finished:0==--O})})}),!0},h.prototype.provideCompletions=function(d,g,f){var v=function(O){var N=O.prefix;this.completions=new u(O.matches),g.exactMatch&&(this.completions.exactMatch=!0),g.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(N),(O.finished||this.completions.filtered.length)&&f(null,this.completions,O.finished)}.bind(this),C=!0,S=null;this.gatherCompletions(d,function(O,N){this.active&&(O&&(f(O,[],!0),this.detach()),0===N.prefix.indexOf(N.prefix))&&(C?S=N:v(N))}.bind(this)),C=!1,S&&(d=S,S=null,v(d))},h.prototype.detach=function(){this.active=!1};var y=h;function h(){this.active=!0}l.prototype.setFilter=function(d){g=d.length>this.filterText&&0===d.lastIndexOf(this.filterText,0)?this.filtered:this.all,this.filterText=d,g=(g=this.filterCompletions(g,this.filterText)).sort(function(v,C){return C.exactMatch-v.exactMatch||C.$score-v.$score||(v.caption||v.value).localeCompare(C.caption||C.value)});var g,f=null;g=g.filter(function(v){return(v=v.snippet||v.caption||v.value)!==f&&(f=v,!0)}),this.filtered=g},l.prototype.filterCompletions=function(d,g){var f=[],v=g.toUpperCase(),C=g.toLowerCase();e:for(var S,O=0;S=d[O];O++){var N=!this.ignoreCaption&&S.caption||S.value||S.snippet;if(N){var z=-1,K=0,Q=0;if(this.exactMatch){if(g!==N.substr(0,g.length))continue}else{var ue=N.toLowerCase().indexOf(C);if(-1<ue)Q=ue;else for(var oe=0;oe<g.length;oe++){var pe=N.indexOf(C[oe],z+1),F=N.indexOf(v[oe],z+1);if((pe=0<=pe&&(F<0||pe<F)?pe:F)<0)continue e;0<(F=pe-z-1)&&(-1===z&&(Q+=10),Q+=F,K|=1<<oe),z=pe}}S.matchMask=K,S.exactMatch=Q?0:1,S.$score=(S.score||0)-Q,f.push(S)}}return f};var u=l;function l(d,g){this.all=d,this.filtered=d,this.filterText=g||"",this.exactMatch=!1,this.ignoreCaption=!1}$.Autocomplete=w,$.CompletionProvider=y,$.FilteredList=u}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(ee,$,k){var P=ee("../range").Range,E=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;$.getCompletions=function(x,A,_,m,D){var I=function R(x,A){var _=x.getTextRange(P.fromPoints({row:0,column:0},A)).split(E).length-1,m=x.getValue().split(E),D=Object.create(null),I=m[_];return m.forEach(function(T,w){T&&T!==I&&(w=Math.abs(_-w),w=m.length-w,D[T]=D[T]?Math.max(w,D[T]):w)}),D}(A,_);D(null,Object.keys(I).map(function(T){return{caption:T,value:T,score:I[T],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(ee,$,k){"use strict";function P(u,l){p(l.session.$mode)}function E(u){var l=u.editor,d=l.completer&&l.completer.activated;"backspace"===u.command.name?d&&!m.getCompletionPrefix(l)&&l.completer.detach():"insertstring"===u.command.name&&m.getCompletionPrefix(l)&&!d&&((u=x.for(l)).autoInsert=!1,u.showPopup(l))}var R=ee("../snippets").snippetManager,x=ee("../autocomplete").Autocomplete,A=ee("../config"),_=ee("../lib/lang"),m=ee("../autocomplete/util"),h=ee("../autocomplete/text_completer"),D={getCompletions:function(u,l,d,g,f){if(l.$mode.completer)return l.$mode.completer.getCompletions(u,l,d,g,f);u=u.session.getState(d.row),f(null,l.$mode.getCompletions(u,l,d,g).map(function(v){return v.completerId=D.id,v}))},id:"keywordCompleter"},I={getCompletions:function(u,C,d,g,f){var v=[],S=((C=C.getTokenAt(d.row,d.column))&&C.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?v.push("html-tag"):v=R.getActiveScopes(u),R.snippetMap),O=[];v.forEach(function(N){for(var z=S[N]||[],K=z.length;K--;){var Q=z[K],ue=Q.name||Q.tabTrigger;ue&&O.push({caption:ue,snippet:Q.content,meta:Q.tabTrigger&&!Q.name?Q.tabTrigger+"\u21e5 ":"snippet",completerId:I.id})}},this),f(null,O)},getDocTooltip:function(u){var l;u.snippet&&!u.docHTML&&(u.docHTML=["<b>",_.escapeHTML(u.caption),"</b>","<hr></hr>",_.escapeHTML((u=u.snippet,l={},u.replace(/\${(\d+)(:(.*?))?}/g,function(d,g,f,v){return l[g]=v||""}).replace(/\$(\d+?)/g,function(d,g){return l[g]})))].join(""))},id:"snippetCompleter"},T=[I,h,D],w=($.setCompleters=function(u){T.length=0,u&&T.push.apply(T,u)},$.addCompleter=function(u){T.push(u)},$.textCompleter=h,$.keyWordCompleter=D,$.snippetCompleter=I,{name:"expandSnippet",exec:function(u){return R.expandWithTab(u)},bindKey:"Tab"}),p=function(u){(u="string"==typeof u?A.$modes[u]:u)&&(R.files||(R.files={}),y(u.$id,u.snippetFileId),u.modes)&&u.modes.forEach(p)},y=function(u,l){l&&u&&!R.files[u]&&(R.files[u]={},A.loadModule(l,function(d){d&&(!(R.files[u]=d).snippets&&d.snippetText&&(d.snippets=R.parseSnippetFile(d.snippetText)),R.register(d.snippets||[],d.scope),d.includeScopes)&&(R.snippetMap[d.scope].includeScopes=d.includeScopes,d.includeScopes.forEach(function(g){p("ace/mode/"+g)}))}))};h=ee("../editor").Editor,ee("../config").defineOptions(h.prototype,"editor",{enableBasicAutocompletion:{set:function(u){u?(this.completers||(this.completers=Array.isArray(u)?u:T),this.commands.addCommand(x.startCommand)):this.commands.removeCommand(x.startCommand)},value:!1},enableLiveAutocompletion:{set:function(u){u?(this.completers||(this.completers=Array.isArray(u)?u:T),this.commands.on("afterExec",E)):this.commands.removeListener("afterExec",E)},value:!1},enableSnippets:{set:function(u){u?(this.commands.addCommand(w),this.on("changeMode",P),P(0,this)):(this.commands.removeCommand(w),this.off("changeMode",P))},value:!1}})}),ace.require(["ace/ext/language_tools"],function(ee){Z&&(Z.exports=ee)})},3330:function(Z,V,X){Z=X.nmd(Z),ace.define("ace/ext/searchbox.css",["require","exports","module"],function(ee,$,k){k.exports='\n\n/* ------------------------------------------------------------------------------------------\n * Editor Search Form\n * --------------------------------------------------------------------------------------- */\n.ace_search {\n    background-color: #ddd;\n    color: #666;\n    border: 1px solid #cbcbcb;\n    border-top: 0 none;\n    overflow: hidden;\n    margin: 0;\n    padding: 4px 6px 0 4px;\n    position: absolute;\n    top: 0;\n    z-index: 99;\n    white-space: normal;\n}\n.ace_search.left {\n    border-left: 0 none;\n    border-radius: 0px 0px 5px 0px;\n    left: 0;\n}\n.ace_search.right {\n    border-radius: 0px 0px 0px 5px;\n    border-right: 0 none;\n    right: 0;\n}\n\n.ace_search_form, .ace_replace_form {\n    margin: 0 20px 4px 0;\n    overflow: hidden;\n    line-height: 1.9;\n}\n.ace_replace_form {\n    margin-right: 0;\n}\n.ace_search_form.ace_nomatch {\n    outline: 1px solid red;\n}\n\n.ace_search_field {\n    border-radius: 3px 0 0 3px;\n    background-color: white;\n    color: black;\n    border: 1px solid #cbcbcb;\n    border-right: 0 none;\n    outline: 0;\n    padding: 0;\n    font-size: inherit;\n    margin: 0;\n    line-height: inherit;\n    padding: 0 6px;\n    min-width: 17em;\n    vertical-align: top;\n    min-height: 1.8em;\n    box-sizing: content-box;\n}\n.ace_searchbtn {\n    border: 1px solid #cbcbcb;\n    line-height: inherit;\n    display: inline-block;\n    padding: 0 6px;\n    background: #fff;\n    border-right: 0 none;\n    border-left: 1px solid #dcdcdc;\n    cursor: pointer;\n    margin: 0;\n    position: relative;\n    color: #666;\n}\n.ace_searchbtn:last-child {\n    border-radius: 0 3px 3px 0;\n    border-right: 1px solid #cbcbcb;\n}\n.ace_searchbtn:disabled {\n    background: none;\n    cursor: default;\n}\n.ace_searchbtn:hover {\n    background-color: #eef1f6;\n}\n.ace_searchbtn.prev, .ace_searchbtn.next {\n     padding: 0px 0.7em\n}\n.ace_searchbtn.prev:after, .ace_searchbtn.next:after {\n     content: "";\n     border: solid 2px #888;\n     width: 0.5em;\n     height: 0.5em;\n     border-width:  2px 0 0 2px;\n     display:inline-block;\n     transform: rotate(-45deg);\n}\n.ace_searchbtn.next:after {\n     border-width: 0 2px 2px 0 ;\n}\n.ace_searchbtn_close {\n    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;\n    border-radius: 50%;\n    border: 0 none;\n    color: #656565;\n    cursor: pointer;\n    font: 16px/16px Arial;\n    padding: 0;\n    height: 14px;\n    width: 14px;\n    top: 9px;\n    right: 7px;\n    position: absolute;\n}\n.ace_searchbtn_close:hover {\n    background-color: #656565;\n    background-position: 50% 100%;\n    color: white;\n}\n\n.ace_button {\n    margin-left: 2px;\n    cursor: pointer;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    overflow: hidden;\n    opacity: 0.7;\n    border: 1px solid rgba(100,100,100,0.23);\n    padding: 1px;\n    box-sizing:    border-box!important;\n    color: black;\n}\n\n.ace_button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_button:active {\n    background-color: #ddd;\n}\n\n.ace_button.checked {\n    border-color: #3399ff;\n    opacity:1;\n}\n\n.ace_search_options{\n    margin-bottom: 3px;\n    text-align: right;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    clear: both;\n}\n\n.ace_search_counter {\n    float: left;\n    font-family: arial;\n    padding: 0 8px;\n}'}),ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/ext/searchbox.css","ace/keyboard/hash_handler","ace/lib/keys","ace/config"],function(ee,$,k){"use strict";var P=ee("../lib/dom"),E=ee("../lib/lang"),R=ee("../lib/event"),x=ee("./searchbox.css"),A=ee("../keyboard/hash_handler").HashHandler,_=ee("../lib/keys"),m=ee("../config").nls,D=(P.importCssString(x,"ace_searchbox",!1),I.prototype.setEditor=function(T){T.searchBox=this,T.renderer.scroller.appendChild(this.element),this.editor=T},I.prototype.setSession=function(T){this.searchRange=null,this.$syncOptions(!0)},I.prototype.$initElements=function(T){this.searchBox=T.querySelector(".ace_search_form"),this.replaceBox=T.querySelector(".ace_replace_form"),this.searchOption=T.querySelector("[action=searchInSelection]"),this.replaceOption=T.querySelector("[action=toggleReplace]"),this.regExpOption=T.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=T.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=T.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=T.querySelector(".ace_search_counter")},I.prototype.$init=function(){var T=this.element,w=(this.$initElements(T),this);R.addListener(T,"mousedown",function(p){setTimeout(function(){w.activeInput.focus()},0),R.stopPropagation(p)}),R.addListener(T,"click",function(p){var y=(p.target||p.srcElement).getAttribute("action");y&&w[y]?w[y]():w.$searchBarKb.commands[y]&&w.$searchBarKb.commands[y].exec(w),R.stopPropagation(p)}),R.addCommandKeyListener(T,function(p,y,h){h=_.keyCodeToString(h),(y=w.$searchBarKb.findKeyCommand(y,h))&&y.exec&&(y.exec(w),R.stopEvent(p))}),this.$onChange=E.delayedCall(function(){w.find(!1,!1)}),R.addListener(this.searchInput,"input",function(){w.$onChange.schedule(20)}),R.addListener(this.searchInput,"focus",function(){w.activeInput=w.searchInput,w.searchInput.value&&w.highlight()}),R.addListener(this.replaceInput,"focus",function(){w.activeInput=w.replaceInput,w.searchInput.value&&w.highlight()})},I.prototype.setSearchRange=function(T){(this.searchRange=T)?this.searchRangeMarker=this.editor.session.addMarker(T,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},I.prototype.$syncOptions=function(T){P.setCssClass(this.replaceOption,"checked",this.searchRange),P.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",P.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),P.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),P.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);var w=this.editor.getReadOnly();this.replaceOption.style.display=w?"none":"",this.replaceBox.style.display=this.replaceOption.checked&&!w?"":"none",this.find(!1,!1,T)},I.prototype.highlight=function(T){this.editor.session.highlight(T||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},I.prototype.find=function(T,w,p){T=!this.editor.find(this.searchInput.value,{skipCurrent:T,backwards:w,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:p,range:this.searchRange})&&this.searchInput.value,P.setCssClass(this.searchBox,"ace_nomatch",T),this.editor._emit("findSearchBox",{match:!T}),this.highlight(),this.updateCounter()},I.prototype.updateCounter=function(){var T=this.editor,w=T.$search.$options.re,p=0,y=0;if(w){var h,u,l=this.searchRange?T.session.getTextRange(this.searchRange):T.getValue(),d=T.session.doc.positionToIndex(T.selection.anchor);for(this.searchRange&&(d-=T.session.doc.positionToIndex(this.searchRange.start)),w.lastIndex=0;(u=w.exec(l))&&((h=u.index)<=d&&y++,!(999<++p))&&(u[0]||(w.lastIndex=h+=1,!(h>=l.length))););}this.searchCounter.textContent=m("$0 of $1",[y,999<p?"999+":p])},I.prototype.findNext=function(){this.find(!0,!1)},I.prototype.findPrev=function(){this.find(!0,!0)},I.prototype.findAll=function(){var T=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;P.setCssClass(this.searchBox,"ace_nomatch",T),this.editor._emit("findSearchBox",{match:!T}),this.highlight(),this.hide()},I.prototype.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},I.prototype.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},I.prototype.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},I.prototype.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},I.prototype.show=function(T,w){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=w,T&&(this.searchInput.value=T),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},I.prototype.isFocused=function(){var T=document.activeElement;return T==this.searchInput||T==this.replaceInput},I);function I(T,w,p){var y=P.createElement("div");P.buildDom(["div",{class:"ace_search right"},["span",{action:"hide",class:"ace_searchbtn_close"}],["div",{class:"ace_search_form"},["input",{class:"ace_search_field",placeholder:m("Search for"),spellcheck:"false"}],["span",{action:"findPrev",class:"ace_searchbtn prev"},"\u200b"],["span",{action:"findNext",class:"ace_searchbtn next"},"\u200b"],["span",{action:"findAll",class:"ace_searchbtn",title:"Alt-Enter"},m("All")]],["div",{class:"ace_replace_form"},["input",{class:"ace_search_field",placeholder:m("Replace with"),spellcheck:"false"}],["span",{action:"replaceAndFindNext",class:"ace_searchbtn"},m("Replace")],["span",{action:"replaceAll",class:"ace_searchbtn"},m("All")]],["div",{class:"ace_search_options"},["span",{action:"toggleReplace",class:"ace_button",title:m("Toggle Replace mode"),style:"float:left;margin-top:-2px;padding:0 5px;"},"+"],["span",{class:"ace_search_counter"}],["span",{action:"toggleRegexpMode",class:"ace_button",title:m("RegExp Search")},".*"],["span",{action:"toggleCaseSensitive",class:"ace_button",title:m("CaseSensitive Search")},"Aa"],["span",{action:"toggleWholeWords",class:"ace_button",title:m("Whole Word Search")},"\\b"],["span",{action:"searchInSelection",class:"ace_button",title:m("Search In Selection")},"S"]]],y),this.element=y.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(T),P.importCssString(x,"ace_searchbox",T.container)}(ee=new A).bindKeys({"Ctrl-f|Command-f":function(T){var w=T.isReplace=!T.isReplace;T.replaceBox.style.display=w?"":"none",T.replaceOption.checked=!1,T.$syncOptions(),T.searchInput.focus()},"Ctrl-H|Command-Option-F":function(T){T.editor.getReadOnly()||(T.replaceOption.checked=!0,T.$syncOptions(),T.replaceInput.focus())},"Ctrl-G|Command-G":function(T){T.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(T){T.findPrev()},esc:function(T){setTimeout(function(){T.hide()})},Return:function(T){T.activeInput==T.replaceInput&&T.replace(),T.findNext()},"Shift-Return":function(T){T.activeInput==T.replaceInput&&T.replace(),T.findPrev()},"Alt-Return":function(T){T.activeInput==T.replaceInput&&T.replaceAll(),T.findAll()},Tab:function(T){(T.activeInput==T.replaceInput?T.searchInput:T.replaceInput).focus()}}),ee.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(T){T.regExpOption.checked=!T.regExpOption.checked,T.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(T){T.caseSensitiveOption.checked=!T.caseSensitiveOption.checked,T.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(T){T.wholeWordOption.checked=!T.wholeWordOption.checked,T.$syncOptions()}},{name:"toggleReplace",exec:function(T){T.replaceOption.checked=!T.replaceOption.checked,T.$syncOptions()}},{name:"searchInSelection",exec:function(T){T.searchOption.checked=!T.searchRange,T.setSearchRange(T.searchOption.checked&&T.editor.getSelectionRange()),T.$syncOptions()}}]),A=new A([{bindKey:"Esc",name:"closeSearchBar",exec:function(T){T.searchBox.hide()}}]),D.prototype.$searchBarKb=ee,D.prototype.$closeSearchBarKb=A,$.SearchBox=D,$.Search=function(T,w){(T.searchBox||new D(T)).show(T.session.getTextRange(),w)}}),ace.require(["ace/ext/searchbox"],function(ee){Z&&(Z.exports=ee)})},4091:function(Z,V,X){Z=X.nmd(Z),ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(R,$,k){"use strict";function P(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}}var E=R("../lib/oop");R=R("./text_highlight_rules").TextHighlightRules,E.inherits(P,R),$.JsonHighlightRules=P}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(ee,$,k){"use strict";function P(){}var E=ee("../range").Range;(function(){this.checkOutdent=function(R,x){return!!/^\s+$/.test(R)&&/^\s*\}/.test(x)},this.autoOutdent=function(R,x){var A,_=R.getLine(x).match(/^(\s*\})/);return _&&(A=R.findMatchingBracket({row:x,column:_=_[1].length}))&&A.row!=x?(A=this.$getIndent(R.getLine(A.row)),void R.replace(new E(x,0,x,_-1),A)):0},this.$getIndent=function(R){return R.match(/^\s*/)[0]}}).call(P.prototype),$.MatchingBraceOutdent=P}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(R,x,k){"use strict";var P=R("../../lib/oop"),E=R("../../range").Range;R=R("./fold_mode").FoldMode,x=x.FoldMode=function(A){A&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+A.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+A.end)))},P.inherits(x,R),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(A,_,m){var D=A.getLine(m);return!this.singleLineBlockCommentRe.test(D)||this.startRegionRe.test(D)||this.tripleStarBlockCommentRe.test(D)?!(A=this._getFoldWidgetBase(A,_,m))&&this.startRegionRe.test(D)?"start":A:""},this.getFoldWidgetRange=function(A,_,m,D){var I,T,w,p=A.getLine(m);return this.startRegionRe.test(p)?this.getCommentRegionBlock(A,p,m):(T=p.match(this.foldingStartMarker))?(w=T.index,T[1]?this.openingBracketBlock(A,T[1],m,w):((I=A.getCommentFoldRange(m,w+T[0].length,1))&&!I.isMultiLine()&&(D?I=this.getSectionRange(A,m):"all"!=_&&(I=null)),I)):"markbegin"!==_&&(T=p.match(this.foldingStopMarker))?(w=T.index+T[0].length,T[1]?this.closingBracketBlock(A,T[1],m,w):A.getCommentFoldRange(m,w,-1)):void 0},this.getSectionRange=function(A,_){for(var m=(p=A.getLine(_)).search(/\S/),D=_,I=p.length,T=_+=1,w=A.getLength();++_<w;){var p,y=(p=A.getLine(_)).search(/\S/);if(-1!==y){if(y<m)break;var h=this.getFoldWidgetRange(A,"all",_);if(h){if(h.start.row<=D)break;if(h.isMultiLine())_=h.end.row;else if(m==y)break}T=_}}return new E(D,I,T,A.getLine(T).length)},this.getCommentRegionBlock=function(A,_,m){for(var D=_.search(/\s*$/),I=A.getLength(),T=m,w=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,p=1;++m<I;){_=A.getLine(m);var y=w.exec(_);if(y&&(y[1]?p--:p++,!p))break}if(T<m)return new E(T,D,m,_.length)}}.call(x.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(ee,$,k){"use strict";function P(){this.HighlightRules=x,this.$outdent=new A,this.$behaviour=new _,this.foldingRules=new m}var E=ee("../lib/oop"),R=ee("./text").Mode,x=ee("./json_highlight_rules").JsonHighlightRules,A=ee("./matching_brace_outdent").MatchingBraceOutdent,_=ee("./behaviour/cstyle").CstyleBehaviour,m=ee("./folding/cstyle").FoldMode,D=ee("../worker/worker_client").WorkerClient;E.inherits(P,R),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(I,T,w){var p=this.$getIndent(T);return"start"==I&&T.match(/^.*[\{\(\[]\s*$/)&&(p+=w),p},this.checkOutdent=function(I,T,w){return this.$outdent.checkOutdent(T,w)},this.autoOutdent=function(I,T,w){this.$outdent.autoOutdent(T,w)},this.createWorker=function(I){var T=new D(["ace"],"ace/mode/json_worker","JsonWorker");return T.attachToDocument(I.getDocument()),T.on("annotate",function(w){I.setAnnotations(w.data)}),T.on("terminate",function(){I.clearAnnotations()}),T},this.$id="ace/mode/json"}.call(P.prototype),$.Mode=P}),ace.require(["ace/mode/json"],function(ee){Z&&(Z.exports=ee)})},8903:function(m,V,X){"use strict";var ee=X(5689),$=X(3969),k=X(5255),P=X(4293),E=X(3508),R=X(3368),x=X(742),A=X(9394),_=X(3724),D=((m.exports=w).prototype.validate=function(f,v){var C;if("string"==typeof f){if(!(C=this.getSchema(f)))throw new Error('no schema with key or ref "'+f+'"')}else C=(f=this._addSchema(f)).validate||this._compile(f);return f=C(v),!0!==C.$async&&(this.errors=C.errors),f},w.prototype.compile=function(f,v){return(f=this._addSchema(f,void 0,v)).validate||this._compile(f)},w.prototype.addSchema=function(f,v,C,S){if(Array.isArray(f))for(var O=0;O<f.length;O++)this.addSchema(f[O],void 0,C,S);else{var N=this._getId(f);if(void 0!==N&&"string"!=typeof N)throw new Error("schema id must be string");d(this,v=$.normalizeId(v||N)),this._schemas[v]=this._addSchema(f,C,S,!0)}return this},w.prototype.addMetaSchema=function(f,v,C){return this.addSchema(f,v,C,!0),this},w.prototype.validateSchema=function(f,v){var S,O,C=f.$schema;if(void 0!==C&&"string"!=typeof C)throw new Error("$schema must be a string");if(!(C=C||this._opts.defaultMeta||(S=this,O=S._opts.meta,S._opts.defaultMeta="object"==typeof O?S._getId(O)||O:S.getSchema(D)?D:void 0,S._opts.defaultMeta)))return this.logger.warn("meta-schema not available"),!(this.errors=null);if(!(C=this.validate(C,f))&&v){if(f="schema is invalid: "+this.errorsText(),"log"!=this._opts.validateSchema)throw new Error(f);this.logger.error(f)}return C},w.prototype.getSchema=function(f){var v=p(this,f);switch(typeof v){case"object":return v.validate||this._compile(v);case"string":return this.getSchema(v);case"undefined":return function(C,S){var N,z,K,O=$.schema.call(C,{schema:{}},S);if(O)return K=ee.call(C,N=O.schema,z=O.root,void 0,O=O.baseId),C._fragments[S]=new P({ref:S,fragment:!0,schema:N,root:z,baseId:O,validate:K}),K}(this,f)}},w.prototype.removeSchema=function(f){if(f instanceof RegExp)y(this,this._schemas,f),y(this,this._refs,f);else switch(typeof f){case"undefined":return y(this,this._schemas),y(this,this._refs),this._cache.clear(),this;case"string":var v=p(this,f);return v&&this._cache.del(v.cacheKey),delete this._schemas[f],delete this._refs[f],this;case"object":v=(v=this._opts.serialize)?v(f):f,this._cache.del(v),(v=this._getId(f))&&(v=$.normalizeId(v),delete this._schemas[v],delete this._refs[v])}return this},w.prototype.addFormat=function(f,v){return"string"==typeof v&&(v=new RegExp(v)),this._formats[f]=v,this},w.prototype.errorsText=function(f,v){if(!(f=f||this.errors))return"No errors";for(var C=void 0===(v=v||{}).separator?", ":v.separator,S=void 0===v.dataVar?"data":v.dataVar,O="",N=0;N<f.length;N++){var z=f[N];z&&(O+=S+z.dataPath+" "+z.message+C)}return O.slice(0,-C.length)},w.prototype._addSchema=function(f,K,C,S){if("object"!=typeof f&&"boolean"!=typeof f)throw new Error("schema should be object or boolean");var z,O=(O=this._opts.serialize)?O(f):f,N=this._cache.get(O);if(N)return N;S=S||!1!==this._opts.addUsedSchema,(N=$.normalizeId(this._getId(f)))&&S&&d(this,N),(K=!1!==this._opts.validateSchema&&!K)&&!(z=N&&N==$.normalizeId(f.$schema))&&this.validateSchema(f,!0);var Q=$.ids.call(this,f);return Q=new P({id:N,schema:f,localRefs:Q,cacheKey:O,meta:C}),"#"!=N[0]&&S&&(this._refs[N]=Q),this._cache.put(O,Q),K&&z&&this.validateSchema(f,!0),Q},w.prototype._compile=function(f,v){if(f.compiling)return(f.validate=O).schema=f.schema,O.errors=null,O.root=v||O,!0===f.schema.$async&&(O.$async=!0),O;var C,S;f.compiling=!0,f.meta&&(C=this._opts,this._opts=this._metaOpts);try{S=ee.call(this,f.schema,v,f.localRefs)}catch(N){throw delete f.validate,N}finally{f.compiling=!1,f.meta&&(this._opts=C)}return f.validate=S,f.refs=S.refs,f.refVal=S.refVal,f.root=S.root,S;function O(){var N=f.validate,z=N.apply(this,arguments);return O.errors=N.errors,z}},w.prototype.compileAsync=X(9677),m=X(7931),w.prototype.addKeyword=m.add,w.prototype.getKeyword=m.get,w.prototype.removeKeyword=m.remove,w.prototype.validateKeyword=m.validate,m=X(5359),w.ValidationError=m.Validation,w.MissingRefError=m.MissingRef,w.$dataMetaSchema=A,"http://json-schema.org/draft-07/schema"),I=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],T=["/properties"];function w(f){if(!(this instanceof w))return new w(f);f=this._opts=_.copy(f)||{};var v=(ue=this)._opts.logger;if(!1===v)ue.logger={log:g,warn:g,error:g};else{if(!("object"==typeof(v=void 0===v?console:v)&&v.log&&v.warn&&v.error))throw new Error("logger must implement log, warn and error methods");ue.logger=v}if(this._schemas={},this._refs={},this._fragments={},this._formats=R(f.format),this._cache=f.cache||new k,this._loadingSchemas={},this._compilations=[],this.RULES=x(),this._getId=function(U){switch(U.schemaId){case"auto":return l;case"id":return h;default:return u}}(f),f.loopRequired=f.loopRequired||1/0,"property"==f.errorDataPath&&(f._errorDataPathProperty=!0),void 0===f.serialize&&(f.serialize=E),this._metaOpts=function(U){for(var Y=_.copy(U._opts),W=0;W<I.length;W++)delete Y[I[W]];return Y}(this),f.formats){var C,S=this;for(C in S._opts.formats)S.addFormat(C,S._opts.formats[C])}if(f.keywords){var N,z=this;for(N in z._opts.keywords)z.addKeyword(N,z._opts.keywords[N])}var Q,ue,oe=((ue=this)._opts.$data&&(Q=X(894),ue.addMetaSchema(Q,Q.$id,!0)),!1!==ue._opts.meta&&(Q=X(6680),ue._opts.$data&&(Q=A(Q,T)),ue.addMetaSchema(Q,D,!0),ue._refs["http://json-schema.org/schema"]=D),"object"==typeof f.meta&&this.addMetaSchema(f.meta),f.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),this),pe=oe._opts.schemas;if(pe)if(Array.isArray(pe))oe.addSchema(pe);else for(var F in pe)oe.addSchema(pe[F],F)}function p(f,v){return v=$.normalizeId(v),f._schemas[v]||f._refs[v]||f._fragments[v]}function y(f,v,C){for(var S in v){var O=v[S];O.meta||C&&!C.test(S)||(f._cache.del(O.cacheKey),delete v[S])}}function h(f){return f.$id&&this.logger.warn("schema $id ignored",f.$id),f.id}function u(f){return f.id&&this.logger.warn("schema id ignored",f.id),f.$id}function l(f){if(f.$id&&f.id&&f.$id!=f.id)throw new Error("schema $id is different from id");return f.$id||f.id}function d(f,v){if(f._schemas[v]||f._refs[v])throw new Error('schema with key or id "'+v+'" already exists')}function g(){}},5255:function(Z){"use strict";(Z=Z.exports=function(){this._cache={}}).prototype.put=function(V,X){this._cache[V]=X},Z.prototype.get=function(V){return this._cache[V]},Z.prototype.del=function(V){delete this._cache[V]},Z.prototype.clear=function(){this._cache={}}},9677:function(Z,V,X){"use strict";var ee=X(5359).MissingRef;Z.exports=function $(k,P,E){var R=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof P&&(E=P,P=void 0);var x=A(k).then(function(){var _=R._addSchema(k,void 0,P);return _.validate||function m(D){try{return R._compile(D)}catch(T){if(T instanceof ee)return function I(T){var w=T.missingSchema;if(y(w))throw new Error("Schema "+w+" is loaded but "+T.missingRef+" cannot be resolved");return(T=R._loadingSchemas[w])||(T=R._loadingSchemas[w]=R._opts.loadSchema(w)).then(p,p),T.then(function(h){if(!y(w))return A(h).then(function(){y(w)||R.addSchema(h,w,void 0,P)})}).then(function(){return m(D)});function p(){delete R._loadingSchemas[w]}function y(h){return R._refs[h]||R._schemas[h]}}(T);throw T}}(_)});return E&&x.then(function(_){E(null,_)},E),x;function A(_){return(_=_.$schema)&&!R.getSchema(_)?$.call(R,{$ref:_},!0):Promise.resolve()}}},5359:function(Z,V,X){"use strict";var ee=X(3969);function $(P,E,R){this.message=R||$.message(P,E),this.missingRef=ee.url(P,E),this.missingSchema=ee.normalizeId(ee.fullPath(this.missingRef))}function k(P){return P.prototype=Object.create(Error.prototype),P.prototype.constructor=P}Z.exports={Validation:k(function(P){this.message="validation failed",this.errors=P,this.ajv=this.validation=!0}),MissingRef:k($)},$.message=function(P,E){return"can't resolve reference "+E+" from id "+P}},3368:function(Z,V,E){"use strict";var ee=E(3724),$=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,k=[0,31,28,31,30,31,30,31,31,30,31,30,31],P=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,R=(E=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i),x=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,A=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,_=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,m=/^(?:\/(?:[^~/]|~0|~1)*)*$/,D=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,I=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function T(d){return ee.copy(T[d="full"==d?"full":"fast"])}function w(v){var g,f;return!!(v=v.match($))&&(g=+v[1],f=+v[2],v=+v[3],1<=f)&&f<=12&&1<=v&&v<=(2!=f||(v=g)%4!=0||v%100==0&&v%400!=0?k[f]:29)}function p(S,g){var f,v,C;return!!(S=S.match(P))&&(f=S[1],v=S[2],C=S[3],S=S[5],f<=23&&v<=59&&C<=59||23==f&&59==v&&60==C)&&(!g||S)}(Z.exports=T).fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":x,url:A,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:E,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:l,uuid:_,"json-pointer":m,"json-pointer-uri-fragment":D,"relative-json-pointer":I},T.full={date:w,time:p,"date-time":function(d){return 2==(d=d.split(y)).length&&w(d[0])&&p(d[1],!0)},uri:function(d){return h.test(d)&&R.test(d)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":x,url:A,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:E,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:l,uuid:_,"json-pointer":m,"json-pointer-uri-fragment":D,"relative-json-pointer":I};var y=/t|\s/i,h=/\/|:/,u=/[^\\]\\Z/;function l(d){if(u.test(d))return!1;try{return new RegExp(d),!0}catch(g){return!1}}},5689:function(Z,V,X){"use strict";var ee=X(3969),$=X(3724),k=X(5359),P=X(3508),E=X(1869),R=$.ucs2length,x=X(2303),A=k.Validation;function m(y,h,u){for(var l=0;l<this._compilations.length;l++){var d=this._compilations[l];if(d.schema==y&&d.root==h&&d.baseId==u)return l}return-1}function D(y,h){return"var pattern"+y+" = new RegExp("+$.toQuotedString(h[y])+");"}function I(y){return"var default"+y+" = defaults["+y+"];"}function T(y,h){return void 0===h[y]?"":"var refVal"+y+" = refVal["+y+"];"}function w(y){return"var customRule"+y+" = customRules["+y+"];"}function p(y,h){if(!y.length)return"";for(var u="",l=0;l<y.length;l++)u+=h(l,y);return u}Z.exports=function _(y,h,u,l){var d=this,g=this._opts,f=[void 0],v={},C=[],S={},O=[],N={},z=[],K=function(xe,Ee,ie){var de=m.call(this,xe,Ee,ie);return 0<=de?{index:de,compiling:!0}:(this._compilations[de=this._compilations.length]={schema:xe,root:Ee,baseId:ie},{index:de,compiling:!1})}.call(this,y,h=h||{schema:y,refVal:f,refs:v},l),Q=this._compilations[K.index];if(K.compiling)return Q.callValidate=function U(){var xe=Q.validate,Ee=xe.apply(this,arguments);return U.errors=xe.errors,Ee};var ue=this._formats,oe=this.RULES;try{var pe=Y(y,h,u,l),F=(Q.validate=pe,Q.callValidate);return F&&(F.schema=pe.schema,F.errors=null,F.refs=pe.refs,F.refVal=pe.refVal,F.root=pe.root,F.$async=pe.$async,g.sourceCode)&&(F.source=pe.source),pe}finally{(function(xe,Ee,ie){0<=(xe=m.call(this,xe,Ee,ie))&&this._compilations.splice(xe,1)}).call(this,y,h,l)}function Y(xe,Ee,ie,de){var me=!Ee||Ee.schema==xe;if(Ee.schema!=h.schema)return _.call(d,xe,Ee,ie,de);ie=!0===xe.$async,de=E({isTop:!0,schema:xe,isRoot:me,baseId:de,root:Ee,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:k.MissingRef,RULES:oe,validate:E,util:$,resolve:ee,resolveRef:W,usePattern:he,useDefault:Ae,useCustomRule:ke,opts:g,formats:ue,logger:d.logger,self:d}),de=p(f,T)+p(C,D)+p(O,I)+p(z,w)+de,g.processCode&&(de=g.processCode(de,xe));try{var Ce=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",de)(d,oe,ue,h,f,O,z,x,R,A);f[0]=Ce}catch(re){throw d.logger.error("Error compiling schema, function code:",de),re}return Ce.schema=xe,Ce.errors=null,Ce.refs=v,Ce.refVal=f,Ce.root=me?Ce:Ee,ie&&(Ce.$async=!0),!0===g.sourceCode&&(Ce.source={code:de,patterns:C,defaults:O}),Ce}function W(xe,Ee,re){Ee=ee.url(xe,Ee);var de=v[Ee];if(void 0!==de)return fe(me=f[de],Ce="refVal["+de+"]");if(!re&&h.refs&&void 0!==(de=h.refs[Ee]))return fe(me=h.refVal[de],Ce=ne(Ee,me));var me,Ce=ne(Ee);if(void 0!==(re=void 0===(re=ee.call(d,Y,h,Ee))&&(de=u&&u[Ee])?ee.inlineRef(de,g.inlineRefs)?de:_.call(d,de,h,u,xe):re))return de=v[de=Ee],f[de]=me=re,fe(re,Ce);delete v[Ee]}function ne(xe,Ee){var ie=f.length;return f[ie]=Ee,"refVal"+(v[xe]=ie)}function fe(xe,Ee){return"object"==typeof xe||"boolean"==typeof xe?{code:Ee,schema:xe,inline:!0}:{code:Ee,$async:xe&&!!xe.$async}}function he(xe){var Ee=S[xe];return void 0===Ee&&(Ee=S[xe]=C.length,C[Ee]=xe),"pattern"+Ee}function Ae(xe){switch(typeof xe){case"boolean":case"number":return""+xe;case"string":return $.toQuotedString(xe);case"object":var Ee,ie;return null===xe?"null":(Ee=P(xe),void 0===(ie=N[Ee])&&(ie=N[Ee]=O.length,O[ie]=xe),"default"+ie)}}function ke(xe,Ee,ie,de){if(!1!==d._opts.validateSchema){if((Ce=xe.definition.dependencies)&&!Ce.every(function(we){return Object.prototype.hasOwnProperty.call(ie,we)}))throw new Error("parent schema must have all required keywords: "+Ce.join(","));if((Ce=xe.definition.validateSchema)&&!Ce(Ee)){if(Ce="keyword schema is invalid: "+d.errorsText(Ce.errors),"log"!=d._opts.validateSchema)throw new Error(Ce);d.logger.error(Ce)}}var me,Ce,re=xe.definition.inline,le=xe.definition.macro;if(Ce=xe.definition.compile)me=Ce.call(d,Ee,ie,de);else if(le)me=le.call(d,Ee,ie,de),!1!==g.validateSchema&&d.validateSchema(me,!0);else if(re)me=re.call(d,de,xe.keyword,Ee,ie);else if(!(me=xe.definition.validate))return;if(void 0===me)throw new Error('custom keyword "'+xe.keyword+'"failed to compile');return{code:"customRule"+(Ce=z.length),validate:z[Ce]=me}}}},3969:function(Z,V,X){"use strict";var ee=X(7533),$=X(2303),k=X(3724),P=X(4293),E=X(500);function R(h,u,l){var d,g,f,v=this._refs[l];if("string"==typeof v){if(!this._refs[v])return R.call(this,h,u,v);v=this._refs[v]}return(v=v||this._schemas[l])instanceof P?D(v.schema,this._opts.inlineRefs)?v.schema:v.validate||this._compile(v):((v=x.call(this,u,l))&&(d=v.schema,u=v.root,f=v.baseId),d instanceof P?g=d.validate||h.call(this,d.schema,u,void 0,f):void 0!==d&&(g=D(d,this._opts.inlineRefs)?d:h.call(this,d,u,void 0,f)),g)}function x(h,u){var l=ee.parse(u),d=T(l),g=I(this._getId(h.schema));if(0===Object.keys(h.schema).length||d!==g){d=p(d);var f=this._refs[d];if("string"==typeof f)return function(C,S,O){var N,z;if(S=x.call(this,C,S))return z=S.baseId,C=S.root,(S=this._getId(N=S.schema))&&(z=y(z,S)),_.call(this,O,z,N,C)}.call(this,h,f,l);if(f instanceof P)f.validate||this._compile(f);else{if(!((f=this._schemas[d])instanceof P))return;if(f.validate||this._compile(f),d==p(u))return{schema:f,root:h,baseId:g}}if(!(h=f).schema)return;g=I(this._getId(h.schema))}return _.call(this,l,g,h.schema,h)}(Z.exports=R).normalizeId=p,R.fullPath=I,R.url=y,R.ids=function(h){var u=p(this._getId(h)),l={"":u},d={"":I(u,!1)},g={},f=this;return E(h,{allKeys:!0},function(v,C,S,O,N,z,K){if(""!==C){var Q=f._getId(v),ue=l[O];if(O=d[O]+"/"+N,void 0!==K&&(O+="/"+("number"==typeof K?K:k.escapeFragment(K))),"string"==typeof Q)if(Q=ue=p(ue?ee.resolve(ue,Q):Q),(N="string"==typeof(N=f._refs[Q])?f._refs[N]:N)&&N.schema){if(!$(v,N.schema))throw new Error('id "'+Q+'" resolves to more than one schema')}else if(Q!=p(O))if("#"==Q[0]){if(g[Q]&&!$(v,g[Q]))throw new Error('id "'+Q+'" resolves to more than one schema');g[Q]=v}else f._refs[Q]=O;l[C]=ue,d[C]=O}}),g},R.inlineRef=D,R.schema=x;var A=k.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function _(h,u,l,d){if(h.fragment=h.fragment||"","/"==h.fragment.slice(0,1)){for(var g=h.fragment.split("/"),f=1;f<g.length;f++){var v=g[f];if(v){if(void 0===(l=l[v=k.unescapeFragment(v)]))break;A[v]||((v=this._getId(l))&&(u=y(u,v)),l.$ref&&(v=y(u,l.$ref),v=x.call(this,d,v))&&(l=v.schema,d=v.root,u=v.baseId))}}return void 0!==l&&l!==d.schema?{schema:l,root:d,baseId:u}:void 0}}var m=k.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function D(h,u){return!1!==u&&(void 0===u||!0===u?function l(d){var g;if(Array.isArray(d)){for(var f=0;f<d.length;f++)if("object"==typeof(g=d[f])&&!l(g))return!1}else for(var v in d)if("$ref"==v||"object"==typeof(g=d[v])&&!l(g))return!1;return!0}(h):u?function l(d){var g,f=0;if(Array.isArray(d)){for(var v=0;v<d.length;v++)if("object"==typeof(g=d[v])&&(f+=l(g)),f==1/0)return 1/0}else for(var C in d){if("$ref"==C)return 1/0;if(m[C])f++;else if("object"==typeof(g=d[C])&&(f+=l(g)+1),f==1/0)return 1/0}return f}(h)<=u:void 0)}function I(h,u){return!1!==u&&(h=p(h)),T(ee.parse(h))}function T(h){return ee.serialize(h).split("#")[0]+"#"}var w=/#\/?$/;function p(h){return h?h.replace(w,""):""}function y(h,u){return u=p(u),ee.resolve(h,u)}},742:function(Z,V,X){"use strict";var ee=X(9646),$=X(3724).toHash;Z.exports=function(){var k=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],P=["type","$comment"];return k.all=$(P),k.types=$(["number","integer","string","array","object","boolean","null"]),k.forEach(function(E){E.rules=E.rules.map(function(R){var x,A;return"object"==typeof R&&(A=R[x=Object.keys(R)[0]],R=x,A.forEach(function(_){P.push(_),k.all[_]=!0})),P.push(R),k.all[R]={keyword:R,code:ee[R],implements:A}}),k.all.$comment={keyword:"$comment",code:ee.$comment},E.type&&(k.types[E.type]=E)}),k.keywords=$(P.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),k.custom={},k}},4293:function(Z,V,X){"use strict";var ee=X(3724);Z.exports=function($){ee.copy($,this)}},6887:function(Z){"use strict";Z.exports=function(V){for(var X,ee=0,$=V.length,k=0;k<$;)ee++,55296<=(X=V.charCodeAt(k++))&&X<=56319&&k<$&&56320==(64512&V.charCodeAt(k))&&k++;return ee}},3724:function(Z,V,X){"use strict";function ee(w,p,y,h){var u=h?" !== ":" === ",l=h?" || ":" && ",d=h?"!":"",g=h?"":"!";switch(w){case"null":return p+u+"null";case"array":return d+"Array.isArray("+p+")";case"object":return"("+d+p+l+"typeof "+p+u+'"object"'+l+g+"Array.isArray("+p+"))";case"integer":return"(typeof "+p+u+'"number"'+l+g+"("+p+" % 1)"+l+p+u+p+(y?l+d+"isFinite("+p+")":"")+")";case"number":return"(typeof "+p+u+'"'+w+'"'+(y?l+d+"isFinite("+p+")":"")+")";default:return"typeof "+p+u+'"'+w+'"'}}Z.exports={copy:function(w,p){for(var y in p=p||{},w)p[y]=w[y];return p},checkDataType:ee,checkDataTypes:function(w,p,y){if(1===w.length)return ee(w[0],p,y,!0);var h,u="";for(h in(w=k(w)).array&&w.object&&(u=w.null?"(":"(!"+p+" || ",u+="typeof "+p+' !== "object")',delete w.null,delete w.array,delete w.object),w.number&&delete w.integer,w)u+=(u?" && ":"")+ee(h,p,y,!0);return u},coerceToTypes:function(w,p){if(!Array.isArray(p))return $[p]?[p]:"array"===w&&"array"===p?["array"]:void 0;for(var y=[],h=0;h<p.length;h++){var u=p[h];($[u]||"array"===w&&"array"===u)&&(y[y.length]=u)}return y.length?y:void 0},toHash:k,getProperty:R,escapeQuotes:x,equal:X(2303),ucs2length:X(6887),varOccurences:function(w,p){return(w=w.match(new RegExp(p+="[^0-9]","g")))?w.length:0},varReplace:function(w,p,y){return p+="([^0-9])",y=y.replace(/\$/g,"$$$$"),w.replace(new RegExp(p,"g"),y+"$1")},schemaHasRules:function(w,p){if("boolean"==typeof w)return!w;for(var y in w)if(p[y])return!0},schemaHasRulesExcept:function(w,p,y){if("boolean"==typeof w)return!w&&"not"!=y;for(var h in w)if(h!=y&&p[h])return!0},schemaUnknownRules:function(w,p){if("boolean"!=typeof w)for(var y in w)if(!p[y])return y},toQuotedString:A,getPathExpr:function(w,p,y,h){return D(w,y?"'/' + "+p+(h?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):h?"'[' + "+p+" + ']'":"'[\\'' + "+p+" + '\\']'")},getPath:function(w,p,y){return D(w,y=A(y?"/"+I(p):R(p)))},getData:function(w,p,y){var h,u,l;if(""===w)return"rootData";if("/"==w[0]){if(!_.test(w))throw new Error("Invalid JSON-pointer: "+w);h=w,u="rootData"}else{if(!(l=w.match(m)))throw new Error("Invalid JSON-pointer: "+w);if(w=+l[1],"#"==(h=l[2])){if(p<=w)throw new Error("Cannot access property/index "+w+" levels up, current level is "+p);return y[p-w]}if(p<w)throw new Error("Cannot access data "+w+" levels up, current level is "+p);if(u="data"+(p-w||""),!h)return u}for(var d=u,g=h.split("/"),f=0;f<g.length;f++){var v=g[f];v&&(d+=" && "+(u+=R(T(v))))}return d},unescapeFragment:function(w){return T(decodeURIComponent(w))},unescapeJsonPointer:T,escapeFragment:function(w){return encodeURIComponent(I(w))},escapeJsonPointer:I};var $=k(["string","number","integer","boolean","null"]);function k(w){for(var p={},y=0;y<w.length;y++)p[w[y]]=!0;return p}var P=/^[a-z$_][a-z$_0-9]*$/i,E=/'|\\/g;function R(w){return"number"==typeof w?"["+w+"]":P.test(w)?"."+w:"['"+x(w)+"']"}function x(w){return w.replace(E,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function A(w){return"'"+x(w)+"'"}var _=/^\/(?:[^~]|~0|~1)*$/,m=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function D(w,p){return'""'==w?p:(w+" + "+p).replace(/([^\\])' \+ '/g,"$1")}function I(w){return w.replace(/~/g,"~0").replace(/\//g,"~1")}function T(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}},9394:function(Z){"use strict";var V=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];Z.exports=function(X,ee){for(var $=0;$<ee.length;$++){X=JSON.parse(JSON.stringify(X));for(var k=ee[$].split("/"),P=X,E=1;E<k.length;E++)P=P[k[E]];for(E=0;E<V.length;E++){var R=V[E],x=P[R];x&&(P[R]={anyOf:[x,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return X}},5868:function(Z,V,X){"use strict";X=X(6680),Z.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:X.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:X.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},1796:function(Z){"use strict";Z.exports=function(V,X,ee){var $,k,P,E,R,x=" ",A=V.level,_=V.dataLevel,m=V.schema[X],D=V.schemaPath+V.util.getProperty(X),I=V.errSchemaPath+"/"+X,T=!V.opts.allErrors,w="data"+(_||""),p=V.opts.$data&&m&&m.$data,y=p?(x+=" var schema"+A+" = "+V.util.getData(m.$data,_,V.dataPathArr)+"; ","schema"+A):m,h="maximum"==X,u=h?"exclusiveMaximum":"exclusiveMinimum",l=V.schema[u],d=V.opts.$data&&l&&l.$data,g=h?"<":">",f=h?">":"<",v=void 0;if(!p&&"number"!=typeof m&&void 0!==m)throw new Error(X+" must be number");if(!d&&void 0!==l&&"number"!=typeof l&&"boolean"!=typeof l)throw new Error(u+" must be number or boolean");d?(_=V.util.getData(l.$data,_,V.dataPathArr),P="exclIsNumber"+A,E="' + "+(R="op"+A)+" + '",v=u,(C=C||[]).push(x=x+" var schemaExcl"+A+" = "+_+";  var "+($="exclusive"+A)+"; var "+(k="exclType"+A)+" = typeof "+(_="schemaExcl"+A)+"; if ("+k+" != 'boolean' && "+k+" != 'undefined' && "+k+" != 'number') { "),x="",!1!==V.createErrors?(x+=" { keyword: '"+(v||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(I)+" , params: {} ",!1!==V.opts.messages&&(x+=" , message: '"+u+" should be boolean' "),V.opts.verbose&&(x+=" , schema: validate.schema"+D+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+w+" "),x+=" } "):x+=" {} ",S=x,x=C.pop(),x+=!V.compositeRule&&T?V.async?" throw new ValidationError(["+S+"]); ":" validate.errors = ["+S+"]; return false; ":" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",x+=" } else if ( ",p&&(x+=" ("+y+" !== undefined && typeof "+y+" != 'number') || "),x+=" "+k+" == 'number' ? ( ("+$+" = "+y+" === undefined || "+_+" "+g+"= "+y+") ? "+w+" "+f+"= "+_+" : "+w+" "+f+" "+y+" ) : ( ("+$+" = "+_+" === true) ? "+w+" "+f+"= "+y+" : "+w+" "+f+" "+y+" ) || "+w+" !== "+w+") { var op"+A+" = "+$+" ? '"+g+"' : '"+g+"='; ",void 0===m&&(I=V.errSchemaPath+"/"+(v=u),y=_,p=d)):(E=g,(P="number"==typeof l)&&p?(R="'"+E+"'",x+=" if ( ",p&&(x+=" ("+y+" !== undefined && typeof "+y+" != 'number') || "),x+=" ( "+y+" === undefined || "+l+" "+g+"= "+y+" ? "+w+" "+f+"= "+l+" : "+w+" "+f+" "+y+" ) || "+w+" !== "+w+") { "):(P&&void 0===m?($=!0,I=V.errSchemaPath+"/"+(v=u),y=l,f+="="):(P&&(y=Math[h?"min":"max"](l,m)),l===(!P||y)?($=!0,I=V.errSchemaPath+"/"+(v=u),f+="="):($=!1,E+="=")),R="'"+E+"'",x+=" if ( ",p&&(x+=" ("+y+" !== undefined && typeof "+y+" != 'number') || "),x+=" "+w+" "+f+" "+y+" || "+w+" !== "+w+") { ")),v=v||X,(C=C||[]).push(x),x="",!1!==V.createErrors?(x+=" { keyword: '"+(v||"_limit")+"' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(I)+" , params: { comparison: "+R+", limit: "+y+", exclusive: "+$+" } ",!1!==V.opts.messages&&(x=x+" , message: 'should be "+E+" "+(p?"' + "+y:y+"'")),V.opts.verbose&&(x=(x+=" , schema:  ")+(p?"validate.schema"+D:""+m)+"         , parentSchema: validate.schema"+V.schemaPath+" , data: "+w+" "),x+=" } "):x+=" {} ";var C,S=x;return x=C.pop(),x+=!V.compositeRule&&T?V.async?" throw new ValidationError(["+S+"]); ":" validate.errors = ["+S+"]; return false; ":" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",x+=" } ",T&&(x+=" else { "),x}},2407:function(Z){"use strict";Z.exports=function(V,X,ee){var $,k=" ",P=V.level,D=V.dataLevel,E=V.schema[X],R=V.schemaPath+V.util.getProperty(X),x=V.errSchemaPath+"/"+X,A=!V.opts.allErrors,_="data"+(D||""),m=V.opts.$data&&E&&E.$data;if(D=m?(k+=" var schema"+P+" = "+V.util.getData(E.$data,D,V.dataPathArr)+"; ","schema"+P):E,m||"number"==typeof E)return k+="if ( ",m&&(k+=" ("+D+" !== undefined && typeof "+D+" != 'number') || "),(P=[]).push(k+=" "+_+".length "+("maxItems"==($=X)?">":"<")+" "+D+") { "),k="",!1!==V.createErrors?(k+=" { keyword: '"+($||"_limitItems")+"' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(x)+" , params: { limit: "+D+" } ",!1!==V.opts.messages&&(k=(k=(k+=" , message: 'should NOT have ")+("maxItems"==X?"more":"fewer")+" than ")+(m?"' + "+D+" + '":""+E)+" items' "),V.opts.verbose&&(k=(k+=" , schema:  ")+(m?"validate.schema"+R:""+E)+"         , parentSchema: validate.schema"+V.schemaPath+" , data: "+_+" "),k+=" } "):k+=" {} ",$=k,k=P.pop(),k+=!V.compositeRule&&A?V.async?" throw new ValidationError(["+$+"]); ":" validate.errors = ["+$+"]; return false; ":" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",k+="} ",A&&(k+=" else { "),k;throw new Error(X+" must be number")}},1250:function(Z){"use strict";Z.exports=function(V,X,ee){var $,k=" ",P=V.level,D=V.dataLevel,E=V.schema[X],R=V.schemaPath+V.util.getProperty(X),x=V.errSchemaPath+"/"+X,A=!V.opts.allErrors,_="data"+(D||""),m=V.opts.$data&&E&&E.$data;if(D=m?(k+=" var schema"+P+" = "+V.util.getData(E.$data,D,V.dataPathArr)+"; ","schema"+P):E,m||"number"==typeof E)return k+="if ( ",m&&(k+=" ("+D+" !== undefined && typeof "+D+" != 'number') || "),k+=!1===V.opts.unicode?" "+_+".length ":" ucs2length("+_+") ",(P=[]).push(k+=" "+("maxLength"==($=X)?">":"<")+" "+D+") { "),k="",!1!==V.createErrors?(k+=" { keyword: '"+($||"_limitLength")+"' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(x)+" , params: { limit: "+D+" } ",!1!==V.opts.messages&&(k=(k=(k+=" , message: 'should NOT be ")+("maxLength"==X?"longer":"shorter")+" than ")+(m?"' + "+D+" + '":""+E)+" characters' "),V.opts.verbose&&(k=(k+=" , schema:  ")+(m?"validate.schema"+R:""+E)+"         , parentSchema: validate.schema"+V.schemaPath+" , data: "+_+" "),k+=" } "):k+=" {} ",$=k,k=P.pop(),k+=!V.compositeRule&&A?V.async?" throw new ValidationError(["+$+"]); ":" validate.errors = ["+$+"]; return false; ":" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",k+="} ",A&&(k+=" else { "),k;throw new Error(X+" must be number")}},2596:function(Z){"use strict";Z.exports=function(V,X,ee){var $,k=" ",P=V.level,D=V.dataLevel,E=V.schema[X],R=V.schemaPath+V.util.getProperty(X),x=V.errSchemaPath+"/"+X,A=!V.opts.allErrors,_="data"+(D||""),m=V.opts.$data&&E&&E.$data;if(D=m?(k+=" var schema"+P+" = "+V.util.getData(E.$data,D,V.dataPathArr)+"; ","schema"+P):E,m||"number"==typeof E)return k+="if ( ",m&&(k+=" ("+D+" !== undefined && typeof "+D+" != 'number') || "),(P=[]).push(k+=" Object.keys("+_+").length "+("maxProperties"==($=X)?">":"<")+" "+D+") { "),k="",!1!==V.createErrors?(k+=" { keyword: '"+($||"_limitProperties")+"' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(x)+" , params: { limit: "+D+" } ",!1!==V.opts.messages&&(k=(k=(k+=" , message: 'should NOT have ")+("maxProperties"==X?"more":"fewer")+" than ")+(m?"' + "+D+" + '":""+E)+" properties' "),V.opts.verbose&&(k=(k+=" , schema:  ")+(m?"validate.schema"+R:""+E)+"         , parentSchema: validate.schema"+V.schemaPath+" , data: "+_+" "),k+=" } "):k+=" {} ",$=k,k=P.pop(),k+=!V.compositeRule&&A?V.async?" throw new ValidationError(["+$+"]); ":" validate.errors = ["+$+"]; return false; ":" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",k+="} ",A&&(k+=" else { "),k;throw new Error(X+" must be number")}},9486:function(Z){"use strict";Z.exports=function(V,X,ee){var $=" ",k=V.schema[X],P=V.schemaPath+V.util.getProperty(X),E=V.errSchemaPath+"/"+X,R=!V.opts.allErrors,x=V.util.copy(V),A="",_=(x.level++,"valid"+x.level),m=x.baseId,D=!0,I=k;if(I)for(var T,w=-1,p=I.length-1;w<p;)T=I[w+=1],(V.opts.strictKeywords?"object"==typeof T&&0<Object.keys(T).length||!1===T:V.util.schemaHasRules(T,V.RULES.all))&&(D=!1,x.schema=T,x.schemaPath=P+"["+w+"]",x.errSchemaPath=E+"/"+w,$+="  "+V.validate(x)+" ",x.baseId=m,R)&&($+=" if ("+_+") { ",A+="}");return R&&($+=D?" if (true) { ":" "+A.slice(0,-1)+" "),$}},5347:function(Z){"use strict";Z.exports=function(V,R,ee){var $=" ",_=V.level,x=V.dataLevel,k=V.schema[R],P=V.schemaPath+V.util.getProperty(R),E=V.errSchemaPath+"/"+R,A=(R=!V.opts.allErrors,x="data"+(x||""),"valid"+_),m=(_="errs__"+_,V.util.copy(V)),D="",I=(m.level++,"valid"+m.level);if(k.every(function(l){return V.opts.strictKeywords?"object"==typeof l&&0<Object.keys(l).length||!1===l:V.util.schemaHasRules(l,V.RULES.all)})){var T=m.baseId,w=($+=" var "+_+" = errors; var "+A+" = false;  ",V.compositeRule),p=(V.compositeRule=m.compositeRule=!0,k);if(p)for(var y,h=-1,u=p.length-1;h<u;)y=p[h+=1],m.schema=y,m.schemaPath=P+"["+h+"]",m.errSchemaPath=E+"/"+h,$+="  "+V.validate(m)+" ",m.baseId=T,$+=" "+A+" = "+A+" || "+I+"; if (!"+A+") { ",D+="}";V.compositeRule=m.compositeRule=w,$+=" "+D+" if (!"+A+") {   var err =   ",!1!==V.createErrors?($+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(E)+" , params: {} ",!1!==V.opts.messages&&($+=" , message: 'should match some schema in anyOf' "),V.opts.verbose&&($+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+x+" "),$+=" } "):$+=" {} ",$+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!V.compositeRule&&R&&($+=V.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),$+=" } else {  errors = "+_+"; if (vErrors !== null) { if ("+_+") vErrors.length = "+_+"; else vErrors = null; } ",V.opts.allErrors&&($+=" } ")}else R&&($+=" if (true) { ");return $}},923:function(Z){"use strict";Z.exports=function(V,k,ee){var $=" ",P=V.schema[k];return k=V.errSchemaPath+"/"+k,P=V.util.toQuotedString(P),!0===V.opts.$comment?$+=" console.log("+P+");":"function"==typeof V.opts.$comment&&($+=" self._opts.$comment("+P+", "+V.util.toQuotedString(k)+", validate.root.schema);"),$}},2617:function(Z){"use strict";Z.exports=function(V,P,ee){var D=" ",$=V.level,m=V.dataLevel,_=V.schema[P],k=V.schemaPath+V.util.getProperty(P),E=(P=V.errSchemaPath+"/"+P,!V.opts.allErrors),R="data"+(m||""),x="valid"+$,A=V.opts.$data&&_&&_.$data;return(A&&(D+=" var schema"+$+" = "+V.util.getData(_.$data,m,V.dataPathArr)+"; "),A||(D+=" var schema"+$+" = validate.schema"+k+";"),_=[]).push(D+="var "+x+" = equal("+R+", schema"+$+"); if (!"+x+") {   "),D="",!1!==V.createErrors?(D+=" { keyword: 'const' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(P)+" , params: { allowedValue: schema"+$+" } ",!1!==V.opts.messages&&(D+=" , message: 'should be equal to constant' "),V.opts.verbose&&(D+=" , schema: validate.schema"+k+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+R+" "),D+=" } "):D+=" {} ",m=D,D=_.pop(),D+=!V.compositeRule&&E?V.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",D+=" }",E&&(D+=" else { "),D}},2119:function(Z){"use strict";Z.exports=function(V,P,ee){var y=" ",w=V.level,R=V.dataLevel,$=V.schema[P],k=V.schemaPath+V.util.getProperty(P),E=(P=V.errSchemaPath+"/"+P,!V.opts.allErrors),x=(R="data"+(R||""),"valid"+w),A="errs__"+w,_=V.util.copy(V),m=(_.level++,"valid"+_.level),D=(w="i"+w,_.dataLevel=V.dataLevel+1),I="data"+D,p=V.baseId,T=V.opts.strictKeywords?"object"==typeof $&&0<Object.keys($).length||!1===$:V.util.schemaHasRules($,V.RULES.all);return(y+="var "+A+" = errors;var "+x+";",T?(x=V.compositeRule,V.compositeRule=_.compositeRule=!0,_.schema=$,_.schemaPath=k,_.errSchemaPath=P,y+=" var "+m+" = false; for (var "+w+" = 0; "+w+" < "+R+".length; "+w+"++) { ",_.errorPath=V.util.getPathExpr(V.errorPath,w,V.opts.jsonPointers,!0),$=R+"["+w+"]",_.dataPathArr[D]=w,D=V.validate(_),_.baseId=p,V.util.varOccurences(D,I)<2?y+=" "+V.util.varReplace(D,I,$)+" ":y+=" var "+I+" = "+$+"; "+D+" ",y+=" if ("+m+") break; }  ",V.compositeRule=_.compositeRule=x,y+="  if (!"+m+") {"):y+=" if ("+R+".length == 0) {",w=[]).push(y),y="",!1!==V.createErrors?(y+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(P)+" , params: {} ",!1!==V.opts.messages&&(y+=" , message: 'should contain a valid item' "),V.opts.verbose&&(y+=" , schema: validate.schema"+k+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+R+" "),y+=" } "):y+=" {} ",p=y,y=w.pop(),y+=!V.compositeRule&&E?V.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",y+=" } else { ",T&&(y+="  errors = "+A+"; if (vErrors !== null) { if ("+A+") vErrors.length = "+A+"; else vErrors = null; } "),V.opts.allErrors&&(y+=" } "),y}},1793:function(Z){"use strict";Z.exports=function(V,O,ee){var $,k,P,E=" ",R=V.level,x=V.dataLevel,N=V.schema[O],A=V.schemaPath+V.util.getProperty(O),_=V.errSchemaPath+"/"+O,m=!V.opts.allErrors,D="data"+(x||""),I="valid"+R,T="errs__"+R,w=V.opts.$data&&N&&N.$data,p=w?(E+=" var schema"+R+" = "+V.util.getData(N.$data,x,V.dataPathArr)+"; ","schema"+R):N,y="definition"+R,h=this.definition,u="";if(w&&h.$data){var l="keywordValidate"+R,d=h.validateSchema;E+=" var "+y+" = RULES.custom['"+O+"'].definition; var "+l+" = "+y+".validate;"}else{if(!(C=V.useCustomRule(this,N,V.schema,V)))return;p="validate.schema"+A,l=C.code,$=h.compile,k=h.inline,P=h.macro}O=l+".errors",N="i"+R;var g,f,v,C,S,z="ruleErr"+R,K=h.async;if(K&&!V.async)throw new Error("async keyword in sync schema");return k||P||(E+=O+" = null;"),E+="var "+T+" = errors;var "+I+";",w&&h.$data&&(u+="}",E+=" if ("+p+" === undefined) { "+I+" = true; } else { ",d)&&(u+="}",E+=" "+I+" = "+y+".validateSchema("+p+"); if ("+I+") { "),k?E+=h.statements?" "+C.validate+" ":" "+I+" = "+C.validate+"; ":P?(u="",(w=V.util.copy(V)).level++,g="valid"+w.level,w.schema=C.validate,w.schemaPath="",d=V.compositeRule,V.compositeRule=w.compositeRule=!0,y=V.validate(w).replace(/validate\.schema/g,l),V.compositeRule=w.compositeRule=d,E+=" "+y):((S=S||[]).push(E),E="",E+="  "+l+".call( ",E+=V.opts.passContext?"this":"self",E+=$||!1===h.schema?" , "+D+" ":" , "+p+" , "+D+" , validate.schema"+V.schemaPath+" ",E+=" , (dataPath || '')",'""'!=V.errorPath&&(E+=" + "+V.errorPath),C=E+=" , "+(f=x?"data"+(x-1||""):"parentData")+" , "+(v=x?V.dataPathArr[x]:"parentDataProperty")+" , rootData )  ",E=S.pop(),!1===h.errors?(E+=" "+I+" = ",K&&(E+="await "),E+=C+"; "):E+=K?" var "+(O="customErrors"+R)+" = null; try { "+I+" = await "+C+"; } catch (e) { "+I+" = false; if (e instanceof ValidationError) "+O+" = e.errors; else throw e; } ":" "+O+" = null; "+I+" = "+C+"; "),h.modifying&&(E+=" if ("+f+") "+D+" = "+f+"["+v+"];"),E+=""+u,h.valid?m&&(E+=" if (true) { "):(E+=" if ( ",void 0===h.valid?E=E+" !"+(P?""+g:I):E+=" "+!h.valid+" ",w=this.keyword,(S=S||[]).push(E+=") { "),(S=S||[]).push(E=""),E="",!1!==V.createErrors?(E+=" { keyword: '"+(w||"custom")+"' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(_)+" , params: { keyword: '"+this.keyword+"' } ",!1!==V.opts.messages&&(E+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),V.opts.verbose&&(E+=" , schema: validate.schema"+A+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+D+" "),E+=" } "):E+=" {} ",d=E,E=S.pop(),y=E+=!V.compositeRule&&m?V.async?" throw new ValidationError(["+d+"]); ":" validate.errors = ["+d+"]; return false; ":" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E=S.pop(),k?h.errors?"full"!=h.errors&&(E+="  for (var "+N+"="+T+"; "+N+"<errors; "+N+"++) { var "+z+" = vErrors["+N+"]; if ("+z+".dataPath === undefined) "+z+".dataPath = (dataPath || '') + "+V.errorPath+"; if ("+z+".schemaPath === undefined) { "+z+'.schemaPath = "'+_+'"; } ',V.opts.verbose&&(E+=" "+z+".schema = "+p+"; "+z+".data = "+D+"; "),E+=" } "):!1===h.errors?E+=" "+y+" ":(E+=" if ("+T+" == errors) { "+y+" } else {  for (var "+N+"="+T+"; "+N+"<errors; "+N+"++) { var "+z+" = vErrors["+N+"]; if ("+z+".dataPath === undefined) "+z+".dataPath = (dataPath || '') + "+V.errorPath+"; if ("+z+".schemaPath === undefined) { "+z+'.schemaPath = "'+_+'"; } ',V.opts.verbose&&(E+=" "+z+".schema = "+p+"; "+z+".data = "+D+"; "),E+=" } } "):P?(E+="   var err =   ",!1!==V.createErrors?(E+=" { keyword: '"+(w||"custom")+"' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(_)+" , params: { keyword: '"+this.keyword+"' } ",!1!==V.opts.messages&&(E+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),V.opts.verbose&&(E+=" , schema: validate.schema"+A+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+D+" "),E+=" } "):E+=" {} ",E+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!V.compositeRule&&m&&(E+=V.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):!1===h.errors?E+=" "+y+" ":(E+=" if (Array.isArray("+O+")) { if (vErrors === null) vErrors = "+O+"; else vErrors = vErrors.concat("+O+"); errors = vErrors.length;  for (var "+N+"="+T+"; "+N+"<errors; "+N+"++) { var "+z+" = vErrors["+N+"]; if ("+z+".dataPath === undefined) "+z+".dataPath = (dataPath || '') + "+V.errorPath+";  "+z+'.schemaPath = "'+_+'";  ',V.opts.verbose&&(E+=" "+z+".schema = "+p+"; "+z+".data = "+D+"; "),E+=" } } else { "+y+" } "),E+=" } ",m&&(E+=" else { ")),E}},9115:function(Z){"use strict";Z.exports=function(V,D,ee){var $,k=" ",P=V.level,E=V.dataLevel,R=V.schema[D],x=V.schemaPath+V.util.getProperty(D),A=V.errSchemaPath+"/"+D,_=!V.opts.allErrors,m="data"+(E||""),I=(D="errs__"+P,V.util.copy(V)),T="",w=(I.level++,"valid"+I.level),p={},y={},h=V.opts.ownProperties;for(ue in R)"__proto__"!=ue&&(pe=R[ue],($=Array.isArray(pe)?y:p)[ue]=pe);var u=V.errorPath;for(ue in k=k+"var "+D+" = errors;var missing"+P+";",y)if(($=y[ue]).length){if(k+=" if ( "+m+V.util.getProperty(ue)+" !== undefined ",h&&(k+=" && Object.prototype.hasOwnProperty.call("+m+", '"+V.util.escapeQuotes(ue)+"') "),_){k+=" && ( ";var l=$;if(l)for(var d=-1,g=l.length-1;d<g;)O=l[d+=1],d&&(k+=" || "),k+=" ( ( "+(Q=m+(K=V.util.getProperty(O)))+" === undefined ",h&&(k+=" || ! Object.prototype.hasOwnProperty.call("+m+", '"+V.util.escapeQuotes(O)+"') "),k+=") && (missing"+P+" = "+V.util.toQuotedString(V.opts.jsonPointers?O:K)+") ) ";k+=")) {  ";var f="' + "+(C="missing"+P)+" + '",v=(V.opts._errorDataPathProperty&&(V.errorPath=V.opts.jsonPointers?V.util.getPathExpr(u,C,!0):u+" + "+C),v||[]),C=(v.push(k),k="",!1!==V.createErrors?(k+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(A)+" , params: { property: '"+V.util.escapeQuotes(ue)+"', missingProperty: '"+f+"', depsCount: "+$.length+", deps: '"+V.util.escapeQuotes(1==$.length?$[0]:$.join(", "))+"' } ",!1!==V.opts.messages&&(k+=" , message: 'should have ",k+=1==$.length?"property "+V.util.escapeQuotes($[0]):"properties "+V.util.escapeQuotes($.join(", ")),k+=" when property "+V.util.escapeQuotes(ue)+" is present' "),V.opts.verbose&&(k+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+m+" "),k+=" } "):k+=" {} ",k);k=v.pop(),k+=!V.compositeRule&&_?V.async?" throw new ValidationError(["+C+"]); ":" validate.errors = ["+C+"]; return false; ":" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{k+=" ) { ";var S=$;if(S)for(var O,N=-1,z=S.length-1;N<z;){O=S[N+=1];var K=V.util.getProperty(O),Q=(f=V.util.escapeQuotes(O),m+K);V.opts._errorDataPathProperty&&(V.errorPath=V.util.getPath(u,O,V.opts.jsonPointers)),k+=" if ( "+Q+" === undefined ",h&&(k+=" || ! Object.prototype.hasOwnProperty.call("+m+", '"+V.util.escapeQuotes(O)+"') "),k+=") {  var err =   ",!1!==V.createErrors?(k+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(A)+" , params: { property: '"+V.util.escapeQuotes(ue)+"', missingProperty: '"+f+"', depsCount: "+$.length+", deps: '"+V.util.escapeQuotes(1==$.length?$[0]:$.join(", "))+"' } ",!1!==V.opts.messages&&(k+=" , message: 'should have ",k+=1==$.length?"property "+V.util.escapeQuotes($[0]):"properties "+V.util.escapeQuotes($.join(", ")),k+=" when property "+V.util.escapeQuotes(ue)+" is present' "),V.opts.verbose&&(k+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+m+" "),k+=" } "):k+=" {} ",k+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}k+=" }   ",_&&(T+="}",k+=" else { ")}V.errorPath=u;var ue,oe=I.baseId;for(ue in p){var pe=p[ue];(V.opts.strictKeywords?"object"==typeof pe&&0<Object.keys(pe).length||!1===pe:V.util.schemaHasRules(pe,V.RULES.all))&&(k+=" "+w+" = true; if ( "+m+V.util.getProperty(ue)+" !== undefined ",h&&(k+=" && Object.prototype.hasOwnProperty.call("+m+", '"+V.util.escapeQuotes(ue)+"') "),k+=") { ",I.schema=pe,I.schemaPath=x+V.util.getProperty(ue),I.errSchemaPath=A+"/"+V.util.escapeFragment(ue),k+="  "+V.validate(I)+" ",I.baseId=oe,k+=" }  ",_)&&(k+=" if ("+w+") { ",T+="}")}return _&&(k+="   "+T+" if ("+D+" == errors) {"),k}},9317:function(Z){"use strict";Z.exports=function(V,P,ee){var D=" ",$=V.level,_=V.dataLevel,m=V.schema[P],k=V.schemaPath+V.util.getProperty(P),E=(P=V.errSchemaPath+"/"+P,!V.opts.allErrors),R="data"+(_||""),x="valid"+$,A=V.opts.$data&&m&&m.$data;return A&&(D+=" var schema"+$+" = "+V.util.getData(m.$data,_,V.dataPathArr)+"; "),_="schema"+$,(A||(D+=" var "+_+" = validate.schema"+k+";"),D+="var "+x+";",A&&(D+=" if (schema"+$+" === undefined) "+x+" = true; else if (!Array.isArray(schema"+$+")) "+x+" = false; else {"),D+=x+" = false;for (var "+(m="i"+$)+"=0; "+m+"<"+_+".length; "+m+"++) if (equal("+R+", "+_+"["+m+"])) { "+x+" = true; break; }",A&&(D+="  }  "),_=[]).push(D+=" if (!"+x+") {   "),D="",!1!==V.createErrors?(D+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(P)+" , params: { allowedValues: schema"+$+" } ",!1!==V.opts.messages&&(D+=" , message: 'should be equal to one of the allowed values' "),V.opts.verbose&&(D+=" , schema: validate.schema"+k+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+R+" "),D+=" } "):D+=" {} ",m=D,D=_.pop(),D+=!V.compositeRule&&E?V.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",D+=" }",E&&(D+=" else { "),D}},8327:function(Z){"use strict";Z.exports=function(V,x,ee){var $=" ",k=V.level,P=V.dataLevel,E=V.schema[x],R=V.schemaPath+V.util.getProperty(x),A=(x=V.errSchemaPath+"/"+x,!V.opts.allErrors),_="data"+(P||"");if(!1===V.opts.format)A&&($+=" if (true) { ");else{var m,D=V.opts.$data&&E&&E.$data,I=(P=D?($+=" var schema"+k+" = "+V.util.getData(E.$data,P,V.dataPathArr)+"; ","schema"+k):E,V.opts.unknownFormats),T=Array.isArray(I);if(D)$+=" var "+(m="format"+k)+" = formats["+P+"]; var "+(w="isObject"+k)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(y="formatType"+k)+" = "+w+" && "+m+".type || 'string'; if ("+w+") { ",V.async&&($+=" var async"+k+" = "+m+".async; "),$+=" "+m+" = "+m+".validate; } if (  ",D&&($+=" ("+P+" !== undefined && typeof "+P+" != 'string') || "),$+=" (","ignore"!=I&&($+=" ("+P+" && !"+m+" ",T&&($+=" && self._opts.unknownFormats.indexOf("+P+") == -1 "),$+=") || "),$+=" ("+m+" && "+y+" == '"+ee+"' && !(typeof "+m+" == 'function' ? ",$+=V.async?" (async"+k+" ? await "+m+"("+_+") : "+m+"("+_+")) ":" "+m+"("+_+") ",$+=" : "+m+".test("+_+"))))) {";else{if(!(m=V.formats[E])){if("ignore"==I)return V.logger.warn('unknown format "'+E+'" ignored in schema at path "'+V.errSchemaPath+'"'),A&&($+=" if (true) { "),$;if(T&&0<=I.indexOf(E))return A&&($+=" if (true) { "),$;throw new Error('unknown format "'+E+'" is used in schema at path "'+V.errSchemaPath+'"')}var w,p,y=(w="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(w&&(p=!0===m.async,m=m.validate),y!=ee)return A&&($+=" if (true) { "),$;if(p){if(!V.async)throw new Error("async format in sync schema");$+=" if (!(await "+(h="formats"+V.util.getProperty(E)+".validate")+"("+_+"))) { "}else{$+=" if (! ";var h="formats"+V.util.getProperty(E);w&&(h+=".validate"),$=$+("function"==typeof m?" "+h+"("+_+") ":" "+h+".test("+_+") ")+") { "}}(k=[]).push($),$="",!1!==V.createErrors?($=($+=" { keyword: 'format' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(x)+" , params: { format:  ")+(D?""+P:""+V.util.toQuotedString(E))+"  } ",!1!==V.opts.messages&&($=($+=" , message: 'should match format \"")+(D?"' + "+P+" + '":""+V.util.escapeQuotes(E))+"\"' "),V.opts.verbose&&($=($=($+=" , schema:  ")+(D?"validate.schema"+R:""+V.util.toQuotedString(E)))+"         , parentSchema: validate.schema"+V.schemaPath+" , data: "+_+" "),$+=" } "):$+=" {} ",T=$,$=k.pop(),$+=!V.compositeRule&&A?V.async?" throw new ValidationError(["+T+"]); ":" validate.errors = ["+T+"]; return false; ":" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$+=" } ",A&&($+=" else { ")}return $}},5926:function(Z){"use strict";Z.exports=function(V,x,ee){var $,k=" ",P=V.level,_=V.dataLevel,E=V.schema[x],R=V.schemaPath+V.util.getProperty(x),A=(x=V.errSchemaPath+"/"+x,!V.opts.allErrors),m=(_="data"+(_||""),"valid"+P),D="errs__"+P,I=V.util.copy(V),T=(I.level++,"valid"+I.level),p=V.schema.else,w=void 0!==(w=V.schema.then)&&(V.opts.strictKeywords?"object"==typeof w&&0<Object.keys(w).length||!1===w:V.util.schemaHasRules(w,V.RULES.all)),y=(p=void 0!==p&&(V.opts.strictKeywords?"object"==typeof p&&0<Object.keys(p).length||!1===p:V.util.schemaHasRules(p,V.RULES.all)),I.baseId);return w||p?(I.createErrors=!1,I.schema=E,I.schemaPath=R,I.errSchemaPath=x,k+=" var "+D+" = errors; var "+m+" = true;  ",E=V.compositeRule,V.compositeRule=I.compositeRule=!0,k+="  "+V.validate(I)+" ",I.baseId=y,I.createErrors=!0,k+="  errors = "+D+"; if (vErrors !== null) { if ("+D+") vErrors.length = "+D+"; else vErrors = null; }  ",V.compositeRule=I.compositeRule=E,w?(k+=" if ("+T+") {  ",I.schema=V.schema.then,I.schemaPath=V.schemaPath+".then",I.errSchemaPath=V.errSchemaPath+"/then",k+="  "+V.validate(I)+" ",I.baseId=y,k+=" "+m+" = "+T+"; ",w&&p?k+=" var "+($="ifClause"+P)+" = 'then'; ":$="'then'",k+=" } ",p&&(k+=" else { ")):k+=" if (!"+T+") { ",p&&(I.schema=V.schema.else,I.schemaPath=V.schemaPath+".else",I.errSchemaPath=V.errSchemaPath+"/else",k+="  "+V.validate(I)+" ",I.baseId=y,k+=" "+m+" = "+T+"; ",w&&p?k+=" var "+($="ifClause"+P)+" = 'else'; ":$="'else'",k+=" } "),k+=" if (!"+m+") {   var err =   ",!1!==V.createErrors?(k+=" { keyword: 'if' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(x)+" , params: { failingKeyword: "+$+" } ",!1!==V.opts.messages&&(k+=" , message: 'should match \"' + "+$+" + '\" schema' "),V.opts.verbose&&(k+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+_+" "),k+=" } "):k+=" {} ",k+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!V.compositeRule&&A&&(k+=V.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),k+=" }   ",A&&(k+=" else { ")):A&&(k+=" if (true) { "),k}},9646:function(Z,V,X){"use strict";Z.exports={$ref:X(2331),allOf:X(9486),anyOf:X(5347),$comment:X(923),const:X(2617),contains:X(2119),dependencies:X(9115),enum:X(9317),format:X(8327),if:X(5926),items:X(392),maximum:X(1796),minimum:X(1796),maxItems:X(2407),minItems:X(2407),maxLength:X(1250),minLength:X(1250),maxProperties:X(2596),minProperties:X(2596),multipleOf:X(6039),not:X(7946),oneOf:X(9344),pattern:X(9737),properties:X(2537),propertyNames:X(2127),required:X(1204),uniqueItems:X(1985),validate:X(1869)}},392:function(Z){"use strict";Z.exports=function(V,A,ee){var $=" ",T=V.level,_=V.dataLevel,k=V.schema[A],P=V.schemaPath+V.util.getProperty(A),E=V.errSchemaPath+"/"+A,R=!V.opts.allErrors,x="data"+(_||""),m=(A="valid"+T,_="errs__"+T,V.util.copy(V)),D="",I=(m.level++,"valid"+m.level),w=(T="i"+T,m.dataLevel=V.dataLevel+1),p="data"+w,y=V.baseId;if($+="var "+_+" = errors;var "+A+";",Array.isArray(k)){var h,u,l=V.schema.additionalItems,d=(!1===l&&($+=" "+A+" = "+x+".length <= "+k.length+"; ",h=E,E=V.errSchemaPath+"/additionalItems",(u=u||[]).push($+="  if (!"+A+") {   "),$="",!1!==V.createErrors?($+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(E)+" , params: { limit: "+k.length+" } ",!1!==V.opts.messages&&($+=" , message: 'should NOT have more than "+k.length+" items' "),V.opts.verbose&&($+=" , schema: false , parentSchema: validate.schema"+V.schemaPath+" , data: "+x+" "),$+=" } "):$+=" {} ",A=$,$=u.pop(),$+=!V.compositeRule&&R?V.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$+=" } ",E=h,R)&&(D+="}",$+=" else { "),k);if(d)for(var g=-1,f=d.length-1;g<f;){var v,C,S=d[g+=1];(V.opts.strictKeywords?"object"==typeof S&&0<Object.keys(S).length||!1===S:V.util.schemaHasRules(S,V.RULES.all))&&($+=" "+I+" = true; if ("+x+".length > "+g+") { ",v=x+"["+g+"]",m.schema=S,m.schemaPath=P+"["+g+"]",m.errSchemaPath=E+"/"+g,m.errorPath=V.util.getPathExpr(V.errorPath,g,V.opts.jsonPointers,!0),m.dataPathArr[w]=g,C=V.validate(m),m.baseId=y,V.util.varOccurences(C,p)<2?$+=" "+V.util.varReplace(C,p,v)+" ":$+=" var "+p+" = "+v+"; "+C+" ",$+=" }  ",R)&&($+=" if ("+I+") { ",D+="}")}"object"==typeof l&&(V.opts.strictKeywords?"object"==typeof l&&0<Object.keys(l).length||!1===l:V.util.schemaHasRules(l,V.RULES.all))&&(m.schema=l,m.schemaPath=V.schemaPath+".additionalItems",m.errSchemaPath=V.errSchemaPath+"/additionalItems",$+=" "+I+" = true; if ("+x+".length > "+k.length+") {  for (var "+T+" = "+k.length+"; "+T+" < "+x+".length; "+T+"++) { ",m.errorPath=V.util.getPathExpr(V.errorPath,T,V.opts.jsonPointers,!0),v=x+"["+T+"]",m.dataPathArr[w]=T,C=V.validate(m),m.baseId=y,V.util.varOccurences(C,p)<2?$+=" "+V.util.varReplace(C,p,v)+" ":$+=" var "+p+" = "+v+"; "+C+" ",R&&($+=" if (!"+I+") break; "),$+=" } }  ",R)&&($+=" if ("+I+") { ",D+="}")}else(V.opts.strictKeywords?"object"==typeof k&&0<Object.keys(k).length||!1===k:V.util.schemaHasRules(k,V.RULES.all))&&(m.schema=k,m.schemaPath=P,m.errSchemaPath=E,$+="  for (var "+T+" = 0; "+T+" < "+x+".length; "+T+"++) { ",m.errorPath=V.util.getPathExpr(V.errorPath,T,V.opts.jsonPointers,!0),v=x+"["+T+"]",m.dataPathArr[w]=T,C=V.validate(m),m.baseId=y,V.util.varOccurences(C,p)<2?$+=" "+V.util.varReplace(C,p,v)+" ":$+=" var "+p+" = "+v+"; "+C+" ",R&&($+=" if (!"+I+") break; "),$+=" }");return R&&($+=" "+D+" if ("+_+" == errors) {"),$}},6039:function(Z){"use strict";Z.exports=function(V,X,ee){var $=" ",k=V.level,m=V.dataLevel,P=V.schema[X],E=V.schemaPath+V.util.getProperty(X),R=V.errSchemaPath+"/"+X,x=!V.opts.allErrors,A="data"+(m||""),_=V.opts.$data&&P&&P.$data;if(m=_?($+=" var schema"+k+" = "+V.util.getData(P.$data,m,V.dataPathArr)+"; ","schema"+k):P,!_&&"number"!=typeof P)throw new Error(X+" must be number");return $+="var division"+k+";if (",_&&($+=" "+m+" !== undefined && ( typeof "+m+" != 'number' || "),$+=" (division"+k+" = "+A+" / "+m+", ",$+=V.opts.multipleOfPrecision?" Math.abs(Math.round(division"+k+") - division"+k+") > 1e-"+V.opts.multipleOfPrecision+" ":" division"+k+" !== parseInt(division"+k+") ",$+=" ) ",_&&($+="  )  "),(X=[]).push($+=" ) {   "),$="",!1!==V.createErrors?($+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(R)+" , params: { multipleOf: "+m+" } ",!1!==V.opts.messages&&($=$+" , message: 'should be multiple of "+(_?"' + "+m:m+"'")),V.opts.verbose&&($=($+=" , schema:  ")+(_?"validate.schema"+E:""+P)+"         , parentSchema: validate.schema"+V.schemaPath+" , data: "+A+" "),$+=" } "):$+=" {} ",k=$,$=X.pop(),$+=!V.compositeRule&&x?V.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$+="} ",x&&($+=" else { "),$}},7946:function(Z){"use strict";Z.exports=function(V,x,ee){var $,k,P=" ",m=V.level,_=V.dataLevel,E=V.schema[x],R=V.schemaPath+V.util.getProperty(x),A=(x=V.errSchemaPath+"/"+x,!V.opts.allErrors),D=(_="data"+(_||""),m="errs__"+m,V.util.copy(V)),I=(D.level++,"valid"+D.level);return(V.opts.strictKeywords?"object"==typeof E&&0<Object.keys(E).length||!1===E:V.util.schemaHasRules(E,V.RULES.all))?(D.schema=E,D.schemaPath=R,D.errSchemaPath=x,P+=" var "+m+" = errors;  ",E=V.compositeRule,V.compositeRule=D.compositeRule=!0,D.createErrors=!1,D.opts.allErrors&&(k=D.opts.allErrors,D.opts.allErrors=!1),P+=" "+V.validate(D)+" ",D.createErrors=!0,k&&(D.opts.allErrors=k),V.compositeRule=D.compositeRule=E,($=$||[]).push(P+=" if ("+I+") {   "),P="",!1!==V.createErrors?(P+=" { keyword: 'not' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(x)+" , params: {} ",!1!==V.opts.messages&&(P+=" , message: 'should NOT be valid' "),V.opts.verbose&&(P+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+_+" "),P+=" } "):P+=" {} ",k=P,P=$.pop(),P+=!V.compositeRule&&A?V.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",P+=" } else {  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; } ",V.opts.allErrors&&(P+=" } ")):(P+="  var err =   ",!1!==V.createErrors?(P+=" { keyword: 'not' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(x)+" , params: {} ",!1!==V.opts.messages&&(P+=" , message: 'should NOT be valid' "),V.opts.verbose&&(P+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+_+" "),P+=" } "):P+=" {} ",P+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A&&(P+=" if (false) { ")),P}},9344:function(Z){"use strict";Z.exports=function(V,R,ee){var $=" ",y=V.level,x=V.dataLevel,k=V.schema[R],P=V.schemaPath+V.util.getProperty(R),E=V.errSchemaPath+"/"+R,A=(R=!V.opts.allErrors,x="data"+(x||""),"valid"+y),_="errs__"+y,m=V.util.copy(V),D="",I=(m.level++,"valid"+m.level),T=m.baseId,w="prevValid"+y,p="passingSchemas"+y,h=($+="var "+_+" = errors , "+w+" = false , "+A+" = false , "+p+" = null; ",y=V.compositeRule,V.compositeRule=m.compositeRule=!0,k);if(h)for(var u,l=-1,d=h.length-1;l<d;)u=h[l+=1],(V.opts.strictKeywords?"object"==typeof u&&0<Object.keys(u).length||!1===u:V.util.schemaHasRules(u,V.RULES.all))?(m.schema=u,m.schemaPath=P+"["+l+"]",m.errSchemaPath=E+"/"+l,$+="  "+V.validate(m)+" ",m.baseId=T):$+=" var "+I+" = true; ",l&&($+=" if ("+I+" && "+w+") { "+A+" = false; "+p+" = ["+p+", "+l+"]; } else { ",D+="}"),$+=" if ("+I+") { "+A+" = "+w+" = true; "+p+" = "+l+"; }";return V.compositeRule=m.compositeRule=y,$+=D+"if (!"+A+") {   var err =   ",!1!==V.createErrors?($+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(E)+" , params: { passingSchemas: "+p+" } ",!1!==V.opts.messages&&($+=" , message: 'should match exactly one schema in oneOf' "),V.opts.verbose&&($+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+x+" "),$+=" } "):$+=" {} ",$+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!V.compositeRule&&R&&($+=V.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),$+="} else {  errors = "+_+"; if (vErrors !== null) { if ("+_+") vErrors.length = "+_+"; else vErrors = null; }",V.opts.allErrors&&($+=" } "),$}},9737:function(Z){"use strict";Z.exports=function(V,P,ee){var D=" ",m=V.level,A=V.dataLevel,$=V.schema[P],k=V.schemaPath+V.util.getProperty(P),E=(P=V.errSchemaPath+"/"+P,!V.opts.allErrors),R="data"+(A||""),x=V.opts.$data&&$&&$.$data,_=(A=x?(D+=" var schema"+m+" = "+V.util.getData($.$data,A,V.dataPathArr)+"; ","schema"+m):$,m=x?"(new RegExp("+A+"))":V.usePattern($),D+="if ( ",x&&(D+=" ("+A+" !== undefined && typeof "+A+" != 'string') || "),[]);return _.push(D+=" !"+m+".test("+R+") ) {   "),D="",!1!==V.createErrors?(D=(D+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(P)+" , params: { pattern:  ")+(x?""+A:""+V.util.toQuotedString($))+"  } ",!1!==V.opts.messages&&(D=(D+=" , message: 'should match pattern \"")+(x?"' + "+A+" + '":""+V.util.escapeQuotes($))+"\"' "),V.opts.verbose&&(D=(D=(D+=" , schema:  ")+(x?"validate.schema"+k:""+V.util.toQuotedString($)))+"         , parentSchema: validate.schema"+V.schemaPath+" , data: "+R+" "),D+=" } "):D+=" {} ",m=D,D=_.pop(),D+=!V.compositeRule&&E?V.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",D+="} ",E&&(D+=" else { "),D}},2537:function(Z){"use strict";Z.exports=function(V,m,ee){var $,k=" ",P=V.level,l=V.dataLevel,E=V.schema[m],R=V.schemaPath+V.util.getProperty(m),x=V.errSchemaPath+"/"+m,A=!V.opts.allErrors,_="data"+(l||""),D=(m="errs__"+P,V.util.copy(V)),I="",T=(D.level++,"valid"+D.level),w="key"+P,p="idx"+P,y=D.dataLevel=V.dataLevel+1,h="data"+y,u="dataProperties"+P,d=(l=Object.keys(E||{}).filter(ue),V.schema.patternProperties||{}),g=Object.keys(d).filter(ue),f=V.schema.additionalProperties,v=l.length||g.length,C=!1===f,S="object"==typeof f&&Object.keys(f).length,O=V.opts.removeAdditional,N=C||S||O,z=V.opts.ownProperties,K=V.baseId,Q=V.schema.required;function ue(Zt){return"__proto__"!==Zt}if(Q&&(!V.opts.$data||!Q.$data)&&Q.length<V.opts.loopRequired&&($=V.util.toHash(Q)),k+="var "+m+" = errors;var "+T+" = true;",z&&(k+=" var "+u+" = undefined;"),N){if(k+=z?" "+u+" = "+u+" || Object.keys("+_+"); for (var "+p+"=0; "+p+"<"+u+".length; "+p+"++) { var "+w+" = "+u+"["+p+"]; ":" for (var "+w+" in "+_+") { ",v){if(k+=" var isAdditional"+P+" = !(false ",l.length)if(8<l.length)k+=" || validate.schema"+R+".hasOwnProperty("+w+") ";else{var oe=l;if(oe)for(var pe=-1,F=oe.length-1;pe<F;)he=oe[pe+=1],k+=" || "+w+" == "+V.util.toQuotedString(he)+" "}if(g.length){var U=g;if(U)for(var Y=-1,W=U.length-1;Y<W;)we=U[Y+=1],k+=" || "+V.usePattern(we)+".test("+w+") "}k+=" ); if (isAdditional"+P+") { "}"all"==O?k+=" delete "+_+"["+w+"]; ":(ie=V.errorPath,Q="' + "+w+" + '",V.opts._errorDataPathProperty&&(V.errorPath=V.util.getPathExpr(V.errorPath,w,V.opts.jsonPointers)),C?O?k+=" delete "+_+"["+w+"]; ":(de=x,x=V.errSchemaPath+"/additionalProperties",(Ce=Ce||[]).push(k+=" "+T+" = false; "),k="",!1!==V.createErrors?(k+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(x)+" , params: { additionalProperty: '"+Q+"' } ",!1!==V.opts.messages&&(k+=" , message: '",k+=V.opts._errorDataPathProperty?"is an invalid additional property":"should NOT have additional properties",k+="' "),V.opts.verbose&&(k+=" , schema: false , parentSchema: validate.schema"+V.schemaPath+" , data: "+_+" "),k+=" } "):k+=" {} ",re=k,k=Ce.pop(),k+=!V.compositeRule&&A?V.async?" throw new ValidationError(["+re+"]); ":" validate.errors = ["+re+"]; return false; ":" var err = "+re+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",x=de,A&&(k+=" break; ")):S&&("failing"==O?(k+=" var "+m+" = errors;  ",N=V.compositeRule,V.compositeRule=D.compositeRule=!0,D.schema=f,D.schemaPath=V.schemaPath+".additionalProperties",D.errSchemaPath=V.errSchemaPath+"/additionalProperties",D.errorPath=V.opts._errorDataPathProperty?V.errorPath:V.util.getPathExpr(V.errorPath,w,V.opts.jsonPointers),dt=_+"["+w+"]",D.dataPathArr[y]=w,xt=V.validate(D),D.baseId=K,V.util.varOccurences(xt,h)<2?k+=" "+V.util.varReplace(xt,h,dt)+" ":k+=" var "+h+" = "+dt+"; "+xt+" ",k+=" if (!"+T+") { errors = "+m+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+_+"["+w+"]; }  ",V.compositeRule=D.compositeRule=N):(D.schema=f,D.schemaPath=V.schemaPath+".additionalProperties",D.errSchemaPath=V.errSchemaPath+"/additionalProperties",D.errorPath=V.opts._errorDataPathProperty?V.errorPath:V.util.getPathExpr(V.errorPath,w,V.opts.jsonPointers),dt=_+"["+w+"]",D.dataPathArr[y]=w,xt=V.validate(D),D.baseId=K,V.util.varOccurences(xt,h)<2?k+=" "+V.util.varReplace(xt,h,dt)+" ":k+=" var "+h+" = "+dt+"; "+xt+" ",A&&(k+=" if (!"+T+") break; "))),V.errorPath=ie),v&&(k+=" } "),k+=" }  ",A&&(k+=" if ("+T+") { ",I+="}")}var ne=V.opts.useDefaults&&!V.compositeRule;if(l.length){var fe=l;if(fe)for(var he,Ae=-1,ke=fe.length-1;Ae<ke;){var xe,Ee,ie,de,me,Ce,re,le=E[he=fe[Ae+=1]];(V.opts.strictKeywords?"object"==typeof le&&0<Object.keys(le).length||!1===le:V.util.schemaHasRules(le,V.RULES.all))&&(dt=_+(me=V.util.getProperty(he)),xe=ne&&void 0!==le.default,D.schema=le,D.schemaPath=R+me,D.errSchemaPath=x+"/"+V.util.escapeFragment(he),D.errorPath=V.util.getPath(V.errorPath,he,V.opts.jsonPointers),D.dataPathArr[y]=V.util.toQuotedString(he),xt=V.validate(D),D.baseId=K,V.util.varOccurences(xt,h)<2?(xt=V.util.varReplace(xt,h,dt),Ee=dt):k+=" var "+(Ee=h)+" = "+dt+"; ",xe?k+=" "+xt+" ":($&&$[he]?(k+=" if ( "+Ee+" === undefined ",z&&(k+=" || ! Object.prototype.hasOwnProperty.call("+_+", '"+V.util.escapeQuotes(he)+"') "),k+=") { "+T+" = false; ",ie=V.errorPath,de=x,me=V.util.escapeQuotes(he),V.opts._errorDataPathProperty&&(V.errorPath=V.util.getPath(ie,he,V.opts.jsonPointers)),x=V.errSchemaPath+"/required",(Ce=Ce||[]).push(k),k="",!1!==V.createErrors?(k+=" { keyword: 'required' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(x)+" , params: { missingProperty: '"+me+"' } ",!1!==V.opts.messages&&(k+=" , message: '",k+=V.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+me+"\\'",k+="' "),V.opts.verbose&&(k+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+_+" "),k+=" } "):k+=" {} ",re=k,k=Ce.pop(),k+=!V.compositeRule&&A?V.async?" throw new ValidationError(["+re+"]); ":" validate.errors = ["+re+"]; return false; ":" var err = "+re+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",x=de,V.errorPath=ie,k+=" } else { "):A?(k+=" if ( "+Ee+" === undefined ",z&&(k+=" || ! Object.prototype.hasOwnProperty.call("+_+", '"+V.util.escapeQuotes(he)+"') "),k+=") { "+T+" = true; } else { "):(k+=" if ("+Ee+" !== undefined ",z&&(k+=" &&   Object.prototype.hasOwnProperty.call("+_+", '"+V.util.escapeQuotes(he)+"') "),k+=" ) { "),k+=" "+xt+" } ")),A&&(k+=" if ("+T+") { ",I+="}")}}if(g.length){var ve=g;if(ve)for(var we,Pe=-1,Ue=ve.length-1;Pe<Ue;){var dt,xt;le=d[we=ve[Pe+=1]],(V.opts.strictKeywords?"object"==typeof le&&0<Object.keys(le).length||!1===le:V.util.schemaHasRules(le,V.RULES.all))&&(D.schema=le,D.schemaPath=V.schemaPath+".patternProperties"+V.util.getProperty(we),D.errSchemaPath=V.errSchemaPath+"/patternProperties/"+V.util.escapeFragment(we),k=(k+=z?" "+u+" = "+u+" || Object.keys("+_+"); for (var "+p+"=0; "+p+"<"+u+".length; "+p+"++) { var "+w+" = "+u+"["+p+"]; ":" for (var "+w+" in "+_+") { ")+" if ("+V.usePattern(we)+".test("+w+")) { ",D.errorPath=V.util.getPathExpr(V.errorPath,w,V.opts.jsonPointers),dt=_+"["+w+"]",D.dataPathArr[y]=w,xt=V.validate(D),D.baseId=K,V.util.varOccurences(xt,h)<2?k+=" "+V.util.varReplace(xt,h,dt)+" ":k+=" var "+h+" = "+dt+"; "+xt+" ",A&&(k+=" if (!"+T+") break; "),k+=" } ",A&&(k+=" else "+T+" = true; "),k+=" }  ",A)&&(k+=" if ("+T+") { ",I+="}")}}return A&&(k+=" "+I+" if ("+m+" == errors) {"),k}},2127:function(Z){"use strict";Z.exports=function(V,T,ee){var $,k,P,E,R,x,A,_=" ",m=V.level,p=V.dataLevel,D=V.schema[T],I=V.schemaPath+V.util.getProperty(T),w=(T=V.errSchemaPath+"/"+T,!V.opts.allErrors),y=(p="data"+(p||""),"errs__"+m),h=V.util.copy(V),u=(h.level++,"valid"+h.level);return _+="var "+y+" = errors;",(V.opts.strictKeywords?"object"==typeof D&&0<Object.keys(D).length||!1===D:V.util.schemaHasRules(D,V.RULES.all))&&(h.schema=D,h.schemaPath=I,h.errSchemaPath=T,D="idx"+m,k="i"+m,P="' + "+($="key"+m)+" + '",E="data"+(h.dataLevel=V.dataLevel+1),A="dataProperties"+m,R=V.baseId,(x=V.opts.ownProperties)&&(_+=" var "+A+" = undefined; "),_=_+(x?" "+A+" = "+A+" || Object.keys("+p+"); for (var "+D+"=0; "+D+"<"+A+".length; "+D+"++) { var "+$+" = "+A+"["+D+"]; ":" for (var "+$+" in "+p+") { ")+" var startErrs"+m+" = errors; ",x=$,A=V.compositeRule,V.compositeRule=h.compositeRule=!0,D=V.validate(h),h.baseId=R,V.util.varOccurences(D,E)<2?_+=" "+V.util.varReplace(D,E,x)+" ":_+=" var "+E+" = "+x+"; "+D+" ",V.compositeRule=h.compositeRule=A,_+=" if (!"+u+") { for (var "+k+"=startErrs"+m+"; "+k+"<errors; "+k+"++) { vErrors["+k+"].propertyName = "+$+"; }   var err =   ",!1!==V.createErrors?(_+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(T)+" , params: { propertyName: '"+P+"' } ",!1!==V.opts.messages&&(_+=" , message: 'property name \\'"+P+"\\' is invalid' "),V.opts.verbose&&(_+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+p+" "),_+=" } "):_+=" {} ",_+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!V.compositeRule&&w&&(_+=V.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),w&&(_+=" break; "),_+=" } }"),w&&(_+="  if ("+y+" == errors) {"),_}},2331:function(Z){"use strict";Z.exports=function(V,x,ee){var $,k,T,P=" ",E=V.dataLevel,R=V.schema[x],A=(x=V.errSchemaPath+"/"+x,!V.opts.allErrors),_="data"+(E||""),m="valid"+(m=V.level);if("#"==R||"#/"==R)k=V.isRoot?($=V.async,"validate"):($=!0===V.root.schema.$async,"root.refVal[0]");else{var D=V.resolveRef(V.baseId,R,V.isRoot);if(void 0===D){var I=V.MissingRefError.message(V.baseId,R);if("fail"==V.opts.missingRefs)V.logger.error(I),(T=T||[]).push(P),P="",!1!==V.createErrors?(P+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(x)+" , params: { ref: '"+V.util.escapeQuotes(R)+"' } ",!1!==V.opts.messages&&(P+=" , message: 'can\\'t resolve reference "+V.util.escapeQuotes(R)+"' "),V.opts.verbose&&(P+=" , schema: "+V.util.toQuotedString(R)+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+_+" "),P+=" } "):P+=" {} ",x=P,P=T.pop(),P+=!V.compositeRule&&A?V.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A&&(P+=" if (false) { ");else{if("ignore"!=V.opts.missingRefs)throw new V.MissingRefError(V.baseId,R,I);V.logger.warn(I),A&&(P+=" if (true) { ")}}else D.inline?((x=V.util.copy(V)).level++,I="valid"+x.level,x.schema=D.schema,x.schemaPath="",x.errSchemaPath=R,P+=" "+V.validate(x).replace(/validate\.schema/g,D.code)+" ",A&&(P+=" if ("+I+") { ")):($=!0===D.$async||V.async&&!1!==D.$async,k=D.code)}if(k)if((T=T||[]).push(P),P="",P+=V.opts.passContext?" "+k+".call(this, ":" "+k+"( ",P+=" "+_+", (dataPath || '')",'""'!=V.errorPath&&(P+=" + "+V.errorPath),x=P+=" , "+(R=E?"data"+(E-1||""):"parentData")+" , "+(E?V.dataPathArr[E]:"parentDataProperty")+", rootData)  ",P=T.pop(),$){if(!V.async)throw new Error("async schema referenced by sync schema");A&&(P+=" var "+m+"; "),P+=" try { await "+x+"; ",A&&(P+=" "+m+" = true; "),P+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",A&&(P+=" "+m+" = false; "),P+=" } ",A&&(P+=" if ("+m+") { ")}else P+=" if (!"+x+") { if (vErrors === null) vErrors = "+k+".errors; else vErrors = vErrors.concat("+k+".errors); errors = vErrors.length; } ",A&&(P+=" else { ");return P}},1204:function(Z){"use strict";Z.exports=function(V,x,ee){var $=" ",k=V.level,D=V.dataLevel,P=V.schema[x],E=V.schemaPath+V.util.getProperty(x),R=V.errSchemaPath+"/"+x,A=(x=!V.opts.allErrors,"data"+(D||"")),_="valid"+k,m=V.opts.$data&&P&&P.$data;if(m&&($+=" var schema"+k+" = "+V.util.getData(P.$data,D,V.dataPathArr)+"; "),D="schema"+k,!m)if(P.length<V.opts.loopRequired&&V.schema.properties&&Object.keys(V.schema.properties).length){var I=[],T=P;if(T)for(var w=-1,p=T.length-1;w<p;){var y=T[w+=1],h=V.schema.properties[y];h&&(V.opts.strictKeywords?"object"==typeof h&&0<Object.keys(h).length||!1===h:V.util.schemaHasRules(h,V.RULES.all))||(I[I.length]=y)}}else I=P;if(m||I.length){var u=V.errorPath,l=(P=m||I.length>=V.opts.loopRequired,V.opts.ownProperties);if(x){if($+=" var missing"+k+"; ",P){m||($+=" var "+D+" = validate.schema"+E+"; ");var d="' + "+(O="schema"+k+"["+(v="i"+k)+"]")+" + '";V.opts._errorDataPathProperty&&(V.errorPath=V.util.getPathExpr(u,O,V.opts.jsonPointers)),$+=" var "+_+" = true; ",m&&($+=" if (schema"+k+" === undefined) "+_+" = true; else if (!Array.isArray(schema"+k+")) "+_+" = false; else {"),$+=" for (var "+v+" = 0; "+v+" < "+D+".length; "+v+"++) { "+_+" = "+A+"["+D+"["+v+"]] !== undefined ",l&&($+=" &&   Object.prototype.hasOwnProperty.call("+A+", "+D+"["+v+"]) "),$+="; if (!"+_+") break; } ",m&&($+="  }  "),(S=S||[]).push($+="  if (!"+_+") {   "),$="",!1!==V.createErrors?($+=" { keyword: 'required' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(R)+" , params: { missingProperty: '"+d+"' } ",!1!==V.opts.messages&&($+=" , message: '",$+=V.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+d+"\\'",$+="' "),V.opts.verbose&&($+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+A+" "),$+=" } "):$+=" {} ";var g=$;$=S.pop()}else{$+=" if ( ";var S,f=I;if(f)for(var v=-1,C=f.length-1;v<C;)z=f[v+=1],v&&($+=" || "),$+=" ( ( "+(oe=A+(ue=V.util.getProperty(z)))+" === undefined ",l&&($+=" || ! Object.prototype.hasOwnProperty.call("+A+", '"+V.util.escapeQuotes(z)+"') "),$+=") && (missing"+k+" = "+V.util.toQuotedString(V.opts.jsonPointers?z:ue)+") ) ";$+=") {  ",d="' + "+(O="missing"+k)+" + '",V.opts._errorDataPathProperty&&(V.errorPath=V.opts.jsonPointers?V.util.getPathExpr(u,O,!0):u+" + "+O),(S=S||[]).push($),$="",!1!==V.createErrors?($+=" { keyword: 'required' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(R)+" , params: { missingProperty: '"+d+"' } ",!1!==V.opts.messages&&($+=" , message: '",$+=V.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+d+"\\'",$+="' "),V.opts.verbose&&($+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+A+" "),$+=" } "):$+=" {} ",g=$,$=S.pop()}$+=!V.compositeRule&&x?V.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$+=" } else { "}else if(P){var O;m||($+=" var "+D+" = validate.schema"+E+"; "),d="' + "+(O="schema"+k+"["+(v="i"+k)+"]")+" + '",V.opts._errorDataPathProperty&&(V.errorPath=V.util.getPathExpr(u,O,V.opts.jsonPointers)),m&&($+=" if ("+D+" && !Array.isArray("+D+")) {  var err =   ",!1!==V.createErrors?($+=" { keyword: 'required' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(R)+" , params: { missingProperty: '"+d+"' } ",!1!==V.opts.messages&&($+=" , message: '",$+=V.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+d+"\\'",$+="' "),V.opts.verbose&&($+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+A+" "),$+=" } "):$+=" {} ",$+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+D+" !== undefined) { "),$+=" for (var "+v+" = 0; "+v+" < "+D+".length; "+v+"++) { if ("+A+"["+D+"["+v+"]] === undefined ",l&&($+=" || ! Object.prototype.hasOwnProperty.call("+A+", "+D+"["+v+"]) "),$+=") {  var err =   ",!1!==V.createErrors?($+=" { keyword: 'required' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(R)+" , params: { missingProperty: '"+d+"' } ",!1!==V.opts.messages&&($+=" , message: '",$+=V.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+d+"\\'",$+="' "),V.opts.verbose&&($+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+A+" "),$+=" } "):$+=" {} ",$+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",m&&($+="  }  ")}else{var N=I;if(N)for(var z,K=-1,Q=N.length-1;K<Q;){z=N[K+=1];var ue=V.util.getProperty(z),oe=(d=V.util.escapeQuotes(z),A+ue);V.opts._errorDataPathProperty&&(V.errorPath=V.util.getPath(u,z,V.opts.jsonPointers)),$+=" if ( "+oe+" === undefined ",l&&($+=" || ! Object.prototype.hasOwnProperty.call("+A+", '"+V.util.escapeQuotes(z)+"') "),$+=") {  var err =   ",!1!==V.createErrors?($+=" { keyword: 'required' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(R)+" , params: { missingProperty: '"+d+"' } ",!1!==V.opts.messages&&($+=" , message: '",$+=V.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+d+"\\'",$+="' "),V.opts.verbose&&($+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+A+" "),$+=" } "):$+=" {} ",$+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}V.errorPath=u}else x&&($+=" if (true) {");return $}},1985:function(Z){"use strict";Z.exports=function(V,x,ee){var $,k=" ",P=V.level,I=V.dataLevel,E=V.schema[x],R=V.schemaPath+V.util.getProperty(x),A=(x=V.errSchemaPath+"/"+x,!V.opts.allErrors),_="data"+(I||""),m="valid"+P,D=V.opts.$data&&E&&E.$data;return I=D?(k+=" var schema"+P+" = "+V.util.getData(E.$data,I,V.dataPathArr)+"; ","schema"+P):E,(E||D)&&!1!==V.opts.uniqueItems?(D&&(k+=" var "+m+"; if ("+I+" === false || "+I+" === undefined) "+m+" = true; else if (typeof "+I+" != 'boolean') "+m+" = false; else { "),k+=" var i = "+_+".length , "+m+" = true , j; if (i > 1) { ",P=V.schema.items&&V.schema.items.type,I=Array.isArray(P),!P||"object"==P||"array"==P||I&&(0<=P.indexOf("object")||0<=P.indexOf("array"))?k+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+_+"[i], "+_+"[j])) { "+m+" = false; break outer; } } } ":(k=(k+=" var itemIndices = {}, item; for (;i--;) { var item = "+_+"[i]; ")+" if ("+V.util["checkDataType"+(I?"s":"")](P,"item",V.opts.strictNumbers,!0)+") continue; ",I&&(k+=" if (typeof item == 'string') item = '\"' + item; "),k+=" if (typeof itemIndices[item] == 'number') { "+m+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),k+=" } ",D&&(k+="  }  "),($=$||[]).push(k+=" if (!"+m+") {   "),k="",!1!==V.createErrors?(k+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(x)+" , params: { i: i, j: j } ",!1!==V.opts.messages&&(k+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),V.opts.verbose&&(k=(k+=" , schema:  ")+(D?"validate.schema"+R:""+E)+"         , parentSchema: validate.schema"+V.schemaPath+" , data: "+_+" "),k+=" } "):k+=" {} ",P=k,k=$.pop(),k+=!V.compositeRule&&A?V.async?" throw new ValidationError(["+P+"]); ":" validate.errors = ["+P+"]; return false; ":" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",k+=" } ",A&&(k+=" else { ")):A&&(k+=" if (true) { "),k}},1869:function(Z){"use strict";Z.exports=function(V,X,ee){var $="",k=!0===V.schema.$async,P=V.util.schemaHasRulesExcept(V.schema,V.RULES.all,"$ref"),E=V.self._getId(V.schema);if(V.opts.strictKeywords&&(R=V.util.schemaUnknownRules(V.schema,V.RULES.keywords))){if(R="unknown keyword: "+R,"log"!==V.opts.strictKeywords)throw new Error(R);V.logger.warn(R)}if(V.isTop&&($+=" var validate = ",k&&(V.async=!0,$+="async "),$+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",E)&&(V.opts.sourceCode||V.opts.processCode)&&($+=" /*# sourceURL="+E+" */ "),"boolean"==typeof V.schema||!P&&!V.schema.$ref)A=V.level,_=V.dataLevel,oe=V.schema[X="false schema"],d=V.schemaPath+V.util.getProperty(X),g=V.errSchemaPath+"/"+X,T=!V.opts.allErrors,m="data"+(_||""),I="valid"+A,!1===V.schema?(V.isTop?T=!0:$+=" var "+I+" = false; ",(Ae=Ae||[]).push($),$="",!1!==V.createErrors?($+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(g)+" , params: {} ",!1!==V.opts.messages&&($+=" , message: 'boolean schema is false' "),V.opts.verbose&&($+=" , schema: false , parentSchema: validate.schema"+V.schemaPath+" , data: "+m+" "),$+=" } "):$+=" {} ",z=$,$=Ae.pop(),$+=!V.compositeRule&&T?V.async?" throw new ValidationError(["+z+"]); ":" validate.errors = ["+z+"]; return false; ":" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "):$+=V.isTop?k?" return data; ":" validate.errors = null; return true; ":" var "+I+" = true; ",V.isTop&&($+=" }; return validate; ");else{if(V.isTop){var x=V.isTop,A=V.level=0,_=V.dataLevel=0,m="data";if(V.rootId=V.resolve.fullPath(V.self._getId(V.root.schema)),V.baseId=V.baseId||V.rootId,delete V.isTop,V.dataPathArr=[""],void 0!==V.schema.default&&V.opts.useDefaults&&V.opts.strictDefaults){var D="default is ignored in the schema root";if("log"!==V.opts.strictDefaults)throw new Error(D);V.logger.warn(D)}$=($+=" var vErrors = null; ")+" var errors = 0;      if (rootData === undefined) rootData = data; "}else{if(A=V.level,m="data"+((_=V.dataLevel)||""),E&&(V.baseId=V.resolve.url(V.baseId,E)),k&&!V.async)throw new Error("async schema in sync schema");$+=" var errs_"+A+" = errors;"}var I="valid"+A,T=!V.opts.allErrors,w="",p="",y=V.schema.type,h=Array.isArray(y);if(y&&V.opts.nullable&&!0===V.schema.nullable&&(h?-1==y.indexOf("null")&&(y=y.concat("null")):"null"!=y&&(y=[y,"null"],h=!0)),h&&1==y.length&&(y=y[0],h=!1),V.schema.$ref&&P){if("fail"==V.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+V.errSchemaPath+'" (see option extendRefs)');!0!==V.opts.extendRefs&&(P=!1,V.logger.warn('$ref: keywords ignored in schema at path "'+V.errSchemaPath+'"'))}if(V.schema.$comment&&V.opts.$comment&&($+=" "+V.RULES.all.$comment.code(V,"$comment")),y){V.opts.coerceTypes&&(u=V.util.coerceToTypes(V.opts.coerceTypes,y));var u,l=V.RULES.types[y];if(u||h||!0===l||l&&!de(l)){var d=V.schemaPath+".type",g=V.errSchemaPath+"/type";if(d=V.schemaPath+".type",g=V.errSchemaPath+"/type",$+=" if ("+V.util[h?"checkDataTypes":"checkDataType"](y,m,V.opts.strictNumbers,!0)+") { ",u){var f="dataType"+A,v="coerced"+A,C=($+=" var "+f+" = typeof "+m+"; var "+v+" = undefined; ","array"==V.opts.coerceTypes&&($+=" if ("+f+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+f+" = typeof "+m+"; if ("+V.util.checkDataType(V.schema.type,m,V.opts.strictNumbers)+") "+v+" = "+m+"; } "),$+=" if ("+v+" !== undefined) ; ",u);if(C)for(var S,O=-1,N=C.length-1;O<N;)"string"==(S=C[O+=1])?$+=" else if ("+f+" == 'number' || "+f+" == 'boolean') "+v+" = '' + "+m+"; else if ("+m+" === null) "+v+" = ''; ":"number"==S||"integer"==S?($+=" else if ("+f+" == 'boolean' || "+m+" === null || ("+f+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==S&&($+=" && !("+m+" % 1)"),$+=")) "+v+" = +"+m+"; "):"boolean"==S?$+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+v+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+v+" = true; ":"null"==S?$+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+v+" = null; ":"array"==V.opts.coerceTypes&&"array"==S&&($+=" else if ("+f+" == 'string' || "+f+" == 'number' || "+f+" == 'boolean' || "+m+" == null) "+v+" = ["+m+"]; ");(Ae=Ae||[]).push($+=" else {   "),$="",!1!==V.createErrors?($=($+=" { keyword: 'type' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(g)+" , params: { type: '")+(h?""+y.join(","):""+y)+"' } ",!1!==V.opts.messages&&($=($+=" , message: 'should be ")+(h?""+y.join(","):""+y)+"' "),V.opts.verbose&&($+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+m+" "),$+=" } "):$+=" {} ";var z=$,R=($=Ae.pop(),$+=!V.compositeRule&&T?V.async?" throw new ValidationError(["+z+"]); ":" validate.errors = ["+z+"]; return false; ":" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",_?"data"+(_-1||""):"parentData");$=$+" } if ("+v+" !== undefined) {   "+m+" = "+v+"; ",_||($+="if ("+R+" !== undefined)"),$+=" "+R+"["+(_?V.dataPathArr[_]:"parentDataProperty")+"] = "+v+"; } "}else(Ae=Ae||[]).push($),$="",!1!==V.createErrors?($=($+=" { keyword: 'type' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(g)+" , params: { type: '")+(h?""+y.join(","):""+y)+"' } ",!1!==V.opts.messages&&($=($+=" , message: 'should be ")+(h?""+y.join(","):""+y)+"' "),V.opts.verbose&&($+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+m+" "),$+=" } "):$+=" {} ",z=$,$=Ae.pop(),$+=!V.compositeRule&&T?V.async?" throw new ValidationError(["+z+"]); ":" validate.errors = ["+z+"]; return false; ":" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";$+=" } "}}if(V.schema.$ref&&!P)$+=" "+V.RULES.all.$ref.code(V,"$ref")+" ",T&&($=($+=" } if (errors === ")+(x?"0":"errs_"+A)+") { ",p+="}");else{var K=V.RULES;if(K)for(var Q=-1,ue=K.length-1;Q<ue;)if(de(l=K[Q+=1])){if(l.type&&($+=" if ("+V.util.checkDataType(l.type,m,V.opts.strictNumbers)+") { "),V.opts.useDefaults)if("object"==l.type&&V.schema.properties){var oe=V.schema.properties,pe=Object.keys(oe);if(pe)for(var F,U=-1,Y=pe.length-1;U<Y;)if(void 0!==(fe=oe[F=pe[U+=1]]).default){var W=m+V.util.getProperty(F);if(V.compositeRule){if(V.opts.strictDefaults){if(D="default is ignored for: "+W,"log"!==V.opts.strictDefaults)throw new Error(D);V.logger.warn(D)}}else $+=" if ("+W+" === undefined ","empty"==V.opts.useDefaults&&($+=" || "+W+" === null || "+W+" === '' "),$+=" ) "+W+" = ",$+="shared"==V.opts.useDefaults?" "+V.useDefault(fe.default)+" ":" "+JSON.stringify(fe.default)+" ",$+="; "}}else if("array"==l.type&&Array.isArray(V.schema.items)){var ne=V.schema.items;if(ne){O=-1;for(var fe,he=ne.length-1;O<he;)if(void 0!==(fe=ne[O+=1]).default)if(W=m+"["+O+"]",V.compositeRule){if(V.opts.strictDefaults){if(D="default is ignored for: "+W,"log"!==V.opts.strictDefaults)throw new Error(D);V.logger.warn(D)}}else $+=" if ("+W+" === undefined ","empty"==V.opts.useDefaults&&($+=" || "+W+" === null || "+W+" === '' "),$+=" ) "+W+" = ",$+="shared"==V.opts.useDefaults?" "+V.useDefault(fe.default)+" ":" "+JSON.stringify(fe.default)+" ",$+="; "}}var Ae,ke=l.rules;if(ke)for(var xe,Ee=-1,ie=ke.length-1;Ee<ie;)me(xe=ke[Ee+=1])&&(xe=xe.code(V,xe.keyword,l.type))&&($+=" "+xe+" ",T)&&(w+="}");T&&($+=" "+w+" ",w=""),l.type&&($+=" } ",y)&&y===l.type&&!u&&(d=V.schemaPath+".type",g=V.errSchemaPath+"/type",(Ae=Ae||[]).push($+=" else { "),$="",!1!==V.createErrors?($=($+=" { keyword: 'type' , dataPath: (dataPath || '') + "+V.errorPath+" , schemaPath: "+V.util.toQuotedString(g)+" , params: { type: '")+(h?""+y.join(","):""+y)+"' } ",!1!==V.opts.messages&&($=($+=" , message: 'should be ")+(h?""+y.join(","):""+y)+"' "),V.opts.verbose&&($+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+V.schemaPath+" , data: "+m+" "),$+=" } "):$+=" {} ",z=$,$=Ae.pop(),$+=!V.compositeRule&&T?V.async?" throw new ValidationError(["+z+"]); ":" validate.errors = ["+z+"]; return false; ":" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$+=" } "),T&&($=($+=" if (errors === ")+(x?"0":"errs_"+A)+") { ",p+="}")}}T&&($+=" "+p+" "),x?$=$+(k?" if (errors === 0) return data;            else throw new ValidationError(vErrors); ":" validate.errors = vErrors;  return errors === 0;       ")+" }; return validate;":$+=" var "+I+" = errors === errs_"+A+";"}return $;function de(Ce){for(var re=Ce.rules,le=0;le<re.length;le++)if(me(re[le]))return 1}function me(Ce){return void 0!==V.schema[Ce.keyword]||Ce.implements&&function(re){for(var le=re.implements,ve=0;ve<le.length;ve++)if(void 0!==V.schema[le[ve]])return 1}(Ce)}}},7931:function(Z,V,X){"use strict";var ee=/^[a-z_$][a-z0-9_$-]*$/i,$=X(1793),k=X(5868);Z.exports={add:function(E,R){var x=this.RULES;if(x.keywords[E])throw new Error("Keyword "+E+" is already defined");if(!ee.test(E))throw new Error("Keyword "+E+" is not a valid identifier");if(R){this.validateKeyword(R,!0);var A=R.type;if(Array.isArray(A))for(var _=0;_<A.length;_++)D(E,A[_],R);else D(E,A,R);var m=R.metaSchema;m&&(R.$data&&this._opts.$data&&(m={anyOf:[m,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),R.validateSchema=this.compile(m,!0))}function D(I,T,w){for(var p,y=0;y<x.length;y++){var h=x[y];if(h.type==T){p=h;break}}p||x.push(p={type:T,rules:[]}),p.rules.push(w={keyword:I,definition:w,custom:!0,code:$,implements:w.implements}),x.custom[I]=w}return x.keywords[E]=x.all[E]=!0,this},get:function(E){var R=this.RULES.custom[E];return R?R.definition:this.RULES.keywords[E]||!1},remove:function(E){var R=this.RULES;delete R.keywords[E],delete R.all[E],delete R.custom[E];for(var x=0;x<R.length;x++)for(var A=R[x].rules,_=0;_<A.length;_++)if(A[_].keyword==E){A.splice(_,1);break}return this},validate:function P(E,R){P.errors=null;var x=this._validateKeyword=this._validateKeyword||this.compile(k,!0);if(x(E))return!0;if(P.errors=x.errors,R)throw new Error("custom keyword definition is invalid: "+this.errorsText(x.errors));return!1}}},2303:function(Z){"use strict";Z.exports=function V(X,ee){if(X===ee)return!0;if(X&&ee&&"object"==typeof X&&"object"==typeof ee){if(X.constructor!==ee.constructor)return!1;var $,k,P;if(Array.isArray(X)){if(($=X.length)!=ee.length)return!1;for(k=$;0!=k--;)if(!V(X[k],ee[k]))return!1}else{if(X.constructor===RegExp)return X.source===ee.source&&X.flags===ee.flags;if(X.valueOf!==Object.prototype.valueOf)return X.valueOf()===ee.valueOf();if(X.toString!==Object.prototype.toString)return X.toString()===ee.toString();if(($=(P=Object.keys(X)).length)!==Object.keys(ee).length)return!1;for(k=$;0!=k--;)if(!Object.prototype.hasOwnProperty.call(ee,P[k]))return!1;for(k=$;0!=k--;){var E=P[k];if(!V(X[E],ee[E]))return!1}}return!0}return X!=X&&ee!=ee}},3508:function(Z){"use strict";Z.exports=function(V,X){var ee,$="boolean"==typeof(X="function"==typeof(X=X||{})?{cmp:X}:X).cycles&&X.cycles,k=X.cmp&&(ee=X.cmp,function(E){return function(R,x){return ee(R={key:R,value:E[R]},x={key:x,value:E[x]})}}),P=[];return function E(R){if(void 0!==(R=R&&R.toJSON&&"function"==typeof R.toJSON?R.toJSON():R)){if("number"==typeof R)return isFinite(R)?""+R:"null";if("object"!=typeof R)return JSON.stringify(R);if(Array.isArray(R)){for(_="[",m=0;m<R.length;m++)m&&(_+=","),_+=E(R[m])||"null";return _+"]"}if(null===R)return"null";if(-1!==P.indexOf(R)){if($)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}for(var x=P.push(R)-1,A=Object.keys(R).sort(k&&k(R)),_="",m=0;m<A.length;m++){var D=A[m],I=E(R[D]);I&&(_&&(_+=","),_+=JSON.stringify(D)+":"+I)}return P.splice(x,1),"{"+_+"}"}}(V)}},233:function(Z){Z.exports=function V(A,_){"use strict";function $(y){return V.insensitive&&(""+y).toLowerCase()||""+y}var k,P,T=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,I=/(^[ ]*|[ ]*$)/g,E=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,R=/^0x[0-9a-f]+$/i,x=/^0/,m=(A=$(A).replace(I,"")||"",_=$(_).replace(I,"")||"",A.replace(T,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0")),D=_.replace(T,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0");if(I=parseInt(A.match(R),16)||1!==m.length&&A.match(E)&&Date.parse(A),T=parseInt(_.match(R),16)||I&&_.match(E)&&Date.parse(_)||null){if(I<T)return-1;if(T<I)return 1}for(var w=0,p=Math.max(m.length,D.length);w<p;w++){if(k=!(m[w]||"").match(x)&&parseFloat(m[w])||m[w]||0,P=!(D[w]||"").match(x)&&parseFloat(D[w])||D[w]||0,isNaN(k)!==isNaN(P))return isNaN(k)?1:-1;if(typeof k!=typeof P&&(k+="",P+=""),k<P)return-1;if(P<k)return 1}return 0}},5156:function(Z,V){!function(X){"use strict";function ee(F){return null!==F&&"[object Array]"===Object.prototype.toString.call(F)}function $(F){return null!==F&&"[object Object]"===Object.prototype.toString.call(F)}function k(F,U){if(F!==U){if(Object.prototype.toString.call(F)!==Object.prototype.toString.call(U))return!1;if(!0===ee(F)){if(F.length!==U.length)return!1;for(var Y=0;Y<F.length;Y++)if(!1===k(F[Y],U[Y]))return!1}else{if(!0!==$(F))return!1;var W,ne,fe={};for(W in F)if(hasOwnProperty.call(F,W)){if(!1===k(F[W],U[W]))return!1;fe[W]=!0}for(ne in U)if(hasOwnProperty.call(U,ne)&&!0!==fe[ne])return!1}}return!0}function P(F){if(""===F||!1===F||null===F||ee(F)&&0===F.length)return!0;if($(F)){for(var U in F)if(F.hasOwnProperty(U))return!1;return!0}return!1}var E="function"==typeof String.prototype.trimLeft?function(F){return F.trimLeft()}:function(F){return F.match(/^\s*(.*)/)[1]},R={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},x="UnquotedIdentifier",A="QuotedIdentifier",_="Rbracket",m="Rparen",D="Comma",I="Colon",T="Rbrace",w="Number",p="Current",y="Expref",h="Pipe",u="Flatten",l="Star",d="Filter",g="Lbrace",f="Lbracket",v="Lparen",C="Literal",S={".":"Dot","*":l,",":D,":":I,"{":g,"}":T,"]":_,"(":v,")":m,"@":p},O={"<":!0,">":!0,"=":!0,"!":!0},N={" ":!0,"\t":!0,"\n":!0};function z(F){return"0"<=F&&F<="9"||"-"===F}function K(){}K.prototype={tokenize:function(F){var U,Y,W=[];for(this._current=0;this._current<F.length;)if("a"<=(fe=F[this._current])&&fe<="z"||"A"<=fe&&fe<="Z"||"_"===fe)ne=this._current,U=this._consumeUnquotedIdentifier(F),W.push({type:x,value:U,start:ne});else if(void 0!==S[F[this._current]])W.push({type:S[F[this._current]],value:F[this._current],start:this._current}),this._current++;else if(z(F[this._current]))Y=this._consumeNumber(F),W.push(Y);else if("["===F[this._current])Y=this._consumeLBracket(F),W.push(Y);else if('"'===F[this._current])ne=this._current,U=this._consumeQuotedIdentifier(F),W.push({type:A,value:U,start:ne});else if("'"===F[this._current])ne=this._current,U=this._consumeRawStringLiteral(F),W.push({type:C,value:U,start:ne});else if("`"===F[this._current]){var ne=this._current,fe=this._consumeLiteral(F);W.push({type:C,value:fe,start:ne})}else if(void 0!==O[F[this._current]])W.push(this._consumeOperator(F));else if(void 0!==N[F[this._current]])this._current++;else if("&"===F[this._current])ne=this._current,this._current++,"&"===F[this._current]?(this._current++,W.push({type:"And",value:"&&",start:ne})):W.push({type:y,value:"&",start:ne});else{if("|"!==F[this._current])throw(fe=new Error("Unknown character:"+F[this._current])).name="LexerError",fe;ne=this._current,this._current++,"|"===F[this._current]?(this._current++,W.push({type:"Or",value:"||",start:ne})):W.push({type:h,value:"|",start:ne})}return W},_consumeUnquotedIdentifier:function(F){var U,Y=this._current;for(this._current++;this._current<F.length&&("a"<=(U=F[this._current])&&U<="z"||"A"<=U&&U<="Z"||"0"<=U&&U<="9"||"_"===U);)this._current++;return F.slice(Y,this._current)},_consumeQuotedIdentifier:function(F){for(var U=this._current,Y=(this._current++,F.length);'"'!==F[this._current]&&this._current<Y;){var W=this._current;"\\"!==F[W]||"\\"!==F[W+1]&&'"'!==F[W+1]?W++:W+=2,this._current=W}return this._current++,JSON.parse(F.slice(U,this._current))},_consumeRawStringLiteral:function(F){for(var U=this._current,Y=(this._current++,F.length);"'"!==F[this._current]&&this._current<Y;){var W=this._current;"\\"!==F[W]||"\\"!==F[W+1]&&"'"!==F[W+1]?W++:W+=2,this._current=W}return this._current++,F.slice(U+1,this._current-1).replace("\\'","'")},_consumeNumber:function(F){for(var U=this._current,Y=(this._current++,F.length);z(F[this._current])&&this._current<Y;)this._current++;var W=parseInt(F.slice(U,this._current));return{type:w,value:W,start:U}},_consumeLBracket:function(F){var U=this._current;return this._current++,"?"===F[this._current]?(this._current++,{type:d,value:"[?",start:U}):"]"===F[this._current]?(this._current++,{type:u,value:"[]",start:U}):{type:f,value:"[",start:U}},_consumeOperator:function(F){var U=this._current,Y=F[U];return this._current++,"!"===Y?"="===F[this._current]?(this._current++,{type:"NE",value:"!=",start:U}):{type:"Not",value:"!",start:U}:"<"===Y?"="===F[this._current]?(this._current++,{type:"LTE",value:"<=",start:U}):{type:"LT",value:"<",start:U}:">"===Y?"="===F[this._current]?(this._current++,{type:"GTE",value:">=",start:U}):{type:"GT",value:">",start:U}:"="===Y&&"="===F[this._current]?(this._current++,{type:"EQ",value:"==",start:U}):void 0},_consumeLiteral:function(F){this._current++;for(var U=this._current,Y=F.length;"`"!==F[this._current]&&this._current<Y;){var W=this._current;"\\"!==F[W]||"\\"!==F[W+1]&&"`"!==F[W+1]?W++:W+=2,this._current=W}return U=(U=E(F.slice(U,this._current))).replace("\\`","`"),U=this._looksLikeJSON(U)?JSON.parse(U):JSON.parse('"'+U+'"'),this._current++,U},_looksLikeJSON:function(F){if(""===F)return!1;if(0<='[{"'.indexOf(F[0])||0<=["true","false","null"].indexOf(F))return!0;if(!(0<="-0123456789".indexOf(F[0])))return!1;try{return JSON.parse(F),!0}catch(U){return!1}}};var Q={};function ue(){}function oe(F){this.runtime=F}function pe(F){this._interpreter=F,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[0]}]},avg:{_func:this._functionAvg,_signature:[{types:[8]}]},ceil:{_func:this._functionCeil,_signature:[{types:[0]}]},contains:{_func:this._functionContains,_signature:[{types:[2,3]},{types:[1]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[2]},{types:[2]}]},floor:{_func:this._functionFloor,_signature:[{types:[0]}]},length:{_func:this._functionLength,_signature:[{types:[2,3,4]}]},map:{_func:this._functionMap,_signature:[{types:[6]},{types:[3]}]},max:{_func:this._functionMax,_signature:[{types:[8,9]}]},merge:{_func:this._functionMerge,_signature:[{types:[4],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[3]},{types:[6]}]},sum:{_func:this._functionSum,_signature:[{types:[8]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[2]},{types:[2]}]},min:{_func:this._functionMin,_signature:[{types:[8,9]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[3]},{types:[6]}]},type:{_func:this._functionType,_signature:[{types:[1]}]},keys:{_func:this._functionKeys,_signature:[{types:[4]}]},values:{_func:this._functionValues,_signature:[{types:[4]}]},sort:{_func:this._functionSort,_signature:[{types:[9,8]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[3]},{types:[6]}]},join:{_func:this._functionJoin,_signature:[{types:[2]},{types:[9]}]},reverse:{_func:this._functionReverse,_signature:[{types:[2,3]}]},to_array:{_func:this._functionToArray,_signature:[{types:[1]}]},to_string:{_func:this._functionToString,_signature:[{types:[1]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[1]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[1],variadic:!0}]}}}Q.EOF=0,Q[x]=0,Q[A]=0,Q[_]=0,Q[m]=0,Q[D]=0,Q[T]=0,Q[w]=0,Q[p]=0,Q[y]=0,Q.Pipe=1,Q.Or=2,Q.And=3,Q.EQ=5,Q.GT=5,Q.LT=5,Q.GTE=5,Q.LTE=5,Q.NE=5,Q[u]=9,Q.Star=20,Q[d]=21,Q.Dot=40,Q.Not=45,Q[g]=50,Q[f]=55,Q[v]=60,ue.prototype={parse:function(Y){var U;if(this._loadTokens(Y),this.index=0,Y=this.expression(0),"EOF"!==this._lookahead(0))throw U=this._lookaheadToken(0),(U=new Error("Unexpected token type: "+U.type+", value: "+U.value)).name="ParserError",U;return Y},_loadTokens:function(F){var U=(new K).tokenize(F);U.push({type:"EOF",value:"",start:F.length}),this.tokens=U},expression:function(F){for(var U=this._lookaheadToken(0),Y=(this._advance(),this.nud(U)),W=this._lookahead(0);F<Q[W];)this._advance(),Y=this.led(W,Y),W=this._lookahead(0);return Y},_lookahead:function(F){return this.tokens[this.index+F].type},_lookaheadToken:function(F){return this.tokens[this.index+F]},_advance:function(){this.index++},nud:function(F){var U,Y;switch(F.type){case C:return{type:"Literal",value:F.value};case x:return{type:"Field",name:F.value};case A:var W={type:"Field",name:F.value};if(this._lookahead(0)===v)throw new Error("Quoted identifier not allowed for function names.");return W;case"Not":return{type:"NotExpression",children:[U=this.expression(Q.Not)]};case l:return U=null,{type:"ValueProjection",children:[{type:"Identity"},U=this._lookahead(0)===_?{type:"Identity"}:this._parseProjectionRHS(Q.Star)]};case d:return this.led(F.type,{type:"Identity"});case g:return this._parseMultiselectHash();case u:return{type:"Projection",children:[{type:u,children:[{type:"Identity"}]},U=this._parseProjectionRHS(Q.Flatten)]};case f:return this._lookahead(0)===w||this._lookahead(0)===I?(U=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},U)):this._lookahead(0)===l&&this._lookahead(1)===_?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},U=this._parseProjectionRHS(Q.Star)]}):this._parseMultiselectList();case p:return{type:p};case y:return{type:"ExpressionReference",children:[Y=this.expression(Q.Expref)]};case v:for(var ne=[];this._lookahead(0)!==m;)this._lookahead(0)===p?(Y={type:p},this._advance()):Y=this.expression(0),ne.push(Y);return this._match(m),ne[0];default:this._errorToken(F)}},led:function(F,U){var Y;switch(F){case"Dot":var W=Q.Dot;return this._lookahead(0)!==l?{type:"Subexpression",children:[U,Y=this._parseDotRHS(W)]}:(this._advance(),{type:"ValueProjection",children:[U,Y=this._parseProjectionRHS(W)]});case h:return Y=this.expression(Q.Pipe),{type:h,children:[U,Y]};case"Or":return{type:"OrExpression",children:[U,Y=this.expression(Q.Or)]};case"And":return{type:"AndExpression",children:[U,Y=this.expression(Q.And)]};case v:W=U.name;for(var ne,fe=[];this._lookahead(0)!==m;)this._lookahead(0)===p?(ne={type:p},this._advance()):ne=this.expression(0),this._lookahead(0)===D&&this._match(D),fe.push(ne);return this._match(m),{type:"Function",name:W,children:fe};case d:return W=this.expression(0),this._match(_),{type:"FilterProjection",children:[U,Y=this._lookahead(0)===u?{type:"Identity"}:this._parseProjectionRHS(Q.Filter),W]};case u:return{type:"Projection",children:[{type:u,children:[U]},this._parseProjectionRHS(Q.Flatten)]};case"EQ":case"NE":case"GT":case"GTE":case"LT":case"LTE":return this._parseComparator(U,F);case f:return(W=this._lookaheadToken(0)).type===w||W.type===I?(Y=this._parseIndexExpression(),this._projectIfSlice(U,Y)):(this._match(l),this._match(_),{type:"Projection",children:[U,Y=this._parseProjectionRHS(Q.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(F){var U;if(this._lookahead(0)!==F)throw U=this._lookaheadToken(0),(F=new Error("Expected "+F+", got: "+U.type)).name="ParserError",F;this._advance()},_errorToken:function(F){throw(F=new Error("Invalid token ("+F.type+'): "'+F.value+'"')).name="ParserError",F},_parseIndexExpression:function(){var F;return this._lookahead(0)===I||this._lookahead(1)===I?this._parseSliceExpression():(F={type:"Index",value:this._lookaheadToken(0).value},this._advance(),this._match(_),F)},_projectIfSlice:function(F,U){return F={type:"IndexExpression",children:[F,U]},"Slice"===U.type?{type:"Projection",children:[F,this._parseProjectionRHS(Q.Star)]}:F},_parseSliceExpression:function(){for(var F,U=[null,null,null],Y=0,W=this._lookahead(0);W!==_&&Y<3;){if(W===I)Y++;else{if(W!==w)throw F=this._lookahead(0),(F=new Error("Syntax error, unexpected token: "+F.value+"("+F.type+")")).name="Parsererror",F;U[Y]=this._lookaheadToken(0).value}this._advance(),W=this._lookahead(0)}return this._match(_),{type:"Slice",children:U}},_parseComparator:function(F,U){return{type:"Comparator",name:U,children:[F,this.expression(Q[U])]}},_parseDotRHS:function(F){var U=this._lookahead(0);return 0<=[x,A,l].indexOf(U)?this.expression(F):U===f?(this._match(f),this._parseMultiselectList()):U===g?(this._match(g),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(F){var U,Y;if(Q[this._lookahead(0)]<10)U={type:"Identity"};else if(this._lookahead(0)===f)U=this.expression(F);else if(this._lookahead(0)===d)U=this.expression(F);else{if("Dot"!==this._lookahead(0))throw Y=this._lookaheadToken(0),(Y=new Error("Sytanx error, unexpected token: "+Y.value+"("+Y.type+")")).name="ParserError",Y;this._match("Dot"),U=this._parseDotRHS(F)}return U},_parseMultiselectList:function(){for(var F=[];this._lookahead(0)!==_;){var U=this.expression(0);if(F.push(U),this._lookahead(0)===D&&(this._match(D),this._lookahead(0)===_))throw new Error("Unexpected token Rbracket")}return this._match(_),{type:"MultiSelectList",children:F}},_parseMultiselectHash:function(){for(var F,U,Y=[],W=[x,A];;){if(F=this._lookaheadToken(0),W.indexOf(F.type)<0)throw new Error("Expecting an identifier token, got: "+F.type);if(F=F.value,this._advance(),this._match(I),U=this.expression(0),Y.push({type:"KeyValuePair",name:F,value:U}),this._lookahead(0)===D)this._match(D);else if(this._lookahead(0)===T){this._match(T);break}}return{type:"MultiSelectHash",children:Y}}},oe.prototype={search:function(F,U){return this.visit(F,U)},visit:function(F,U){var Y,W,ne,fe,he,Ae;switch(F.type){case"Field":return null!==U&&$(U)?void 0===(ke=U[F.name])?null:ke:null;case"Subexpression":for(de=this.visit(F.children[0],U),le=1;le<F.children.length;le++)if(null===(de=this.visit(F.children[1],de)))return null;return de;case"IndexExpression":return he=this.visit(F.children[0],U),this.visit(F.children[1],he);case"Index":return ee(U)?void 0===(de=U[ke=(ke=F.value)<0?U.length+ke:ke])?null:de:null;case"Slice":if(!ee(U))return null;var ke=F.children.slice(0),xe=(ke=this.computeSliceParams(U.length,ke))[0],Ee=ke[1],ie=ke[2],de=[];if(0<ie)for(le=xe;le<Ee;le+=ie)de.push(U[le]);else for(le=xe;Ee<le;le+=ie)de.push(U[le]);return de;case"Projection":var me=this.visit(F.children[0],U);if(!ee(me))return null;for(Ce=[],le=0;le<me.length;le++)null!==(W=this.visit(F.children[1],me[le]))&&Ce.push(W);return Ce;case"ValueProjection":if(!$(me=this.visit(F.children[0],U)))return null;for(var Ce=[],re=function(Zt){for(var en=Object.keys(Zt),tn=[],Kt=0;Kt<en.length;Kt++)tn.push(Zt[en[Kt]]);return tn}(me),le=0;le<re.length;le++)null!==(W=this.visit(F.children[1],re[le]))&&Ce.push(W);return Ce;case"FilterProjection":if(!ee(me=this.visit(F.children[0],U)))return null;var ve=[],we=[];for(le=0;le<me.length;le++)P(Y=this.visit(F.children[2],me[le]))||ve.push(me[le]);for(var Pe=0;Pe<ve.length;Pe++)null!==(W=this.visit(F.children[1],ve[Pe]))&&we.push(W);return we;case"Comparator":switch(ne=this.visit(F.children[0],U),fe=this.visit(F.children[1],U),F.name){case"EQ":de=k(ne,fe);break;case"NE":de=!k(ne,fe);break;case"GT":de=fe<ne;break;case"GTE":de=fe<=ne;break;case"LT":de=ne<fe;break;case"LTE":de=ne<=fe;break;default:throw new Error("Unknown comparator: "+F.name)}return de;case u:var Ue=this.visit(F.children[0],U);if(!ee(Ue))return null;var dt=[];for(le=0;le<Ue.length;le++)ee(W=Ue[le])?dt.push.apply(dt,W):dt.push(W);return dt;case"Identity":return U;case"MultiSelectList":if(null===U)return null;for(Ce=[],le=0;le<F.children.length;le++)Ce.push(this.visit(F.children[le],U));return Ce;case"MultiSelectHash":if(null===U)return null;for(Ce={},le=0;le<F.children.length;le++)Ce[(Ae=F.children[le]).name]=this.visit(Ae.value,U);return Ce;case"OrExpression":return P(Y=this.visit(F.children[0],U))?this.visit(F.children[1],U):Y;case"AndExpression":return!0===P(ne=this.visit(F.children[0],U))?ne:this.visit(F.children[1],U);case"NotExpression":return P(ne=this.visit(F.children[0],U));case"Literal":return F.value;case h:return he=this.visit(F.children[0],U),this.visit(F.children[1],he);case p:return U;case"Function":var xt=[];for(le=0;le<F.children.length;le++)xt.push(this.visit(F.children[le],U));return this.runtime.callFunction(F.name,xt);case"ExpressionReference":return(ke=F.children[0]).jmespathType=y,ke;default:throw new Error("Unknown node type: "+F.type)}},computeSliceParams:function(F,Y){var fe=Y[0],he=Y[1],W=[null,null,null];if(null===(Y=Y[2]))Y=1;else if(0===Y)throw(ne=new Error("Invalid slice, step cannot be 0")).name="RuntimeError",ne;var ne=Y<0;return fe=null===fe?ne?F-1:0:this.capSliceRange(F,fe,Y),he=null===he?ne?-1:F:this.capSliceRange(F,he,Y),W[0]=fe,W[1]=he,W[2]=Y,W},capSliceRange:function(F,U,Y){return U<0?(U+=F)<0&&(U=Y<0?-1:0):F<=U&&(U=Y<0?F-1:F),U}},pe.prototype={callFunction:function(F,U){var Y=this.functionTable[F];if(void 0===Y)throw new Error("Unknown function: "+F+"()");return this._validateArgs(F,U,Y._signature),Y._func.call(this,U)},_validateArgs:function(F,U,Y){var W;if(Y[Y.length-1].variadic){if(U.length<Y.length)throw W=1===Y.length?" argument":" arguments",new Error("ArgumentError: "+F+"() takes at least"+Y.length+W+" but received "+U.length)}else if(U.length!==Y.length)throw W=1===Y.length?" argument":" arguments",new Error("ArgumentError: "+F+"() takes "+Y.length+W+" but received "+U.length);for(var ne=0;ne<Y.length;ne++){for(var fe,he=!1,Ae=Y[ne].types,ke=this._getTypeName(U[ne]),xe=0;xe<Ae.length;xe++)if(this._typeMatches(ke,Ae[xe],U[ne])){he=!0;break}if(!he)throw fe=Ae.map(function(Ee){return R[Ee]}).join(","),new Error("TypeError: "+F+"() expected argument "+(ne+1)+" to be type "+fe+" but received type "+R[ke]+" instead.")}},_typeMatches:function(F,U,Y){if(1===U)return!0;if(9!==U&&8!==U&&3!==U)return F===U;if(3===U)return 3===F;if(3===F){var W;8===U?W=0:9===U&&(W=2);for(var ne=0;ne<Y.length;ne++)if(!this._typeMatches(this._getTypeName(Y[ne]),W,Y[ne]))return!1;return!0}},_getTypeName:function(F){switch(Object.prototype.toString.call(F)){case"[object String]":return 2;case"[object Number]":return 0;case"[object Array]":return 3;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return F.jmespathType===y?6:4}},_functionStartsWith:function(F){return 0===F[0].lastIndexOf(F[1])},_functionEndsWith:function(Y){var U=Y[0];return-1!==U.indexOf(Y=Y[1],U.length-Y.length)},_functionReverse:function(F){var U;if(2!==this._getTypeName(F[0]))return(U=F[0].slice(0)).reverse(),U;for(var Y=F[0],W="",ne=Y.length-1;0<=ne;ne--)W+=Y[ne];return W},_functionAbs:function(F){return Math.abs(F[0])},_functionCeil:function(F){return Math.ceil(F[0])},_functionAvg:function(F){for(var U=0,Y=F[0],W=0;W<Y.length;W++)U+=Y[W];return U/Y.length},_functionContains:function(F){return 0<=F[0].indexOf(F[1])},_functionFloor:function(F){return Math.floor(F[0])},_functionLength:function(F){return($(F[0])?Object.keys(F[0]):F[0]).length},_functionMap:function(F){for(var U=[],Y=this._interpreter,W=F[0],ne=F[1],fe=0;fe<ne.length;fe++)U.push(Y.visit(W,ne[fe]));return U},_functionMerge:function(F){for(var U={},Y=0;Y<F.length;Y++){var W,ne=F[Y];for(W in ne)U[W]=ne[W]}return U},_functionMax:function(F){if(0<F[0].length){if(0===this._getTypeName(F[0][0]))return Math.max.apply(Math,F[0]);for(var U=F[0],Y=U[0],W=1;W<U.length;W++)Y.localeCompare(U[W])<0&&(Y=U[W]);return Y}return null},_functionMin:function(F){if(0<F[0].length){if(0===this._getTypeName(F[0][0]))return Math.min.apply(Math,F[0]);for(var U=F[0],Y=U[0],W=1;W<U.length;W++)U[W].localeCompare(Y)<0&&(Y=U[W]);return Y}return null},_functionSum:function(F){for(var U=0,Y=F[0],W=0;W<Y.length;W++)U+=Y[W];return U},_functionType:function(F){switch(this._getTypeName(F[0])){case 0:return"number";case 2:return"string";case 3:return"array";case 4:return"object";case 5:return"boolean";case 6:return"expref";case 7:return"null"}},_functionKeys:function(F){return Object.keys(F[0])},_functionValues:function(F){for(var U=F[0],Y=Object.keys(U),W=[],ne=0;ne<Y.length;ne++)W.push(U[Y[ne]]);return W},_functionJoin:function(F){return F[1].join(F[0])},_functionToArray:function(F){return 3===this._getTypeName(F[0])?F[0]:[F[0]]},_functionToString:function(F){return 2===this._getTypeName(F[0])?F[0]:JSON.stringify(F[0])},_functionToNumber:function(F){var U=this._getTypeName(F[0]);return 0===U?F[0]:2!==U||(U=+F[0],isNaN(U))?null:U},_functionNotNull:function(F){for(var U=0;U<F.length;U++)if(7!==this._getTypeName(F[U]))return F[U];return null},_functionSort:function(F){return(F=F[0].slice(0)).sort(),F},_functionSortBy:function(F){var U=F[0].slice(0);if(0!==U.length){var Y=this._interpreter,W=F[1],ne=this._getTypeName(Y.visit(W,U[0]));if([0,2].indexOf(ne)<0)throw new Error("TypeError");for(var fe=this,he=[],Ae=0;Ae<U.length;Ae++)he.push([Ae,U[Ae]]);he.sort(function(xe,Ee){var ie=Y.visit(W,xe[1]),de=Y.visit(W,Ee[1]);if(fe._getTypeName(ie)!==ne)throw new Error("TypeError: expected "+ne+", received "+fe._getTypeName(ie));if(fe._getTypeName(de)!==ne)throw new Error("TypeError: expected "+ne+", received "+fe._getTypeName(de));return de<ie?1:ie<de?-1:xe[0]-Ee[0]});for(var ke=0;ke<he.length;ke++)U[ke]=he[ke][1]}return U},_functionMaxBy:function(F){for(var U,Y,ne=F[0],fe=this.createKeyFunction(F[1],[0,2]),he=-1/0,Ae=0;Ae<ne.length;Ae++)he<(Y=fe(ne[Ae]))&&(he=Y,U=ne[Ae]);return U},_functionMinBy:function(F){for(var U,Y,ne=F[0],fe=this.createKeyFunction(F[1],[0,2]),he=1/0,Ae=0;Ae<ne.length;Ae++)(Y=fe(ne[Ae]))<he&&(he=Y,U=ne[Ae]);return U},createKeyFunction:function(F,U){var Y=this,W=this._interpreter;return function(he){var fe;if(he=W.visit(F,he),U.indexOf(Y._getTypeName(he))<0)throw fe="TypeError: expected one of "+U+", received "+Y._getTypeName(he),new Error(fe);return he}}},X.tokenize=function(F){return(new K).tokenize(F)},X.compile=function(F){return(new ue).parse(F)},X.search=function(F,U){var Y=new ue,W=new oe(ne=new pe),ne=(ne._interpreter=W,Y.parse(U));return W.search(ne,F)},X.strictDeepEqual=k}(V)},500:function(Z){"use strict";var V=Z.exports=function(ee,$,k){"function"==typeof $&&(k=$,$={}),function P(E,R,x,A,_,m,D,I,T,w){if(A&&"object"==typeof A&&!Array.isArray(A)){for(var p in R(A,_,m,D,I,T,w),A){var y=A[p];if(Array.isArray(y)){if(p in V.arrayKeywords)for(var h=0;h<y.length;h++)P(E,R,x,y[h],_+"/"+p+"/"+h,m,_,p,A,h)}else if(p in V.propsKeywords){if(y&&"object"==typeof y)for(var u in y)P(E,R,x,y[u],_+"/"+p+"/"+X(u),m,_,p,A,u)}else(p in V.keywords||E.allKeys&&!(p in V.skipKeywords))&&P(E,R,x,y,_+"/"+p,m,_,p,A)}x(A,_,m,D,I,T,w)}}($,"function"==typeof(k=$.cb||k)?k:k.pre||function(){},k.post||function(){},ee,"",ee)};function X(ee){return ee.replace(/~/g,"~0").replace(/\//g,"~1")}V.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},V.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},V.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},V.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},7026:function(Z,V){"use strict";var X={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},ee="a".charCodeAt(),$=(V.parse=function(w,p,y){var h={},u=0,l=0,d=0,g=y&&y.bigint&&"undefined"!=typeof BigInt;return{data:function f(U,Y){v(),K(U,"value");var W,ne=O();switch(ne){case"t":S("rue"),W=!0;break;case"f":S("alse"),W=!1;break;case"n":S("ull"),W=null;break;case'"':W=C();break;case"[":W=function(fe){v();var he=[],Ae=0;if("]"!=O())for(N();;){he.push(f(fe+"/"+Ae)),v();var ke=O();if("]"==ke)break;","!=ke&&pe(),v(),Ae++}return he}(U);break;case"{":W=function(fe){v();var he={};if("}"!=O())for(N();;){var xe=ue(),Ae=('"'!=O()&&pe(),C()),ke=fe+"/"+T(Ae);if("}"==(Q(ke,"key",xe),K(ke,"keyEnd"),v(),":"!=O()&&pe(),v(),he[Ae]=f(ke),v(),xe=O()))break;","!=xe&&pe(),v()}return he}(U);break;default:N(),0<="-0123456789".indexOf(ne)?W=function(){var fe="",he=!0;"-"==w[d]&&(fe+=O()),fe+=("0"==w[d]?O:z)(),"."==w[d]&&(fe+=O()+z(),he=!1),"e"!=w[d]&&"E"!=w[d]||(fe+=O(),"+"!=w[d]&&"-"!=w[d]||(fe+=O()),fe+=z(),he=!1);var Ae=+fe;return g&&he&&(Ae>Number.MAX_SAFE_INTEGER||Ae<Number.MIN_SAFE_INTEGER)?BigInt(fe):Ae}():oe()}return K(U,"valueEnd"),v(),Y&&d<w.length&&oe(),W}("",!0),pointers:h};function v(){e:for(;d<w.length;){switch(w[d]){case" ":l++;break;case"\t":l+=4;break;case"\r":l=0;break;case"\n":l=0,u++;break;default:break e}d++}}function C(){for(var U,Y="";'"'!=(U=O());)"\\"==U?(U=O())in X?Y+=X[U]:"u"==U?Y+=function(){for(var W=4,ne=0;W--;){ne<<=4;var fe=O().toLowerCase();"a"<=fe&&fe<="f"?ne+=fe.charCodeAt()-ee+10:"0"<=fe&&fe<="9"?ne+=+fe:pe()}return String.fromCharCode(ne)}():pe():Y+=U;return Y}function S(U){for(var Y=0;Y<U.length;Y++)O()!==U[Y]&&pe()}function O(){F();var U=w[d];return d++,l++,U}function N(){d--,l--}function z(){for(var U="";"0"<=w[d]&&w[d]<="9";)U+=O();if(U.length)return U;F(),oe()}function K(U,Y){Q(U,Y,ue())}function Q(U,Y,W){h[U]=h[U]||{},h[U][Y]=W}function ue(){return{line:u,column:l,pos:d}}function oe(){throw new SyntaxError("Unexpected token "+w[d]+" in JSON at position "+d)}function pe(){N(),oe()}function F(){if(d>=w.length)throw new SyntaxError("Unexpected end of JSON input")}},V.stringify=function(w,p,y){if(k(w)){var h=0;switch(typeof(l="object"==typeof y?y.space:y)){case"number":var u=10<l?10:l<0?0:Math.floor(l),l=u&&oe(u," "),d=u,g=u;break;case"string":l=l.slice(0,10);for(var f=g=d=0;f<l.length;f++){switch(l[f]){case" ":g++;break;case"\t":g+=4;break;case"\r":g=0;break;case"\n":g=0,h++;break;default:throw new Error("whitespace characters not allowed in JSON")}d++}break;default:l=void 0}var v="",C={},S=0,O=0,N=0,z=y&&y.es6&&"function"==typeof Map;return function pe(F,U,Y){switch(ue(Y,"value"),typeof F){case"number":case"bigint":case"boolean":K(""+F);break;case"string":K(m(F));break;case"object":null===F?K("null"):"function"==typeof F.toJSON?K(m(F.toJSON())):Array.isArray(F)?W():z?F.constructor.BYTES_PER_ELEMENT?W():F instanceof Map?fe():F instanceof Set?fe(!0):ne():ne()}function W(){if(F.length){K("[");for(var he=U+1,Ae=0;Ae<F.length;Ae++){Ae&&K(","),Q(he);var ke=k(F[Ae])?F[Ae]:null;pe(ke,he,Y+"/"+Ae)}Q(U),K("]")}else K("[]")}function ne(){var he=Object.keys(F);if(he.length){K("{");for(var Ae=U+1,ke=0;ke<he.length;ke++){var xe,Ee=he[ke],ie=F[Ee];k(ie)&&(ke&&K(","),xe=Y+"/"+T(Ee),Q(Ae),ue(xe,"key"),K(m(Ee)),ue(xe,"keyEnd"),K(":"),l&&K(" "),pe(ie,Ae,xe))}Q(U),K("}")}else K("{}")}function fe(he){if(F.size){K("{");for(var Ae=U+1,ke=!0,xe=F.entries(),Ee=xe.next();!Ee.done;){var ie,me,de=(me=Ee.value)[0];k(me=!!he||me[1])&&(ke||K(","),ke=!1,ie=Y+"/"+T(de),Q(Ae),ue(ie,"key"),K(m(de)),ue(ie,"keyEnd"),K(":"),l&&K(" "),pe(me,Ae,ie)),Ee=xe.next()}Q(U),K("}")}else K("{}")}ue(Y,"valueEnd")}(w,0,""),{json:v,pointers:C}}function K(pe){O+=pe.length,N+=pe.length,v+=pe}function Q(pe){if(l){for(v+="\n"+oe(pe,l),S++,O=0;pe--;)h?(S+=h,O=g):O+=g,N+=d;N+=1}}function ue(pe,F){C[pe]=C[pe]||{},C[pe][F]={line:S,column:O,pos:N}}function oe(pe,F){return Array(pe+1).join(F)}},["number","bigint","boolean","string","object"]);function k(w){return 0<=$.indexOf(typeof w)}var P=/"|\\/g,E=/[\b]/g,R=/\f/g,x=/\n/g,A=/\r/g,_=/\t/g;function m(w){return'"'+(w=w.replace(P,"\\$&").replace(R,"\\f").replace(E,"\\b").replace(x,"\\n").replace(A,"\\r").replace(_,"\\t"))+'"'}var D=/~/g,I=/\//g;function T(w){return w.replace(D,"~0").replace(I,"~1")}},483:function(Z,V){var X,ee;!function(){"use strict";ee=[],void 0!==(ee="function"==typeof(X=function(){function $(y){return"object"==typeof Node?y instanceof Node:y&&"object"==typeof y&&"number"==typeof y.nodeType}function P(){var y=[];return{watch:y.push.bind(y),trigger:function(h,u){for(var l=!0,d={detail:u,preventDefault:function(){l=!1}},g=0;g<y.length;g++)y[g](h,d);return l}}}function E(y){return"none"===window.getComputedStyle(y).display}function R(y){this.elem=y}function x(y,h){return R.make(y("parent")).clazz("pico-overlay").clazz(y("overlayClass","")).stylize({display:"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(y("overlayStyles",{opacity:.5,background:"#000"})).onClick(function(){y("overlayClose",!0)&&h()})}R.make=function(y,h){"string"==typeof y&&(y=document.querySelector(y));var u=document.createElement(h||"div");return(y||document.body).appendChild(u),new R(u)},R.prototype={child:function(y){return R.make(this.elem,y)},stylize:function(y){for(var h in void 0!==(y=y||{}).opacity&&(y.filter="alpha(opacity="+100*y.opacity+")"),y)y.hasOwnProperty(h)&&(this.elem.style[h]=y[h]);return this},clazz:function(y){return this.elem.className+=" "+y,this},html:function(y){return $(y)?this.elem.appendChild(y):this.elem.innerHTML=y,this},onClick:function(y){return this.elem.addEventListener("click",y),this},destroy:function(){this.elem.parentNode.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(y,h){return void 0!==h&&this.elem.setAttribute(y,h),this},anyAncestor:function(y){for(var h=this.elem;h;){if(y(new R(h)))return!0;h=h.parentNode}return!1},isVisible:function(){return!E(this.elem)}};var A=1;function m(y,h){if(h("closeButton",!0))return y.child("button").html(h("closeHtml","&#xD7;")).clazz("pico-close").clazz(h("closeClass","")).stylize(h("closeStyles",{borderRadius:"2px",border:0,padding:0,cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).attr("aria-label",h("close-label","Close"))}function D(y){return function(){return y().elem}}var I=P(),T=P();function w(y,h){function u(v,C){return(v.msMatchesSelector||v.webkitMatchesSelector||v.matches).call(v,C)}function l(v){return!(E(v)||u(v,":disabled")||v.hasAttribute("contenteditable"))&&(v.hasAttribute("tabindex")||u(v,"input,select,textarea,button,a[href],area[href],iframe"))}function d(v){for(var C=v.getElementsByTagName("*"),S=0;S<C.length;S++)if(l(C[S]))return C[S]}var f;y.beforeShow(function(){f=document.activeElement}),y.afterShow(function(){if(h()){var C=d(y.modalElem());C&&C.focus()}}),y.afterClose(function(){h()&&f&&f.focus(),f=null}),T.watch(function(C){if(h()&&y.isVisible()){var S=d(y.modalElem()),O=function g(v){for(var C=v.getElementsByTagName("*"),S=C.length;S--;)if(l(C[S]))return C[S]}(y.modalElem());(C.shiftKey?S:O)===document.activeElement&&((C.shiftKey?O:S).focus(),C.preventDefault())}})}return document.documentElement.addEventListener("keydown",function(h){var u=h.which||h.keyCode;27===u?I.trigger():9===u&&T.trigger(h)}),function(h){(function k(y){return"string"==typeof y}(h)||$(h))&&(h={content:h});var u=P(),l=P(),d=P(),g=P(),f=P();function v(pe,F){var U=h[pe];return"function"==typeof U&&(U=U(F)),void 0===U?F:U}var N,ue,C=oe.bind(window,"modal"),S=oe.bind(window,"overlay"),O=oe.bind(window,"close");function z(pe){S().hide(),C().hide(),f.trigger(N,pe)}function K(pe){g.trigger(N,pe)&&z(pe)}function Q(pe){return function(){return pe.apply(this,arguments),N}}function oe(pe,F){if(!ue){var U=function _(y,h){var u=y("width","auto");"number"==typeof u&&(u+="px");var l=y("modalId","pico-"+A++);return R.make(y("parent")).clazz("pico-content").clazz(y("modalClass","")).stylize({display:"none",position:"fixed",zIndex:10001,left:"50%",top:"38.1966%",maxHeight:"90%",boxSizing:"border-box",width:u,"-ms-transform":"translate(-50%,-38.1966%)","-moz-transform":"translate(-50%,-38.1966%)","-webkit-transform":"translate(-50%,-38.1966%)","-o-transform":"translate(-50%,-38.1966%)",transform:"translate(-50%,-38.1966%)"}).stylize(y("modalStyles",{overflow:"auto",backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(y("content")).attr("id",l).attr("role","dialog").attr("aria-labelledby",y("ariaLabelledBy")).attr("aria-describedby",y("ariaDescribedBy",l)).onClick(function(g){new R(g.target).anyAncestor(function(v){return/\bpico-close\b/.test(v.elem.className)})&&h()})}(v,K);ue={modal:U,overlay:x(v,K),close:m(U,v)},u.trigger(N,F)}return ue[pe]}return w(N={modalElem:D(C),closeElem:D(O),overlayElem:D(S),buildDom:Q(oe.bind(null,null)),isVisible:function(){return!!(ue&&C&&C().isVisible())},show:function(pe){return l.trigger(N,pe)&&(S().show(),O(),C().show(),d.trigger(N,pe)),this},close:Q(K),forceClose:Q(z),destroy:function(){C().destroy(),S().destroy(),S=C=O=void 0},options:function(pe){Object.keys(pe).map(function(F){h[F]=pe[F]})},afterCreate:Q(u.watch),beforeShow:Q(l.watch),afterShow:Q(d.watch),beforeClose:Q(g.watch),afterClose:Q(f.watch)},v.bind(null,"focus",!0)),function p(y,h){var u,l=new R(document.body);y.beforeShow(function(){u=l.elem.style.overflow,h()&&l.stylize({overflow:"hidden"})}),y.afterClose(function(){l.stylize({overflow:u})})}(N,v.bind(null,"bodyOverflow",!0)),I.watch(function(){v("escCloses",!0)&&N.isVisible()&&N.close()}),N}})?X.apply(V,ee):X)&&(Z.exports=ee)}()},7533:function(Z,V){!function(X){"use strict";function ee(){for(var Oe=arguments.length,Fe=Array(Oe),nt=0;nt<Oe;nt++)Fe[nt]=arguments[nt];if(Fe.length>1){Fe[0]=Fe[0].slice(0,-1);for(var Et=Fe.length-1,wt=1;wt<Et;++wt)Fe[wt]=Fe[wt].slice(1,-1);return Fe[Et]=Fe[Et].slice(1),Fe.join("")}return Fe[0]}function $(Oe){return"(?:"+Oe+")"}function k(Oe){return void 0===Oe?"undefined":null===Oe?"null":Object.prototype.toString.call(Oe).split(" ").pop().split("]").shift().toLowerCase()}function P(Oe){return Oe.toUpperCase()}function x(Oe){var Fe="[A-Za-z]",Et="[0-9]",gn=ee(Et,"[A-Fa-f]"),Si=$($("%[EFef]"+gn+"%"+gn+gn+"%"+gn+gn)+"|"+$("%[89A-Fa-f]"+gn+"%"+gn+gn)+"|"+$("%"+gn+gn)),Zn="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Mi=ee("[\\:\\/\\?\\#\\[\\]\\@]",Zn),Fr=Oe?"[\\uE000-\\uF8FF]":"[]",xi=ee(Fe,Et,"[\\-\\.\\_\\~]",Oe?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),lr=$(Fe+ee(Fe,Et,"[\\+\\-\\.]")+"*"),gi=$($(Si+"|"+ee(xi,Zn,"[\\:]"))+"*"),Zr=($($("25[0-5]")+"|"+$("2[0-4]"+Et)+"|"+$("1"+Et+Et)+"|"+$("[1-9]"+Et)+"|"+Et),$($("25[0-5]")+"|"+$("2[0-4]"+Et)+"|"+$("1"+Et+Et)+"|"+$("0?[1-9]"+Et)+"|0?0?"+Et)),qr=$(Zr+"\\."+Zr+"\\."+Zr+"\\."+Zr),cr=$(gn+"{1,4}"),so=$($(cr+"\\:"+cr)+"|"+qr),Vo=$($(cr+"\\:")+"{6}"+so),fr=$("\\:\\:"+$(cr+"\\:")+"{5}"+so),po=$($(cr)+"?\\:\\:"+$(cr+"\\:")+"{4}"+so),Wo=$($($(cr+"\\:")+"{0,1}"+cr)+"?\\:\\:"+$(cr+"\\:")+"{3}"+so),Ss=$($($(cr+"\\:")+"{0,2}"+cr)+"?\\:\\:"+$(cr+"\\:")+"{2}"+so),Qi=$($($(cr+"\\:")+"{0,3}"+cr)+"?\\:\\:"+cr+"\\:"+so),Is=$($($(cr+"\\:")+"{0,4}"+cr)+"?\\:\\:"+so),pr=$($($(cr+"\\:")+"{0,5}"+cr)+"?\\:\\:"+cr),Jo=$($($(cr+"\\:")+"{0,6}"+cr)+"?\\:\\:"),Os=$([Vo,fr,po,Wo,Ss,Qi,Is,pr,Jo].join("|")),zi=$($(xi+"|"+Si)+"+"),cs=($(Os+"\\%25"+zi),$(Os+$("\\%25|\\%(?!"+gn+"{2})")+zi)),cc=$("[vV]"+gn+"+\\."+ee(xi,Zn,"[\\:]")+"+"),Jt=$("\\["+$(cs+"|"+Os+"|"+cc)+"\\]"),Ma=$($(Si+"|"+ee(xi,Zn))+"*"),Ii=$(Jt+"|"+qr+"(?!"+Ma+")|"+Ma),tr=$(Et+"*"),iu=$($(gi+"@")+"?"+Ii+$("\\:"+tr)+"?"),To=$(Si+"|"+ee(xi,Zn,"[\\:\\@]")),hl=$(To+"*"),Xa=$(To+"+"),Uo=$($(Si+"|"+ee(xi,Zn,"[\\@]"))+"+"),us=$($("\\/"+hl)+"*"),Dl=$("\\/"+$(Xa+us)+"?"),Ya=$(Uo+us),Ro=$(Xa+us),kl="(?!"+To+")",uc=($(us+"|"+Dl+"|"+Ya+"|"+Ro+"|"+kl),$($(To+"|"+ee("[\\/\\?]",Fr))+"*")),hc=$($(To+"|[\\/\\?]")+"*"),cf=$($("\\/\\/"+iu+us)+"|"+Dl+"|"+Ro+"|"+kl),Qv=$(lr+"\\:"+cf+$("\\?"+uc)+"?"+$("\\#"+hc)+"?"),ag=$($("\\/\\/"+iu+us)+"|"+Dl+"|"+Ya+"|"+kl),ey=$(ag+$("\\?"+uc)+"?"+$("\\#"+hc)+"?");return $(Qv+"|"+ey),$(lr+"\\:"+cf+$("\\?"+uc)+"?"),$($("\\/\\/("+$("("+gi+")@")+"?("+Ii+")"+$("\\:("+tr+")")+"?)")+"?("+us+"|"+Dl+"|"+Ro+"|"+kl+")"),$("\\?("+uc+")"),$("\\#("+hc+")"),$($("\\/\\/("+$("("+gi+")@")+"?("+Ii+")"+$("\\:("+tr+")")+"?)")+"?("+us+"|"+Dl+"|"+Ya+"|"+kl+")"),$("\\?("+uc+")"),$("\\#("+hc+")"),$($("\\/\\/("+$("("+gi+")@")+"?("+Ii+")"+$("\\:("+tr+")")+"?)")+"?("+us+"|"+Dl+"|"+Ro+"|"+kl+")"),$("\\?("+uc+")"),$("\\#("+hc+")"),$("("+gi+")@"),$("\\:("+tr+")"),{NOT_SCHEME:new RegExp(ee("[^]",Fe,Et,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(ee("[^\\%\\:]",xi,Zn),"g"),NOT_HOST:new RegExp(ee("[^\\%\\[\\]\\:]",xi,Zn),"g"),NOT_PATH:new RegExp(ee("[^\\%\\/\\:\\@]",xi,Zn),"g"),NOT_PATH_NOSCHEME:new RegExp(ee("[^\\%\\/\\@]",xi,Zn),"g"),NOT_QUERY:new RegExp(ee("[^\\%]",xi,Zn,"[\\:\\@\\/\\?]",Fr),"g"),NOT_FRAGMENT:new RegExp(ee("[^\\%]",xi,Zn,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(ee("[^]",xi,Zn),"g"),UNRESERVED:new RegExp(xi,"g"),OTHER_CHARS:new RegExp(ee("[^\\%]",xi,Mi),"g"),PCT_ENCODED:new RegExp(Si,"g"),IPV4ADDRESS:new RegExp("^("+qr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Os+")"+$($("\\%25|\\%(?!"+gn+"{2})")+"("+zi+")")+"?\\]?$")}}var A=x(!1),_=x(!0),m=function(Fe,nt){if(Array.isArray(Fe))return Fe;if(Symbol.iterator in Object(Fe))return function Oe(Fe,nt){var Et=[],wt=!0,gn=!1,An=void 0;try{for(var Si,fi=Fe[Symbol.iterator]();!(wt=(Si=fi.next()).done)&&(Et.push(Si.value),!nt||Et.length!==nt);wt=!0);}catch(Bi){gn=!0,An=Bi}finally{try{!wt&&fi.return&&fi.return()}finally{if(gn)throw An}}return Et}(Fe,nt);throw new TypeError("Invalid attempt to destructure non-iterable instance")},I=2147483647,T=36,g=/^xn--/,f=/[^\0-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=Math.floor,N=String.fromCharCode;function z(Oe){throw new RangeError(C[Oe])}function Q(Oe,Fe){var nt=Oe.split("@"),Et="";return nt.length>1&&(Et=nt[0]+"@",Oe=nt[1]),Et+function K(Oe,Fe){for(var nt=[],Et=Oe.length;Et--;)nt[Et]=Fe(Oe[Et]);return nt}((Oe=Oe.replace(v,".")).split("."),Fe).join(".")}function ue(Oe){for(var Fe=[],nt=0,Et=Oe.length;nt<Et;){var wt=Oe.charCodeAt(nt++);if(wt>=55296&&wt<=56319&&nt<Et){var gn=Oe.charCodeAt(nt++);56320==(64512&gn)?Fe.push(((1023&wt)<<10)+(1023&gn)+65536):(Fe.push(wt),nt--)}else Fe.push(wt)}return Fe}var pe=function(Fe){return Fe-48<10?Fe-22:Fe-65<26?Fe-65:Fe-97<26?Fe-97:T},F=function(Fe,nt){return Fe+22+75*(Fe<26)-((0!=nt)<<5)},U=function(Fe,nt,Et){var wt=0;for(Fe=Et?O(Fe/700):Fe>>1,Fe+=O(Fe/nt);Fe>455;wt+=T)Fe=O(Fe/35);return O(wt+36*Fe/(Fe+38))},Y=function(Fe){var nt=[],Et=Fe.length,wt=0,gn=128,An=72,fi=Fe.lastIndexOf("-");fi<0&&(fi=0);for(var Si=0;Si<fi;++Si)Fe.charCodeAt(Si)>=128&&z("not-basic"),nt.push(Fe.charCodeAt(Si));for(var Bi=fi>0?fi+1:0;Bi<Et;){for(var Zn=wt,Mi=1,pi=T;;pi+=T){Bi>=Et&&z("invalid-input");var Fr=pe(Fe.charCodeAt(Bi++));(Fr>=T||Fr>O((I-wt)/Mi))&&z("overflow"),wt+=Fr*Mi;var xi=pi<=An?1:pi>=An+26?26:pi-An;if(Fr<xi)break;var lr=T-xi;Mi>O(I/lr)&&z("overflow"),Mi*=lr}var gi=nt.length+1;An=U(wt-Zn,gi,0==Zn),O(wt/gi)>I-gn&&z("overflow"),gn+=O(wt/gi),wt%=gi,nt.splice(wt++,0,gn)}return String.fromCodePoint.apply(String,nt)},W=function(Fe){var nt=[],Et=(Fe=ue(Fe)).length,wt=128,gn=0,An=72,fi=!0,Si=!1,Bi=void 0;try{for(var Mi,Zn=Fe[Symbol.iterator]();!(fi=(Mi=Zn.next()).done);fi=!0){var pi=Mi.value;pi<128&&nt.push(N(pi))}}catch(cs){Si=!0,Bi=cs}finally{try{!fi&&Zn.return&&Zn.return()}finally{if(Si)throw Bi}}var Fr=nt.length,xi=Fr;for(Fr&&nt.push("-");xi<Et;){var lr=I,gi=!0,bo=!1,Zr=void 0;try{for(var cr,qr=Fe[Symbol.iterator]();!(gi=(cr=qr.next()).done);gi=!0){var so=cr.value;so>=wt&&so<lr&&(lr=so)}}catch(cs){bo=!0,Zr=cs}finally{try{!gi&&qr.return&&qr.return()}finally{if(bo)throw Zr}}var Vo=xi+1;lr-wt>O((I-gn)/Vo)&&z("overflow"),gn+=(lr-wt)*Vo,wt=lr;var fr=!0,po=!1,Wo=void 0;try{for(var Qi,Ss=Fe[Symbol.iterator]();!(fr=(Qi=Ss.next()).done);fr=!0){var Is=Qi.value;if(Is<wt&&++gn>I&&z("overflow"),Is==wt){for(var pr=gn,Jo=T;;Jo+=T){var Os=Jo<=An?1:Jo>=An+26?26:Jo-An;if(pr<Os)break;var zi=pr-Os,bi=T-Os;nt.push(N(F(Os+zi%bi,0))),pr=O(zi/bi)}nt.push(N(F(pr,0))),An=U(gn,Vo,xi==Fr),gn=0,++xi}}}catch(cs){po=!0,Wo=cs}finally{try{!fr&&Ss.return&&Ss.return()}finally{if(po)throw Wo}}++gn,++wt}return nt.join("")},he_toASCII=function(Fe){return Q(Fe,function(nt){return f.test(nt)?"xn--"+W(nt):nt})},he_toUnicode=function(Fe){return Q(Fe,function(nt){return g.test(nt)?Y(nt.slice(4).toLowerCase()):nt})},Ae={};function ke(Oe){var Fe=Oe.charCodeAt(0);return Fe<16?"%0"+Fe.toString(16).toUpperCase():Fe<128?"%"+Fe.toString(16).toUpperCase():Fe<2048?"%"+(Fe>>6|192).toString(16).toUpperCase()+"%"+(63&Fe|128).toString(16).toUpperCase():"%"+(Fe>>12|224).toString(16).toUpperCase()+"%"+(Fe>>6&63|128).toString(16).toUpperCase()+"%"+(63&Fe|128).toString(16).toUpperCase()}function xe(Oe){for(var Fe="",nt=0,Et=Oe.length;nt<Et;){var wt=parseInt(Oe.substr(nt+1,2),16);if(wt<128)Fe+=String.fromCharCode(wt),nt+=3;else if(wt>=194&&wt<224){if(Et-nt>=6){var gn=parseInt(Oe.substr(nt+4,2),16);Fe+=String.fromCharCode((31&wt)<<6|63&gn)}else Fe+=Oe.substr(nt,6);nt+=6}else if(wt>=224){if(Et-nt>=9){var An=parseInt(Oe.substr(nt+4,2),16),fi=parseInt(Oe.substr(nt+7,2),16);Fe+=String.fromCharCode((15&wt)<<12|(63&An)<<6|63&fi)}else Fe+=Oe.substr(nt,9);nt+=9}else Fe+=Oe.substr(nt,3),nt+=3}return Fe}function Ee(Oe,Fe){function nt(Et){var wt=xe(Et);return wt.match(Fe.UNRESERVED)?wt:Et}return Oe.scheme&&(Oe.scheme=String(Oe.scheme).replace(Fe.PCT_ENCODED,nt).toLowerCase().replace(Fe.NOT_SCHEME,"")),void 0!==Oe.userinfo&&(Oe.userinfo=String(Oe.userinfo).replace(Fe.PCT_ENCODED,nt).replace(Fe.NOT_USERINFO,ke).replace(Fe.PCT_ENCODED,P)),void 0!==Oe.host&&(Oe.host=String(Oe.host).replace(Fe.PCT_ENCODED,nt).toLowerCase().replace(Fe.NOT_HOST,ke).replace(Fe.PCT_ENCODED,P)),void 0!==Oe.path&&(Oe.path=String(Oe.path).replace(Fe.PCT_ENCODED,nt).replace(Oe.scheme?Fe.NOT_PATH:Fe.NOT_PATH_NOSCHEME,ke).replace(Fe.PCT_ENCODED,P)),void 0!==Oe.query&&(Oe.query=String(Oe.query).replace(Fe.PCT_ENCODED,nt).replace(Fe.NOT_QUERY,ke).replace(Fe.PCT_ENCODED,P)),void 0!==Oe.fragment&&(Oe.fragment=String(Oe.fragment).replace(Fe.PCT_ENCODED,nt).replace(Fe.NOT_FRAGMENT,ke).replace(Fe.PCT_ENCODED,P)),Oe}function ie(Oe){return Oe.replace(/^0*(.*)/,"$1")||"0"}function de(Oe,Fe){var nt=Oe.match(Fe.IPV4ADDRESS)||[],wt=m(nt,2)[1];return wt?wt.split(".").map(ie).join("."):Oe}function me(Oe,Fe){var nt=Oe.match(Fe.IPV6ADDRESS)||[],Et=m(nt,3),wt=Et[1],gn=Et[2];if(wt){for(var An=wt.toLowerCase().split("::").reverse(),fi=m(An,2),Si=fi[0],Bi=fi[1],Zn=Bi?Bi.split(":").map(ie):[],Mi=Si.split(":").map(ie),pi=Fe.IPV4ADDRESS.test(Mi[Mi.length-1]),Fr=pi?7:8,xi=Mi.length-Fr,lr=Array(Fr),gi=0;gi<Fr;++gi)lr[gi]=Zn[gi]||Mi[xi+gi]||"";pi&&(lr[Fr-1]=de(lr[Fr-1],Fe));var Zr=lr.reduce(function(Vo,fr,po){if(!fr||"0"===fr){var Wo=Vo[Vo.length-1];Wo&&Wo.index+Wo.length===po?Wo.length++:Vo.push({index:po,length:1})}return Vo},[]).sort(function(Vo,fr){return fr.length-Vo.length})[0],qr=void 0;if(Zr&&Zr.length>1){var cr=lr.slice(0,Zr.index),so=lr.slice(Zr.index+Zr.length);qr=cr.join(":")+"::"+so.join(":")}else qr=lr.join(":");return gn&&(qr+="%"+gn),qr}return Oe}var Ce=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,re=void 0==="".match(/(){0}/)[1];function le(Oe){var Fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},nt={},Et=!1!==Fe.iri?_:A;"suffix"===Fe.reference&&(Oe=(Fe.scheme?Fe.scheme+":":"")+"//"+Oe);var wt=Oe.match(Ce);if(wt){re?(nt.scheme=wt[1],nt.userinfo=wt[3],nt.host=wt[4],nt.port=parseInt(wt[5],10),nt.path=wt[6]||"",nt.query=wt[7],nt.fragment=wt[8],isNaN(nt.port)&&(nt.port=wt[5])):(nt.scheme=wt[1]||void 0,nt.userinfo=-1!==Oe.indexOf("@")?wt[3]:void 0,nt.host=-1!==Oe.indexOf("//")?wt[4]:void 0,nt.port=parseInt(wt[5],10),nt.path=wt[6]||"",nt.query=-1!==Oe.indexOf("?")?wt[7]:void 0,nt.fragment=-1!==Oe.indexOf("#")?wt[8]:void 0,isNaN(nt.port)&&(nt.port=Oe.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?wt[4]:void 0)),nt.host&&(nt.host=me(de(nt.host,Et),Et)),nt.reference=void 0!==nt.scheme||void 0!==nt.userinfo||void 0!==nt.host||void 0!==nt.port||nt.path||void 0!==nt.query?void 0===nt.scheme?"relative":void 0===nt.fragment?"absolute":"uri":"same-document",Fe.reference&&"suffix"!==Fe.reference&&Fe.reference!==nt.reference&&(nt.error=nt.error||"URI is not a "+Fe.reference+" reference.");var gn=Ae[(Fe.scheme||nt.scheme||"").toLowerCase()];if(Fe.unicodeSupport||gn&&gn.unicodeSupport)Ee(nt,Et);else{if(nt.host&&(Fe.domainHost||gn&&gn.domainHost))try{nt.host=he_toASCII(nt.host.replace(Et.PCT_ENCODED,xe).toLowerCase())}catch(An){nt.error=nt.error||"Host's domain name can not be converted to ASCII via punycode: "+An}Ee(nt,A)}gn&&gn.parse&&gn.parse(nt,Fe)}else nt.error=nt.error||"URI can not be parsed.";return nt}function ve(Oe,Fe){var nt=!1!==Fe.iri?_:A,Et=[];return void 0!==Oe.userinfo&&(Et.push(Oe.userinfo),Et.push("@")),void 0!==Oe.host&&Et.push(me(de(String(Oe.host),nt),nt).replace(nt.IPV6ADDRESS,function(wt,gn,An){return"["+gn+(An?"%25"+An:"")+"]"})),("number"==typeof Oe.port||"string"==typeof Oe.port)&&(Et.push(":"),Et.push(String(Oe.port))),Et.length?Et.join(""):void 0}var we=/^\.\.?\//,Pe=/^\/\.(\/|$)/,Ue=/^\/\.\.(\/|$)/,dt=/^\/?(?:.|\n)*?(?=\/|$)/;function xt(Oe){for(var Fe=[];Oe.length;)if(Oe.match(we))Oe=Oe.replace(we,"");else if(Oe.match(Pe))Oe=Oe.replace(Pe,"/");else if(Oe.match(Ue))Oe=Oe.replace(Ue,"/"),Fe.pop();else if("."===Oe||".."===Oe)Oe="";else{var nt=Oe.match(dt);if(!nt)throw new Error("Unexpected dot segment condition");var Et=nt[0];Oe=Oe.slice(Et.length),Fe.push(Et)}return Fe.join("")}function Zt(Oe){var Fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},nt=Fe.iri?_:A,Et=[],wt=Ae[(Fe.scheme||Oe.scheme||"").toLowerCase()];if(wt&&wt.serialize&&wt.serialize(Oe,Fe),Oe.host&&!nt.IPV6ADDRESS.test(Oe.host)&&(Fe.domainHost||wt&&wt.domainHost))try{Oe.host=Fe.iri?he_toUnicode(Oe.host):he_toASCII(Oe.host.replace(nt.PCT_ENCODED,xe).toLowerCase())}catch(fi){Oe.error=Oe.error||"Host's domain name can not be converted to "+(Fe.iri?"Unicode":"ASCII")+" via punycode: "+fi}Ee(Oe,nt),"suffix"!==Fe.reference&&Oe.scheme&&(Et.push(Oe.scheme),Et.push(":"));var gn=ve(Oe,Fe);if(void 0!==gn&&("suffix"!==Fe.reference&&Et.push("//"),Et.push(gn),Oe.path&&"/"!==Oe.path.charAt(0)&&Et.push("/")),void 0!==Oe.path){var An=Oe.path;!Fe.absolutePath&&(!wt||!wt.absolutePath)&&(An=xt(An)),void 0===gn&&(An=An.replace(/^\/\//,"/%2F")),Et.push(An)}return void 0!==Oe.query&&(Et.push("?"),Et.push(Oe.query)),void 0!==Oe.fragment&&(Et.push("#"),Et.push(Oe.fragment)),Et.join("")}function en(Oe,Fe){var nt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},wt={};return arguments[3]||(Oe=le(Zt(Oe,nt),nt),Fe=le(Zt(Fe,nt),nt)),!(nt=nt||{}).tolerant&&Fe.scheme?(wt.scheme=Fe.scheme,wt.userinfo=Fe.userinfo,wt.host=Fe.host,wt.port=Fe.port,wt.path=xt(Fe.path||""),wt.query=Fe.query):(void 0!==Fe.userinfo||void 0!==Fe.host||void 0!==Fe.port?(wt.userinfo=Fe.userinfo,wt.host=Fe.host,wt.port=Fe.port,wt.path=xt(Fe.path||""),wt.query=Fe.query):(Fe.path?("/"===Fe.path.charAt(0)?wt.path=xt(Fe.path):(wt.path=void 0===Oe.userinfo&&void 0===Oe.host&&void 0===Oe.port||Oe.path?Oe.path?Oe.path.slice(0,Oe.path.lastIndexOf("/")+1)+Fe.path:Fe.path:"/"+Fe.path,wt.path=xt(wt.path)),wt.query=Fe.query):(wt.path=Oe.path,wt.query=void 0!==Fe.query?Fe.query:Oe.query),wt.userinfo=Oe.userinfo,wt.host=Oe.host,wt.port=Oe.port),wt.scheme=Oe.scheme),wt.fragment=Fe.fragment,wt}function un(Oe,Fe){return Oe&&Oe.toString().replace(Fe&&Fe.iri?_.PCT_ENCODED:A.PCT_ENCODED,xe)}var _t={scheme:"http",domainHost:!0,parse:function(Fe,nt){return Fe.host||(Fe.error=Fe.error||"HTTP URIs must have a host."),Fe},serialize:function(Fe,nt){var Et="https"===String(Fe.scheme).toLowerCase();return(Fe.port===(Et?443:80)||""===Fe.port)&&(Fe.port=void 0),Fe.path||(Fe.path="/"),Fe}},Yt={scheme:"https",domainHost:_t.domainHost,parse:_t.parse,serialize:_t.serialize};function Nn(Oe){return"boolean"==typeof Oe.secure?Oe.secure:"wss"===String(Oe.scheme).toLowerCase()}var _n={scheme:"ws",domainHost:!0,parse:function(Fe,nt){var Et=Fe;return Et.secure=Nn(Et),Et.resourceName=(Et.path||"/")+(Et.query?"?"+Et.query:""),Et.path=void 0,Et.query=void 0,Et},serialize:function(Fe,nt){if((Fe.port===(Nn(Fe)?443:80)||""===Fe.port)&&(Fe.port=void 0),"boolean"==typeof Fe.secure&&(Fe.scheme=Fe.secure?"wss":"ws",Fe.secure=void 0),Fe.resourceName){var Et=Fe.resourceName.split("?"),wt=m(Et,2),gn=wt[0],An=wt[1];Fe.path=gn&&"/"!==gn?gn:void 0,Fe.query=An,Fe.resourceName=void 0}return Fe.fragment=void 0,Fe}},Ut={scheme:"wss",domainHost:_n.domainHost,parse:_n.parse,serialize:_n.serialize},tt={},$t="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Mn="[0-9A-Fa-f]",si=$($("%[EFef]"+Mn+"%"+Mn+Mn+"%"+Mn+Mn)+"|"+$("%[89A-Fa-f]"+Mn+"%"+Mn+Mn)+"|"+$("%"+Mn+Mn)),Mt=ee("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),jn=new RegExp($t,"g"),Bn=new RegExp(si,"g"),Di=new RegExp(ee("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Mt),"g"),Er=new RegExp(ee("[^]",$t,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),oo=Er;function Vr(Oe){var Fe=xe(Oe);return Fe.match(jn)?Fe:Oe}var oa={scheme:"mailto",parse:function(Fe,nt){var Et=Fe,wt=Et.to=Et.path?Et.path.split(","):[];if(Et.path=void 0,Et.query){for(var gn=!1,An={},fi=Et.query.split("&"),Si=0,Bi=fi.length;Si<Bi;++Si){var Zn=fi[Si].split("=");switch(Zn[0]){case"to":for(var Mi=Zn[1].split(","),pi=0,Fr=Mi.length;pi<Fr;++pi)wt.push(Mi[pi]);break;case"subject":Et.subject=un(Zn[1],nt);break;case"body":Et.body=un(Zn[1],nt);break;default:gn=!0,An[un(Zn[0],nt)]=un(Zn[1],nt)}}gn&&(Et.headers=An)}Et.query=void 0;for(var xi=0,lr=wt.length;xi<lr;++xi){var gi=wt[xi].split("@");if(gi[0]=un(gi[0]),nt.unicodeSupport)gi[1]=un(gi[1],nt).toLowerCase();else try{gi[1]=he_toASCII(un(gi[1],nt).toLowerCase())}catch(bo){Et.error=Et.error||"Email address's domain name can not be converted to ASCII via punycode: "+bo}wt[xi]=gi.join("@")}return Et},serialize:function(Fe,nt){var Et=Fe,wt=function E(Oe){return null!=Oe?Oe instanceof Array?Oe:"number"!=typeof Oe.length||Oe.split||Oe.setInterval||Oe.call?[Oe]:Array.prototype.slice.call(Oe):[]}(Fe.to);if(wt){for(var gn=0,An=wt.length;gn<An;++gn){var fi=String(wt[gn]),Si=fi.lastIndexOf("@"),Bi=fi.slice(0,Si).replace(Bn,Vr).replace(Bn,P).replace(Di,ke),Zn=fi.slice(Si+1);try{Zn=nt.iri?he_toUnicode(Zn):he_toASCII(un(Zn,nt).toLowerCase())}catch(xi){Et.error=Et.error||"Email address's domain name can not be converted to "+(nt.iri?"Unicode":"ASCII")+" via punycode: "+xi}wt[gn]=Bi+"@"+Zn}Et.path=wt.join(",")}var Mi=Fe.headers=Fe.headers||{};Fe.subject&&(Mi.subject=Fe.subject),Fe.body&&(Mi.body=Fe.body);var pi=[];for(var Fr in Mi)Mi[Fr]!==tt[Fr]&&pi.push(Fr.replace(Bn,Vr).replace(Bn,P).replace(Er,ke)+"="+Mi[Fr].replace(Bn,Vr).replace(Bn,P).replace(oo,ke));return pi.length&&(Et.query=pi.join("&")),Et}},ut=/^([^\:]+)\:(.*)/,je={scheme:"urn",parse:function(Fe,nt){var Et=Fe.path&&Fe.path.match(ut),wt=Fe;if(Et){var gn=nt.scheme||wt.scheme||"urn",An=Et[1].toLowerCase(),fi=Et[2],Bi=Ae[gn+":"+(nt.nid||An)];wt.nid=An,wt.nss=fi,wt.path=void 0,Bi&&(wt=Bi.parse(wt,nt))}else wt.error=wt.error||"URN can not be parsed.";return wt},serialize:function(Fe,nt){var wt=Fe.nid,An=Ae[(nt.scheme||Fe.scheme||"urn")+":"+(nt.nid||wt)];An&&(Fe=An.serialize(Fe,nt));var fi=Fe;return fi.path=(wt||nt.nid)+":"+Fe.nss,fi}},at=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Dt={scheme:"urn:uuid",parse:function(Fe,nt){var Et=Fe;return Et.uuid=Et.nss,Et.nss=void 0,!nt.tolerant&&(!Et.uuid||!Et.uuid.match(at))&&(Et.error=Et.error||"UUID is not valid."),Et},serialize:function(Fe,nt){var Et=Fe;return Et.nss=(Fe.uuid||"").toLowerCase(),Et}};Ae[_t.scheme]=_t,Ae[Yt.scheme]=Yt,Ae[_n.scheme]=_n,Ae[Ut.scheme]=Ut,Ae[oa.scheme]=oa,Ae[je.scheme]=je,Ae[Dt.scheme]=Dt,X.SCHEMES=Ae,X.pctEncChar=ke,X.pctDecChars=xe,X.parse=le,X.removeDotSegments=xt,X.serialize=Zt,X.resolveComponents=en,X.resolve=function tn(Oe,Fe,nt){var Et=function R(Oe,Fe){var nt=Oe;if(Fe)for(var Et in Fe)nt[Et]=Fe[Et];return nt}({scheme:"null"},nt);return Zt(en(le(Oe,Et),le(Fe,Et),Et,!0),Et)},X.normalize=function Kt(Oe,Fe){return"string"==typeof Oe?Oe=Zt(le(Oe,Fe),Fe):"object"===k(Oe)&&(Oe=le(Zt(Oe,Fe),Fe)),Oe},X.equal=function On(Oe,Fe,nt){return"string"==typeof Oe?Oe=Zt(le(Oe,nt),nt):"object"===k(Oe)&&(Oe=Zt(Oe,nt)),"string"==typeof Fe?Fe=Zt(le(Fe,nt),nt):"object"===k(Fe)&&(Fe=Zt(Fe,nt)),Oe===Fe},X.escapeComponent=function Dn(Oe,Fe){return Oe&&Oe.toString().replace(Fe&&Fe.iri?_.ESCAPE:A.ESCAPE,ke)},X.unescapeComponent=un,Object.defineProperty(X,"__esModule",{value:!0})}(V)},4049:function(Z){Z.exports=function(){"use strict";var V=function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")},X=function(){function u(l,d){for(var g=0;g<d.length;g++){var f=d[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,d,g){return d&&u(l.prototype,d),g&&u(l,g),l}}(),ee=function(l,d){if(Array.isArray(l))return l;if(Symbol.iterator in Object(l))return function u(l,d){var g=[],f=!0,v=!1,C=void 0;try{for(var O,S=l[Symbol.iterator]();!(f=(O=S.next()).done)&&(g.push(O.value),!d||g.length!==d);f=!0);}catch(N){v=!0,C=N}finally{try{!f&&S.return&&S.return()}finally{if(v)throw C}}return g}(l,d);throw new TypeError("Invalid attempt to destructure non-iterable instance")},$=(String.prototype.startsWith=String.prototype.startsWith||function(u){return 0===this.indexOf(u)},String.prototype.padStart=String.prototype.padStart||function(u,l){for(var d=this;d.length<u;)d=l+d;return d},{cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"});function k(u){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(l>0?u.toFixed(l).replace(/0+$/,"").replace(/\.$/,""):u.toString())||"0"}var P=function(){function u(l,d,g,f){V(this,u);var v=this;if(void 0!==l)if(Array.isArray(l))this.rgba=l;else if(void 0===g){var S=l&&""+l;S&&function C(O){if(O.startsWith("hsl")){var N=O.match(/([\-\d\.e]+)/g).map(Number),z=ee(N,4),K=z[0],Q=z[1],ue=z[2],oe=z[3];void 0===oe&&(oe=1),v.hsla=[K/=360,Q/=100,ue/=100,oe]}else if(O.startsWith("rgb")){var pe=O.match(/([\-\d\.e]+)/g).map(Number),F=ee(pe,4),ne=F[3];void 0===ne&&(ne=1),v.rgba=[F[0],F[1],F[2],ne]}else v.rgba=O.startsWith("#")?u.hexToRgb(O):u.nameToRgb(O)||u.hexToRgb(O)}(S.toLowerCase())}else this.rgba=[l,d,g,void 0===f?1:f]}return X(u,[{key:"printRGB",value:function(d){var f=(d?this.rgba:this.rgba.slice(0,3)).map(function(v,C){return k(v,3===C?3:0)});return d?"rgba("+f+")":"rgb("+f+")"}},{key:"printHSL",value:function(d){var g=[360,100,100,1],f=["","%","%",""],C=(d?this.hsla:this.hsla.slice(0,3)).map(function(S,O){return k(S*g[O],3===O?3:1)+f[O]});return d?"hsla("+C+")":"hsl("+C+")"}},{key:"printHex",value:function(d){var g=this.hex;return d?g:g.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=u.hslToRgb(this._hsla)},set:function(d){3===d.length&&(d[3]=1),this._rgba=d,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=u.rgbToHsl(this._rgba)},set:function(d){3===d.length&&(d[3]=1),this._hsla=d,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){return"#"+this.rgba.map(function(f,v){return v<3?f.toString(16):Math.round(255*f).toString(16)}).map(function(f){return f.padStart(2,"0")}).join("")},set:function(d){this.rgba=u.hexToRgb(d)}}],[{key:"hexToRgb",value:function(d){var g=(d.startsWith("#")?d.slice(1):d).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!g.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+d);var f=g.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(v){return parseInt(v,16)});return f[3]=f[3]/255,f}},{key:"nameToRgb",value:function(d){var g=d.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),f=$[g];return void 0===f?f:u.hexToRgb(f.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(d){var g=ee(d,4),f=g[0],v=g[1],C=g[2],S=g[3];f/=255,v/=255,C/=255;var O=Math.max(f,v,C),N=Math.min(f,v,C),z=void 0,K=void 0,Q=(O+N)/2;if(O===N)z=K=0;else{var ue=O-N;switch(K=Q>.5?ue/(2-O-N):ue/(O+N),O){case f:z=(v-C)/ue+(v<C?6:0);break;case v:z=(C-f)/ue+2;break;case C:z=(f-v)/ue+4}z/=6}return[z,K,Q,S]}},{key:"hslToRgb",value:function(d){var g=ee(d,4),f=g[0],v=g[1],C=g[2],S=g[3],O=void 0,N=void 0,z=void 0;if(0===v)O=N=z=C;else{var K=function(F,U,Y){return Y<0&&(Y+=1),Y>1&&(Y-=1),Y<.16666666666666666?F+6*(U-F)*Y:Y<.5?U:Y<.6666666666666666?F+(U-F)*(.6666666666666666-Y)*6:F},Q=C<.5?C*(1+v):C+v-C*v,ue=2*C-Q;O=K(ue,Q,f+1/3),N=K(ue,Q,f),z=K(ue,Q,f-1/3)}var oe=[255*O,255*N,255*z].map(Math.round);return oe[3]=S,oe}}]),u}(),E=function(){function u(){V(this,u),this._events=[]}return X(u,[{key:"add",value:function(d,g,f){d.addEventListener(g,f,!1),this._events.push({target:d,type:g,handler:f})}},{key:"remove",value:function(d,g,f){this._events=this._events.filter(function(v){var C=!0;return d&&d!==v.target&&(C=!1),g&&g!==v.type&&(C=!1),f&&f!==v.handler&&(C=!1),C&&u._doRemove(v.target,v.type,v.handler),!C})}},{key:"destroy",value:function(){this._events.forEach(function(d){return u._doRemove(d.target,d.type,d.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(d,g,f){d.removeEventListener(g,f,!1)}}]),u}();function x(u,l,d){var g=!1;function f(O,N,z){return Math.max(N,Math.min(O,z))}function v(O,N,z){if(z&&(g=!0),g){O.preventDefault();var K=l.getBoundingClientRect(),Q=K.width,ue=K.height,pe=N.clientY,F=f(N.clientX-K.left,0,Q),U=f(pe-K.top,0,ue);d(F/Q,U/ue)}}function C(O,N){1===(void 0===O.buttons?O.which:O.buttons)?v(O,O,N):g=!1}function S(O,N){1===O.touches.length?v(O,O.touches[0],N):g=!1}u.add(l,"mousedown",function(O){C(O,!0)}),u.add(l,"touchstart",function(O){S(O,!0)}),u.add(window,"mousemove",C),u.add(l,"touchmove",S),u.add(window,"mouseup",function(O){g=!1}),u.add(l,"touchend",function(O){g=!1}),u.add(l,"touchcancel",function(O){g=!1})}var m="keydown",D="mousedown",I="focusin";function T(u,l){return(l||document).querySelector(u)}function w(u){u.preventDefault(),u.stopPropagation()}function p(u,l,d,g,f){u.add(l,m,function(v){d.indexOf(v.key)>=0&&(f&&w(v),g(v))})}var y=function(){function u(l){V(this,u),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new E,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(l)}return X(u,[{key:"setOptions",value:function(d){var g=this;if(d){var f=this.settings;if(d instanceof HTMLElement)f.parent=d;else{f.parent&&d.parent&&f.parent!==d.parent&&(this._events.remove(f.parent),this._popupInited=!1),function v(N,z,K){for(var Q in N)K&&K.indexOf(Q)>=0||(z[Q]=N[Q])}(d,f),d.onChange&&(this.onChange=d.onChange),d.onDone&&(this.onDone=d.onDone),d.onOpen&&(this.onOpen=d.onOpen),d.onClose&&(this.onClose=d.onClose);var C=d.color||d.colour;C&&this._setColor(C)}var S=f.parent;if(S&&f.popup&&!this._popupInited){var O=function(z){return g.openHandler(z)};this._events.add(S,"click",O),p(this._events,S,[" ","Spacebar","Enter"],O),this._popupInited=!0}else d.parent&&!f.popup&&this.show()}}},{key:"openHandler",value:function(d){if(this.show()){d&&d.preventDefault(),this.settings.parent.style.pointerEvents="none";var g=d&&d.type===m?this._domEdit:this.domElement;setTimeout(function(){return g.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(d){var g=d&&d.type,f=!1;d?g===D||g===I?d.timeStamp>(this.__containedEvent||0)+100&&(f=!0):(w(d),f=!0):f=!0,f&&this.hide()&&(this.settings.parent.style.pointerEvents="",g!==D&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(d,g){this.closeHandler(),this.setOptions(d),g&&this.openHandler()}},{key:"setColor",value:function(d,g){this._setColor(d,{silent:g})}},{key:"_setColor",value:function(d,g){if("string"==typeof d&&(d=d.trim()),d){g=g||{};var f=void 0;try{f=new P(d)}catch(C){if(g.failSilently)return;throw C}if(!this.settings.alpha){var v=f.hsla;v[3]=1,f.hsla=v}this.colour=this.color=f,this._setHSLA(null,null,null,null,g)}}},{key:"setColour",value:function(d,g){this.setColor(d,g)}},{key:"show",value:function(){if(!this.settings.parent)return!1;if(this.domElement){var g=this._toggleDOM(!0);return this._setPosition(),g}var v=function R(u){var l=document.createElement("div");return l.innerHTML=u,l.firstElementChild}(this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>');return this.domElement=v,this._domH=T(".picker_hue",v),this._domSL=T(".picker_sl",v),this._domA=T(".picker_alpha",v),this._domEdit=T(".picker_editor input",v),this._domSample=T(".picker_sample",v),this._domOkay=T(".picker_done button",v),this._domCancel=T(".picker_cancel button",v),v.classList.add("layout_"+this.settings.layout),this.settings.alpha||v.classList.add("no_alpha"),this.settings.editor||v.classList.add("no_editor"),this.settings.cancelButton||v.classList.add("no_cancel"),this._ifPopup(function(){return v.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var d=this,g=this,f=this.domElement,v=this._events;function C(N,z,K){v.add(N,z,K)}C(f,"click",function(N){return N.preventDefault()}),x(v,this._domH,function(N,z){return g._setHSLA(N)}),x(v,this._domSL,function(N,z){return g._setHSLA(null,N,1-z)}),this.settings.alpha&&x(v,this._domA,function(N,z){return g._setHSLA(null,null,null,1-z)});var S=this._domEdit;C(S,"input",function(N){g._setColor(this.value,{fromEditor:!0,failSilently:!0})}),C(S,"focus",function(N){var z=this;z.selectionStart===z.selectionEnd&&z.select()}),this._ifPopup(function(){var N=function(Q){return d.closeHandler(Q)};C(window,D,N),C(window,I,N),p(v,f,["Esc","Escape"],N);var z=function(Q){d.__containedEvent=Q.timeStamp};C(f,D,z),C(f,I,z),C(d._domCancel,"click",N)});var O=function(z){d._ifPopup(function(){return d.closeHandler(z)}),d.onDone&&d.onDone(d.colour)};C(this._domOkay,"click",O),p(v,f,["Enter"],O)}},{key:"_setPosition",value:function(){var d=this.settings.parent,g=this.domElement;d!==g.parentNode&&d.appendChild(g),this._ifPopup(function(f){"static"===getComputedStyle(d).position&&(d.style.position="relative");var v=!0===f?"popup_right":"popup_"+f;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(C){C===v?g.classList.add(C):g.classList.remove(C)}),g.classList.add(v)})}},{key:"_setHSLA",value:function(d,g,f,v,C){C=C||{};var S=this.colour,O=S.hsla;[d,g,f,v].forEach(function(N,z){(N||0===N)&&(O[z]=N)}),S.hsla=O,this._updateUI(C),this.onChange&&!C.silent&&this.onChange(S)}},{key:"_updateUI",value:function(d){if(this.domElement){d=d||{};var g=this.colour,f=g.hsla,v="hsl("+360*f[0]+", 100%, 50%)",C=g.hslString,S=g.hslaString,O=this._domH,N=this._domSL,z=this._domA,K=T(".picker_selector",O),Q=T(".picker_selector",N),ue=T(".picker_selector",z);oe(0,K,f[0]),this._domSL.style.backgroundColor=this._domH.style.color=v,oe(0,Q,f[1]),pe(0,Q,1-f[2]),N.style.color=C,pe(0,ue,1-f[3]);var F=C,U=F.replace("hsl","hsla").replace(")",", 0)");if(this._domA.style.background="linear-gradient("+[F,U]+"), linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,\n                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em",!d.fromEditor){var ne=this.settings.alpha,fe=void 0;switch(this.settings.editorFormat){case"rgb":fe=g.printRGB(ne);break;case"hsl":fe=g.printHSL(ne);break;default:fe=g.printHex(ne)}this._domEdit.value=fe}this._domSample.style.color=S}function oe(he,Ae,ke){Ae.style.left=100*ke+"%"}function pe(he,Ae,ke){Ae.style.top=100*ke+"%"}}},{key:"_ifPopup",value:function(d,g){this.settings.parent&&this.settings.popup?d&&d(this.settings.popup):g&&g()}},{key:"_toggleDOM",value:function(d){var g=this.domElement;if(!g)return!1;var f=d?"":"none",v=g.style.display!==f;return v&&(g.style.display=f),v}}]),u}(),h=document.createElement("style");return h.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(h),y.StyleElement=h,y}()},1262:function(Z,V,X){"use strict";function ee(tt){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(lt){return typeof lt}:function(lt){return lt&&"function"==typeof Symbol&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt})(tt)}function E(tt,lt,$t){return(E=R()?Reflect.construct.bind():function(Mn,si,Ge){var ct=[null];return ct.push.apply(ct,si),si=new(Function.bind.apply(Mn,ct)),Ge&&x(si,Ge.prototype),si}).apply(null,arguments)}function R(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(tt){return!1}}function x(tt,lt){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($t,Mn){return $t.__proto__=Mn,$t})(tt,lt)}function A(tt){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(lt){return lt.__proto__||Object.getPrototypeOf(lt)})(tt)}X.d(V,{K:function(){return Ut}});var _=function(tt){var lt=Ge;if("function"!=typeof tt&&null!==tt)throw new TypeError("Super expression must either be null or a function");lt.prototype=Object.create(tt&&tt.prototype,{constructor:{value:lt,writable:!0,configurable:!0}}),Object.defineProperty(lt,"prototype",{writable:!1}),tt&&x(lt,tt);var si=function k(tt){var lt=R();return function(){var $t,Mn=A(tt);if($t=lt?($t=A(this).constructor,Reflect.construct(Mn,arguments,$t)):Mn.apply(this,arguments),Mn=this,$t&&("object"===ee($t)||"function"==typeof $t))return $t;if(void 0!==$t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==Mn)return Mn;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(Ge);function Ge(ct,Mt){if(this instanceof Ge)return(ct=si.call(this,ct+" at position "+Mt)).position=Mt,ct;throw new TypeError("Cannot call a class as a function")}return lt=Ge,Object.defineProperty(lt,"prototype",{writable:!1}),lt}(function P(tt){var lt="function"==typeof Map?new Map:void 0;return function($t){if(null===$t||-1===Function.toString.call($t).indexOf("[native code]"))return $t;if("function"!=typeof $t)throw new TypeError("Super expression must either be null or a function");if(void 0!==lt){if(lt.has($t))return lt.get($t);lt.set($t,Mn)}function Mn(){return E($t,arguments,A(this).constructor)}return Mn.prototype=Object.create($t.prototype,{constructor:{value:Mn,enumerable:!1,writable:!0,configurable:!0}}),x(Mn,$t)}(tt)}(Error));function Ue(tt){return 48<=tt&&tt<=57||65<=tt&&tt<=70||97<=tt&&tt<=102}function dt(tt){return 48<=tt&&tt<=57}var xt=/^[,:[\]{}()\n]$/;function Zt(tt){return en.test(tt)||tt&&Kt(tt.charCodeAt(0))}var en=/^[[{\w-]$/;function tn(tt){return 32===tt||10===tt||9===tt||13===tt}function Kt(tt){return On(tt)||un(tt)}function On(tt){return 34===tt||8220===tt||8221===tt}function Dn(tt){return 34===tt}function un(tt){return 39===tt||8216===tt||8217===tt||96===tt||180===tt}function _t(tt,lt,$t){return $t=2<arguments.length&&void 0!==$t&&$t,-1!==(lt=tt.lastIndexOf(lt))?tt.substring(0,lt)+($t?"":tt.substring(lt+1)):tt}function Yt(tt,lt){var $t=tt.length;if(!tn(tt.charCodeAt($t-1)))return tt+lt;for(;tn(tt.charCodeAt($t-1));)$t--;return tt.substring(0,$t)+lt+tt.substring($t)}var Nn={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},_n={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function Ut(tt){var lt=0,$t="";if(!ct())throw new _("Unexpected end of json string",tt.length);var Mn=jn(44);if(Mn&&Mt(),Zt(tt[lt])&&/[,\n][ \t\r]*$/.test($t)){Mn||($t=Yt($t,","));for(var si=!0,Ge=!0;Ge;)si?si=!1:jn(44)||($t=Yt($t,",")),Ge=ct();Ge||($t=_t($t,",")),$t="[\n".concat($t,"\n]")}else Mn&&($t=_t($t,","));if(lt>=tt.length)return $t;throw new _("Unexpected character "+JSON.stringify(tt[lt]),lt);function ct(){Mt();var je=function(){if(123!==tt.charCodeAt(lt))return!1;$t+="{",lt++,Mt();for(var at=!0;lt<tt.length&&125!==tt.charCodeAt(lt);){if(at?at=!1:(jn(44)||($t=Yt($t,",")),Mt()),!Di()&&!oo()){125===tt.charCodeAt(lt)||123===tt.charCodeAt(lt)||93===tt.charCodeAt(lt)||91===tt.charCodeAt(lt)||void 0===tt[lt]?$t=_t($t,","):function(){throw new _("Object key expected",lt)}();break}Mt();var Dt=jn(58);Dt||(Zt(tt[lt])?$t=Yt($t,":"):ut()),ct()||(Dt?function(){throw new _("Object value expected",lt)}:ut)()}return 125===tt.charCodeAt(lt)?($t+="}",lt++):$t=Yt($t,"}"),!0}()||function(){if(91!==tt.charCodeAt(lt))return!1;$t+="[",lt++,Mt();for(var at=!0;lt<tt.length&&93!==tt.charCodeAt(lt);)if(at?at=!1:jn(44)||($t=Yt($t,",")),!ct()){$t=_t($t,",");break}return 93===tt.charCodeAt(lt)?($t+="]",lt++):$t=Yt($t,"]"),!0}()||Di()||function(){var Dt,at=lt;if(45===tt.charCodeAt(lt)&&(lt++,oa(at)))return!0;if(48===tt.charCodeAt(lt))lt++;else if(49<=(Dt=tt.charCodeAt(lt))&&Dt<=57)for(lt++;dt(tt.charCodeAt(lt));)lt++;if(46===tt.charCodeAt(lt)){if(lt++,oa(at))return!0;for(;dt(tt.charCodeAt(lt));)lt++}if(101===tt.charCodeAt(lt)||69===tt.charCodeAt(lt)){if(lt++,45!==tt.charCodeAt(lt)&&43!==tt.charCodeAt(lt)||lt++,oa(at))return!0;for(;dt(tt.charCodeAt(lt));)lt++}return at<lt&&($t+=tt.slice(at,lt),!0)}()||Er("true","true")||Er("false","false")||Er("null","null")||Er("True","true")||Er("False","false")||Er("None","null")||oo();return Mt(),je}function Mt(){for(vn();function(){if(47===tt.charCodeAt(lt)&&42===tt.charCodeAt(lt+1)){for(;lt<tt.length&&("*"!==(je=tt)[at=lt]||"/"!==je[at+1]);)lt++;lt+=2}else{if(47!==tt.charCodeAt(lt)||47!==tt.charCodeAt(lt+1))return!1;for(;lt<tt.length&&10!==tt.charCodeAt(lt);)lt++}var je,at;return!0}()&&vn(););}function vn(){for(var je,at,Dt="";(je=tn(tt.charCodeAt(lt)))||160===(at=tt.charCodeAt(lt))||8192<=at&&at<=8202||8239===at||8287===at||12288===at;)Dt+=je?tt[lt]:" ",lt++;return 0<Dt.length&&($t+=Dt,!0)}function jn(je){return tt.charCodeAt(lt)===je&&($t+=tt[lt],lt++,!0)}function Di(){var je,wt,gn,at=92===tt.charCodeAt(lt);if(at&&(lt++,at=!0),Kt(tt.charCodeAt(lt))){var Dt=un(tt.charCodeAt(lt))?un:Dn(tt.charCodeAt(lt))?Dn:On;for($t+='"',lt++;lt<tt.length&&!Dt(tt.charCodeAt(lt));){if(92===tt.charCodeAt(lt)){var Oe=tt[lt+1];if(void 0!==_n[Oe])$t+=tt.slice(lt,lt+2),lt+=2;else if("u"===Oe){if(!(Ue(tt.charCodeAt(lt+2))&&Ue(tt.charCodeAt(lt+3))&&Ue(tt.charCodeAt(lt+4))&&Ue(tt.charCodeAt(lt+5)))){nt=Fe=void 0;for(var Fe=lt,nt=Fe+2;/\w/.test(tt[nt]);)nt++;throw Fe=tt.slice(Fe,nt),new _('Invalid unicode character "'.concat(Fe,'"'),lt)}$t+=tt.slice(lt,lt+6),lt+=6}else $t+=Oe,lt+=2}else{if(Fe=tt[lt],34===(Oe=tt.charCodeAt(lt))&&92!==tt.charCodeAt(lt-1))$t+="\\"+Fe;else if(10===(je=Oe)||13===je||9===je||8===je||12===je)$t+=Nn[Fe];else{if(!(32<=(je=Oe)&&je<=1114111))throw new _("Invalid character "+JSON.stringify(Fe),lt);$t+=Fe}lt++}at&&92===tt.charCodeAt(lt)&&lt++}for(Kt(tt.charCodeAt(lt))?(tt.charCodeAt(lt),$t+='"',lt++):$t+='"',Mt();43===tt.charCodeAt(lt);){lt++,Mt();var Et=($t=_t($t,'"',!0)).length;Di(),1,$t=(wt=$t).substring(0,gn=Et)+wt.substring(gn+1)}return!0}return!1}function Er(je,at){return tt.slice(lt,lt+je.length)===je&&($t+=at,lt+=je.length,!0)}function oo(){for(var je,at=lt;lt<tt.length&&!(xt.test(je=tt[lt])||je&&Kt(je.charCodeAt(0)));)lt++;if(at<lt){if(40===tt.charCodeAt(lt))lt++,ct(),41===tt.charCodeAt(lt)&&(lt++,59===tt.charCodeAt(lt))&&lt++;else{for(;tn(tt.charCodeAt(lt-1))&&0<lt;)lt--;at=tt.slice(at,lt),$t+=JSON.stringify(at)}return!0}}function oa(je){if(lt>=tt.length)return $t+=tt.slice(je,lt)+"0",1;!function Vr(je){if(!dt(tt.charCodeAt(lt)))throw je=tt.slice(je,lt),new _("Invalid number '".concat(je,"', expecting a digit ").concat(tt[lt]?"but got '".concat(tt[lt],"'"):"but reached end of input"),2)}(je)}function ut(){throw new _("Colon expected",lt)}}},894:function(Z){"use strict";Z.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},7171:function(Z){"use strict";Z.exports=JSON.parse('{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string"},"$schema":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}')},6273:function(Z){"use strict";Z.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","$id":"http://json-schema.org/draft-06/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"examples":{"type":"array","items":{}},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":{},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":{}}')},6680:function(Z){"use strict";Z.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}},ae={},Ie.amdD=function(){throw new Error("define cannot be used indirect")},Ie.n=function(Z){var V=Z&&Z.__esModule?function(){return Z.default}:function(){return Z};return Ie.d(V,{a:V}),V},Ie.d=function(Z,V){for(var X in V)Ie.o(V,X)&&!Ie.o(Z,X)&&Object.defineProperty(Z,X,{enumerable:!0,get:V[X]})},Ie.o=function(Z,V){return Object.prototype.hasOwnProperty.call(Z,V)},Ie.r=function(Z){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Z,"__esModule",{value:!0})},Ie.nmd=function(Z){return Z.paths=[],Z.children||(Z.children=[]),Z},Ie(3161);function Ie(Z){var V=ae[Z];return void 0!==V||(V=ae[Z]={id:Z,loaded:!1,exports:{}},Ve[Z].call(V.exports,V,V.exports,Ie),V.loaded=!0),V.exports}var Ve,ae}()},7489:function(hn,Ie,Ve){var ae;hn=Ve.nmd(hn),function(){var Z,$="Expected a function",P="__lodash_hash_undefined__",R="__lodash_placeholder__",h=32,l=128,K=1/0,Q=9007199254740991,pe=4294967295,Y=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",h],["partialRight",64],["rearg",256]],W="[object Arguments]",ne="[object Array]",he="[object Boolean]",Ae="[object Date]",xe="[object Error]",Ee="[object Function]",ie="[object GeneratorFunction]",de="[object Map]",me="[object Number]",re="[object Object]",le="[object Promise]",we="[object RegExp]",Pe="[object Set]",Ue="[object String]",dt="[object Symbol]",Zt="[object WeakMap]",tn="[object ArrayBuffer]",Kt="[object DataView]",On="[object Float32Array]",Dn="[object Float64Array]",un="[object Int8Array]",_t="[object Int16Array]",Yt="[object Int32Array]",Nn="[object Uint8Array]",_n="[object Uint8ClampedArray]",Ut="[object Uint16Array]",tt="[object Uint32Array]",lt=/\b__p \+= '';/g,$t=/\b(__p \+=) '' \+/g,Mn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,si=/&(?:amp|lt|gt|quot|#39);/g,Ge=/[&<>"']/g,ct=RegExp(si.source),Mt=RegExp(Ge.source),vn=/<%-([\s\S]+?)%>/g,jn=/<%([\s\S]+?)%>/g,Bn=/<%=([\s\S]+?)%>/g,Di=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Er=/^\w*$/,oo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vr=/[\\^$.*+?()[\]{}|]/g,oa=RegExp(Vr.source),ut=/^\s+/,je=/\s/,at=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Dt=/\{\n\/\* \[wrapped with (.+)\] \*/,Oe=/,? & /,Fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,nt=/[()=,{}\[\]\/\s]/,Et=/\\(\\)?/g,wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gn=/\w*$/,An=/^[-+]0x[0-9a-f]+$/i,fi=/^0b[01]+$/i,Si=/^\[object .+?Constructor\]$/,Bi=/^0o[0-7]+$/i,Zn=/^(?:0|[1-9]\d*)$/,Mi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,pi=/($^)/,Fr=/['\n\r\u2028\u2029\\]/g,xi="\\ud800-\\udfff",Zr="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",qr="\\u2700-\\u27bf",cr="a-z\\xdf-\\xf6\\xf8-\\xff",Wo="A-Z\\xc0-\\xd6\\xd8-\\xde",Ss="\\ufe0e\\ufe0f",Qi="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pr="["+xi+"]",Jo="["+Qi+"]",Os="["+Zr+"]",zi="\\d+",bi="["+qr+"]",cs="["+cr+"]",cc="[^"+xi+Qi+zi+qr+cr+Wo+"]",Jt="\\ud83c[\\udffb-\\udfff]",Ii="[^"+xi+"]",tr="(?:\\ud83c[\\udde6-\\uddff]){2}",iu="[\\ud800-\\udbff][\\udc00-\\udfff]",To="["+Wo+"]",Xa="(?:"+cs+"|"+cc+")",Uo="(?:"+To+"|"+cc+")",us="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Dl="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ya="(?:"+Os+"|"+Jt+")?",Ro="["+Ss+"]?",hc=Ro+Ya+"(?:\\u200d(?:"+[Ii,tr,iu].join("|")+")"+Ro+Ya+")*",cf="(?:"+[bi,tr,iu].join("|")+")"+hc,Qv="(?:"+[Ii+Os+"?",Os,tr,iu,pr].join("|")+")",ag=RegExp("['\u2019]","g"),ey=RegExp(Os,"g"),xs=RegExp(Jt+"(?="+Jt+")|"+Qv+hc,"g"),Wr=RegExp([To+"?"+cs+"+"+us+"(?="+[Jo,To,"$"].join("|")+")",Uo+"+"+Dl+"(?="+[Jo,To+Xa,"$"].join("|")+")",To+"?"+Xa+"+"+us,To+"+"+Dl,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",zi,cf].join("|"),"g"),Xb=RegExp("[\\u200d"+xi+Zr+Ss+"]"),xx=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ex=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bn=-1,ao={};ao[On]=ao[Dn]=ao[un]=ao[_t]=ao[Yt]=ao[Nn]=ao[_n]=ao[Ut]=ao[tt]=!0,ao[W]=ao[ne]=ao[tn]=ao[he]=ao[Kt]=ao[Ae]=ao[xe]=ao[Ee]=ao[de]=ao[me]=ao[re]=ao[we]=ao[Pe]=ao[Ue]=ao[Zt]=!1;var Fn={};Fn[W]=Fn[ne]=Fn[tn]=Fn[Kt]=Fn[he]=Fn[Ae]=Fn[On]=Fn[Dn]=Fn[un]=Fn[_t]=Fn[Yt]=Fn[de]=Fn[me]=Fn[re]=Fn[we]=Fn[Pe]=Fn[Ue]=Fn[dt]=Fn[Nn]=Fn[_n]=Fn[Ut]=Fn[tt]=!0,Fn[xe]=Fn[Ee]=Fn[Zt]=!1;var Tx={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Rx=parseFloat,Jb=parseInt,uf="object"==typeof global&&global&&global.Object===Object&&global,ty="object"==typeof self&&self&&self.Object===Object&&self,hs=uf||ty||Function("return this")(),qb=Ie&&!Ie.nodeType&&Ie,Ci=qb&&hn&&!hn.nodeType&&hn,cg=Ci&&Ci.exports===qb,ny=cg&&uf.process,Co=function(){try{return Ci&&Ci.require&&Ci.require("util").types||ny&&ny.binding&&ny.binding("util")}catch(Vt){}}(),iy=Co&&Co.isArrayBuffer,Dx=Co&&Co.isDate,dc=Co&&Co.isMap,Ja=Co&&Co.isRegExp,kx=Co&&Co.isSet,Lx=Co&&Co.isTypedArray;function go(bt,Vt,Bt){switch(Bt.length){case 0:return bt.call(Vt);case 1:return bt.call(Vt,Bt[0]);case 2:return bt.call(Vt,Bt[0],Bt[1]);case 3:return bt.call(Vt,Bt[0],Bt[1],Bt[2])}return bt.apply(Vt,Bt)}function Qr(bt,Vt,Bt,Xn){for(var Vi=-1,sr=null==bt?0:bt.length;++Vi<sr;){var qo=bt[Vi];Vt(Xn,qo,Bt(qo),bt)}return Xn}function dl(bt,Vt){for(var Bt=-1,Xn=null==bt?0:bt.length;++Bt<Xn&&!1!==Vt(bt[Bt],Bt,bt););return bt}function GL(bt,Vt){for(var Bt=null==bt?0:bt.length;Bt--&&!1!==Vt(bt[Bt],Bt,bt););return bt}function Bu(bt,Vt){for(var Bt=-1,Xn=null==bt?0:bt.length;++Bt<Xn;)if(!Vt(bt[Bt],Bt,bt))return!1;return!0}function gr(bt,Vt){for(var Bt=-1,Xn=null==bt?0:bt.length,Vi=0,sr=[];++Bt<Xn;){var qo=bt[Bt];Vt(qo,Bt,bt)&&(sr[Vi++]=qo)}return sr}function Hu(bt,Vt){return!(null==bt||!bt.length)&&Kh(bt,Vt,0)>-1}function hf(bt,Vt,Bt){for(var Xn=-1,Vi=null==bt?0:bt.length;++Xn<Vi;)if(Bt(Vt,bt[Xn]))return!0;return!1}function eo(bt,Vt){for(var Bt=-1,Xn=null==bt?0:bt.length,Vi=Array(Xn);++Bt<Xn;)Vi[Bt]=Vt(bt[Bt],Bt,bt);return Vi}function fc(bt,Vt){for(var Bt=-1,Xn=Vt.length,Vi=bt.length;++Bt<Xn;)bt[Vi+Bt]=Vt[Bt];return bt}function fl(bt,Vt,Bt,Xn){var Vi=-1,sr=null==bt?0:bt.length;for(Xn&&sr&&(Bt=bt[++Vi]);++Vi<sr;)Bt=Vt(Bt,bt[Vi],Vi,bt);return Bt}function df(bt,Vt,Bt,Xn){var Vi=null==bt?0:bt.length;for(Xn&&Vi&&(Bt=bt[--Vi]);Vi--;)Bt=Vt(Bt,bt[Vi],Vi,bt);return Bt}function ry(bt,Vt){for(var Bt=-1,Xn=null==bt?0:bt.length;++Bt<Xn;)if(Vt(bt[Bt],Bt,bt))return!0;return!1}var Wn=jr("length");function oy(bt,Vt,Bt){var Xn;return Bt(bt,function(Vi,sr,qo){if(Vt(Vi,sr,qo))return Xn=sr,!1}),Xn}function ui(bt,Vt,Bt,Xn){for(var Vi=bt.length,sr=Bt+(Xn?1:-1);Xn?sr--:++sr<Vi;)if(Vt(bt[sr],sr,bt))return sr;return-1}function Kh(bt,Vt,Bt){return Vt==Vt?function ay(bt,Vt,Bt){for(var Xn=Bt-1,Vi=bt.length;++Xn<Vi;)if(bt[Xn]===Vt)return Xn;return-1}(bt,Vt,Bt):ui(bt,Gt,Bt)}function eC(bt,Vt,Bt,Xn){for(var Vi=Bt-1,sr=bt.length;++Vi<sr;)if(Xn(bt[Vi],Vt))return Vi;return-1}function Gt(bt){return bt!=bt}function Fs(bt,Vt){var Bt=null==bt?0:bt.length;return Bt?Ys(bt,Vt)/Bt:NaN}function jr(bt){return function(Vt){return null==Vt?Z:Vt[bt]}}function Es(bt){return function(Vt){return null==bt?Z:bt[Vt]}}function Ns(bt,Vt,Bt,Xn,Vi){return Vi(bt,function(sr,qo,no){Bt=Xn?(Xn=!1,sr):Vt(Bt,sr,qo,no)}),Bt}function Ys(bt,Vt){for(var Bt,Xn=-1,Vi=bt.length;++Xn<Vi;){var sr=Vt(bt[Xn]);sr!==Z&&(Bt=Bt===Z?sr:Bt+sr)}return Bt}function Yh(bt,Vt){for(var Bt=-1,Xn=Array(bt);++Bt<bt;)Xn[Bt]=Vt(Bt);return Xn}function Jh(bt){return bt&&bt.slice(0,ju(bt)+1).replace(ut,"")}function $s(bt){return function(Vt){return bt(Vt)}}function pc(bt,Vt){return eo(Vt,function(Bt){return bt[Bt]})}function Go(bt,Vt){return bt.has(Vt)}function tC(bt,Vt){for(var Bt=-1,Xn=bt.length;++Bt<Xn&&Kh(Vt,bt[Bt],0)>-1;);return Bt}function Ta(bt,Vt){for(var Bt=bt.length;Bt--&&Kh(Vt,bt[Bt],0)>-1;);return Bt}function zn(bt,Vt){for(var Bt=bt.length,Xn=0;Bt--;)bt[Bt]===Vt&&++Xn;return Xn}var nr=Es({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),mo=Es({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ra(bt){return"\\"+Tx[bt]}function wo(bt){return Xb.test(bt)}function Uu(bt){var Vt=-1,Bt=Array(bt.size);return bt.forEach(function(Xn,Vi){Bt[++Vt]=[Vi,Xn]}),Bt}function qh(bt,Vt){return function(Bt){return bt(Vt(Bt))}}function Hi(bt,Vt){for(var Bt=-1,Xn=bt.length,Vi=0,sr=[];++Bt<Xn;){var qo=bt[Bt];(qo===Vt||qo===R)&&(bt[Bt]=R,sr[Vi++]=Bt)}return sr}function Gu(bt){var Vt=-1,Bt=Array(bt.size);return bt.forEach(function(Xn){Bt[++Vt]=Xn}),Bt}function Do(bt){return wo(bt)?function ed(bt){for(var Vt=xs.lastIndex=0;xs.test(bt);)++Vt;return Vt}(bt):Wn(bt)}function Js(bt){return wo(bt)?function nC(bt){return bt.match(xs)||[]}(bt):function Px(bt){return bt.split("")}(bt)}function ju(bt){for(var Vt=bt.length;Vt--&&je.test(bt.charAt(Vt)););return Vt}var pl=Es({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ug=function bt(Vt){var M,Bt=(Vt=null==Vt?hs:ug.defaults(hs.Object(),Vt,ug.pick(hs,Ex))).Array,Xn=Vt.Date,Vi=Vt.Error,sr=Vt.Function,qo=Vt.Math,no=Vt.Object,ly=Vt.RegExp,Fx=Vt.String,gl=Vt.TypeError,cy=Bt.prototype,ff=no.prototype,uy=Vt["__core-js_shared__"],hy=sr.prototype.toString,Yr=ff.hasOwnProperty,jL=0,Nx=(M=/[^.]+$/.exec(uy&&uy.keys&&uy.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",dy=ff.toString,ZL=hy.call(no),KL=hs._,XL=ly("^"+hy.call(Yr).replace(Vr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fy=cg?Vt.Buffer:Z,gc=Vt.Symbol,td=Vt.Uint8Array,$x=fy?fy.allocUnsafe:Z,py=qh(no.getPrototypeOf,no),Bx=no.create,ru=ff.propertyIsEnumerable,hg=cy.splice,lo=gc?gc.isConcatSpreadable:Z,nd=gc?gc.iterator:Z,Zu=gc?gc.toStringTag:Z,dg=function(){try{var M=sh(no,"defineProperty");return M({},"",{}),M}catch(B){}}(),iC=Vt.clearTimeout!==hs.clearTimeout&&Vt.clearTimeout,rC=Xn&&Xn.now!==hs.Date.now&&Xn.now,Hx=Vt.setTimeout!==hs.setTimeout&&Vt.setTimeout,id=qo.ceil,fg=qo.floor,sa=no.getOwnPropertySymbols,gy=fy?fy.isBuffer:Z,oC=Vt.isFinite,my=cy.join,Vx=qh(no.keys,no),ds=qo.max,Mr=qo.min,Wx=Xn.now,YL=Vt.parseInt,pf=qo.random,Da=cy.reverse,vy=sh(Vt,"DataView"),Ku=sh(Vt,"Map"),ou=sh(Vt,"Promise"),fs=sh(Vt,"Set"),gf=sh(Vt,"WeakMap"),su=sh(no,"create"),pg=gf&&new gf,ka={},sC=lh(vy),yy=lh(Ku),ji=lh(ou),aC=lh(fs),JL=lh(gf),gg=gc?gc.prototype:Z,mf=gg?gg.valueOf:Z,lC=gg?gg.toString:Z;function Ne(M){if(Oo(M)&&!Yi(M)&&!(M instanceof qn)){if(M instanceof nn)return M;if(Yr.call(M,"__wrapped__"))return Yy(M)}return new nn(M)}var rd=function(){function M(){}return function(B){if(!co(B))return{};if(Bx)return Bx(B);M.prototype=B;var q=new M;return M.prototype=Z,q}}();function mg(){}function nn(M,B){this.__wrapped__=M,this.__actions__=[],this.__chain__=!!B,this.__index__=0,this.__values__=Z}function qn(M){this.__wrapped__=M,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pe,this.__views__=[]}function au(M){var B=-1,q=null==M?0:M.length;for(this.clear();++B<q;){var ye=M[B];this.set(ye[0],ye[1])}}function mc(M){var B=-1,q=null==M?0:M.length;for(this.clear();++B<q;){var ye=M[B];this.set(ye[0],ye[1])}}function aa(M){var B=-1,q=null==M?0:M.length;for(this.clear();++B<q;){var ye=M[B];this.set(ye[0],ye[1])}}function _c(M){var B=-1,q=null==M?0:M.length;for(this.__data__=new aa;++B<q;)this.add(M[B])}function La(M){var B=this.__data__=new mc(M);this.size=B.size}function Ay(M,B){var q=Yi(M),ye=!q&&xc(M),De=!q&&!ye&&du(M),We=!q&&!ye&&!De&&Sd(M),ot=q||ye||De||We,pt=ot?Yh(M.length,Fx):[],Tt=pt.length;for(var on in M)(B||Yr.call(M,on))&&(!ot||!("length"==on||De&&("offset"==on||"parent"==on)||We&&("buffer"==on||"byteLength"==on||"byteOffset"==on)||Bl(on,Tt)))&&pt.push(on);return pt}function Sy(M){var B=M.length;return B?M[$y(0,B-1)]:Z}function Iy(M,B){return Tf(ts(M),Xu(B,0,M.length))}function Zx(M){return Tf(ts(M))}function xy(M,B,q){(q!==Z&&!ir(M[B],q)||q===Z&&!(B in M))&&Pl(M,B,q)}function es(M,B,q){var ye=M[B];(!Yr.call(M,B)||!ir(ye,q)||q===Z&&!(B in M))&&Pl(M,B,q)}function ml(M,B){for(var q=M.length;q--;)if(ir(M[q][0],B))return q;return-1}function Ao(M,B,q,ye){return bc(M,function(De,We,ot){B(ye,De,q(De),ot)}),ye}function od(M,B){return M&&Cc(B,gs(B),M)}function Pl(M,B,q){"__proto__"==B&&dg?dg(M,B,{configurable:!0,enumerable:!0,value:q,writable:!0}):M[B]=q}function Ey(M,B){for(var q=-1,ye=B.length,De=Bt(ye),We=null==M;++q<ye;)De[q]=We?Z:zf(M,B[q]);return De}function Xu(M,B,q){return M==M&&(q!==Z&&(M=M<=q?M:q),B!==Z&&(M=M>=B?M:B)),M}function qa(M,B,q,ye,De,We){var ot,pt=1&B,Tt=2&B,on=4&B;if(q&&(ot=De?q(M,ye,De,We):q(M)),ot!==Z)return ot;if(!co(M))return M;var an=Yi(M);if(an){if(ot=function Lg(M){var B=M.length,q=new M.constructor(B);return B&&"string"==typeof M[0]&&Yr.call(M,"index")&&(q.index=M.index,q.input=M.input),q}(M),!pt)return ts(M,ot)}else{var pn=Qs(M),Un=pn==Ee||pn==ie;if(du(M))return Sf(M,pt);if(pn==re||pn==W||Un&&!De){if(ot=Tt||Un?{}:zy(M),!pt)return Tt?function oE(M,B){return Cc(M,VC(M),B)}(M,function Kx(M,B){return M&&Cc(B,fa(B),M)}(ot,M)):function LC(M,B){return Cc(M,kg(M),B)}(M,od(ot,M))}else{if(!Fn[pn])return De?M:{};ot=function cE(M,B,q){var ye=M.constructor;switch(B){case tn:return nh(M);case he:case Ae:return new ye(+M);case Kt:return function DC(M,B){var q=B?nh(M.buffer):M.buffer;return new M.constructor(q,M.byteOffset,M.byteLength)}(M,q);case On:case Dn:case un:case _t:case Yt:case Nn:case _n:case Ut:case tt:return iE(M,q);case de:return new ye;case me:case Ue:return new ye(M);case we:return function tE(M){var B=new M.constructor(M.source,gn.exec(M));return B.lastIndex=M.lastIndex,B}(M);case Pe:return new ye;case dt:return function nE(M){return mf?no(mf.call(M)):{}}(M)}}(M,pn,pt)}}We||(We=new La);var hi=We.get(M);if(hi)return hi;We.set(M,ot),Mc(M)?M.forEach(function(vi){ot.add(qa(vi,B,q,vi,M,We))}):Ew(M)&&M.forEach(function(vi,hr){ot.set(hr,qa(vi,B,q,hr,M,We))});var ur=an?Z:(on?Tt?rh:Dg:Tt?fa:gs)(M);return dl(ur||M,function(vi,hr){ur&&(vi=M[hr=vi]),es(ot,hr,qa(vi,B,q,hr,M,We))}),ot}function yf(M,B,q){var ye=q.length;if(null==M)return!ye;for(M=no(M);ye--;){var De=q[ye],ot=M[De];if(ot===Z&&!(De in M)||!(0,B[De])(ot))return!1}return!0}function _f(M,B,q){if("function"!=typeof M)throw new gl($);return ps(function(){M.apply(Z,q)},B)}function Yu(M,B,q,ye){var De=-1,We=Hu,ot=!0,pt=M.length,Tt=[],on=B.length;if(!pt)return Tt;q&&(B=eo(B,$s(q))),ye?(We=hf,ot=!1):B.length>=200&&(We=Go,ot=!1,B=new _c(B));e:for(;++De<pt;){var an=M[De],pn=null==q?an:q(an);if(an=ye||0!==an?an:0,ot&&pn==pn){for(var Un=on;Un--;)if(B[Un]===pn)continue e;Tt.push(an)}else We(B,pn,ye)||Tt.push(an)}return Tt}Ne.templateSettings={escape:vn,evaluate:jn,interpolate:Bn,variable:"",imports:{_:Ne}},(Ne.prototype=mg.prototype).constructor=Ne,(nn.prototype=rd(mg.prototype)).constructor=nn,(qn.prototype=rd(mg.prototype)).constructor=qn,au.prototype.clear=function vf(){this.__data__=su?su(null):{},this.size=0},au.prototype.delete=function Ll(M){var B=this.has(M)&&delete this.__data__[M];return this.size-=B?1:0,B},au.prototype.get=function _y(M){var B=this.__data__;if(su){var q=B[M];return q===P?Z:q}return Yr.call(B,M)?B[M]:Z},au.prototype.has=function by(M){var B=this.__data__;return su?B[M]!==Z:Yr.call(B,M)},au.prototype.set=function qL(M,B){var q=this.__data__;return this.size+=this.has(M)?0:1,q[M]=su&&B===Z?P:B,this},mc.prototype.clear=function QL(){this.__data__=[],this.size=0},mc.prototype.delete=function cC(M){var B=this.__data__,q=ml(B,M);return!(q<0||(q==B.length-1?B.pop():hg.call(B,q,1),--this.size,0))},mc.prototype.get=function qs(M){var B=this.__data__,q=ml(B,M);return q<0?Z:B[q][1]},mc.prototype.has=function vc(M){return ml(this.__data__,M)>-1},mc.prototype.set=function uC(M,B){var q=this.__data__,ye=ml(q,M);return ye<0?(++this.size,q.push([M,B])):q[ye][1]=B,this},aa.prototype.clear=function yc(){this.size=0,this.__data__={hash:new au,map:new(Ku||mc),string:new au}},aa.prototype.delete=function Ux(M){var B=Ic(this,M).delete(M);return this.size-=B?1:0,B},aa.prototype.get=function hC(M){return Ic(this,M).get(M)},aa.prototype.has=function Gx(M){return Ic(this,M).has(M)},aa.prototype.set=function zx(M,B){var q=Ic(this,M),ye=q.size;return q.set(M,B),this.size+=q.size==ye?0:1,this},_c.prototype.add=_c.prototype.push=function Cy(M){return this.__data__.set(M,P),this},_c.prototype.has=function dC(M){return this.__data__.has(M)},La.prototype.clear=function jx(){this.__data__=new mc,this.size=0},La.prototype.delete=function fC(M){var B=this.__data__,q=B.delete(M);return this.size=B.size,q},La.prototype.get=function wy(M){return this.__data__.get(M)},La.prototype.has=function pC(M){return this.__data__.has(M)},La.prototype.set=function gC(M,B){var q=this.__data__;if(q instanceof mc){var ye=q.__data__;if(!Ku||ye.length<199)return ye.push([M,B]),this.size=++q.size,this;q=this.__data__=new aa(ye)}return q.set(M,B),this.size=q.size,this};var bc=PC(Ol),mC=PC(_C,!0);function lu(M,B){var q=!0;return bc(M,function(ye,De,We){return q=!!B(ye,De,We)}),q}function cu(M,B,q){for(var ye=-1,De=M.length;++ye<De;){var We=M[ye],ot=B(We);if(null!=ot&&(pt===Z?ot==ot&&!ta(ot):q(ot,pt)))var pt=ot,Tt=We}return Tt}function vC(M,B){var q=[];return bc(M,function(ye,De,We){B(ye,De,We)&&q.push(ye)}),q}function ko(M,B,q,ye,De){var We=-1,ot=M.length;for(q||(q=iP),De||(De=[]);++We<ot;){var pt=M[We];B>0&&q(pt)?B>1?ko(pt,B-1,q,ye,De):fc(De,pt):ye||(De[De.length]=pt)}return De}var bf=OC(),yC=OC(!0);function Ol(M,B){return M&&bf(M,B,gs)}function _C(M,B){return M&&yC(M,B,gs)}function My(M,B){return gr(B,function(q){return Ec(M[q])})}function Fl(M,B){for(var q=0,ye=(B=uu(B,M)).length;null!=M&&q<ye;)M=M[Hl(B[q++])];return q&&q==ye?M:Z}function Ty(M,B,q){var ye=B(M);return Yi(M)?ye:fc(ye,q(M))}function Bs(M){return null==M?M===Z?"[object Undefined]":"[object Null]":Zu&&Zu in no(M)?function nP(M){var B=Yr.call(M,Zu),q=M[Zu];try{M[Zu]=Z;var ye=!0}catch(We){}var De=dy.call(M);return ye&&(B?M[Zu]=q:delete M[Zu]),De}(M):function fE(M){return dy.call(M)}(M)}function sd(M,B){return M>B}function bC(M,B){return null!=M&&Yr.call(M,B)}function CC(M,B){return null!=M&&B in no(M)}function Ry(M,B,q){for(var ye=q?hf:Hu,De=M[0].length,We=M.length,ot=We,pt=Bt(We),Tt=1/0,on=[];ot--;){var an=M[ot];ot&&B&&(an=eo(an,$s(B))),Tt=Mr(an.length,Tt),pt[ot]=!q&&(B||De>=120&&an.length>=120)?new _c(ot&&an):Z}an=M[0];var pn=-1,Un=pt[0];e:for(;++pn<De&&on.length<Tt;){var hi=an[pn],ki=B?B(hi):hi;if(hi=q||0!==hi?hi:0,!(Un?Go(Un,ki):ye(on,ki,q))){for(ot=We;--ot;){var ur=pt[ot];if(!(ur?Go(ur,ki):ye(M[ot],ki,q)))continue e}Un&&Un.push(ki),on.push(hi)}}return on}function Ju(M,B,q){var ye=null==(M=Pg(M,B=uu(B,M)))?M:M[Hl(tl(B))];return null==ye?Z:go(ye,M,q)}function Cf(M){return Oo(M)&&Bs(M)==W}function cd(M,B,q,ye,De){return M===B||(null==M||null==B||!Oo(M)&&!Oo(B)?M!=M&&B!=B:function Yx(M,B,q,ye,De,We){var ot=Yi(M),pt=Yi(B),Tt=ot?ne:Qs(M),on=pt?ne:Qs(B),an=(Tt=Tt==W?re:Tt)==re,pn=(on=on==W?re:on)==re,Un=Tt==on;if(Un&&du(M)){if(!du(B))return!1;ot=!0,an=!1}if(Un&&!an)return We||(We=new La),ot||Sd(M)?$l(M,B,q,ye,De,We):function HC(M,B,q,ye,De,We,ot){switch(q){case Kt:if(M.byteLength!=B.byteLength||M.byteOffset!=B.byteOffset)return!1;M=M.buffer,B=B.buffer;case tn:return!(M.byteLength!=B.byteLength||!We(new td(M),new td(B)));case he:case Ae:case me:return ir(+M,+B);case xe:return M.name==B.name&&M.message==B.message;case we:case Ue:return M==B+"";case de:var pt=Uu;case Pe:if(pt||(pt=Gu),M.size!=B.size&&!(1&ye))return!1;var on=ot.get(M);if(on)return on==B;ye|=2,ot.set(M,B);var an=$l(pt(M),pt(B),ye,De,We,ot);return ot.delete(M),an;case dt:if(mf)return mf.call(M)==mf.call(B)}return!1}(M,B,Tt,q,ye,De,We);if(!(1&q)){var hi=an&&Yr.call(M,"__wrapped__"),ki=pn&&Yr.call(B,"__wrapped__");if(hi||ki){var ur=hi?M.value():M,vi=ki?B.value():B;return We||(We=new La),De(ur,vi,q,ye,We)}}return!!Un&&(We||(We=new La),function ih(M,B,q,ye,De,We){var ot=1&q,pt=Dg(M),Tt=pt.length;if(Tt!=Dg(B).length&&!ot)return!1;for(var pn=Tt;pn--;){var Un=pt[pn];if(!(ot?Un in B:Yr.call(B,Un)))return!1}var hi=We.get(M),ki=We.get(B);if(hi&&ki)return hi==B&&ki==M;var ur=!0;We.set(M,B),We.set(B,M);for(var vi=ot;++pn<Tt;){var hr=M[Un=pt[pn]],Tr=B[Un];if(ye)var ga=ot?ye(Tr,hr,Un,B,M,We):ye(hr,Tr,Un,M,B,We);if(!(ga===Z?hr===Tr||De(hr,Tr,q,ye,We):ga)){ur=!1;break}vi||(vi="constructor"==Un)}if(ur&&!vi){var Ms=M.constructor,ma=B.constructor;Ms!=ma&&"constructor"in M&&"constructor"in B&&!("function"==typeof Ms&&Ms instanceof Ms&&"function"==typeof ma&&ma instanceof ma)&&(ur=!1)}return We.delete(M),We.delete(B),ur}(M,B,q,ye,De,We))}(M,B,q,ye,cd,De))}function Dy(M,B,q,ye){var De=q.length,We=De,ot=!ye;if(null==M)return!We;for(M=no(M);De--;){var pt=q[De];if(ot&&pt[2]?pt[1]!==M[pt[0]]:!(pt[0]in M))return!1}for(;++De<We;){var Tt=(pt=q[De])[0],on=M[Tt],an=pt[1];if(ot&&pt[2]){if(on===Z&&!(Tt in M))return!1}else{var pn=new La;if(ye)var Un=ye(on,an,Tt,M,B,pn);if(!(Un===Z?cd(an,on,3,ye,pn):Un))return!1}}return!0}function ud(M){return!(!co(M)||function rP(M){return!!Nx&&Nx in M}(M))&&(Ec(M)?XL:Si).test(lh(M))}function wf(M){return"function"==typeof M?M:null==M?pa:"object"==typeof M?Yi(M)?SC(M[0],M[1]):Fy(M):Te(M)}function Py(M){if(!ah(M))return Vx(M);var B=[];for(var q in no(M))Yr.call(M,q)&&"constructor"!=q&&B.push(q);return B}function _g(M,B){return M<B}function Oy(M,B){var q=-1,ye=da(M)?Bt(M.length):[];return bc(M,function(De,We,ot){ye[++q]=B(De,We,ot)}),ye}function Fy(M){var B=oh(M);return 1==B.length&&B[0][2]?dE(B[0][0],B[0][1]):function(q){return q===M||Dy(q,M,B)}}function SC(M,B){return jy(M)&&hE(B)?dE(Hl(M),B):function(q){var ye=zf(q,M);return ye===Z&&ye===B?T0(q,M):cd(B,ye,3)}}function qu(M,B,q,ye,De){M!==B&&bf(B,function(We,ot){if(De||(De=new La),co(We))!function Af(M,B,q,ye,De,We,ot){var pt=Og(M,q),Tt=Og(B,q),on=ot.get(Tt);if(on)xy(M,q,on);else{var an=We?We(pt,Tt,q+"",M,B,ot):Z,pn=an===Z;if(pn){var Un=Yi(Tt),hi=!Un&&du(Tt),ki=!Un&&!hi&&Sd(Tt);an=Tt,Un||hi||ki?Yi(pt)?an=pt:Po(pt)?an=ts(pt):hi?(pn=!1,an=Sf(Tt,!0)):ki?(pn=!1,an=iE(Tt,!0)):an=[]:Vf(Tt)||xc(Tt)?(an=pt,xc(pt)?an=Lw(pt):(!co(pt)||Ec(pt))&&(an=zy(Tt))):pn=!1}pn&&(ot.set(Tt,an),De(an,Tt,ye,We,ot),ot.delete(Tt)),xy(M,q,an)}}(M,B,ot,q,qu,ye,De);else{var pt=ye?ye(Og(M,ot),We,ot+"",M,B,De):Z;pt===Z&&(pt=We),xy(M,ot,pt)}},fa)}function IC(M,B){var q=M.length;if(q)return Bl(B+=B<0?q:0,q)?M[B]:Z}function Ny(M,B,q){B=B.length?eo(B,function(We){return Yi(We)?function(ot){return Fl(ot,1===We.length?We[0]:We)}:We}):[pa];var ye=-1;return B=eo(B,$s(Ti())),function Xh(bt,Vt){var Bt=bt.length;for(bt.sort(Vt);Bt--;)bt[Bt]=bt[Bt].value;return bt}(Oy(M,function(We,ot,pt){return{criteria:eo(B,function(on){return on(We)}),index:++ye,value:We}}),function(We,ot){return function kC(M,B,q){for(var ye=-1,De=M.criteria,We=B.criteria,ot=De.length,pt=q.length;++ye<ot;){var Tt=rE(De[ye],We[ye]);if(Tt)return ye>=pt?Tt:Tt*("desc"==q[ye]?-1:1)}return M.index-B.index}(We,ot,q)})}function Qu(M,B,q){for(var ye=-1,De=B.length,We={};++ye<De;){var ot=B[ye],pt=Fl(M,ot);q(pt,ot)&&fd(We,uu(ot,M),pt)}return We}function Ki(M,B,q,ye){var De=ye?eC:Kh,We=-1,ot=B.length,pt=M;for(M===B&&(B=ts(B)),q&&(pt=eo(M,$s(q)));++We<ot;)for(var Tt=0,on=B[We],an=q?q(on):on;(Tt=De(pt,an,Tt,ye))>-1;)pt!==M&&hg.call(pt,Tt,1),hg.call(M,Tt,1);return M}function bg(M,B){for(var q=M?B.length:0,ye=q-1;q--;){var De=B[q];if(q==ye||De!==We){var We=De;Bl(De)?hg.call(M,De,1):TC(M,De)}}return M}function $y(M,B){return M+fg(pf()*(B-M+1))}function la(M,B){var q="";if(!M||B<1||B>Q)return q;do{B%2&&(q+=M),(B=fg(B/2))&&(M+=M)}while(B);return q}function Xi(M,B){return Xy(Zy(M,B,pa),M+"")}function hd(M){return Sy(Md(M))}function dd(M,B){var q=Md(M);return Tf(q,Xu(B,0,q.length))}function fd(M,B,q,ye){if(!co(M))return M;for(var De=-1,We=(B=uu(B,M)).length,ot=We-1,pt=M;null!=pt&&++De<We;){var Tt=Hl(B[De]),on=q;if("__proto__"===Tt||"constructor"===Tt||"prototype"===Tt)return M;if(De!=ot){var an=pt[Tt];(on=ye?ye(an,Tt,pt):Z)===Z&&(on=co(an)?an:Bl(B[De+1])?[]:{})}es(pt,Tt,on),pt=pt[Tt]}return M}var Cg=pg?function(M,B){return pg.set(M,B),M}:pa,pd=dg?function(M,B){return dg(M,"toString",{configurable:!0,enumerable:!1,value:Rd(B),writable:!0})}:pa;function tP(M){return Tf(Md(M))}function Qa(M,B,q){var ye=-1,De=M.length;B<0&&(B=-B>De?0:De+B),(q=q>De?De:q)<0&&(q+=De),De=B>q?0:q-B>>>0,B>>>=0;for(var We=Bt(De);++ye<De;)We[ye]=M[ye+B];return We}function rn(M,B){var q;return bc(M,function(ye,De,We){return!(q=B(ye,De,We))}),!!q}function By(M,B,q){var ye=0,De=null==M?ye:M.length;if("number"==typeof B&&B==B&&De<=2147483647){for(;ye<De;){var We=ye+De>>>1,ot=M[We];null!==ot&&!ta(ot)&&(q?ot<=B:ot<B)?ye=We+1:De=We}return De}return MC(M,B,pa,q)}function MC(M,B,q,ye){var De=0,We=null==M?0:M.length;if(0===We)return 0;for(var ot=(B=q(B))!=B,pt=null===B,Tt=ta(B),on=B===Z;De<We;){var an=fg((De+We)/2),pn=q(M[an]),Un=pn!==Z,hi=null===pn,ki=pn==pn,ur=ta(pn);if(ot)var vi=ye||ki;else vi=on?ki&&(ye||Un):pt?ki&&Un&&(ye||!hi):Tt?ki&&Un&&!hi&&(ye||!ur):!hi&&!ur&&(ye?pn<=B:pn<B);vi?De=an+1:We=an}return Mr(We,4294967294)}function qx(M,B){for(var q=-1,ye=M.length,De=0,We=[];++q<ye;){var ot=M[q],pt=B?B(ot):ot;if(!q||!ir(pt,Tt)){var Tt=pt;We[De++]=0===ot?0:ot}}return We}function Qx(M){return"number"==typeof M?M:ta(M)?NaN:+M}function el(M){if("string"==typeof M)return M;if(Yi(M))return eo(M,el)+"";if(ta(M))return lC?lC.call(M):"";var B=M+"";return"0"==B&&1/M==-K?"-0":B}function eh(M,B,q){var ye=-1,De=Hu,We=M.length,ot=!0,pt=[],Tt=pt;if(q)ot=!1,De=hf;else if(We>=200){var on=B?null:Uy(M);if(on)return Gu(on);ot=!1,De=Go,Tt=new _c}else Tt=B?[]:pt;e:for(;++ye<We;){var an=M[ye],pn=B?B(an):an;if(an=q||0!==an?an:0,ot&&pn==pn){for(var Un=Tt.length;Un--;)if(Tt[Un]===pn)continue e;B&&Tt.push(pn),pt.push(an)}else De(Tt,pn,q)||(Tt!==pt&&Tt.push(pn),pt.push(an))}return pt}function TC(M,B){return null==(M=Pg(M,B=uu(B,M)))||delete M[Hl(tl(B))]}function gd(M,B,q,ye){return fd(M,B,q(Fl(M,B)),ye)}function Hy(M,B,q,ye){for(var De=M.length,We=ye?De:-1;(ye?We--:++We<De)&&B(M[We],We,M););return q?Qa(M,ye?0:We,ye?We+1:De):Qa(M,ye?We+1:0,ye?De:We)}function eE(M,B){var q=M;return q instanceof qn&&(q=q.value()),fl(B,function(ye,De){return De.func.apply(De.thisArg,fc([ye],De.args))},q)}function Lo(M,B,q){var ye=M.length;if(ye<2)return ye?eh(M[0]):[];for(var De=-1,We=Bt(ye);++De<ye;)for(var ot=M[De],pt=-1;++pt<ye;)pt!=De&&(We[De]=Yu(We[De]||ot,M[pt],B,q));return eh(ko(We,1),B,q)}function wg(M,B,q){for(var ye=-1,De=M.length,We=B.length,ot={};++ye<De;)q(ot,M[ye],ye<We?B[ye]:Z);return ot}function th(M){return Po(M)?M:[]}function RC(M){return"function"==typeof M?M:pa}function uu(M,B){return Yi(M)?M:jy(M,B)?[M]:Fg(Xr(M))}var Pa=Xi;function Hs(M,B,q){var ye=M.length;return q=q===Z?ye:q,!B&&q>=ye?M:Qa(M,B,q)}var Vy=iC||function(M){return hs.clearTimeout(M)};function Sf(M,B){if(B)return M.slice();var q=M.length,ye=$x?$x(q):new M.constructor(q);return M.copy(ye),ye}function nh(M){var B=new M.constructor(M.byteLength);return new td(B).set(new td(M)),B}function iE(M,B){var q=B?nh(M.buffer):M.buffer;return new M.constructor(q,M.byteOffset,M.length)}function rE(M,B){if(M!==B){var q=M!==Z,ye=null===M,De=M==M,We=ta(M),ot=B!==Z,pt=null===B,Tt=B==B,on=ta(B);if(!pt&&!on&&!We&&M>B||We&&ot&&Tt&&!pt&&!on||ye&&ot&&Tt||!q&&Tt||!De)return 1;if(!ye&&!We&&!on&&M<B||on&&q&&De&&!ye&&!We||pt&&q&&De||!ot&&De||!Tt)return-1}return 0}function ca(M,B,q,ye){for(var De=-1,We=M.length,ot=q.length,pt=-1,Tt=B.length,on=ds(We-ot,0),an=Bt(Tt+on),pn=!ye;++pt<Tt;)an[pt]=B[pt];for(;++De<ot;)(pn||De<We)&&(an[q[De]]=M[De]);for(;on--;)an[pt++]=M[De++];return an}function Ag(M,B,q,ye){for(var De=-1,We=M.length,ot=-1,pt=q.length,Tt=-1,on=B.length,an=ds(We-pt,0),pn=Bt(an+on),Un=!ye;++De<an;)pn[De]=M[De];for(var hi=De;++Tt<on;)pn[hi+Tt]=B[Tt];for(;++ot<pt;)(Un||De<We)&&(pn[hi+q[ot]]=M[De++]);return pn}function ts(M,B){var q=-1,ye=M.length;for(B||(B=Bt(ye));++q<ye;)B[q]=M[q];return B}function Cc(M,B,q,ye){var De=!q;q||(q={});for(var We=-1,ot=B.length;++We<ot;){var pt=B[We],Tt=ye?ye(q[pt],M[pt],pt,q,M):Z;Tt===Z&&(Tt=M[pt]),De?Pl(q,pt,Tt):es(q,pt,Tt)}return q}function Sg(M,B){return function(q,ye){var De=Yi(q)?Qr:Ao,We=B?B():{};return De(q,M,Ti(ye,2),We)}}function md(M){return Xi(function(B,q){var ye=-1,De=q.length,We=De>1?q[De-1]:Z,ot=De>2?q[2]:Z;for(We=M.length>3&&"function"==typeof We?(De--,We):Z,ot&&ua(q[0],q[1],ot)&&(We=De<3?Z:We,De=1),B=no(B);++ye<De;){var pt=q[ye];pt&&M(B,pt,ye,We)}return B})}function PC(M,B){return function(q,ye){if(null==q)return q;if(!da(q))return M(q,ye);for(var De=q.length,We=B?De:-1,ot=no(q);(B?We--:++We<De)&&!1!==ye(ot[We],We,ot););return q}}function OC(M){return function(B,q,ye){for(var De=-1,We=no(B),ot=ye(B),pt=ot.length;pt--;){var Tt=ot[M?pt:++De];if(!1===q(We[Tt],Tt,We))break}return B}}function Ig(M){return function(B){var q=wo(B=Xr(B))?Js(B):Z,ye=q?q[0]:B.charAt(0),De=q?Hs(q,1).join(""):B.slice(1);return ye[M]()+De}}function wc(M){return function(B){return fl(OM(Hw(B).replace(ag,"")),M,"")}}function xg(M){return function(){var B=arguments;switch(B.length){case 0:return new M;case 1:return new M(B[0]);case 2:return new M(B[0],B[1]);case 3:return new M(B[0],B[1],B[2]);case 4:return new M(B[0],B[1],B[2],B[3]);case 5:return new M(B[0],B[1],B[2],B[3],B[4]);case 6:return new M(B[0],B[1],B[2],B[3],B[4],B[5]);case 7:return new M(B[0],B[1],B[2],B[3],B[4],B[5],B[6])}var q=rd(M.prototype),ye=M.apply(q,B);return co(ye)?ye:q}}function Eg(M){return function(B,q,ye){var De=no(B);if(!da(B)){var We=Ti(q,3);B=gs(B),q=function(pt){return We(De[pt],pt,De)}}var ot=M(B,q,ye);return ot>-1?De[We?B[ot]:ot]:Z}}function xf(M){return Sc(function(B){var q=B.length,ye=q,De=nn.prototype.thru;for(M&&B.reverse();ye--;){var We=B[ye];if("function"!=typeof We)throw new gl($);if(De&&!ot&&"wrapper"==Ef(We))var ot=new nn([],!0)}for(ye=ot?ye:q;++ye<q;){var pt=Ef(We=B[ye]),Tt="wrapper"==pt?_d(We):Z;ot=Tt&&Mf(Tt[0])&&424==Tt[1]&&!Tt[4].length&&1==Tt[9]?ot[Ef(Tt[0])].apply(ot,Tt[3]):1==We.length&&Mf(We)?ot[pt]():ot.thru(We)}return function(){var on=arguments,an=on[0];if(ot&&1==on.length&&Yi(an))return ot.plant(an).value();for(var pn=0,Un=q?B[pn].apply(this,on):an;++pn<q;)Un=B[pn].call(this,Un);return Un}})}function Mg(M,B,q,ye,De,We,ot,pt,Tt,on){var an=B&l,pn=1&B,Un=2&B,hi=24&B,ki=512&B,ur=Un?Z:xg(M);return function vi(){for(var hr=arguments.length,Tr=Bt(hr),ga=hr;ga--;)Tr[ga]=arguments[ga];if(hi)var Ms=bd(vi),ma=zn(Tr,Ms);if(ye&&(Tr=ca(Tr,ye,De,hi)),We&&(Tr=Ag(Tr,We,ot,hi)),hr-=ma,hi&&hr<on){var So=Hi(Tr,Ms);return Wy(M,B,Mg,vi.placeholder,q,Tr,So,pt,Tt,on-hr)}var yl=pn?q:this,Ws=Un?yl[M]:M;return hr=Tr.length,pt?Tr=GC(Tr,pt):ki&&hr>1&&Tr.reverse(),an&&Tt<hr&&(Tr.length=Tt),this&&this!==hs&&this instanceof vi&&(Ws=ur||xg(Ws)),Ws.apply(yl,Tr)}}function FC(M,B){return function(q,ye){return function ld(M,B,q,ye){return Ol(M,function(De,We,ot){B(ye,q(De),We,ot)}),ye}(q,M,B(ye),{})}}function Tg(M,B){return function(q,ye){var De;if(q===Z&&ye===Z)return B;if(q!==Z&&(De=q),ye!==Z){if(De===Z)return ye;"string"==typeof q||"string"==typeof ye?(q=el(q),ye=el(ye)):(q=Qx(q),ye=Qx(ye)),De=M(q,ye)}return De}}function Rg(M){return Sc(function(B){return B=eo(B,$s(Ti())),Xi(function(q){var ye=this;return M(B,function(De){return go(De,ye,q)})})})}function hu(M,B){var q=(B=B===Z?" ":el(B)).length;if(q<2)return q?la(B,M):B;var ye=la(B,id(M/Do(B)));return wo(B)?Hs(Js(ye),0,M).join(""):ye.slice(0,M)}function NC(M){return function(B,q,ye){return ye&&"number"!=typeof ye&&ua(B,q,ye)&&(q=ye=Z),B=Tc(B),q===Z?(q=B,B=0):q=Tc(q),function EC(M,B,q,ye){for(var De=-1,We=ds(id((B-M)/(q||1)),0),ot=Bt(We);We--;)ot[ye?We:++De]=M,M+=q;return ot}(B,q,ye=ye===Z?B<q?1:-1:Tc(ye),M)}}function At(M){return function(B,q){return"string"==typeof B&&"string"==typeof q||(B=Fa(B),q=Fa(q)),M(B,q)}}function Wy(M,B,q,ye,De,We,ot,pt,Tt,on){var an=8&B;B|=an?h:64,4&(B&=~(an?64:h))||(B&=-4);var ur=[M,B,De,an?We:Z,an?ot:Z,an?Z:We,an?Z:ot,pt,Tt,on],vi=q.apply(Z,ur);return Mf(M)&&Ky(vi,ur),vi.placeholder=ye,zC(vi,M,B)}function Kr(M){var B=qo[M];return function(q,ye){if(q=Fa(q),(ye=null==ye?0:Mr(er(ye),292))&&oC(q)){var De=(Xr(q)+"e").split("e");return+((De=(Xr(B(De[0]+"e"+(+De[1]+ye)))+"e").split("e"))[0]+"e"+(+De[1]-ye))}return B(q)}}var Uy=fs&&1/Gu(new fs([,-0]))[1]==K?function(M){return new fs(M)}:jf;function yd(M){return function(B){var q=Qs(B);return q==de?Uu(B):q==Pe?function Qh(bt){var Vt=-1,Bt=Array(bt.size);return bt.forEach(function(Xn){Bt[++Vt]=[Xn,Xn]}),Bt}(B):function sy(bt,Vt){return eo(Vt,function(Bt){return[Bt,bt[Bt]]})}(B,M(B))}}function Ac(M,B,q,ye,De,We,ot,pt){var Tt=2&B;if(!Tt&&"function"!=typeof M)throw new gl($);var on=ye?ye.length:0;if(on||(B&=-97,ye=De=Z),ot=ot===Z?ot:ds(er(ot),0),pt=pt===Z?pt:er(pt),on-=De?De.length:0,64&B){var an=ye,pn=De;ye=De=Z}var Un=Tt?Z:_d(M),hi=[M,B,q,ye,De,an,pn,We,ot,pt];if(Un&&function aP(M,B){var q=M[1],ye=B[1],De=q|ye;if(!(De<131||(ye==l&&8==q||ye==l&&256==q&&M[7].length<=B[8]||384==ye&&B[7].length<=B[8]&&8==q)))return M;1&ye&&(M[2]=B[2],De|=1&q?0:4);var pt=B[3];if(pt){var Tt=M[3];M[3]=Tt?ca(Tt,pt,B[4]):pt,M[4]=Tt?Hi(M[3],R):B[4]}(pt=B[5])&&(M[5]=(Tt=M[5])?Ag(Tt,pt,B[6]):pt,M[6]=Tt?Hi(M[5],R):B[6]),(pt=B[7])&&(M[7]=pt),ye&l&&(M[8]=null==M[8]?B[8]:Mr(M[8],B[8])),null==M[9]&&(M[9]=B[9]),M[0]=B[0],M[1]=De}(hi,Un),M=hi[0],B=hi[1],q=hi[2],ye=hi[3],De=hi[4],!(pt=hi[9]=hi[9]===Z?Tt?0:M.length:ds(hi[9]-on,0))&&24&B&&(B&=-25),B&&1!=B)ki=8==B||16==B?function If(M,B,q){var ye=xg(M);return function De(){for(var We=arguments.length,ot=Bt(We),pt=We,Tt=bd(De);pt--;)ot[pt]=arguments[pt];var on=We<3&&ot[0]!==Tt&&ot[We-1]!==Tt?[]:Hi(ot,Tt);return(We-=on.length)<q?Wy(M,B,Mg,De.placeholder,Z,ot,on,Z,Z,q-We):go(this&&this!==hs&&this instanceof De?ye:M,this,ot)}}(M,B,pt):B!=h&&33!=B||De.length?Mg.apply(Z,hi):function vd(M,B,q,ye){var De=1&B,We=xg(M);return function ot(){for(var pt=-1,Tt=arguments.length,on=-1,an=ye.length,pn=Bt(an+Tt),Un=this&&this!==hs&&this instanceof ot?We:M;++on<an;)pn[on]=ye[on];for(;Tt--;)pn[on++]=arguments[++pt];return go(Un,De?q:this,pn)}}(M,B,q,ye);else var ki=function sE(M,B,q){var ye=1&B,De=xg(M);return function We(){return(this&&this!==hs&&this instanceof We?De:M).apply(ye?q:this,arguments)}}(M,B,q);return zC((Un?Cg:Ky)(ki,hi),M,B)}function $C(M,B,q,ye){return M===Z||ir(M,ff[q])&&!Yr.call(ye,q)?B:M}function BC(M,B,q,ye,De,We){return co(M)&&co(B)&&(We.set(B,M),qu(M,B,Z,BC,We),We.delete(B)),M}function Gy(M){return Vf(M)?Z:M}function $l(M,B,q,ye,De,We){var ot=1&q,pt=M.length,Tt=B.length;if(pt!=Tt&&!(ot&&Tt>pt))return!1;var on=We.get(M),an=We.get(B);if(on&&an)return on==B&&an==M;var pn=-1,Un=!0,hi=2&q?new _c:Z;for(We.set(M,B),We.set(B,M);++pn<pt;){var ki=M[pn],ur=B[pn];if(ye)var vi=ot?ye(ur,ki,pn,B,M,We):ye(ki,ur,pn,M,B,We);if(vi!==Z){if(vi)continue;Un=!1;break}if(hi){if(!ry(B,function(hr,Tr){if(!Go(hi,Tr)&&(ki===hr||De(ki,hr,q,ye,We)))return hi.push(Tr)})){Un=!1;break}}else if(ki!==ur&&!De(ki,ur,q,ye,We)){Un=!1;break}}return We.delete(M),We.delete(B),Un}function Sc(M){return Xy(Zy(M,Z,e0),M+"")}function Dg(M){return Ty(M,gs,kg)}function rh(M){return Ty(M,fa,VC)}var _d=pg?function(M){return pg.get(M)}:jf;function Ef(M){for(var B=M.name+"",q=ka[B],ye=Yr.call(ka,B)?q.length:0;ye--;){var De=q[ye],We=De.func;if(null==We||We==M)return De.name}return B}function bd(M){return(Yr.call(Ne,"placeholder")?Ne:M).placeholder}function Ti(){var M=Ne.iteratee||O0;return M=M===O0?wf:M,arguments.length?M(arguments[0],arguments[1]):M}function Ic(M,B){var q=M.__data__;return function uE(M){var B=typeof M;return"string"==B||"number"==B||"symbol"==B||"boolean"==B?"__proto__"!==M:null===M}(B)?q["string"==typeof B?"string":"hash"]:q.map}function oh(M){for(var B=gs(M),q=B.length;q--;){var ye=B[q],De=M[ye];B[q]=[ye,De,hE(De)]}return B}function sh(M,B){var q=function Vu(bt,Vt){return null==bt?Z:bt[Vt]}(M,B);return ud(q)?q:Z}var kg=sa?function(M){return null==M?[]:(M=no(M),gr(sa(M),function(B){return ru.call(M,B)}))}:Na,VC=sa?function(M){for(var B=[];M;)fc(B,kg(M)),M=py(M);return B}:Na,Qs=Bs;function WC(M,B,q){for(var ye=-1,De=(B=uu(B,M)).length,We=!1;++ye<De;){var ot=Hl(B[ye]);if(!(We=null!=M&&q(M,ot)))break;M=M[ot]}return We||++ye!=De?We:!!(De=null==M?0:M.length)&&Bf(De)&&Bl(ot,De)&&(Yi(M)||xc(M))}function zy(M){return"function"!=typeof M.constructor||ah(M)?{}:rd(py(M))}function iP(M){return Yi(M)||xc(M)||!!(lo&&M&&M[lo])}function Bl(M,B){var q=typeof M;return!!(B=null==B?Q:B)&&("number"==q||"symbol"!=q&&Zn.test(M))&&M>-1&&M%1==0&&M<B}function ua(M,B,q){if(!co(q))return!1;var ye=typeof B;return!!("number"==ye?da(q)&&Bl(B,q.length):"string"==ye&&B in q)&&ir(q[B],M)}function jy(M,B){if(Yi(M))return!1;var q=typeof M;return!("number"!=q&&"symbol"!=q&&"boolean"!=q&&null!=M&&!ta(M))||Er.test(M)||!Di.test(M)||null!=B&&M in no(B)}function Mf(M){var B=Ef(M),q=Ne[B];if("function"!=typeof q||!(B in qn.prototype))return!1;if(M===q)return!0;var ye=_d(q);return!!ye&&M===ye[0]}(vy&&Qs(new vy(new ArrayBuffer(1)))!=Kt||Ku&&Qs(new Ku)!=de||ou&&Qs(ou.resolve())!=le||fs&&Qs(new fs)!=Pe||gf&&Qs(new gf)!=Zt)&&(Qs=function(M){var B=Bs(M),q=B==re?M.constructor:Z,ye=q?lh(q):"";if(ye)switch(ye){case sC:return Kt;case yy:return de;case ji:return le;case aC:return Pe;case JL:return Zt}return B});var oP=uy?Ec:Yg;function ah(M){var B=M&&M.constructor;return M===("function"==typeof B&&B.prototype||ff)}function hE(M){return M==M&&!co(M)}function dE(M,B){return function(q){return null!=q&&q[M]===B&&(B!==Z||M in no(q))}}function Zy(M,B,q){return B=ds(B===Z?M.length-1:B,0),function(){for(var ye=arguments,De=-1,We=ds(ye.length-B,0),ot=Bt(We);++De<We;)ot[De]=ye[B+De];De=-1;for(var pt=Bt(B+1);++De<B;)pt[De]=ye[De];return pt[B]=q(ot),go(M,this,pt)}}function Pg(M,B){return B.length<2?M:Fl(M,Qa(B,0,-1))}function GC(M,B){for(var q=M.length,ye=Mr(B.length,q),De=ts(M);ye--;){var We=B[ye];M[ye]=Bl(We,q)?De[We]:Z}return M}function Og(M,B){if(("constructor"!==B||"function"!=typeof M[B])&&"__proto__"!=B)return M[B]}var Ky=jC(Cg),ps=Hx||function(M,B){return hs.setTimeout(M,B)},Xy=jC(pd);function zC(M,B,q){var ye=B+"";return Xy(M,function UC(M,B){var q=B.length;if(!q)return M;var ye=q-1;return B[ye]=(q>1?"& ":"")+B[ye],B=B.join(q>2?", ":" "),M.replace(at,"{\n/* [wrapped with "+B+"] */\n")}(ye,function pE(M,B){return dl(Y,function(q){var ye="_."+q[0];B&q[1]&&!Hu(M,ye)&&M.push(ye)}),M.sort()}(function lE(M){var B=M.match(Dt);return B?B[1].split(Oe):[]}(ye),q)))}function jC(M){var B=0,q=0;return function(){var ye=Wx(),De=16-(ye-q);if(q=ye,De>0){if(++B>=800)return arguments[0]}else B=0;return M.apply(Z,arguments)}}function Tf(M,B){var q=-1,ye=M.length,De=ye-1;for(B=B===Z?ye:B;++q<B;){var We=$y(q,De),ot=M[We];M[We]=M[q],M[q]=ot}return M.length=B,M}var Fg=function sP(M){var B=Ff(M,function(ye){return 500===q.size&&q.clear(),ye}),q=B.cache;return B}(function(M){var B=[];return 46===M.charCodeAt(0)&&B.push(""),M.replace(oo,function(q,ye,De,We){B.push(De?We.replace(Et,"$1"):ye||q)}),B});function Hl(M){if("string"==typeof M||ta(M))return M;var B=M+"";return"0"==B&&1/M==-K?"-0":B}function lh(M){if(null!=M){try{return hy.call(M)}catch(B){}try{return M+""}catch(B){}}return""}function Yy(M){if(M instanceof qn)return M.clone();var B=new nn(M.__wrapped__,M.__chain__);return B.__actions__=ts(M.__actions__),B.__index__=M.__index__,B.__values__=M.__values__,B}var Jy=Xi(function(M,B){return Po(M)?Yu(M,ko(B,1,Po,!0)):[]}),ZC=Xi(function(M,B){var q=tl(B);return Po(q)&&(q=Z),Po(M)?Yu(M,ko(B,1,Po,!0),Ti(q,2)):[]}),qy=Xi(function(M,B){var q=tl(B);return Po(q)&&(q=Z),Po(M)?Yu(M,ko(B,1,Po,!0),Z,q):[]});function Qy(M,B,q){var ye=null==M?0:M.length;if(!ye)return-1;var De=null==q?0:er(q);return De<0&&(De=ds(ye+De,0)),ui(M,Ti(B,3),De)}function XC(M,B,q){var ye=null==M?0:M.length;if(!ye)return-1;var De=ye-1;return q!==Z&&(De=er(q),De=q<0?ds(ye+De,0):Mr(De,ye-1)),ui(M,Ti(B,3),De,!0)}function e0(M){return null!=M&&M.length?ko(M,1):[]}function JC(M){return M&&M.length?M[0]:Z}var CE=Xi(function(M){var B=eo(M,th);return B.length&&B[0]===M[0]?Ry(B):[]}),qC=Xi(function(M){var B=tl(M),q=eo(M,th);return B===tl(q)?B=Z:q.pop(),q.length&&q[0]===M[0]?Ry(q,Ti(B,2)):[]}),wE=Xi(function(M){var B=tl(M),q=eo(M,th);return(B="function"==typeof B?B:Z)&&q.pop(),q.length&&q[0]===M[0]?Ry(q,Z,B):[]});function tl(M){var B=null==M?0:M.length;return B?M[B-1]:Z}var o0=Xi(s0);function s0(M,B){return M&&M.length&&B&&B.length?Ki(M,B):M}var a0=Sc(function(M,B){var q=null==M?0:M.length,ye=Ey(M,B);return bg(M,eo(B,function(De){return Bl(De,q)?+De:De}).sort(rE)),ye});function l0(M){return null==M?M:Da.call(M)}var iw=Xi(function(M){return eh(ko(M,1,Po,!0))}),ch=Xi(function(M){var B=tl(M);return Po(B)&&(B=Z),eh(ko(M,1,Po,!0),Ti(B,2))}),rw=Xi(function(M){var B=tl(M);return B="function"==typeof B?B:Z,eh(ko(M,1,Po,!0),Z,B)});function wd(M){if(!M||!M.length)return[];var B=0;return M=gr(M,function(q){if(Po(q))return B=ds(q.length,B),!0}),Yh(B,function(q){return eo(M,jr(q))})}function sw(M,B){if(!M||!M.length)return[];var q=wd(M);return null==B?q:eo(q,function(ye){return go(B,Z,ye)})}var aw=Xi(function(M,B){return Po(M)?Yu(M,B):[]}),lw=Xi(function(M){return Lo(gr(M,Po))}),cw=Xi(function(M){var B=tl(M);return Po(B)&&(B=Z),Lo(gr(M,Po),Ti(B,2))}),d0=Xi(function(M){var B=tl(M);return B="function"==typeof B?B:Z,Lo(gr(M,Po),Z,B)}),uw=Xi(wd),hw=Xi(function(M){var B=M.length,q=B>1?M[B-1]:Z;return q="function"==typeof q?(M.pop(),q):Z,sw(M,q)});function Bg(M){var B=Ne(M);return B.__chain__=!0,B}function Ad(M,B){return B(M)}var kf=Sc(function(M){var B=M.length,q=B?M[0]:0,ye=this.__wrapped__,De=function(We){return Ey(We,M)};return!(B>1||this.__actions__.length)&&ye instanceof qn&&Bl(q)?((ye=ye.slice(q,+q+(B?1:0))).__actions__.push({func:Ad,args:[De],thisArg:Z}),new nn(ye,this.__chain__).thru(function(We){return B&&!We.length&&We.push(Z),We})):this.thru(De)}),g0=Sg(function(M,B,q){Yr.call(M,q)?++M[q]:Pl(M,q,1)}),NE=Eg(Qy),hP=Eg(XC);function v0(M,B){return(Yi(M)?dl:bc)(M,Ti(B,3))}function Lf(M,B){return(Yi(M)?GL:mC)(M,Ti(B,3))}var y0=Sg(function(M,B,q){Yr.call(M,q)?M[q].push(B):Pl(M,q,[B])}),gw=Xi(function(M,B,q){var ye=-1,De="function"==typeof B,We=da(M)?Bt(M.length):[];return bc(M,function(ot){We[++ye]=De?go(B,ot,q):Ju(ot,B,q)}),We}),mw=Sg(function(M,B,q){Pl(M,q,B)});function Vl(M,B){return(Yi(M)?eo:Oy)(M,Ti(B,3))}var VE=Sg(function(M,B,q){M[q?0:1].push(B)},function(){return[[],[]]}),KE=Xi(function(M,B){if(null==M)return[];var q=B.length;return q>1&&ua(M,B[0],B[1])?B=[]:q>2&&ua(B[0],B[1],B[2])&&(B=[B[0]]),Ny(M,ko(B,1),[])}),Vg=rC||function(){return hs.Date.now()};function _0(M,B,q){return B=q?Z:B,Ac(M,l,Z,Z,Z,Z,B=M&&null==B?M.length:B)}function vw(M,B){var q;if("function"!=typeof B)throw new gl($);return M=er(M),function(){return--M>0&&(q=B.apply(this,arguments)),M<=1&&(B=Z),q}}var b0=Xi(function(M,B,q){var ye=1;if(q.length){var De=Hi(q,bd(b0));ye|=h}return Ac(M,ye,B,q,De)}),yw=Xi(function(M,B,q){var ye=3;if(q.length){var De=Hi(q,bd(yw));ye|=h}return Ac(B,ye,M,q,De)});function Ul(M,B,q){var ye,De,We,ot,pt,Tt,on=0,an=!1,pn=!1,Un=!0;if("function"!=typeof M)throw new gl($);function hi(So){var yl=ye,Ws=De;return ye=De=Z,on=So,ot=M.apply(Ws,yl)}function ki(So){return on=So,pt=ps(hr,B),an?hi(So):ot}function vi(So){var yl=So-Tt;return Tt===Z||yl>=B||yl<0||pn&&So-on>=We}function hr(){var So=Vg();if(vi(So))return Tr(So);pt=ps(hr,function ur(So){var U0=B-(So-Tt);return pn?Mr(U0,We-(So-on)):U0}(So))}function Tr(So){return pt=Z,Un&&ye?hi(So):(ye=De=Z,ot)}function ma(){var So=Vg(),yl=vi(So);if(ye=arguments,De=this,Tt=So,yl){if(pt===Z)return ki(Tt);if(pn)return Vy(pt),pt=ps(hr,B),hi(Tt)}return pt===Z&&(pt=ps(hr,B)),ot}return B=Fa(B)||0,co(q)&&(an=!!q.leading,We=(pn="maxWait"in q)?ds(Fa(q.maxWait)||0,B):We,Un="trailing"in q?!!q.trailing:Un),ma.cancel=function ga(){pt!==Z&&Vy(pt),on=0,ye=Tt=De=pt=Z},ma.flush=function Ms(){return pt===Z?ot:Tr(Vg())},ma}var Of=Xi(function(M,B){return _f(M,1,B)}),bw=Xi(function(M,B,q){return _f(M,Fa(B)||0,q)});function Ff(M,B){if("function"!=typeof M||null!=B&&"function"!=typeof B)throw new gl($);var q=function(){var ye=arguments,De=B?B.apply(this,ye):ye[0],We=q.cache;if(We.has(De))return We.get(De);var ot=M.apply(this,ye);return q.cache=We.set(De,ot)||We,ot};return q.cache=new(Ff.Cache||aa),q}function C0(M){if("function"!=typeof M)throw new gl($);return function(){var B=arguments;switch(B.length){case 0:return!M.call(this);case 1:return!M.call(this,B[0]);case 2:return!M.call(this,B[0],B[1]);case 3:return!M.call(this,B[0],B[1],B[2])}return!M.apply(this,B)}}Ff.Cache=aa;var fP=Pa(function(M,B){var q=(B=1==B.length&&Yi(B[0])?eo(B[0],$s(Ti())):eo(ko(B,1),$s(Ti()))).length;return Xi(function(ye){for(var De=-1,We=Mr(ye.length,q);++De<We;)ye[De]=B[De].call(this,ye[De]);return go(M,this,ye)})}),Nf=Xi(function(M,B){var q=Hi(B,bd(Nf));return Ac(M,h,Z,B,q)}),Wg=Xi(function(M,B){var q=Hi(B,bd(Wg));return Ac(M,64,Z,B,q)}),pP=Sc(function(M,B){return Ac(M,256,Z,Z,Z,B)});function ir(M,B){return M===B||M!=M&&B!=B}var ha=At(sd),tM=At(function(M,B){return M>=B}),xc=Cf(function(){return arguments}())?Cf:function(M){return Oo(M)&&Yr.call(M,"callee")&&!ru.call(M,"callee")},Yi=Bt.isArray,nM=iy?$s(iy):function eP(M){return Oo(M)&&Bs(M)==tn};function da(M){return null!=M&&Bf(M.length)&&!Ec(M)}function Po(M){return Oo(M)&&da(M)}var du=gy||Yg,mP=Dx?$s(Dx):function wC(M){return Oo(M)&&Bs(M)==Ae};function Gg(M){if(!Oo(M))return!1;var B=Bs(M);return B==xe||"[object DOMException]"==B||"string"==typeof M.message&&"string"==typeof M.name&&!Vf(M)}function Ec(M){if(!co(M))return!1;var B=Bs(M);return B==Ee||B==ie||"[object AsyncFunction]"==B||"[object Proxy]"==B}function S0(M){return"number"==typeof M&&M==er(M)}function Bf(M){return"number"==typeof M&&M>-1&&M%1==0&&M<=Q}function co(M){var B=typeof M;return null!=M&&("object"==B||"function"==B)}function Oo(M){return null!=M&&"object"==typeof M}var Ew=dc?$s(dc):function Nl(M){return Oo(M)&&Qs(M)==de};function Hf(M){return"number"==typeof M||Oo(M)&&Bs(M)==me}function Vf(M){if(!Oo(M)||Bs(M)!=re)return!1;var B=py(M);if(null===B)return!0;var q=Yr.call(B,"constructor")&&B.constructor;return"function"==typeof q&&q instanceof q&&hy.call(q)==ZL}var Wf=Ja?$s(Ja):function ky(M){return Oo(M)&&Bs(M)==we},Mc=kx?$s(kx):function Ly(M){return Oo(M)&&Qs(M)==Pe};function Uf(M){return"string"==typeof M||!Yi(M)&&Oo(M)&&Bs(M)==Ue}function ta(M){return"symbol"==typeof M||Oo(M)&&Bs(M)==dt}var Sd=Lx?$s(Lx):function yg(M){return Oo(M)&&Bf(M.length)&&!!ao[Bs(M)]},sM=At(_g),aM=At(function(M,B){return M<=B});function Dw(M){if(!M)return[];if(da(M))return Uf(M)?Js(M):ts(M);if(nd&&M[nd])return function xo(bt){for(var Vt,Bt=[];!(Vt=bt.next()).done;)Bt.push(Vt.value);return Bt}(M[nd]());var B=Qs(M);return(B==de?Uu:B==Pe?Gu:Md)(M)}function Tc(M){return M?(M=Fa(M))===K||M===-K?17976931348623157e292*(M<0?-1:1):M==M?M:0:0===M?M:0}function er(M){var B=Tc(M),q=B%1;return B==B?q?B-q:B:0}function kw(M){return M?Xu(er(M),0,pe):0}function Fa(M){if("number"==typeof M)return M;if(ta(M))return NaN;if(co(M)){var B="function"==typeof M.valueOf?M.valueOf():M;M=co(B)?B+"":B}if("string"!=typeof M)return 0===M?M:+M;M=Jh(M);var q=fi.test(M);return q||Bi.test(M)?Jb(M.slice(2),q?2:8):An.test(M)?NaN:+M}function Lw(M){return Cc(M,fa(M))}function Xr(M){return null==M?"":el(M)}var lM=md(function(M,B){if(ah(B)||da(B))Cc(B,gs(B),M);else for(var q in B)Yr.call(B,q)&&es(M,q,B[q])}),Rc=md(function(M,B){Cc(B,fa(B),M)}),jg=md(function(M,B,q,ye){Cc(B,fa(B),M,ye)}),xd=md(function(M,B,q,ye){Cc(B,gs(B),M,ye)}),ci=Sc(Ey),yP=Xi(function(M,B){M=no(M);var q=-1,ye=B.length,De=ye>2?B[2]:Z;for(De&&ua(B[0],B[1],De)&&(ye=1);++q<ye;)for(var We=B[q],ot=fa(We),pt=-1,Tt=ot.length;++pt<Tt;){var on=ot[pt],an=M[on];(an===Z||ir(an,ff[on])&&!Yr.call(M,on))&&(M[on]=We[on])}return M}),Gf=Xi(function(M){return M.push(Z,BC),go(Ow,Z,M)});function zf(M,B,q){var ye=null==M?Z:Fl(M,B);return ye===Z?q:ye}function T0(M,B){return null!=M&&WC(M,B,CC)}var pM=FC(function(M,B,q){null!=B&&"function"!=typeof B.toString&&(B=dy.call(B)),M[B]=q},Rd(pa)),gM=FC(function(M,B,q){null!=B&&"function"!=typeof B.toString&&(B=dy.call(B)),Yr.call(M,B)?M[B].push(q):M[B]=[q]},Ti),mM=Xi(Ju);function gs(M){return da(M)?Ay(M):Py(M)}function fa(M){return da(M)?Ay(M,!0):function AC(M){if(!co(M))return function lP(M){var B=[];if(null!=M)for(var q in no(M))B.push(q);return B}(M);var B=ah(M),q=[];for(var ye in M)"constructor"==ye&&(B||!Yr.call(M,ye))||q.push(ye);return q}(M)}var kc=md(function(M,B,q){qu(M,B,q)}),Ow=md(function(M,B,q,ye){qu(M,B,q,ye)}),yM=Sc(function(M,B){var q={};if(null==M)return q;var ye=!1;B=eo(B,function(We){return We=uu(We,M),ye||(ye=We.length>1),We}),Cc(M,rh(M),q),ye&&(q=qa(q,7,Gy));for(var De=B.length;De--;)TC(q,B[De]);return q}),bP=Sc(function(M,B){return null==M?{}:function xC(M,B){return Qu(M,B,function(q,ye){return T0(M,ye)})}(M,B)});function R0(M,B){if(null==M)return{};var q=eo(rh(M),function(ye){return[ye]});return B=Ti(B),Qu(M,q,function(ye,De){return B(ye,De[0])})}var D0=yd(gs),Nw=yd(fa);function Md(M){return null==M?[]:pc(M,gs(M))}var SM=wc(function(M,B,q){return B=B.toLowerCase(),M+(q?k0(B):B)});function k0(M){return Zg(Xr(M).toLowerCase())}function Hw(M){return(M=Xr(M))&&M.replace(Mi,nr).replace(ey,"")}var Be=wc(function(M,B,q){return M+(q?"-":"")+B.toLowerCase()}),Vw=wc(function(M,B,q){return M+(q?" ":"")+B.toLowerCase()}),Ww=Ig("toLowerCase"),DM=wc(function(M,B,q){return M+(q?"_":"")+B.toLowerCase()}),zw=wc(function(M,B,q){return M+(q?" ":"")+Zg(B)}),PM=wc(function(M,B,q){return M+(q?" ":"")+B.toUpperCase()}),Zg=Ig("toUpperCase");function OM(M,B,q){return M=Xr(M),(B=q?Z:B)===Z?function Wu(bt){return xx.test(bt)}(M)?function to(bt){return bt.match(Wr)||[]}(M):function Qb(bt){return bt.match(Fe)||[]}(M):M.match(B)||[]}var Zw=Xi(function(M,B){try{return go(M,Z,B)}catch(q){return Gg(q)?q:new Vi(q)}}),Td=Sc(function(M,B){return dl(B,function(q){q=Hl(q),Pl(M,q,b0(M[q],M))}),M});function Rd(M){return function(){return M}}var Xw=xf(),$M=xf(!0);function pa(M){return M}function O0(M){return wf("function"==typeof M?M:qa(M,1))}var Yw=Xi(function(M,B){return function(q){return Ju(q,M,B)}}),VM=Xi(function(M,B){return function(q){return Ju(M,q,B)}});function Kg(M,B,q){var ye=gs(B),De=My(B,ye);null==q&&(!co(B)||!De.length&&ye.length)&&(q=B,B=M,M=this,De=My(B,gs(B)));var We=!(co(q)&&"chain"in q&&!q.chain),ot=Ec(M);return dl(De,function(pt){var Tt=B[pt];M[pt]=Tt,ot&&(M.prototype[pt]=function(){var on=this.__chain__;if(We||on){var an=M(this.__wrapped__),pn=an.__actions__=ts(this.__actions__);return pn.push({func:Tt,args:arguments,thisArg:M}),an.__chain__=on,an}return Tt.apply(M,fc([this.value()],arguments))})}),M}function jf(){}var F0=Rg(eo),WM=Rg(Bu),MP=Rg(ry);function Te(M){return jy(M)?jr(Hl(M)):function Jx(M){return function(B){return Fl(B,M)}}(M)}var qw=NC(),Xg=NC(!0);function Na(){return[]}function Yg(){return!1}var TP=Tg(function(M,B){return M+B},0),e1=Kr("ceil"),RP=Tg(function(M,B){return M/B},1),Jg=Kr("floor"),zM=Tg(function(M,B){return M*B},1),jM=Kr("round"),ZM=Tg(function(M,B){return M-B},0);return Ne.after=function XE(M,B){if("function"!=typeof B)throw new gl($);return M=er(M),function(){if(--M<1)return B.apply(this,arguments)}},Ne.ary=_0,Ne.assign=lM,Ne.assignIn=Rc,Ne.assignInWith=jg,Ne.assignWith=xd,Ne.at=ci,Ne.before=vw,Ne.bind=b0,Ne.bindAll=Td,Ne.bindKey=yw,Ne.castArray=function QE(){if(!arguments.length)return[];var M=arguments[0];return Yi(M)?M:[M]},Ne.chain=Bg,Ne.chunk=function gE(M,B,q){B=(q?ua(M,B,q):B===Z)?1:ds(er(B),0);var ye=null==M?0:M.length;if(!ye||B<1)return[];for(var De=0,We=0,ot=Bt(id(ye/B));De<ye;)ot[We++]=Qa(M,De,De+=B);return ot},Ne.compact=function mE(M){for(var B=-1,q=null==M?0:M.length,ye=0,De=[];++B<q;){var We=M[B];We&&(De[ye++]=We)}return De},Ne.concat=function ea(){var M=arguments.length;if(!M)return[];for(var B=Bt(M-1),q=arguments[0],ye=M;ye--;)B[ye-1]=arguments[ye];return fc(Yi(q)?ts(q):[q],ko(B,1))},Ne.cond=function FM(M){var B=null==M?0:M.length,q=Ti();return M=B?eo(M,function(ye){if("function"!=typeof ye[1])throw new gl($);return[q(ye[0]),ye[1]]}):[],Xi(function(ye){for(var De=-1;++De<B;){var We=M[De];if(go(We[0],this,ye))return go(We[1],this,ye)}})},Ne.conforms=function Kw(M){return function vg(M){var B=gs(M);return function(q){return yf(q,M,B)}}(qa(M,1))},Ne.constant=Rd,Ne.countBy=g0,Ne.create=function cM(M,B){var q=rd(M);return null==B?q:od(q,B)},Ne.curry=function _w(M,B,q){var ye=Ac(M,8,Z,Z,Z,Z,Z,B=q?Z:B);return ye.placeholder=_w.placeholder,ye},Ne.curryRight=function Pf(M,B,q){var ye=Ac(M,16,Z,Z,Z,Z,Z,B=q?Z:B);return ye.placeholder=Pf.placeholder,ye},Ne.debounce=Ul,Ne.defaults=yP,Ne.defaultsDeep=Gf,Ne.defer=Of,Ne.delay=bw,Ne.difference=Jy,Ne.differenceBy=ZC,Ne.differenceWith=qy,Ne.drop=function Vs(M,B,q){var ye=null==M?0:M.length;return ye?Qa(M,(B=q||B===Z?1:er(B))<0?0:B,ye):[]},Ne.dropRight=function Rf(M,B,q){var ye=null==M?0:M.length;return ye?Qa(M,0,(B=ye-(B=q||B===Z?1:er(B)))<0?0:B):[]},Ne.dropRightWhile=function KC(M,B){return M&&M.length?Hy(M,Ti(B,3),!0,!0):[]},Ne.dropWhile=function vE(M,B){return M&&M.length?Hy(M,Ti(B,3),!0):[]},Ne.fill=function yE(M,B,q,ye){var De=null==M?0:M.length;return De?(q&&"number"!=typeof q&&ua(M,B,q)&&(q=0,ye=De),function Xx(M,B,q,ye){var De=M.length;for((q=er(q))<0&&(q=-q>De?0:De+q),(ye=ye===Z||ye>De?De:er(ye))<0&&(ye+=De),ye=q>ye?0:kw(ye);q<ye;)M[q++]=B;return M}(M,B,q,ye)):[]},Ne.filter=function FE(M,B){return(Yi(M)?gr:vC)(M,Ti(B,3))},Ne.flatMap=function $E(M,B){return ko(Vl(M,B),1)},Ne.flatMapDeep=function m0(M,B){return ko(Vl(M,B),K)},Ne.flatMapDepth=function BE(M,B,q){return q=q===Z?1:er(q),ko(Vl(M,B),q)},Ne.flatten=e0,Ne.flattenDeep=function _E(M){return null!=M&&M.length?ko(M,K):[]},Ne.flattenDepth=function YC(M,B){return null!=M&&M.length?ko(M,B=B===Z?1:er(B)):[]},Ne.flip=function Cw(M){return Ac(M,512)},Ne.flow=Xw,Ne.flowRight=$M,Ne.fromPairs=function bE(M){for(var B=-1,q=null==M?0:M.length,ye={};++B<q;){var De=M[B];ye[De[0]]=De[1]}return ye},Ne.functions=function M0(M){return null==M?[]:My(M,gs(M))},Ne.functionsIn=function fM(M){return null==M?[]:My(M,fa(M))},Ne.groupBy=y0,Ne.initial=function n0(M){return null!=M&&M.length?Qa(M,0,-1):[]},Ne.intersection=CE,Ne.intersectionBy=qC,Ne.intersectionWith=wE,Ne.invert=pM,Ne.invertBy=gM,Ne.invokeMap=gw,Ne.iteratee=O0,Ne.keyBy=mw,Ne.keys=gs,Ne.keysIn=fa,Ne.map=Vl,Ne.mapKeys=function vM(M,B){var q={};return B=Ti(B,3),Ol(M,function(ye,De,We){Pl(q,B(ye,De,We),ye)}),q},Ne.mapValues=function Ed(M,B){var q={};return B=Ti(B,3),Ol(M,function(ye,De,We){Pl(q,De,B(ye,De,We))}),q},Ne.matches=function BM(M){return Fy(qa(M,1))},Ne.matchesProperty=function HM(M,B){return SC(M,qa(B,1))},Ne.memoize=Ff,Ne.merge=kc,Ne.mergeWith=Ow,Ne.method=Yw,Ne.methodOf=VM,Ne.mixin=Kg,Ne.negate=C0,Ne.nthArg=function EP(M){return M=er(M),Xi(function(B){return IC(B,M)})},Ne.omit=yM,Ne.omitBy=function _P(M,B){return R0(M,C0(Ti(B)))},Ne.once=function dP(M){return vw(2,M)},Ne.orderBy=function HE(M,B,q,ye){return null==M?[]:(Yi(B)||(B=null==B?[]:[B]),Yi(q=ye?Z:q)||(q=null==q?[]:[q]),Ny(M,B,q))},Ne.over=F0,Ne.overArgs=fP,Ne.overEvery=WM,Ne.overSome=MP,Ne.partial=Nf,Ne.partialRight=Wg,Ne.partition=VE,Ne.pick=bP,Ne.pickBy=R0,Ne.property=Te,Ne.propertyOf=function Lc(M){return function(B){return null==M?Z:Fl(M,B)}},Ne.pull=o0,Ne.pullAll=s0,Ne.pullAllBy=function cP(M,B,q){return M&&M.length&&B&&B.length?Ki(M,B,Ti(q,2)):M},Ne.pullAllWith=function Cd(M,B,q){return M&&M.length&&B&&B.length?Ki(M,B,Z,q):M},Ne.pullAt=a0,Ne.range=qw,Ne.rangeRight=Xg,Ne.rearg=pP,Ne.reject=function GE(M,B){return(Yi(M)?gr:vC)(M,C0(Ti(B,3)))},Ne.remove=function QC(M,B){var q=[];if(!M||!M.length)return q;var ye=-1,De=[],We=M.length;for(B=Ti(B,3);++ye<We;){var ot=M[ye];B(ot,ye,M)&&(q.push(ot),De.push(ye))}return bg(M,De),q},Ne.rest=function gP(M,B){if("function"!=typeof M)throw new gl($);return Xi(M,B=B===Z?B:er(B))},Ne.reverse=l0,Ne.sampleSize=function Wl(M,B,q){return B=(q?ua(M,B,q):B===Z)?1:er(B),(Yi(M)?Iy:dd)(M,B)},Ne.set=function Fw(M,B,q){return null==M?M:fd(M,B,q)},Ne.setWith=function wP(M,B,q,ye){return ye="function"==typeof ye?ye:Z,null==M?M:fd(M,B,q,ye)},Ne.shuffle=function zE(M){return(Yi(M)?Zx:tP)(M)},Ne.slice=function c0(M,B,q){var ye=null==M?0:M.length;return ye?(q&&"number"!=typeof q&&ua(M,B,q)?(B=0,q=ye):(B=null==B?0:er(B),q=q===Z?ye:er(q)),Qa(M,B,q)):[]},Ne.sortBy=KE,Ne.sortedUniq=function ew(M){return M&&M.length?qx(M):[]},Ne.sortedUniqBy=function u0(M,B){return M&&M.length?qx(M,Ti(B,2)):[]},Ne.split=function AP(M,B,q){return q&&"number"!=typeof q&&ua(M,B,q)&&(B=q=Z),(q=q===Z?pe:q>>>0)?(M=Xr(M))&&("string"==typeof B||null!=B&&!Wf(B))&&!(B=el(B))&&wo(M)?Hs(Js(M),0,q):M.split(B,q):[]},Ne.spread=function ww(M,B){if("function"!=typeof M)throw new gl($);return B=null==B?0:ds(er(B),0),Xi(function(q){var ye=q[B],De=Hs(q,0,B);return ye&&fc(De,ye),go(M,this,De)})},Ne.tail=function tw(M){var B=null==M?0:M.length;return B?Qa(M,1,B):[]},Ne.take=function h0(M,B,q){return M&&M.length?Qa(M,0,(B=q||B===Z?1:er(B))<0?0:B):[]},Ne.takeRight=function RE(M,B,q){var ye=null==M?0:M.length;return ye?Qa(M,(B=ye-(B=q||B===Z?1:er(B)))<0?0:B,ye):[]},Ne.takeRightWhile=function DE(M,B){return M&&M.length?Hy(M,Ti(B,3),!1,!0):[]},Ne.takeWhile=function nw(M,B){return M&&M.length?Hy(M,Ti(B,3)):[]},Ne.tap=function f0(M,B){return B(M),M},Ne.throttle=function YE(M,B,q){var ye=!0,De=!0;if("function"!=typeof M)throw new gl($);return co(q)&&(ye="leading"in q?!!q.leading:ye,De="trailing"in q?!!q.trailing:De),Ul(M,B,{leading:ye,maxWait:B,trailing:De})},Ne.thru=Ad,Ne.toArray=Dw,Ne.toPairs=D0,Ne.toPairsIn=Nw,Ne.toPath=function Qw(M){return Yi(M)?eo(M,Hl):ta(M)?[M]:ts(Fg(Xr(M)))},Ne.toPlainObject=Lw,Ne.transform=function $w(M,B,q){var ye=Yi(M),De=ye||du(M)||Sd(M);if(B=Ti(B,4),null==q){var We=M&&M.constructor;q=De?ye?new We:[]:co(M)&&Ec(We)?rd(py(M)):{}}return(De?dl:Ol)(M,function(ot,pt,Tt){return B(q,ot,pt,Tt)}),q},Ne.unary=function JE(M){return _0(M,1)},Ne.union=iw,Ne.unionBy=ch,Ne.unionWith=rw,Ne.uniq=function ow(M){return M&&M.length?eh(M):[]},Ne.uniqBy=function kE(M,B){return M&&M.length?eh(M,Ti(B,2)):[]},Ne.uniqWith=function uP(M,B){return B="function"==typeof B?B:Z,M&&M.length?eh(M,Z,B):[]},Ne.unset=function _M(M,B){return null==M||TC(M,B)},Ne.unzip=wd,Ne.unzipWith=sw,Ne.update=function bM(M,B,q){return null==M?M:gd(M,B,RC(q))},Ne.updateWith=function vl(M,B,q,ye){return ye="function"==typeof ye?ye:Z,null==M?M:gd(M,B,RC(q),ye)},Ne.values=Md,Ne.valuesIn=function Bw(M){return null==M?[]:pc(M,fa(M))},Ne.without=aw,Ne.words=OM,Ne.wrap=function qE(M,B){return Nf(RC(B),M)},Ne.xor=lw,Ne.xorBy=cw,Ne.xorWith=d0,Ne.zip=uw,Ne.zipObject=function Ng(M,B){return wg(M||[],B||[],es)},Ne.zipObjectDeep=function $g(M,B){return wg(M||[],B||[],fd)},Ne.zipWith=hw,Ne.entries=D0,Ne.entriesIn=Nw,Ne.extend=Rc,Ne.extendWith=jg,Kg(Ne,Ne),Ne.add=TP,Ne.attempt=Zw,Ne.camelCase=SM,Ne.capitalize=k0,Ne.ceil=e1,Ne.clamp=function CM(M,B,q){return q===Z&&(q=B,B=Z),q!==Z&&(q=(q=Fa(q))==q?q:0),B!==Z&&(B=(B=Fa(B))==B?B:0),Xu(Fa(M),B,q)},Ne.clone=function Aw(M){return qa(M,4)},Ne.cloneDeep=function Sw(M){return qa(M,5)},Ne.cloneDeepWith=function w0(M,B){return qa(M,5,B="function"==typeof B?B:Z)},Ne.cloneWith=function Ug(M,B){return qa(M,4,B="function"==typeof B?B:Z)},Ne.conformsTo=function eM(M,B){return null==B||yf(M,B,gs(B))},Ne.deburr=Hw,Ne.defaultTo=function NM(M,B){return null==M||M!=M?B:M},Ne.divide=RP,Ne.endsWith=function IM(M,B,q){M=Xr(M),B=el(B);var ye=M.length,De=q=q===Z?ye:Xu(er(q),0,ye);return(q-=B.length)>=0&&M.slice(q,De)==B},Ne.eq=ir,Ne.escape=function xM(M){return(M=Xr(M))&&Mt.test(M)?M.replace(Ge,mo):M},Ne.escapeRegExp=function Ji(M){return(M=Xr(M))&&oa.test(M)?M.replace(Vr,"\\$&"):M},Ne.every=function uh(M,B,q){var ye=Yi(M)?Bu:lu;return q&&ua(M,B,q)&&(B=Z),ye(M,Ti(B,3))},Ne.find=NE,Ne.findIndex=Qy,Ne.findKey=function Gl(M,B){return oy(M,Ti(B,3),Ol)},Ne.findLast=hP,Ne.findLastIndex=XC,Ne.findLastKey=function uM(M,B){return oy(M,Ti(B,3),_C)},Ne.floor=Jg,Ne.forEach=v0,Ne.forEachRight=Lf,Ne.forIn=function hM(M,B){return null==M?M:bf(M,Ti(B,3),fa)},Ne.forInRight=function dh(M,B){return null==M?M:yC(M,Ti(B,3),fa)},Ne.forOwn=function dM(M,B){return M&&Ol(M,Ti(B,3))},Ne.forOwnRight=function E0(M,B){return M&&_C(M,Ti(B,3))},Ne.get=zf,Ne.gt=ha,Ne.gte=tM,Ne.has=function Dc(M,B){return null!=M&&WC(M,B,bC)},Ne.hasIn=T0,Ne.head=JC,Ne.identity=pa,Ne.includes=function pw(M,B,q,ye){M=da(M)?M:Md(M),q=q&&!ye?er(q):0;var De=M.length;return q<0&&(q=ds(De+q,0)),Uf(M)?q<=De&&M.indexOf(B,q)>-1:!!De&&Kh(M,B,q)>-1},Ne.indexOf=function t0(M,B,q){var ye=null==M?0:M.length;if(!ye)return-1;var De=null==q?0:er(q);return De<0&&(De=ds(ye+De,0)),Kh(M,B,De)},Ne.inRange=function wM(M,B,q){return B=Tc(B),q===Z?(q=B,B=0):q=Tc(q),function ad(M,B,q){return M>=Mr(B,q)&&M<ds(B,q)}(M=Fa(M),B,q)},Ne.invoke=mM,Ne.isArguments=xc,Ne.isArray=Yi,Ne.isArrayBuffer=nM,Ne.isArrayLike=da,Ne.isArrayLikeObject=Po,Ne.isBoolean=function iM(M){return!0===M||!1===M||Oo(M)&&Bs(M)==he},Ne.isBuffer=du,Ne.isDate=mP,Ne.isElement=function vP(M){return Oo(M)&&1===M.nodeType&&!Vf(M)},Ne.isEmpty=function $f(M){if(null==M)return!0;if(da(M)&&(Yi(M)||"string"==typeof M||"function"==typeof M.splice||du(M)||Sd(M)||xc(M)))return!M.length;var B=Qs(M);if(B==de||B==Pe)return!M.size;if(ah(M))return!Py(M).length;for(var q in M)if(Yr.call(M,q))return!1;return!0},Ne.isEqual=function A0(M,B){return cd(M,B)},Ne.isEqualWith=function Iw(M,B,q){var ye=(q="function"==typeof q?q:Z)?q(M,B):Z;return ye===Z?cd(M,B,Z,q):!!ye},Ne.isError=Gg,Ne.isFinite=function xw(M){return"number"==typeof M&&oC(M)},Ne.isFunction=Ec,Ne.isInteger=S0,Ne.isLength=Bf,Ne.isMap=Ew,Ne.isMatch=function I0(M,B){return M===B||Dy(M,B,oh(B))},Ne.isMatchWith=function Mw(M,B,q){return q="function"==typeof q?q:Z,Dy(M,B,oh(B),q)},Ne.isNaN=function Tw(M){return Hf(M)&&M!=+M},Ne.isNative=function hh(M){if(oP(M))throw new Vi("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ud(M)},Ne.isNil=function x0(M){return null==M},Ne.isNull=function rM(M){return null===M},Ne.isNumber=Hf,Ne.isObject=co,Ne.isObjectLike=Oo,Ne.isPlainObject=Vf,Ne.isRegExp=Wf,Ne.isSafeInteger=function zg(M){return S0(M)&&M>=-Q&&M<=Q},Ne.isSet=Mc,Ne.isString=Uf,Ne.isSymbol=ta,Ne.isTypedArray=Sd,Ne.isUndefined=function oM(M){return M===Z},Ne.isWeakMap=function Rw(M){return Oo(M)&&Qs(M)==Zt},Ne.isWeakSet=function Id(M){return Oo(M)&&"[object WeakSet]"==Bs(M)},Ne.join=function Df(M,B){return null==M?"":my.call(M,B)},Ne.kebabCase=Be,Ne.last=tl,Ne.lastIndexOf=function AE(M,B,q){var ye=null==M?0:M.length;if(!ye)return-1;var De=ye;return q!==Z&&(De=(De=er(q))<0?ds(ye+De,0):Mr(De,ye-1)),B==B?function zu(bt,Vt,Bt){for(var Xn=Bt+1;Xn--;)if(bt[Xn]===Vt)return Xn;return Xn}(M,B,De):ui(M,Gt,De,!0)},Ne.lowerCase=Vw,Ne.lowerFirst=Ww,Ne.lt=sM,Ne.lte=aM,Ne.max=function qg(M){return M&&M.length?cu(M,pa,sd):Z},Ne.maxBy=function H0(M,B){return M&&M.length?cu(M,Ti(B,2),sd):Z},Ne.mean=function V0(M){return Fs(M,pa)},Ne.meanBy=function W0(M,B){return Fs(M,Ti(B,2))},Ne.min=function DP(M){return M&&M.length?cu(M,pa,_g):Z},Ne.minBy=function GM(M,B){return M&&M.length?cu(M,Ti(B,2),_g):Z},Ne.stubArray=Na,Ne.stubFalse=Yg,Ne.stubObject=function UM(){return{}},Ne.stubString=function N0(){return""},Ne.stubTrue=function Pc(){return!0},Ne.multiply=zM,Ne.nth=function r0(M,B){return M&&M.length?IC(M,er(B)):Z},Ne.noConflict=function Jw(){return hs._===this&&(hs._=KL),this},Ne.noop=jf,Ne.now=Vg,Ne.pad=function EM(M,B,q){M=Xr(M);var ye=(B=er(B))?Do(M):0;if(!B||ye>=B)return M;var De=(B-ye)/2;return hu(fg(De),q)+M+hu(id(De),q)},Ne.padEnd=function MM(M,B,q){M=Xr(M);var ye=(B=er(B))?Do(M):0;return B&&ye<B?M+hu(B-ye,q):M},Ne.padStart=function Uw(M,B,q){M=Xr(M);var ye=(B=er(B))?Do(M):0;return B&&ye<B?hu(B-ye,q)+M:M},Ne.parseInt=function TM(M,B,q){return q||null==B?B=0:B&&(B=+B),YL(Xr(M).replace(ut,""),B||0)},Ne.random=function AM(M,B,q){if(q&&"boolean"!=typeof q&&ua(M,B,q)&&(B=q=Z),q===Z&&("boolean"==typeof B?(q=B,B=Z):"boolean"==typeof M&&(q=M,M=Z)),M===Z&&B===Z?(M=0,B=1):(M=Tc(M),B===Z?(B=M,M=0):B=Tc(B)),M>B){var ye=M;M=B,B=ye}if(q||M%1||B%1){var De=pf();return Mr(M+De*(B-M+Rx("1e-"+((De+"").length-1))),B)}return $y(M,B)},Ne.reduce=function WE(M,B,q){var ye=Yi(M)?fl:Ns,De=arguments.length<3;return ye(M,Ti(B,4),q,De,bc)},Ne.reduceRight=function UE(M,B,q){var ye=Yi(M)?df:Ns,De=arguments.length<3;return ye(M,Ti(B,4),q,De,mC)},Ne.repeat=function Gw(M,B,q){return B=(q?ua(M,B,q):B===Z)?1:er(B),la(Xr(M),B)},Ne.replace=function RM(){var M=arguments,B=Xr(M[0]);return M.length<3?B:B.replace(M[1],M[2])},Ne.result=function CP(M,B,q){var ye=-1,De=(B=uu(B,M)).length;for(De||(De=1,M=Z);++ye<De;){var We=null==M?Z:M[Hl(B[ye])];We===Z&&(ye=De,We=q),M=Ec(We)?We.call(M):We}return M},Ne.round=jM,Ne.runInContext=bt,Ne.sample=function Oa(M){return(Yi(M)?Sy:hd)(M)},Ne.size=function jE(M){if(null==M)return 0;if(da(M))return Uf(M)?Do(M):M.length;var B=Qs(M);return B==de||B==Pe?M.size:Py(M).length},Ne.snakeCase=DM,Ne.some=function ZE(M,B,q){var ye=Yi(M)?ry:rn;return q&&ua(M,B,q)&&(B=Z),ye(M,Ti(B,3))},Ne.sortedIndex=function SE(M,B){return By(M,B)},Ne.sortedIndexBy=function IE(M,B,q){return MC(M,B,Ti(q,2))},Ne.sortedIndexOf=function xE(M,B){var q=null==M?0:M.length;if(q){var ye=By(M,B);if(ye<q&&ir(M[ye],B))return ye}return-1},Ne.sortedLastIndex=function EE(M,B){return By(M,B,!0)},Ne.sortedLastIndexBy=function ME(M,B,q){return MC(M,B,Ti(q,2),!0)},Ne.sortedLastIndexOf=function TE(M,B){if(null!=M&&M.length){var ye=By(M,B,!0)-1;if(ir(M[ye],B))return ye}return-1},Ne.startCase=zw,Ne.startsWith=function jw(M,B,q){return M=Xr(M),q=null==q?0:Xu(er(q),0,M.length),B=el(B),M.slice(q,q+B.length)==B},Ne.subtract=ZM,Ne.sum=function t1(M){return M&&M.length?Ys(M,pa):0},Ne.sumBy=function kP(M,B){return M&&M.length?Ys(M,Ti(B,2)):0},Ne.template=function vo(M,B,q){var ye=Ne.templateSettings;q&&ua(M,B,q)&&(B=Z),M=Xr(M),B=jg({},B,ye,$C);var pt,Tt,De=jg({},B.imports,ye.imports,$C),We=gs(De),ot=pc(De,We),on=0,an=B.interpolate||pi,pn="__p += '",Un=ly((B.escape||pi).source+"|"+an.source+"|"+(an===Bn?wt:pi).source+"|"+(B.evaluate||pi).source+"|$","g"),hi="//# sourceURL="+(Yr.call(B,"sourceURL")?(B.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bn+"]")+"\n";M.replace(Un,function(vi,hr,Tr,ga,Ms,ma){return Tr||(Tr=ga),pn+=M.slice(on,ma).replace(Fr,Ra),hr&&(pt=!0,pn+="' +\n__e("+hr+") +\n'"),Ms&&(Tt=!0,pn+="';\n"+Ms+";\n__p += '"),Tr&&(pn+="' +\n((__t = ("+Tr+")) == null ? '' : __t) +\n'"),on=ma+vi.length,vi}),pn+="';\n";var ki=Yr.call(B,"variable")&&B.variable;if(ki){if(nt.test(ki))throw new Vi("Invalid `variable` option passed into `_.template`")}else pn="with (obj) {\n"+pn+"\n}\n";pn=(Tt?pn.replace(lt,""):pn).replace($t,"$1").replace(Mn,"$1;"),pn="function("+(ki||"obj")+") {\n"+(ki?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(pt?", __e = _.escape":"")+(Tt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+pn+"return __p\n}";var ur=Zw(function(){return sr(We,hi+"return "+pn).apply(Z,ot)});if(ur.source=pn,Gg(ur))throw ur;return ur},Ne.times=function $0(M,B){if((M=er(M))<1||M>Q)return[];var q=pe,ye=Mr(M,pe);B=Ti(B),M-=pe;for(var De=Yh(ye,B);++q<M;)B(q);return De},Ne.toFinite=Tc,Ne.toInteger=er,Ne.toLength=kw,Ne.toLower=function kM(M){return Xr(M).toLowerCase()},Ne.toNumber=Fa,Ne.toSafeInteger=function Pw(M){return M?Xu(er(M),-Q,Q):0===M?M:0},Ne.toString=Xr,Ne.toUpper=function L0(M){return Xr(M).toUpperCase()},Ne.trim=function P0(M,B,q){if((M=Xr(M))&&(q||B===Z))return Jh(M);if(!M||!(B=el(B)))return M;var ye=Js(M),De=Js(B);return Hs(ye,tC(ye,De),Ta(ye,De)+1).join("")},Ne.trimEnd=function LM(M,B,q){if((M=Xr(M))&&(q||B===Z))return M.slice(0,ju(M)+1);if(!M||!(B=el(B)))return M;var ye=Js(M);return Hs(ye,0,Ta(ye,Js(B))+1).join("")},Ne.trimStart=function SP(M,B,q){if((M=Xr(M))&&(q||B===Z))return M.replace(ut,"");if(!M||!(B=el(B)))return M;var ye=Js(M);return Hs(ye,tC(ye,Js(B))).join("")},Ne.truncate=function IP(M,B){var q=30,ye="...";if(co(B)){var De="separator"in B?B.separator:De;q="length"in B?er(B.length):q,ye="omission"in B?el(B.omission):ye}var We=(M=Xr(M)).length;if(wo(M)){var ot=Js(M);We=ot.length}if(q>=We)return M;var pt=q-Do(ye);if(pt<1)return ye;var Tt=ot?Hs(ot,0,pt).join(""):M.slice(0,pt);if(De===Z)return Tt+ye;if(ot&&(pt+=Tt.length-pt),Wf(De)){if(M.slice(pt).search(De)){var on,an=Tt;for(De.global||(De=ly(De.source,Xr(gn.exec(De))+"g")),De.lastIndex=0;on=De.exec(an);)var pn=on.index;Tt=Tt.slice(0,pn===Z?pt:pn)}}else if(M.indexOf(el(De),pt)!=pt){var Un=Tt.lastIndexOf(De);Un>-1&&(Tt=Tt.slice(0,Un))}return Tt+ye},Ne.unescape=function xP(M){return(M=Xr(M))&&ct.test(M)?M.replace(si,pl):M},Ne.uniqueId=function B0(M){var B=++jL;return Xr(M)+B},Ne.upperCase=PM,Ne.upperFirst=Zg,Ne.each=v0,Ne.eachRight=Lf,Ne.first=JC,Kg(Ne,function(){var M={};return Ol(Ne,function(B,q){Yr.call(Ne.prototype,q)||(M[q]=B)}),M}(),{chain:!1}),Ne.VERSION="4.17.21",dl(["bind","bindKey","curry","curryRight","partial","partialRight"],function(M){Ne[M].placeholder=Ne}),dl(["drop","take"],function(M,B){qn.prototype[M]=function(q){q=q===Z?1:ds(er(q),0);var ye=this.__filtered__&&!B?new qn(this):this.clone();return ye.__filtered__?ye.__takeCount__=Mr(q,ye.__takeCount__):ye.__views__.push({size:Mr(q,pe),type:M+(ye.__dir__<0?"Right":"")}),ye},qn.prototype[M+"Right"]=function(q){return this.reverse()[M](q).reverse()}}),dl(["filter","map","takeWhile"],function(M,B){var q=B+1,ye=1==q||3==q;qn.prototype[M]=function(De){var We=this.clone();return We.__iteratees__.push({iteratee:Ti(De,3),type:q}),We.__filtered__=We.__filtered__||ye,We}}),dl(["head","last"],function(M,B){var q="take"+(B?"Right":"");qn.prototype[M]=function(){return this[q](1).value()[0]}}),dl(["initial","tail"],function(M,B){var q="drop"+(B?"":"Right");qn.prototype[M]=function(){return this.__filtered__?new qn(this):this[q](1)}}),qn.prototype.compact=function(){return this.filter(pa)},qn.prototype.find=function(M){return this.filter(M).head()},qn.prototype.findLast=function(M){return this.reverse().find(M)},qn.prototype.invokeMap=Xi(function(M,B){return"function"==typeof M?new qn(this):this.map(function(q){return Ju(q,M,B)})}),qn.prototype.reject=function(M){return this.filter(C0(Ti(M)))},qn.prototype.slice=function(M,B){M=er(M);var q=this;return q.__filtered__&&(M>0||B<0)?new qn(q):(M<0?q=q.takeRight(-M):M&&(q=q.drop(M)),B!==Z&&(q=(B=er(B))<0?q.dropRight(-B):q.take(B-M)),q)},qn.prototype.takeRightWhile=function(M){return this.reverse().takeWhile(M).reverse()},qn.prototype.toArray=function(){return this.take(pe)},Ol(qn.prototype,function(M,B){var q=/^(?:filter|find|map|reject)|While$/.test(B),ye=/^(?:head|last)$/.test(B),De=Ne[ye?"take"+("last"==B?"Right":""):B],We=ye||/^find/.test(B);!De||(Ne.prototype[B]=function(){var ot=this.__wrapped__,pt=ye?[1]:arguments,Tt=ot instanceof qn,on=pt[0],an=Tt||Yi(ot),pn=function(hr){var Tr=De.apply(Ne,fc([hr],pt));return ye&&Un?Tr[0]:Tr};an&&q&&"function"==typeof on&&1!=on.length&&(Tt=an=!1);var Un=this.__chain__,hi=!!this.__actions__.length,ki=We&&!Un,ur=Tt&&!hi;if(!We&&an){ot=ur?ot:new qn(this);var vi=M.apply(ot,pt);return vi.__actions__.push({func:Ad,args:[pn],thisArg:Z}),new nn(vi,Un)}return ki&&ur?M.apply(this,pt):(vi=this.thru(pn),ki?ye?vi.value()[0]:vi.value():vi)})}),dl(["pop","push","shift","sort","splice","unshift"],function(M){var B=cy[M],q=/^(?:push|sort|unshift)$/.test(M)?"tap":"thru",ye=/^(?:pop|shift)$/.test(M);Ne.prototype[M]=function(){var De=arguments;if(ye&&!this.__chain__){var We=this.value();return B.apply(Yi(We)?We:[],De)}return this[q](function(ot){return B.apply(Yi(ot)?ot:[],De)})}}),Ol(qn.prototype,function(M,B){var q=Ne[B];if(q){var ye=q.name+"";Yr.call(ka,ye)||(ka[ye]=[]),ka[ye].push({name:B,func:q})}}),ka[Mg(Z,2).name]=[{name:"wrapper",func:Z}],qn.prototype.clone=function Tn(){var M=new qn(this.__wrapped__);return M.__actions__=ts(this.__actions__),M.__dir__=this.__dir__,M.__filtered__=this.__filtered__,M.__iteratees__=ts(this.__iteratees__),M.__takeCount__=this.__takeCount__,M.__views__=ts(this.__views__),M},qn.prototype.reverse=function Rn(){if(this.__filtered__){var M=new qn(this);M.__dir__=-1,M.__filtered__=!0}else(M=this.clone()).__dir__*=-1;return M},qn.prototype.value=function Qo(){var M=this.__wrapped__.value(),B=this.__dir__,q=Yi(M),ye=B<0,De=q?M.length:0,We=function aE(M,B,q){for(var ye=-1,De=q.length;++ye<De;){var We=q[ye],ot=We.size;switch(We.type){case"drop":M+=ot;break;case"dropRight":B-=ot;break;case"take":B=Mr(B,M+ot);break;case"takeRight":M=ds(M,B-ot)}}return{start:M,end:B}}(0,De,this.__views__),ot=We.start,pt=We.end,Tt=pt-ot,on=ye?pt:ot-1,an=this.__iteratees__,pn=an.length,Un=0,hi=Mr(Tt,this.__takeCount__);if(!q||!ye&&De==Tt&&hi==Tt)return eE(M,this.__actions__);var ki=[];e:for(;Tt--&&Un<hi;){for(var ur=-1,vi=M[on+=B];++ur<pn;){var hr=an[ur],ga=hr.type,Ms=(0,hr.iteratee)(vi);if(2==ga)vi=Ms;else if(!Ms){if(1==ga)continue e;break e}}ki[Un++]=vi}return ki},Ne.prototype.at=kf,Ne.prototype.chain=function LE(){return Bg(this)},Ne.prototype.commit=function dw(){return new nn(this.value(),this.__chain__)},Ne.prototype.next=function PE(){this.__values__===Z&&(this.__values__=Dw(this.value()));var M=this.__index__>=this.__values__.length;return{done:M,value:M?Z:this.__values__[this.__index__++]}},Ne.prototype.plant=function fw(M){for(var B,q=this;q instanceof mg;){var ye=Yy(q);ye.__index__=0,ye.__values__=Z,B?De.__wrapped__=ye:B=ye;var De=ye;q=q.__wrapped__}return De.__wrapped__=M,B},Ne.prototype.reverse=function p0(){var M=this.__wrapped__;if(M instanceof qn){var B=M;return this.__actions__.length&&(B=new qn(this)),(B=B.reverse()).__actions__.push({func:Ad,args:[l0],thisArg:Z}),new nn(B,this.__chain__)}return this.thru(l0)},Ne.prototype.toJSON=Ne.prototype.valueOf=Ne.prototype.value=function Hg(){return eE(this.__wrapped__,this.__actions__)},Ne.prototype.first=Ne.prototype.head,nd&&(Ne.prototype[nd]=function OE(){return this}),Ne}();hs._=ug,(ae=function(){return ug}.call(Ie,Ve,Ie,hn))!==Z&&(hn.exports=ae)}.call(this)},6482:function(hn,Ie){!function(Ve){"use strict";function ae(){for(var ut=arguments.length,je=Array(ut),at=0;at<ut;at++)je[at]=arguments[at];if(je.length>1){je[0]=je[0].slice(0,-1);for(var Dt=je.length-1,Oe=1;Oe<Dt;++Oe)je[Oe]=je[Oe].slice(1,-1);return je[Dt]=je[Dt].slice(1),je.join("")}return je[0]}function Z(ut){return"(?:"+ut+")"}function V(ut){return void 0===ut?"undefined":null===ut?"null":Object.prototype.toString.call(ut).split(" ").pop().split("]").shift().toLowerCase()}function X(ut){return ut.toUpperCase()}function k(ut){var je="[A-Za-z]",Dt="[0-9]",Fe=ae(Dt,"[A-Fa-f]"),wt=Z(Z("%[EFef]"+Fe+"%"+Fe+Fe+"%"+Fe+Fe)+"|"+Z("%[89A-Fa-f]"+Fe+"%"+Fe+Fe)+"|"+Z("%"+Fe+Fe)),An="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",fi=ae("[\\:\\/\\?\\#\\[\\]\\@]",An),Bi=ut?"[\\uE000-\\uF8FF]":"[]",Zn=ae(je,Dt,"[\\-\\.\\_\\~]",ut?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),Mi=Z(je+ae(je,Dt,"[\\+\\-\\.]")+"*"),pi=Z(Z(wt+"|"+ae(Zn,An,"[\\:]"))+"*"),xi=(Z(Z("25[0-5]")+"|"+Z("2[0-4]"+Dt)+"|"+Z("1"+Dt+Dt)+"|"+Z("[1-9]"+Dt)+"|"+Dt),Z(Z("25[0-5]")+"|"+Z("2[0-4]"+Dt)+"|"+Z("1"+Dt+Dt)+"|"+Z("0?[1-9]"+Dt)+"|0?0?"+Dt)),lr=Z(xi+"\\."+xi+"\\."+xi+"\\."+xi),gi=Z(Fe+"{1,4}"),bo=Z(Z(gi+"\\:"+gi)+"|"+lr),Zr=Z(Z(gi+"\\:")+"{6}"+bo),qr=Z("\\:\\:"+Z(gi+"\\:")+"{5}"+bo),cr=Z(Z(gi)+"?\\:\\:"+Z(gi+"\\:")+"{4}"+bo),so=Z(Z(Z(gi+"\\:")+"{0,1}"+gi)+"?\\:\\:"+Z(gi+"\\:")+"{3}"+bo),Vo=Z(Z(Z(gi+"\\:")+"{0,2}"+gi)+"?\\:\\:"+Z(gi+"\\:")+"{2}"+bo),fr=Z(Z(Z(gi+"\\:")+"{0,3}"+gi)+"?\\:\\:"+gi+"\\:"+bo),po=Z(Z(Z(gi+"\\:")+"{0,4}"+gi)+"?\\:\\:"+bo),Wo=Z(Z(Z(gi+"\\:")+"{0,5}"+gi)+"?\\:\\:"+gi),Ss=Z(Z(Z(gi+"\\:")+"{0,6}"+gi)+"?\\:\\:"),Qi=Z([Zr,qr,cr,so,Vo,fr,po,Wo,Ss].join("|")),Is=Z(Z(Zn+"|"+wt)+"+"),Jo=(Z(Qi+"\\%25"+Is),Z(Qi+Z("\\%25|\\%(?!"+Fe+"{2})")+Is)),Os=Z("[vV]"+Fe+"+\\."+ae(Zn,An,"[\\:]")+"+"),zi=Z("\\["+Z(Jo+"|"+Qi+"|"+Os)+"\\]"),bi=Z(Z(wt+"|"+ae(Zn,An))+"*"),cs=Z(zi+"|"+lr+"(?!"+bi+")|"+bi),cc=Z(Dt+"*"),Jt=Z(Z(pi+"@")+"?"+cs+Z("\\:"+cc)+"?"),Ma=Z(wt+"|"+ae(Zn,An,"[\\:\\@]")),Ii=Z(Ma+"*"),tr=Z(Ma+"+"),iu=Z(Z(wt+"|"+ae(Zn,An,"[\\@]"))+"+"),To=Z(Z("\\/"+Ii)+"*"),hl=Z("\\/"+Z(tr+To)+"?"),Xa=Z(iu+To),Uo=Z(tr+To),us="(?!"+Ma+")",Ya=(Z(To+"|"+hl+"|"+Xa+"|"+Uo+"|"+us),Z(Z(Ma+"|"+ae("[\\/\\?]",Bi))+"*")),Ro=Z(Z(Ma+"|[\\/\\?]")+"*"),kl=Z(Z("\\/\\/"+Jt+To)+"|"+hl+"|"+Uo+"|"+us),qv=Z(Mi+"\\:"+kl+Z("\\?"+Ya)+"?"+Z("\\#"+Ro)+"?"),uc=Z(Z("\\/\\/"+Jt+To)+"|"+hl+"|"+Xa+"|"+us),hc=Z(uc+Z("\\?"+Ya)+"?"+Z("\\#"+Ro)+"?");return Z(qv+"|"+hc),Z(Mi+"\\:"+kl+Z("\\?"+Ya)+"?"),Z(Z("\\/\\/("+Z("("+pi+")@")+"?("+cs+")"+Z("\\:("+cc+")")+"?)")+"?("+To+"|"+hl+"|"+Uo+"|"+us+")"),Z("\\?("+Ya+")"),Z("\\#("+Ro+")"),Z(Z("\\/\\/("+Z("("+pi+")@")+"?("+cs+")"+Z("\\:("+cc+")")+"?)")+"?("+To+"|"+hl+"|"+Xa+"|"+us+")"),Z("\\?("+Ya+")"),Z("\\#("+Ro+")"),Z(Z("\\/\\/("+Z("("+pi+")@")+"?("+cs+")"+Z("\\:("+cc+")")+"?)")+"?("+To+"|"+hl+"|"+Uo+"|"+us+")"),Z("\\?("+Ya+")"),Z("\\#("+Ro+")"),Z("("+pi+")@"),Z("\\:("+cc+")"),{NOT_SCHEME:new RegExp(ae("[^]",je,Dt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(ae("[^\\%\\:]",Zn,An),"g"),NOT_HOST:new RegExp(ae("[^\\%\\[\\]\\:]",Zn,An),"g"),NOT_PATH:new RegExp(ae("[^\\%\\/\\:\\@]",Zn,An),"g"),NOT_PATH_NOSCHEME:new RegExp(ae("[^\\%\\/\\@]",Zn,An),"g"),NOT_QUERY:new RegExp(ae("[^\\%]",Zn,An,"[\\:\\@\\/\\?]",Bi),"g"),NOT_FRAGMENT:new RegExp(ae("[^\\%]",Zn,An,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(ae("[^]",Zn,An),"g"),UNRESERVED:new RegExp(Zn,"g"),OTHER_CHARS:new RegExp(ae("[^\\%]",Zn,fi),"g"),PCT_ENCODED:new RegExp(wt,"g"),IPV4ADDRESS:new RegExp("^("+lr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Qi+")"+Z(Z("\\%25|\\%(?!"+Fe+"{2})")+"("+Is+")")+"?\\]?$")}}var P=k(!1),E=k(!0),R=function(je,at){if(Array.isArray(je))return je;if(Symbol.iterator in Object(je))return function ut(je,at){var Dt=[],Oe=!0,Fe=!1,nt=void 0;try{for(var wt,Et=je[Symbol.iterator]();!(Oe=(wt=Et.next()).done)&&(Dt.push(wt.value),!at||Dt.length!==at);Oe=!0);}catch(gn){Fe=!0,nt=gn}finally{try{!Oe&&Et.return&&Et.return()}finally{if(Fe)throw nt}}return Dt}(je,at);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=2147483647,_=36,h=/^xn--/,u=/[^\0-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,v=String.fromCharCode;function C(ut){throw new RangeError(d[ut])}function O(ut,je){var at=ut.split("@"),Dt="";return at.length>1&&(Dt=at[0]+"@",ut=at[1]),Dt+function S(ut,je){for(var at=[],Dt=ut.length;Dt--;)at[Dt]=je(ut[Dt]);return at}((ut=ut.replace(l,".")).split("."),je).join(".")}function N(ut){for(var je=[],at=0,Dt=ut.length;at<Dt;){var Oe=ut.charCodeAt(at++);if(Oe>=55296&&Oe<=56319&&at<Dt){var Fe=ut.charCodeAt(at++);56320==(64512&Fe)?je.push(((1023&Oe)<<10)+(1023&Fe)+65536):(je.push(Oe),at--)}else je.push(Oe)}return je}var K=function(je){return je-48<10?je-22:je-65<26?je-65:je-97<26?je-97:_},Q=function(je,at){return je+22+75*(je<26)-((0!=at)<<5)},ue=function(je,at,Dt){var Oe=0;for(je=Dt?f(je/700):je>>1,je+=f(je/at);je>455;Oe+=_)je=f(je/35);return f(Oe+36*je/(je+38))},oe=function(je){var at=[],Dt=je.length,Oe=0,Fe=128,nt=72,Et=je.lastIndexOf("-");Et<0&&(Et=0);for(var wt=0;wt<Et;++wt)je.charCodeAt(wt)>=128&&C("not-basic"),at.push(je.charCodeAt(wt));for(var gn=Et>0?Et+1:0;gn<Dt;){for(var An=Oe,fi=1,Si=_;;Si+=_){gn>=Dt&&C("invalid-input");var Bi=K(je.charCodeAt(gn++));(Bi>=_||Bi>f((A-Oe)/fi))&&C("overflow"),Oe+=Bi*fi;var Zn=Si<=nt?1:Si>=nt+26?26:Si-nt;if(Bi<Zn)break;var Mi=_-Zn;fi>f(A/Mi)&&C("overflow"),fi*=Mi}var pi=at.length+1;nt=ue(Oe-An,pi,0==An),f(Oe/pi)>A-Fe&&C("overflow"),Fe+=f(Oe/pi),Oe%=pi,at.splice(Oe++,0,Fe)}return String.fromCodePoint.apply(String,at)},pe=function(je){var at=[],Dt=(je=N(je)).length,Oe=128,Fe=0,nt=72,Et=!0,wt=!1,gn=void 0;try{for(var fi,An=je[Symbol.iterator]();!(Et=(fi=An.next()).done);Et=!0){var Si=fi.value;Si<128&&at.push(v(Si))}}catch(Jo){wt=!0,gn=Jo}finally{try{!Et&&An.return&&An.return()}finally{if(wt)throw gn}}var Bi=at.length,Zn=Bi;for(Bi&&at.push("-");Zn<Dt;){var Mi=A,pi=!0,Fr=!1,xi=void 0;try{for(var gi,lr=je[Symbol.iterator]();!(pi=(gi=lr.next()).done);pi=!0){var bo=gi.value;bo>=Oe&&bo<Mi&&(Mi=bo)}}catch(Jo){Fr=!0,xi=Jo}finally{try{!pi&&lr.return&&lr.return()}finally{if(Fr)throw xi}}var Zr=Zn+1;Mi-Oe>f((A-Fe)/Zr)&&C("overflow"),Fe+=(Mi-Oe)*Zr,Oe=Mi;var qr=!0,cr=!1,so=void 0;try{for(var fr,Vo=je[Symbol.iterator]();!(qr=(fr=Vo.next()).done);qr=!0){var po=fr.value;if(po<Oe&&++Fe>A&&C("overflow"),po==Oe){for(var Wo=Fe,Ss=_;;Ss+=_){var Qi=Ss<=nt?1:Ss>=nt+26?26:Ss-nt;if(Wo<Qi)break;var Is=Wo-Qi,pr=_-Qi;at.push(v(Q(Qi+Is%pr,0))),Wo=f(Is/pr)}at.push(v(Q(Wo,0))),nt=ue(Fe,Zr,Zn==Bi),Fe=0,++Zn}}}catch(Jo){cr=!0,so=Jo}finally{try{!qr&&Vo.return&&Vo.return()}finally{if(cr)throw so}}++Fe,++Oe}return at.join("")},Y_toASCII=function(je){return O(je,function(at){return u.test(at)?"xn--"+pe(at):at})},Y_toUnicode=function(je){return O(je,function(at){return h.test(at)?oe(at.slice(4).toLowerCase()):at})},W={};function ne(ut){var je=ut.charCodeAt(0);return je<16?"%0"+je.toString(16).toUpperCase():je<128?"%"+je.toString(16).toUpperCase():je<2048?"%"+(je>>6|192).toString(16).toUpperCase()+"%"+(63&je|128).toString(16).toUpperCase():"%"+(je>>12|224).toString(16).toUpperCase()+"%"+(je>>6&63|128).toString(16).toUpperCase()+"%"+(63&je|128).toString(16).toUpperCase()}function fe(ut){for(var je="",at=0,Dt=ut.length;at<Dt;){var Oe=parseInt(ut.substr(at+1,2),16);if(Oe<128)je+=String.fromCharCode(Oe),at+=3;else if(Oe>=194&&Oe<224){if(Dt-at>=6){var Fe=parseInt(ut.substr(at+4,2),16);je+=String.fromCharCode((31&Oe)<<6|63&Fe)}else je+=ut.substr(at,6);at+=6}else if(Oe>=224){if(Dt-at>=9){var nt=parseInt(ut.substr(at+4,2),16),Et=parseInt(ut.substr(at+7,2),16);je+=String.fromCharCode((15&Oe)<<12|(63&nt)<<6|63&Et)}else je+=ut.substr(at,9);at+=9}else je+=ut.substr(at,3),at+=3}return je}function he(ut,je){function at(Dt){var Oe=fe(Dt);return Oe.match(je.UNRESERVED)?Oe:Dt}return ut.scheme&&(ut.scheme=String(ut.scheme).replace(je.PCT_ENCODED,at).toLowerCase().replace(je.NOT_SCHEME,"")),void 0!==ut.userinfo&&(ut.userinfo=String(ut.userinfo).replace(je.PCT_ENCODED,at).replace(je.NOT_USERINFO,ne).replace(je.PCT_ENCODED,X)),void 0!==ut.host&&(ut.host=String(ut.host).replace(je.PCT_ENCODED,at).toLowerCase().replace(je.NOT_HOST,ne).replace(je.PCT_ENCODED,X)),void 0!==ut.path&&(ut.path=String(ut.path).replace(je.PCT_ENCODED,at).replace(ut.scheme?je.NOT_PATH:je.NOT_PATH_NOSCHEME,ne).replace(je.PCT_ENCODED,X)),void 0!==ut.query&&(ut.query=String(ut.query).replace(je.PCT_ENCODED,at).replace(je.NOT_QUERY,ne).replace(je.PCT_ENCODED,X)),void 0!==ut.fragment&&(ut.fragment=String(ut.fragment).replace(je.PCT_ENCODED,at).replace(je.NOT_FRAGMENT,ne).replace(je.PCT_ENCODED,X)),ut}function Ae(ut){return ut.replace(/^0*(.*)/,"$1")||"0"}function ke(ut,je){var at=ut.match(je.IPV4ADDRESS)||[],Oe=R(at,2)[1];return Oe?Oe.split(".").map(Ae).join("."):ut}function xe(ut,je){var at=ut.match(je.IPV6ADDRESS)||[],Dt=R(at,3),Oe=Dt[1],Fe=Dt[2];if(Oe){for(var nt=Oe.toLowerCase().split("::").reverse(),Et=R(nt,2),wt=Et[0],gn=Et[1],An=gn?gn.split(":").map(Ae):[],fi=wt.split(":").map(Ae),Si=je.IPV4ADDRESS.test(fi[fi.length-1]),Bi=Si?7:8,Zn=fi.length-Bi,Mi=Array(Bi),pi=0;pi<Bi;++pi)Mi[pi]=An[pi]||fi[Zn+pi]||"";Si&&(Mi[Bi-1]=ke(Mi[Bi-1],je));var xi=Mi.reduce(function(Zr,qr,cr){if(!qr||"0"===qr){var so=Zr[Zr.length-1];so&&so.index+so.length===cr?so.length++:Zr.push({index:cr,length:1})}return Zr},[]).sort(function(Zr,qr){return qr.length-Zr.length})[0],lr=void 0;if(xi&&xi.length>1){var gi=Mi.slice(0,xi.index),bo=Mi.slice(xi.index+xi.length);lr=gi.join(":")+"::"+bo.join(":")}else lr=Mi.join(":");return Fe&&(lr+="%"+Fe),lr}return ut}var Ee=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,ie=void 0==="".match(/(){0}/)[1];function de(ut){var je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},at={},Dt=!1!==je.iri?E:P;"suffix"===je.reference&&(ut=(je.scheme?je.scheme+":":"")+"//"+ut);var Oe=ut.match(Ee);if(Oe){ie?(at.scheme=Oe[1],at.userinfo=Oe[3],at.host=Oe[4],at.port=parseInt(Oe[5],10),at.path=Oe[6]||"",at.query=Oe[7],at.fragment=Oe[8],isNaN(at.port)&&(at.port=Oe[5])):(at.scheme=Oe[1]||void 0,at.userinfo=-1!==ut.indexOf("@")?Oe[3]:void 0,at.host=-1!==ut.indexOf("//")?Oe[4]:void 0,at.port=parseInt(Oe[5],10),at.path=Oe[6]||"",at.query=-1!==ut.indexOf("?")?Oe[7]:void 0,at.fragment=-1!==ut.indexOf("#")?Oe[8]:void 0,isNaN(at.port)&&(at.port=ut.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Oe[4]:void 0)),at.host&&(at.host=xe(ke(at.host,Dt),Dt)),at.reference=void 0!==at.scheme||void 0!==at.userinfo||void 0!==at.host||void 0!==at.port||at.path||void 0!==at.query?void 0===at.scheme?"relative":void 0===at.fragment?"absolute":"uri":"same-document",je.reference&&"suffix"!==je.reference&&je.reference!==at.reference&&(at.error=at.error||"URI is not a "+je.reference+" reference.");var Fe=W[(je.scheme||at.scheme||"").toLowerCase()];if(je.unicodeSupport||Fe&&Fe.unicodeSupport)he(at,Dt);else{if(at.host&&(je.domainHost||Fe&&Fe.domainHost))try{at.host=Y_toASCII(at.host.replace(Dt.PCT_ENCODED,fe).toLowerCase())}catch(nt){at.error=at.error||"Host's domain name can not be converted to ASCII via punycode: "+nt}he(at,P)}Fe&&Fe.parse&&Fe.parse(at,je)}else at.error=at.error||"URI can not be parsed.";return at}function me(ut,je){var at=!1!==je.iri?E:P,Dt=[];return void 0!==ut.userinfo&&(Dt.push(ut.userinfo),Dt.push("@")),void 0!==ut.host&&Dt.push(xe(ke(String(ut.host),at),at).replace(at.IPV6ADDRESS,function(Oe,Fe,nt){return"["+Fe+(nt?"%25"+nt:"")+"]"})),("number"==typeof ut.port||"string"==typeof ut.port)&&(Dt.push(":"),Dt.push(String(ut.port))),Dt.length?Dt.join(""):void 0}var Ce=/^\.\.?\//,re=/^\/\.(\/|$)/,le=/^\/\.\.(\/|$)/,ve=/^\/?(?:.|\n)*?(?=\/|$)/;function we(ut){for(var je=[];ut.length;)if(ut.match(Ce))ut=ut.replace(Ce,"");else if(ut.match(re))ut=ut.replace(re,"/");else if(ut.match(le))ut=ut.replace(le,"/"),je.pop();else if("."===ut||".."===ut)ut="";else{var at=ut.match(ve);if(!at)throw new Error("Unexpected dot segment condition");var Dt=at[0];ut=ut.slice(Dt.length),je.push(Dt)}return je.join("")}function Pe(ut){var je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},at=je.iri?E:P,Dt=[],Oe=W[(je.scheme||ut.scheme||"").toLowerCase()];if(Oe&&Oe.serialize&&Oe.serialize(ut,je),ut.host&&!at.IPV6ADDRESS.test(ut.host)&&(je.domainHost||Oe&&Oe.domainHost))try{ut.host=je.iri?Y_toUnicode(ut.host):Y_toASCII(ut.host.replace(at.PCT_ENCODED,fe).toLowerCase())}catch(Et){ut.error=ut.error||"Host's domain name can not be converted to "+(je.iri?"Unicode":"ASCII")+" via punycode: "+Et}he(ut,at),"suffix"!==je.reference&&ut.scheme&&(Dt.push(ut.scheme),Dt.push(":"));var Fe=me(ut,je);if(void 0!==Fe&&("suffix"!==je.reference&&Dt.push("//"),Dt.push(Fe),ut.path&&"/"!==ut.path.charAt(0)&&Dt.push("/")),void 0!==ut.path){var nt=ut.path;!je.absolutePath&&(!Oe||!Oe.absolutePath)&&(nt=we(nt)),void 0===Fe&&(nt=nt.replace(/^\/\//,"/%2F")),Dt.push(nt)}return void 0!==ut.query&&(Dt.push("?"),Dt.push(ut.query)),void 0!==ut.fragment&&(Dt.push("#"),Dt.push(ut.fragment)),Dt.join("")}function Ue(ut,je){var at=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Oe={};return arguments[3]||(ut=de(Pe(ut,at),at),je=de(Pe(je,at),at)),!(at=at||{}).tolerant&&je.scheme?(Oe.scheme=je.scheme,Oe.userinfo=je.userinfo,Oe.host=je.host,Oe.port=je.port,Oe.path=we(je.path||""),Oe.query=je.query):(void 0!==je.userinfo||void 0!==je.host||void 0!==je.port?(Oe.userinfo=je.userinfo,Oe.host=je.host,Oe.port=je.port,Oe.path=we(je.path||""),Oe.query=je.query):(je.path?("/"===je.path.charAt(0)?Oe.path=we(je.path):(Oe.path=void 0===ut.userinfo&&void 0===ut.host&&void 0===ut.port||ut.path?ut.path?ut.path.slice(0,ut.path.lastIndexOf("/")+1)+je.path:je.path:"/"+je.path,Oe.path=we(Oe.path)),Oe.query=je.query):(Oe.path=ut.path,Oe.query=void 0!==je.query?je.query:ut.query),Oe.userinfo=ut.userinfo,Oe.host=ut.host,Oe.port=ut.port),Oe.scheme=ut.scheme),Oe.fragment=je.fragment,Oe}function tn(ut,je){return ut&&ut.toString().replace(je&&je.iri?E.PCT_ENCODED:P.PCT_ENCODED,fe)}var Kt={scheme:"http",domainHost:!0,parse:function(je,at){return je.host||(je.error=je.error||"HTTP URIs must have a host."),je},serialize:function(je,at){var Dt="https"===String(je.scheme).toLowerCase();return(je.port===(Dt?443:80)||""===je.port)&&(je.port=void 0),je.path||(je.path="/"),je}},On={scheme:"https",domainHost:Kt.domainHost,parse:Kt.parse,serialize:Kt.serialize};function Dn(ut){return"boolean"==typeof ut.secure?ut.secure:"wss"===String(ut.scheme).toLowerCase()}var un={scheme:"ws",domainHost:!0,parse:function(je,at){var Dt=je;return Dt.secure=Dn(Dt),Dt.resourceName=(Dt.path||"/")+(Dt.query?"?"+Dt.query:""),Dt.path=void 0,Dt.query=void 0,Dt},serialize:function(je,at){if((je.port===(Dn(je)?443:80)||""===je.port)&&(je.port=void 0),"boolean"==typeof je.secure&&(je.scheme=je.secure?"wss":"ws",je.secure=void 0),je.resourceName){var Dt=je.resourceName.split("?"),Oe=R(Dt,2),Fe=Oe[0],nt=Oe[1];je.path=Fe&&"/"!==Fe?Fe:void 0,je.query=nt,je.resourceName=void 0}return je.fragment=void 0,je}},_t={scheme:"wss",domainHost:un.domainHost,parse:un.parse,serialize:un.serialize},Yt={},_n="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ut="[0-9A-Fa-f]",tt=Z(Z("%[EFef]"+Ut+"%"+Ut+Ut+"%"+Ut+Ut)+"|"+Z("%[89A-Fa-f]"+Ut+"%"+Ut+Ut)+"|"+Z("%"+Ut+Ut)),Mn=ae("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Ge=new RegExp(_n,"g"),ct=new RegExp(tt,"g"),Mt=new RegExp(ae("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Mn),"g"),vn=new RegExp(ae("[^]",_n,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),jn=vn;function Bn(ut){var je=fe(ut);return je.match(Ge)?je:ut}var Di={scheme:"mailto",parse:function(je,at){var Dt=je,Oe=Dt.to=Dt.path?Dt.path.split(","):[];if(Dt.path=void 0,Dt.query){for(var Fe=!1,nt={},Et=Dt.query.split("&"),wt=0,gn=Et.length;wt<gn;++wt){var An=Et[wt].split("=");switch(An[0]){case"to":for(var fi=An[1].split(","),Si=0,Bi=fi.length;Si<Bi;++Si)Oe.push(fi[Si]);break;case"subject":Dt.subject=tn(An[1],at);break;case"body":Dt.body=tn(An[1],at);break;default:Fe=!0,nt[tn(An[0],at)]=tn(An[1],at)}}Fe&&(Dt.headers=nt)}Dt.query=void 0;for(var Zn=0,Mi=Oe.length;Zn<Mi;++Zn){var pi=Oe[Zn].split("@");if(pi[0]=tn(pi[0]),at.unicodeSupport)pi[1]=tn(pi[1],at).toLowerCase();else try{pi[1]=Y_toASCII(tn(pi[1],at).toLowerCase())}catch(Fr){Dt.error=Dt.error||"Email address's domain name can not be converted to ASCII via punycode: "+Fr}Oe[Zn]=pi.join("@")}return Dt},serialize:function(je,at){var Dt=je,Oe=function ee(ut){return null!=ut?ut instanceof Array?ut:"number"!=typeof ut.length||ut.split||ut.setInterval||ut.call?[ut]:Array.prototype.slice.call(ut):[]}(je.to);if(Oe){for(var Fe=0,nt=Oe.length;Fe<nt;++Fe){var Et=String(Oe[Fe]),wt=Et.lastIndexOf("@"),gn=Et.slice(0,wt).replace(ct,Bn).replace(ct,X).replace(Mt,ne),An=Et.slice(wt+1);try{An=at.iri?Y_toUnicode(An):Y_toASCII(tn(An,at).toLowerCase())}catch(Zn){Dt.error=Dt.error||"Email address's domain name can not be converted to "+(at.iri?"Unicode":"ASCII")+" via punycode: "+Zn}Oe[Fe]=gn+"@"+An}Dt.path=Oe.join(",")}var fi=je.headers=je.headers||{};je.subject&&(fi.subject=je.subject),je.body&&(fi.body=je.body);var Si=[];for(var Bi in fi)fi[Bi]!==Yt[Bi]&&Si.push(Bi.replace(ct,Bn).replace(ct,X).replace(vn,ne)+"="+fi[Bi].replace(ct,Bn).replace(ct,X).replace(jn,ne));return Si.length&&(Dt.query=Si.join("&")),Dt}},Er=/^([^\:]+)\:(.*)/,oo={scheme:"urn",parse:function(je,at){var Dt=je.path&&je.path.match(Er),Oe=je;if(Dt){var Fe=at.scheme||Oe.scheme||"urn",nt=Dt[1].toLowerCase(),Et=Dt[2],gn=W[Fe+":"+(at.nid||nt)];Oe.nid=nt,Oe.nss=Et,Oe.path=void 0,gn&&(Oe=gn.parse(Oe,at))}else Oe.error=Oe.error||"URN can not be parsed.";return Oe},serialize:function(je,at){var Oe=je.nid,nt=W[(at.scheme||je.scheme||"urn")+":"+(at.nid||Oe)];nt&&(je=nt.serialize(je,at));var Et=je;return Et.path=(Oe||at.nid)+":"+je.nss,Et}},Vr=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,oa={scheme:"urn:uuid",parse:function(je,at){var Dt=je;return Dt.uuid=Dt.nss,Dt.nss=void 0,!at.tolerant&&(!Dt.uuid||!Dt.uuid.match(Vr))&&(Dt.error=Dt.error||"UUID is not valid."),Dt},serialize:function(je,at){var Dt=je;return Dt.nss=(je.uuid||"").toLowerCase(),Dt}};W[Kt.scheme]=Kt,W[On.scheme]=On,W[un.scheme]=un,W[_t.scheme]=_t,W[Di.scheme]=Di,W[oo.scheme]=oo,W[oa.scheme]=oa,Ve.SCHEMES=W,Ve.pctEncChar=ne,Ve.pctDecChars=fe,Ve.parse=de,Ve.removeDotSegments=we,Ve.serialize=Pe,Ve.resolveComponents=Ue,Ve.resolve=function dt(ut,je,at){var Dt=function $(ut,je){var at=ut;if(je)for(var Dt in je)at[Dt]=je[Dt];return at}({scheme:"null"},at);return Pe(Ue(de(ut,Dt),de(je,Dt),Dt,!0),Dt)},Ve.normalize=function xt(ut,je){return"string"==typeof ut?ut=Pe(de(ut,je),je):"object"===V(ut)&&(ut=de(Pe(ut,je),je)),ut},Ve.equal=function Zt(ut,je,at){return"string"==typeof ut?ut=Pe(de(ut,at),at):"object"===V(ut)&&(ut=Pe(ut,at)),"string"==typeof je?je=Pe(de(je,at),at):"object"===V(je)&&(je=Pe(je,at)),ut===je},Ve.escapeComponent=function en(ut,je){return ut&&ut.toString().replace(je&&je.iri?E.ESCAPE:P.ESCAPE,ne)},Ve.unescapeComponent=tn,Object.defineProperty(Ve,"__esModule",{value:!0})}(Ie)},7156:hn=>{function Ie(ae,Z,V,X,ee,$,k){try{var P=ae[$](k),E=P.value}catch(R){return void V(R)}P.done?Z(E):Promise.resolve(E).then(X,ee)}hn.exports=function Ve(ae){return function(){var Z=this,V=arguments;return new Promise(function(X,ee){var $=ae.apply(Z,V);function k(E){Ie($,X,ee,k,P,"next",E)}function P(E){Ie($,X,ee,k,P,"throw",E)}k(void 0)})}},hn.exports.__esModule=!0,hn.exports.default=hn.exports},4775:hn=>{"use strict";hn.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},98:hn=>{"use strict";hn.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},4147:hn=>{"use strict";hn.exports={i8:"0.1.0"}}},hn=>{hn(hn.s=3396)}]);